PROJE KOD DOKUMU - TARIH: 01/09/2026 10:23:04
========================================


----------------------------------------
DOSYA YOLU: .phpstorm.meta.php
----------------------------------------

<?php
/* @noinspection ALL */
// @formatter:off
// phpcs:ignoreFile

namespace PHPSTORM_META {

   /**
    * PhpStorm Meta file, to provide autocomplete information for PhpStorm
    *
    * @author Barry vd. Heuvel <barryvdh@gmail.com>
    * @see https://github.com/barryvdh/laravel-ide-helper
    */
    override(new \Illuminate\Contracts\Container\Container, map([
        '' => '@',
            'Illuminate\Auth\Console\ClearResetsCommand' => \Illuminate\Auth\Console\ClearResetsCommand::class,
            'Illuminate\Auth\Middleware\RequirePassword' => \Illuminate\Auth\Middleware\RequirePassword::class,
            'Illuminate\Broadcasting\BroadcastManager' => \Illuminate\Broadcasting\BroadcastManager::class,
            'Illuminate\Bus\BatchRepository' => \Illuminate\Bus\DatabaseBatchRepository::class,
            'Illuminate\Bus\DatabaseBatchRepository' => \Illuminate\Bus\DatabaseBatchRepository::class,
            'Illuminate\Bus\Dispatcher' => \Illuminate\Bus\Dispatcher::class,
            'Illuminate\Cache\Console\CacheTableCommand' => \Illuminate\Cache\Console\CacheTableCommand::class,
            'Illuminate\Cache\Console\ClearCommand' => \Illuminate\Cache\Console\ClearCommand::class,
            'Illuminate\Cache\Console\ForgetCommand' => \Illuminate\Cache\Console\ForgetCommand::class,
            'Illuminate\Cache\RateLimiter' => \Illuminate\Cache\RateLimiter::class,
            'Illuminate\Console\Scheduling\Schedule' => \Illuminate\Console\Scheduling\Schedule::class,
            'Illuminate\Console\Scheduling\ScheduleClearCacheCommand' => \Illuminate\Console\Scheduling\ScheduleClearCacheCommand::class,
            'Illuminate\Console\Scheduling\ScheduleFinishCommand' => \Illuminate\Console\Scheduling\ScheduleFinishCommand::class,
            'Illuminate\Console\Scheduling\ScheduleListCommand' => \Illuminate\Console\Scheduling\ScheduleListCommand::class,
            'Illuminate\Console\Scheduling\ScheduleRunCommand' => \Illuminate\Console\Scheduling\ScheduleRunCommand::class,
            'Illuminate\Console\Scheduling\ScheduleTestCommand' => \Illuminate\Console\Scheduling\ScheduleTestCommand::class,
            'Illuminate\Console\Scheduling\ScheduleWorkCommand' => \Illuminate\Console\Scheduling\ScheduleWorkCommand::class,
            'Illuminate\Contracts\Auth\Access\Gate' => \Illuminate\Auth\Access\Gate::class,
            'Illuminate\Contracts\Broadcasting\Broadcaster' => \Illuminate\Broadcasting\Broadcasters\LogBroadcaster::class,
            'Illuminate\Contracts\Console\Kernel' => \App\Console\Kernel::class,
            'Illuminate\Contracts\Debug\ExceptionHandler' => \NunoMaduro\Collision\Adapters\Laravel\ExceptionHandler::class,
            'Illuminate\Contracts\Foundation\ExceptionRenderer' => \Spatie\LaravelIgnition\Renderers\IgnitionExceptionRenderer::class,
            'Illuminate\Contracts\Foundation\MaintenanceMode' => \Illuminate\Foundation\FileBasedMaintenanceMode::class,
            'Illuminate\Contracts\Http\Kernel' => \App\Http\Kernel::class,
            'Illuminate\Contracts\Pipeline\Hub' => \Illuminate\Pipeline\Hub::class,
            'Illuminate\Contracts\Queue\EntityResolver' => \Illuminate\Database\Eloquent\QueueEntityResolver::class,
            'Illuminate\Contracts\Routing\ResponseFactory' => \Illuminate\Routing\ResponseFactory::class,
            'Illuminate\Contracts\Validation\UncompromisedVerifier' => \Illuminate\Validation\NotPwnedVerifier::class,
            'Illuminate\Database\Console\DbCommand' => \Illuminate\Database\Console\DbCommand::class,
            'Illuminate\Database\Console\DumpCommand' => \Illuminate\Database\Console\DumpCommand::class,
            'Illuminate\Database\Console\Factories\FactoryMakeCommand' => \Orchestra\Canvas\Console\FactoryMakeCommand::class,
            'Illuminate\Database\Console\Migrations\FreshCommand' => \Illuminate\Database\Console\Migrations\FreshCommand::class,
            'Illuminate\Database\Console\Migrations\InstallCommand' => \Illuminate\Database\Console\Migrations\InstallCommand::class,
            'Illuminate\Database\Console\Migrations\MigrateCommand' => \Illuminate\Database\Console\Migrations\MigrateCommand::class,
            'Illuminate\Database\Console\Migrations\MigrateMakeCommand' => \Orchestra\Canvas\Console\MigrateMakeCommand::class,
            'Illuminate\Database\Console\Migrations\RefreshCommand' => \Illuminate\Database\Console\Migrations\RefreshCommand::class,
            'Illuminate\Database\Console\Migrations\ResetCommand' => \Illuminate\Database\Console\Migrations\ResetCommand::class,
            'Illuminate\Database\Console\Migrations\RollbackCommand' => \Illuminate\Database\Console\Migrations\RollbackCommand::class,
            'Illuminate\Database\Console\Migrations\StatusCommand' => \Illuminate\Database\Console\Migrations\StatusCommand::class,
            'Illuminate\Database\Console\MonitorCommand' => \Illuminate\Database\Console\MonitorCommand::class,
            'Illuminate\Database\Console\PruneCommand' => \Illuminate\Database\Console\PruneCommand::class,
            'Illuminate\Database\Console\Seeds\SeedCommand' => \Illuminate\Database\Console\Seeds\SeedCommand::class,
            'Illuminate\Database\Console\Seeds\SeederMakeCommand' => \Orchestra\Canvas\Console\SeederMakeCommand::class,
            'Illuminate\Database\Console\ShowCommand' => \Illuminate\Database\Console\ShowCommand::class,
            'Illuminate\Database\Console\TableCommand' => \Illuminate\Database\Console\TableCommand::class,
            'Illuminate\Database\Console\WipeCommand' => \Illuminate\Database\Console\WipeCommand::class,
            'Illuminate\Foundation\Console\AboutCommand' => \Illuminate\Foundation\Console\AboutCommand::class,
            'Illuminate\Foundation\Console\CastMakeCommand' => \Orchestra\Canvas\Console\CastMakeCommand::class,
            'Illuminate\Foundation\Console\ChannelMakeCommand' => \Orchestra\Canvas\Console\ChannelMakeCommand::class,
            'Illuminate\Foundation\Console\ClearCompiledCommand' => \Illuminate\Foundation\Console\ClearCompiledCommand::class,
            'Illuminate\Foundation\Console\ComponentMakeCommand' => \Orchestra\Canvas\Console\ComponentMakeCommand::class,
            'Illuminate\Foundation\Console\ConfigCacheCommand' => \Illuminate\Foundation\Console\ConfigCacheCommand::class,
            'Illuminate\Foundation\Console\ConfigClearCommand' => \Illuminate\Foundation\Console\ConfigClearCommand::class,
            'Illuminate\Foundation\Console\ConsoleMakeCommand' => \Orchestra\Canvas\Console\ConsoleMakeCommand::class,
            'Illuminate\Foundation\Console\DocsCommand' => \Illuminate\Foundation\Console\DocsCommand::class,
            'Illuminate\Foundation\Console\DownCommand' => \Illuminate\Foundation\Console\DownCommand::class,
            'Illuminate\Foundation\Console\EnvironmentCommand' => \Illuminate\Foundation\Console\EnvironmentCommand::class,
            'Illuminate\Foundation\Console\EnvironmentDecryptCommand' => \Illuminate\Foundation\Console\EnvironmentDecryptCommand::class,
            'Illuminate\Foundation\Console\EnvironmentEncryptCommand' => \Illuminate\Foundation\Console\EnvironmentEncryptCommand::class,
            'Illuminate\Foundation\Console\EventCacheCommand' => \Illuminate\Foundation\Console\EventCacheCommand::class,
            'Illuminate\Foundation\Console\EventClearCommand' => \Illuminate\Foundation\Console\EventClearCommand::class,
            'Illuminate\Foundation\Console\EventGenerateCommand' => \Illuminate\Foundation\Console\EventGenerateCommand::class,
            'Illuminate\Foundation\Console\EventListCommand' => \Illuminate\Foundation\Console\EventListCommand::class,
            'Illuminate\Foundation\Console\EventMakeCommand' => \Orchestra\Canvas\Console\EventMakeCommand::class,
            'Illuminate\Foundation\Console\ExceptionMakeCommand' => \Orchestra\Canvas\Console\ExceptionMakeCommand::class,
            'Illuminate\Foundation\Console\JobMakeCommand' => \Orchestra\Canvas\Console\JobMakeCommand::class,
            'Illuminate\Foundation\Console\KeyGenerateCommand' => \Illuminate\Foundation\Console\KeyGenerateCommand::class,
            'Illuminate\Foundation\Console\ListenerMakeCommand' => \Orchestra\Canvas\Console\ListenerMakeCommand::class,
            'Illuminate\Foundation\Console\MailMakeCommand' => \Orchestra\Canvas\Console\MailMakeCommand::class,
            'Illuminate\Foundation\Console\ModelMakeCommand' => \Orchestra\Canvas\Console\ModelMakeCommand::class,
            'Illuminate\Foundation\Console\NotificationMakeCommand' => \Orchestra\Canvas\Console\NotificationMakeCommand::class,
            'Illuminate\Foundation\Console\ObserverMakeCommand' => \Orchestra\Canvas\Console\ObserverMakeCommand::class,
            'Illuminate\Foundation\Console\OptimizeClearCommand' => \Illuminate\Foundation\Console\OptimizeClearCommand::class,
            'Illuminate\Foundation\Console\OptimizeCommand' => \Illuminate\Foundation\Console\OptimizeCommand::class,
            'Illuminate\Foundation\Console\PackageDiscoverCommand' => \Illuminate\Foundation\Console\PackageDiscoverCommand::class,
            'Illuminate\Foundation\Console\PolicyMakeCommand' => \Orchestra\Canvas\Console\PolicyMakeCommand::class,
            'Illuminate\Foundation\Console\ProviderMakeCommand' => \Orchestra\Canvas\Console\ProviderMakeCommand::class,
            'Illuminate\Foundation\Console\RequestMakeCommand' => \Orchestra\Canvas\Console\RequestMakeCommand::class,
            'Illuminate\Foundation\Console\ResourceMakeCommand' => \Orchestra\Canvas\Console\ResourceMakeCommand::class,
            'Illuminate\Foundation\Console\RouteCacheCommand' => \Illuminate\Foundation\Console\RouteCacheCommand::class,
            'Illuminate\Foundation\Console\RouteClearCommand' => \Illuminate\Foundation\Console\RouteClearCommand::class,
            'Illuminate\Foundation\Console\RouteListCommand' => \Illuminate\Foundation\Console\RouteListCommand::class,
            'Illuminate\Foundation\Console\RuleMakeCommand' => \Orchestra\Canvas\Console\RuleMakeCommand::class,
            'Illuminate\Foundation\Console\ScopeMakeCommand' => \Orchestra\Canvas\Console\ScopeMakeCommand::class,
            'Illuminate\Foundation\Console\ServeCommand' => \Illuminate\Foundation\Console\ServeCommand::class,
            'Illuminate\Foundation\Console\ShowModelCommand' => \Illuminate\Foundation\Console\ShowModelCommand::class,
            'Illuminate\Foundation\Console\StorageLinkCommand' => \Illuminate\Foundation\Console\StorageLinkCommand::class,
            'Illuminate\Foundation\Console\StubPublishCommand' => \Illuminate\Foundation\Console\StubPublishCommand::class,
            'Illuminate\Foundation\Console\TestMakeCommand' => \Orchestra\Canvas\Console\TestMakeCommand::class,
            'Illuminate\Foundation\Console\UpCommand' => \Illuminate\Foundation\Console\UpCommand::class,
            'Illuminate\Foundation\Console\VendorPublishCommand' => \Illuminate\Foundation\Console\VendorPublishCommand::class,
            'Illuminate\Foundation\Console\ViewCacheCommand' => \Illuminate\Foundation\Console\ViewCacheCommand::class,
            'Illuminate\Foundation\Console\ViewClearCommand' => \Illuminate\Foundation\Console\ViewClearCommand::class,
            'Illuminate\Foundation\MaintenanceModeManager' => \Illuminate\Foundation\MaintenanceModeManager::class,
            'Illuminate\Foundation\Mix' => \Illuminate\Foundation\Mix::class,
            'Illuminate\Foundation\PackageManifest' => \Illuminate\Foundation\PackageManifest::class,
            'Illuminate\Foundation\Vite' => \Illuminate\Foundation\Vite::class,
            'Illuminate\Mail\Markdown' => \Illuminate\Mail\Markdown::class,
            'Illuminate\Notifications\ChannelManager' => \Illuminate\Notifications\ChannelManager::class,
            'Illuminate\Notifications\Console\NotificationTableCommand' => \Orchestra\Canvas\Console\NotificationTableCommand::class,
            'Illuminate\Queue\Console\BatchesTableCommand' => \Orchestra\Canvas\Console\BatchesTableCommand::class,
            'Illuminate\Queue\Console\ClearCommand' => \Illuminate\Queue\Console\ClearCommand::class,
            'Illuminate\Queue\Console\FailedTableCommand' => \Orchestra\Canvas\Console\FailedTableCommand::class,
            'Illuminate\Queue\Console\FlushFailedCommand' => \Illuminate\Queue\Console\FlushFailedCommand::class,
            'Illuminate\Queue\Console\ForgetFailedCommand' => \Illuminate\Queue\Console\ForgetFailedCommand::class,
            'Illuminate\Queue\Console\ListFailedCommand' => \Illuminate\Queue\Console\ListFailedCommand::class,
            'Illuminate\Queue\Console\ListenCommand' => \Illuminate\Queue\Console\ListenCommand::class,
            'Illuminate\Queue\Console\MonitorCommand' => \Illuminate\Queue\Console\MonitorCommand::class,
            'Illuminate\Queue\Console\PruneBatchesCommand' => \Illuminate\Queue\Console\PruneBatchesCommand::class,
            'Illuminate\Queue\Console\PruneFailedJobsCommand' => \Illuminate\Queue\Console\PruneFailedJobsCommand::class,
            'Illuminate\Queue\Console\RestartCommand' => \Illuminate\Queue\Console\RestartCommand::class,
            'Illuminate\Queue\Console\RetryBatchCommand' => \Illuminate\Queue\Console\RetryBatchCommand::class,
            'Illuminate\Queue\Console\RetryCommand' => \Illuminate\Queue\Console\RetryCommand::class,
            'Illuminate\Queue\Console\TableCommand' => \Orchestra\Canvas\Console\QueueTableCommand::class,
            'Illuminate\Queue\Console\WorkCommand' => \Illuminate\Queue\Console\WorkCommand::class,
            'Illuminate\Routing\Console\ControllerMakeCommand' => \Orchestra\Canvas\Console\ControllerMakeCommand::class,
            'Illuminate\Routing\Console\MiddlewareMakeCommand' => \Orchestra\Canvas\Console\MiddlewareMakeCommand::class,
            'Illuminate\Routing\Contracts\CallableDispatcher' => \Illuminate\Routing\CallableDispatcher::class,
            'Illuminate\Routing\Contracts\ControllerDispatcher' => \Illuminate\Routing\ControllerDispatcher::class,
            'Illuminate\Session\Console\SessionTableCommand' => \Orchestra\Canvas\Console\SessionTableCommand::class,
            'Illuminate\Session\Middleware\StartSession' => \Illuminate\Session\Middleware\StartSession::class,
            'Illuminate\Testing\ParallelTesting' => \Illuminate\Testing\ParallelTesting::class,
            'NunoMaduro\Collision\Contracts\Provider' => \NunoMaduro\Collision\Provider::class,
            'Orchestra\Canvas\Console\UserFactoryMakeCommand' => \Orchestra\Canvas\Console\UserFactoryMakeCommand::class,
            'Orchestra\Canvas\Console\UserModelMakeCommand' => \Orchestra\Canvas\Console\UserModelMakeCommand::class,
            'Orchestra\Canvas\Core\PresetManager' => \Orchestra\Canvas\Core\PresetManager::class,
            'Spatie\Activitylog\ActivityLogStatus' => \Spatie\Activitylog\ActivityLogStatus::class,
            'Spatie\Activitylog\ActivityLogger' => \Spatie\Activitylog\ActivityLogger::class,
            'Spatie\Activitylog\CauserResolver' => \Spatie\Activitylog\CauserResolver::class,
            'Spatie\Activitylog\LogBatch' => \Spatie\Activitylog\LogBatch::class,
            'Spatie\FlareClient\Flare' => \Spatie\FlareClient\Flare::class,
            'Spatie\Ignition\Config\IgnitionConfig' => \Spatie\Ignition\Config\IgnitionConfig::class,
            'Spatie\Ignition\Contracts\ConfigManager' => \Spatie\Ignition\Config\FileConfigManager::class,
            'Spatie\Ignition\Contracts\SolutionProviderRepository' => \Spatie\LaravelIgnition\Solutions\SolutionProviders\SolutionProviderRepository::class,
            'Spatie\Ignition\Ignition' => \Spatie\Ignition\Ignition::class,
            'Spatie\LaravelIgnition\Recorders\DumpRecorder\DumpRecorder' => \Spatie\LaravelIgnition\Recorders\DumpRecorder\DumpRecorder::class,
            'Spatie\LaravelIgnition\Recorders\DumpRecorder\MultiDumpHandler' => \Spatie\LaravelIgnition\Recorders\DumpRecorder\MultiDumpHandler::class,
            'Spatie\LaravelIgnition\Recorders\JobRecorder\JobRecorder' => \Spatie\LaravelIgnition\Recorders\JobRecorder\JobRecorder::class,
            'Spatie\LaravelIgnition\Recorders\LogRecorder\LogRecorder' => \Spatie\LaravelIgnition\Recorders\LogRecorder\LogRecorder::class,
            'Spatie\LaravelIgnition\Recorders\QueryRecorder\QueryRecorder' => \Spatie\LaravelIgnition\Recorders\QueryRecorder\QueryRecorder::class,
            'Spatie\LaravelIgnition\Support\SentReports' => \Spatie\LaravelIgnition\Support\SentReports::class,
            'Spatie\MediaLibrary\MediaCollections\Filesystem' => \Spatie\MediaLibrary\MediaCollections\Filesystem::class,
            'Spatie\MediaLibrary\MediaCollections\MediaRepository' => \Spatie\MediaLibrary\MediaCollections\MediaRepository::class,
            'Spatie\MediaLibrary\ResponsiveImages\TinyPlaceholderGenerator\TinyPlaceholderGenerator' => \Spatie\MediaLibrary\ResponsiveImages\TinyPlaceholderGenerator\Blurred::class,
            'Spatie\MediaLibrary\ResponsiveImages\WidthCalculator\WidthCalculator' => \Spatie\MediaLibrary\ResponsiveImages\WidthCalculator\FileSizeOptimizedWidthCalculator::class,
            'Whoops\Handler\HandlerInterface' => \Spatie\LaravelIgnition\Renderers\IgnitionWhoopsHandler::class,
            'auth' => \Illuminate\Auth\AuthManager::class,
            'auth.driver' => \Illuminate\Auth\SessionGuard::class,
            'auth.password' => \Illuminate\Auth\Passwords\PasswordBrokerManager::class,
            'auth.password.broker' => \Illuminate\Auth\Passwords\PasswordBroker::class,
            'blade.compiler' => \Illuminate\View\Compilers\BladeCompiler::class,
            'cache' => \Illuminate\Cache\CacheManager::class,
            'cache.store' => \Illuminate\Cache\Repository::class,
            'command.ide-helper.eloquent' => \Barryvdh\LaravelIdeHelper\Console\EloquentCommand::class,
            'command.ide-helper.generate' => \Barryvdh\LaravelIdeHelper\Console\GeneratorCommand::class,
            'command.ide-helper.meta' => \Barryvdh\LaravelIdeHelper\Console\MetaCommand::class,
            'command.ide-helper.models' => \Barryvdh\LaravelIdeHelper\Console\ModelsCommand::class,
            'command.media-library:clean' => \Spatie\MediaLibrary\MediaCollections\Commands\CleanCommand::class,
            'command.media-library:clear' => \Spatie\MediaLibrary\MediaCollections\Commands\ClearCommand::class,
            'command.media-library:regenerate' => \Spatie\MediaLibrary\Conversions\Commands\RegenerateCommand::class,
            'command.tinker' => \Laravel\Tinker\Console\TinkerCommand::class,
            'composer' => \Illuminate\Support\Composer::class,
            'cookie' => \Illuminate\Cookie\CookieJar::class,
            'db' => \Illuminate\Database\DatabaseManager::class,
            'db.connection' => \Illuminate\Database\MySqlConnection::class,
            'db.factory' => \Illuminate\Database\Connectors\ConnectionFactory::class,
            'db.schema' => \Illuminate\Database\Schema\MySqlBuilder::class,
            'db.transactions' => \Illuminate\Database\DatabaseTransactionsManager::class,
            'encrypter' => \Illuminate\Encryption\Encrypter::class,
            'events' => \Illuminate\Events\Dispatcher::class,
            'files' => \Illuminate\Filesystem\Filesystem::class,
            'filesystem' => \Illuminate\Filesystem\FilesystemManager::class,
            'filesystem.cloud' => \Illuminate\Filesystem\FilesystemAdapter::class,
            'filesystem.disk' => \Illuminate\Filesystem\FilesystemAdapter::class,
            'flare.logger' => \Monolog\Logger::class,
            'hash' => \Illuminate\Hashing\HashManager::class,
            'hash.driver' => \Illuminate\Hashing\BcryptHasher::class,
            'image' => \Intervention\Image\ImageManager::class,
            'log' => \Illuminate\Log\LogManager::class,
            'mail.manager' => \Illuminate\Mail\MailManager::class,
            'mailer' => \Illuminate\Mail\Mailer::class,
            'memcached.connector' => \Illuminate\Cache\MemcachedConnector::class,
            'migration.creator' => \Illuminate\Database\Migrations\MigrationCreator::class,
            'migration.repository' => \Illuminate\Database\Migrations\DatabaseMigrationRepository::class,
            'migrator' => \Illuminate\Database\Migrations\Migrator::class,
            'queue' => \Illuminate\Queue\QueueManager::class,
            'queue.connection' => \Illuminate\Queue\SyncQueue::class,
            'queue.failer' => \Illuminate\Queue\Failed\DatabaseUuidFailedJobProvider::class,
            'queue.listener' => \Illuminate\Queue\Listener::class,
            'queue.worker' => \Illuminate\Queue\Worker::class,
            'recaptcha' => \Biscolab\ReCaptcha\ReCaptchaBuilderV2::class,
            'redirect' => \Illuminate\Routing\Redirector::class,
            'redis' => \Illuminate\Redis\RedisManager::class,
            'router' => \Illuminate\Routing\Router::class,
            'session' => \Illuminate\Session\SessionManager::class,
            'session.store' => \Illuminate\Session\Store::class,
            'translation.loader' => \Illuminate\Translation\FileLoader::class,
            'translator' => \Illuminate\Translation\Translator::class,
            'url' => \Illuminate\Routing\UrlGenerator::class,
            'validation.presence' => \Illuminate\Validation\DatabasePresenceVerifier::class,
            'view' => \Illuminate\View\Factory::class,
            'view.engine.resolver' => \Illuminate\View\Engines\EngineResolver::class,
            'view.finder' => \Illuminate\View\FileViewFinder::class,
        ]));
    override(\Illuminate\Container\Container::makeWith(0), map([
        '' => '@',
            'Illuminate\Auth\Console\ClearResetsCommand' => \Illuminate\Auth\Console\ClearResetsCommand::class,
            'Illuminate\Auth\Middleware\RequirePassword' => \Illuminate\Auth\Middleware\RequirePassword::class,
            'Illuminate\Broadcasting\BroadcastManager' => \Illuminate\Broadcasting\BroadcastManager::class,
            'Illuminate\Bus\BatchRepository' => \Illuminate\Bus\DatabaseBatchRepository::class,
            'Illuminate\Bus\DatabaseBatchRepository' => \Illuminate\Bus\DatabaseBatchRepository::class,
            'Illuminate\Bus\Dispatcher' => \Illuminate\Bus\Dispatcher::class,
            'Illuminate\Cache\Console\CacheTableCommand' => \Illuminate\Cache\Console\CacheTableCommand::class,
            'Illuminate\Cache\Console\ClearCommand' => \Illuminate\Cache\Console\ClearCommand::class,
            'Illuminate\Cache\Console\ForgetCommand' => \Illuminate\Cache\Console\ForgetCommand::class,
            'Illuminate\Cache\RateLimiter' => \Illuminate\Cache\RateLimiter::class,
            'Illuminate\Console\Scheduling\Schedule' => \Illuminate\Console\Scheduling\Schedule::class,
            'Illuminate\Console\Scheduling\ScheduleClearCacheCommand' => \Illuminate\Console\Scheduling\ScheduleClearCacheCommand::class,
            'Illuminate\Console\Scheduling\ScheduleFinishCommand' => \Illuminate\Console\Scheduling\ScheduleFinishCommand::class,
            'Illuminate\Console\Scheduling\ScheduleListCommand' => \Illuminate\Console\Scheduling\ScheduleListCommand::class,
            'Illuminate\Console\Scheduling\ScheduleRunCommand' => \Illuminate\Console\Scheduling\ScheduleRunCommand::class,
            'Illuminate\Console\Scheduling\ScheduleTestCommand' => \Illuminate\Console\Scheduling\ScheduleTestCommand::class,
            'Illuminate\Console\Scheduling\ScheduleWorkCommand' => \Illuminate\Console\Scheduling\ScheduleWorkCommand::class,
            'Illuminate\Contracts\Auth\Access\Gate' => \Illuminate\Auth\Access\Gate::class,
            'Illuminate\Contracts\Broadcasting\Broadcaster' => \Illuminate\Broadcasting\Broadcasters\LogBroadcaster::class,
            'Illuminate\Contracts\Console\Kernel' => \App\Console\Kernel::class,
            'Illuminate\Contracts\Debug\ExceptionHandler' => \NunoMaduro\Collision\Adapters\Laravel\ExceptionHandler::class,
            'Illuminate\Contracts\Foundation\ExceptionRenderer' => \Spatie\LaravelIgnition\Renderers\IgnitionExceptionRenderer::class,
            'Illuminate\Contracts\Foundation\MaintenanceMode' => \Illuminate\Foundation\FileBasedMaintenanceMode::class,
            'Illuminate\Contracts\Http\Kernel' => \App\Http\Kernel::class,
            'Illuminate\Contracts\Pipeline\Hub' => \Illuminate\Pipeline\Hub::class,
            'Illuminate\Contracts\Queue\EntityResolver' => \Illuminate\Database\Eloquent\QueueEntityResolver::class,
            'Illuminate\Contracts\Routing\ResponseFactory' => \Illuminate\Routing\ResponseFactory::class,
            'Illuminate\Contracts\Validation\UncompromisedVerifier' => \Illuminate\Validation\NotPwnedVerifier::class,
            'Illuminate\Database\Console\DbCommand' => \Illuminate\Database\Console\DbCommand::class,
            'Illuminate\Database\Console\DumpCommand' => \Illuminate\Database\Console\DumpCommand::class,
            'Illuminate\Database\Console\Factories\FactoryMakeCommand' => \Orchestra\Canvas\Console\FactoryMakeCommand::class,
            'Illuminate\Database\Console\Migrations\FreshCommand' => \Illuminate\Database\Console\Migrations\FreshCommand::class,
            'Illuminate\Database\Console\Migrations\InstallCommand' => \Illuminate\Database\Console\Migrations\InstallCommand::class,
            'Illuminate\Database\Console\Migrations\MigrateCommand' => \Illuminate\Database\Console\Migrations\MigrateCommand::class,
            'Illuminate\Database\Console\Migrations\MigrateMakeCommand' => \Orchestra\Canvas\Console\MigrateMakeCommand::class,
            'Illuminate\Database\Console\Migrations\RefreshCommand' => \Illuminate\Database\Console\Migrations\RefreshCommand::class,
            'Illuminate\Database\Console\Migrations\ResetCommand' => \Illuminate\Database\Console\Migrations\ResetCommand::class,
            'Illuminate\Database\Console\Migrations\RollbackCommand' => \Illuminate\Database\Console\Migrations\RollbackCommand::class,
            'Illuminate\Database\Console\Migrations\StatusCommand' => \Illuminate\Database\Console\Migrations\StatusCommand::class,
            'Illuminate\Database\Console\MonitorCommand' => \Illuminate\Database\Console\MonitorCommand::class,
            'Illuminate\Database\Console\PruneCommand' => \Illuminate\Database\Console\PruneCommand::class,
            'Illuminate\Database\Console\Seeds\SeedCommand' => \Illuminate\Database\Console\Seeds\SeedCommand::class,
            'Illuminate\Database\Console\Seeds\SeederMakeCommand' => \Orchestra\Canvas\Console\SeederMakeCommand::class,
            'Illuminate\Database\Console\ShowCommand' => \Illuminate\Database\Console\ShowCommand::class,
            'Illuminate\Database\Console\TableCommand' => \Illuminate\Database\Console\TableCommand::class,
            'Illuminate\Database\Console\WipeCommand' => \Illuminate\Database\Console\WipeCommand::class,
            'Illuminate\Foundation\Console\AboutCommand' => \Illuminate\Foundation\Console\AboutCommand::class,
            'Illuminate\Foundation\Console\CastMakeCommand' => \Orchestra\Canvas\Console\CastMakeCommand::class,
            'Illuminate\Foundation\Console\ChannelMakeCommand' => \Orchestra\Canvas\Console\ChannelMakeCommand::class,
            'Illuminate\Foundation\Console\ClearCompiledCommand' => \Illuminate\Foundation\Console\ClearCompiledCommand::class,
            'Illuminate\Foundation\Console\ComponentMakeCommand' => \Orchestra\Canvas\Console\ComponentMakeCommand::class,
            'Illuminate\Foundation\Console\ConfigCacheCommand' => \Illuminate\Foundation\Console\ConfigCacheCommand::class,
            'Illuminate\Foundation\Console\ConfigClearCommand' => \Illuminate\Foundation\Console\ConfigClearCommand::class,
            'Illuminate\Foundation\Console\ConsoleMakeCommand' => \Orchestra\Canvas\Console\ConsoleMakeCommand::class,
            'Illuminate\Foundation\Console\DocsCommand' => \Illuminate\Foundation\Console\DocsCommand::class,
            'Illuminate\Foundation\Console\DownCommand' => \Illuminate\Foundation\Console\DownCommand::class,
            'Illuminate\Foundation\Console\EnvironmentCommand' => \Illuminate\Foundation\Console\EnvironmentCommand::class,
            'Illuminate\Foundation\Console\EnvironmentDecryptCommand' => \Illuminate\Foundation\Console\EnvironmentDecryptCommand::class,
            'Illuminate\Foundation\Console\EnvironmentEncryptCommand' => \Illuminate\Foundation\Console\EnvironmentEncryptCommand::class,
            'Illuminate\Foundation\Console\EventCacheCommand' => \Illuminate\Foundation\Console\EventCacheCommand::class,
            'Illuminate\Foundation\Console\EventClearCommand' => \Illuminate\Foundation\Console\EventClearCommand::class,
            'Illuminate\Foundation\Console\EventGenerateCommand' => \Illuminate\Foundation\Console\EventGenerateCommand::class,
            'Illuminate\Foundation\Console\EventListCommand' => \Illuminate\Foundation\Console\EventListCommand::class,
            'Illuminate\Foundation\Console\EventMakeCommand' => \Orchestra\Canvas\Console\EventMakeCommand::class,
            'Illuminate\Foundation\Console\ExceptionMakeCommand' => \Orchestra\Canvas\Console\ExceptionMakeCommand::class,
            'Illuminate\Foundation\Console\JobMakeCommand' => \Orchestra\Canvas\Console\JobMakeCommand::class,
            'Illuminate\Foundation\Console\KeyGenerateCommand' => \Illuminate\Foundation\Console\KeyGenerateCommand::class,
            'Illuminate\Foundation\Console\ListenerMakeCommand' => \Orchestra\Canvas\Console\ListenerMakeCommand::class,
            'Illuminate\Foundation\Console\MailMakeCommand' => \Orchestra\Canvas\Console\MailMakeCommand::class,
            'Illuminate\Foundation\Console\ModelMakeCommand' => \Orchestra\Canvas\Console\ModelMakeCommand::class,
            'Illuminate\Foundation\Console\NotificationMakeCommand' => \Orchestra\Canvas\Console\NotificationMakeCommand::class,
            'Illuminate\Foundation\Console\ObserverMakeCommand' => \Orchestra\Canvas\Console\ObserverMakeCommand::class,
            'Illuminate\Foundation\Console\OptimizeClearCommand' => \Illuminate\Foundation\Console\OptimizeClearCommand::class,
            'Illuminate\Foundation\Console\OptimizeCommand' => \Illuminate\Foundation\Console\OptimizeCommand::class,
            'Illuminate\Foundation\Console\PackageDiscoverCommand' => \Illuminate\Foundation\Console\PackageDiscoverCommand::class,
            'Illuminate\Foundation\Console\PolicyMakeCommand' => \Orchestra\Canvas\Console\PolicyMakeCommand::class,
            'Illuminate\Foundation\Console\ProviderMakeCommand' => \Orchestra\Canvas\Console\ProviderMakeCommand::class,
            'Illuminate\Foundation\Console\RequestMakeCommand' => \Orchestra\Canvas\Console\RequestMakeCommand::class,
            'Illuminate\Foundation\Console\ResourceMakeCommand' => \Orchestra\Canvas\Console\ResourceMakeCommand::class,
            'Illuminate\Foundation\Console\RouteCacheCommand' => \Illuminate\Foundation\Console\RouteCacheCommand::class,
            'Illuminate\Foundation\Console\RouteClearCommand' => \Illuminate\Foundation\Console\RouteClearCommand::class,
            'Illuminate\Foundation\Console\RouteListCommand' => \Illuminate\Foundation\Console\RouteListCommand::class,
            'Illuminate\Foundation\Console\RuleMakeCommand' => \Orchestra\Canvas\Console\RuleMakeCommand::class,
            'Illuminate\Foundation\Console\ScopeMakeCommand' => \Orchestra\Canvas\Console\ScopeMakeCommand::class,
            'Illuminate\Foundation\Console\ServeCommand' => \Illuminate\Foundation\Console\ServeCommand::class,
            'Illuminate\Foundation\Console\ShowModelCommand' => \Illuminate\Foundation\Console\ShowModelCommand::class,
            'Illuminate\Foundation\Console\StorageLinkCommand' => \Illuminate\Foundation\Console\StorageLinkCommand::class,
            'Illuminate\Foundation\Console\StubPublishCommand' => \Illuminate\Foundation\Console\StubPublishCommand::class,
            'Illuminate\Foundation\Console\TestMakeCommand' => \Orchestra\Canvas\Console\TestMakeCommand::class,
            'Illuminate\Foundation\Console\UpCommand' => \Illuminate\Foundation\Console\UpCommand::class,
            'Illuminate\Foundation\Console\VendorPublishCommand' => \Illuminate\Foundation\Console\VendorPublishCommand::class,
            'Illuminate\Foundation\Console\ViewCacheCommand' => \Illuminate\Foundation\Console\ViewCacheCommand::class,
            'Illuminate\Foundation\Console\ViewClearCommand' => \Illuminate\Foundation\Console\ViewClearCommand::class,
            'Illuminate\Foundation\MaintenanceModeManager' => \Illuminate\Foundation\MaintenanceModeManager::class,
            'Illuminate\Foundation\Mix' => \Illuminate\Foundation\Mix::class,
            'Illuminate\Foundation\PackageManifest' => \Illuminate\Foundation\PackageManifest::class,
            'Illuminate\Foundation\Vite' => \Illuminate\Foundation\Vite::class,
            'Illuminate\Mail\Markdown' => \Illuminate\Mail\Markdown::class,
            'Illuminate\Notifications\ChannelManager' => \Illuminate\Notifications\ChannelManager::class,
            'Illuminate\Notifications\Console\NotificationTableCommand' => \Orchestra\Canvas\Console\NotificationTableCommand::class,
            'Illuminate\Queue\Console\BatchesTableCommand' => \Orchestra\Canvas\Console\BatchesTableCommand::class,
            'Illuminate\Queue\Console\ClearCommand' => \Illuminate\Queue\Console\ClearCommand::class,
            'Illuminate\Queue\Console\FailedTableCommand' => \Orchestra\Canvas\Console\FailedTableCommand::class,
            'Illuminate\Queue\Console\FlushFailedCommand' => \Illuminate\Queue\Console\FlushFailedCommand::class,
            'Illuminate\Queue\Console\ForgetFailedCommand' => \Illuminate\Queue\Console\ForgetFailedCommand::class,
            'Illuminate\Queue\Console\ListFailedCommand' => \Illuminate\Queue\Console\ListFailedCommand::class,
            'Illuminate\Queue\Console\ListenCommand' => \Illuminate\Queue\Console\ListenCommand::class,
            'Illuminate\Queue\Console\MonitorCommand' => \Illuminate\Queue\Console\MonitorCommand::class,
            'Illuminate\Queue\Console\PruneBatchesCommand' => \Illuminate\Queue\Console\PruneBatchesCommand::class,
            'Illuminate\Queue\Console\PruneFailedJobsCommand' => \Illuminate\Queue\Console\PruneFailedJobsCommand::class,
            'Illuminate\Queue\Console\RestartCommand' => \Illuminate\Queue\Console\RestartCommand::class,
            'Illuminate\Queue\Console\RetryBatchCommand' => \Illuminate\Queue\Console\RetryBatchCommand::class,
            'Illuminate\Queue\Console\RetryCommand' => \Illuminate\Queue\Console\RetryCommand::class,
            'Illuminate\Queue\Console\TableCommand' => \Orchestra\Canvas\Console\QueueTableCommand::class,
            'Illuminate\Queue\Console\WorkCommand' => \Illuminate\Queue\Console\WorkCommand::class,
            'Illuminate\Routing\Console\ControllerMakeCommand' => \Orchestra\Canvas\Console\ControllerMakeCommand::class,
            'Illuminate\Routing\Console\MiddlewareMakeCommand' => \Orchestra\Canvas\Console\MiddlewareMakeCommand::class,
            'Illuminate\Routing\Contracts\CallableDispatcher' => \Illuminate\Routing\CallableDispatcher::class,
            'Illuminate\Routing\Contracts\ControllerDispatcher' => \Illuminate\Routing\ControllerDispatcher::class,
            'Illuminate\Session\Console\SessionTableCommand' => \Orchestra\Canvas\Console\SessionTableCommand::class,
            'Illuminate\Session\Middleware\StartSession' => \Illuminate\Session\Middleware\StartSession::class,
            'Illuminate\Testing\ParallelTesting' => \Illuminate\Testing\ParallelTesting::class,
            'NunoMaduro\Collision\Contracts\Provider' => \NunoMaduro\Collision\Provider::class,
            'Orchestra\Canvas\Console\UserFactoryMakeCommand' => \Orchestra\Canvas\Console\UserFactoryMakeCommand::class,
            'Orchestra\Canvas\Console\UserModelMakeCommand' => \Orchestra\Canvas\Console\UserModelMakeCommand::class,
            'Orchestra\Canvas\Core\PresetManager' => \Orchestra\Canvas\Core\PresetManager::class,
            'Spatie\Activitylog\ActivityLogStatus' => \Spatie\Activitylog\ActivityLogStatus::class,
            'Spatie\Activitylog\ActivityLogger' => \Spatie\Activitylog\ActivityLogger::class,
            'Spatie\Activitylog\CauserResolver' => \Spatie\Activitylog\CauserResolver::class,
            'Spatie\Activitylog\LogBatch' => \Spatie\Activitylog\LogBatch::class,
            'Spatie\FlareClient\Flare' => \Spatie\FlareClient\Flare::class,
            'Spatie\Ignition\Config\IgnitionConfig' => \Spatie\Ignition\Config\IgnitionConfig::class,
            'Spatie\Ignition\Contracts\ConfigManager' => \Spatie\Ignition\Config\FileConfigManager::class,
            'Spatie\Ignition\Contracts\SolutionProviderRepository' => \Spatie\LaravelIgnition\Solutions\SolutionProviders\SolutionProviderRepository::class,
            'Spatie\Ignition\Ignition' => \Spatie\Ignition\Ignition::class,
            'Spatie\LaravelIgnition\Recorders\DumpRecorder\DumpRecorder' => \Spatie\LaravelIgnition\Recorders\DumpRecorder\DumpRecorder::class,
            'Spatie\LaravelIgnition\Recorders\DumpRecorder\MultiDumpHandler' => \Spatie\LaravelIgnition\Recorders\DumpRecorder\MultiDumpHandler::class,
            'Spatie\LaravelIgnition\Recorders\JobRecorder\JobRecorder' => \Spatie\LaravelIgnition\Recorders\JobRecorder\JobRecorder::class,
            'Spatie\LaravelIgnition\Recorders\LogRecorder\LogRecorder' => \Spatie\LaravelIgnition\Recorders\LogRecorder\LogRecorder::class,
            'Spatie\LaravelIgnition\Recorders\QueryRecorder\QueryRecorder' => \Spatie\LaravelIgnition\Recorders\QueryRecorder\QueryRecorder::class,
            'Spatie\LaravelIgnition\Support\SentReports' => \Spatie\LaravelIgnition\Support\SentReports::class,
            'Spatie\MediaLibrary\MediaCollections\Filesystem' => \Spatie\MediaLibrary\MediaCollections\Filesystem::class,
            'Spatie\MediaLibrary\MediaCollections\MediaRepository' => \Spatie\MediaLibrary\MediaCollections\MediaRepository::class,
            'Spatie\MediaLibrary\ResponsiveImages\TinyPlaceholderGenerator\TinyPlaceholderGenerator' => \Spatie\MediaLibrary\ResponsiveImages\TinyPlaceholderGenerator\Blurred::class,
            'Spatie\MediaLibrary\ResponsiveImages\WidthCalculator\WidthCalculator' => \Spatie\MediaLibrary\ResponsiveImages\WidthCalculator\FileSizeOptimizedWidthCalculator::class,
            'Whoops\Handler\HandlerInterface' => \Spatie\LaravelIgnition\Renderers\IgnitionWhoopsHandler::class,
            'auth' => \Illuminate\Auth\AuthManager::class,
            'auth.driver' => \Illuminate\Auth\SessionGuard::class,
            'auth.password' => \Illuminate\Auth\Passwords\PasswordBrokerManager::class,
            'auth.password.broker' => \Illuminate\Auth\Passwords\PasswordBroker::class,
            'blade.compiler' => \Illuminate\View\Compilers\BladeCompiler::class,
            'cache' => \Illuminate\Cache\CacheManager::class,
            'cache.store' => \Illuminate\Cache\Repository::class,
            'command.ide-helper.eloquent' => \Barryvdh\LaravelIdeHelper\Console\EloquentCommand::class,
            'command.ide-helper.generate' => \Barryvdh\LaravelIdeHelper\Console\GeneratorCommand::class,
            'command.ide-helper.meta' => \Barryvdh\LaravelIdeHelper\Console\MetaCommand::class,
            'command.ide-helper.models' => \Barryvdh\LaravelIdeHelper\Console\ModelsCommand::class,
            'command.media-library:clean' => \Spatie\MediaLibrary\MediaCollections\Commands\CleanCommand::class,
            'command.media-library:clear' => \Spatie\MediaLibrary\MediaCollections\Commands\ClearCommand::class,
            'command.media-library:regenerate' => \Spatie\MediaLibrary\Conversions\Commands\RegenerateCommand::class,
            'command.tinker' => \Laravel\Tinker\Console\TinkerCommand::class,
            'composer' => \Illuminate\Support\Composer::class,
            'cookie' => \Illuminate\Cookie\CookieJar::class,
            'db' => \Illuminate\Database\DatabaseManager::class,
            'db.connection' => \Illuminate\Database\MySqlConnection::class,
            'db.factory' => \Illuminate\Database\Connectors\ConnectionFactory::class,
            'db.schema' => \Illuminate\Database\Schema\MySqlBuilder::class,
            'db.transactions' => \Illuminate\Database\DatabaseTransactionsManager::class,
            'encrypter' => \Illuminate\Encryption\Encrypter::class,
            'events' => \Illuminate\Events\Dispatcher::class,
            'files' => \Illuminate\Filesystem\Filesystem::class,
            'filesystem' => \Illuminate\Filesystem\FilesystemManager::class,
            'filesystem.cloud' => \Illuminate\Filesystem\FilesystemAdapter::class,
            'filesystem.disk' => \Illuminate\Filesystem\FilesystemAdapter::class,
            'flare.logger' => \Monolog\Logger::class,
            'hash' => \Illuminate\Hashing\HashManager::class,
            'hash.driver' => \Illuminate\Hashing\BcryptHasher::class,
            'image' => \Intervention\Image\ImageManager::class,
            'log' => \Illuminate\Log\LogManager::class,
            'mail.manager' => \Illuminate\Mail\MailManager::class,
            'mailer' => \Illuminate\Mail\Mailer::class,
            'memcached.connector' => \Illuminate\Cache\MemcachedConnector::class,
            'migration.creator' => \Illuminate\Database\Migrations\MigrationCreator::class,
            'migration.repository' => \Illuminate\Database\Migrations\DatabaseMigrationRepository::class,
            'migrator' => \Illuminate\Database\Migrations\Migrator::class,
            'queue' => \Illuminate\Queue\QueueManager::class,
            'queue.connection' => \Illuminate\Queue\SyncQueue::class,
            'queue.failer' => \Illuminate\Queue\Failed\DatabaseUuidFailedJobProvider::class,
            'queue.listener' => \Illuminate\Queue\Listener::class,
            'queue.worker' => \Illuminate\Queue\Worker::class,
            'recaptcha' => \Biscolab\ReCaptcha\ReCaptchaBuilderV2::class,
            'redirect' => \Illuminate\Routing\Redirector::class,
            'redis' => \Illuminate\Redis\RedisManager::class,
            'router' => \Illuminate\Routing\Router::class,
            'session' => \Illuminate\Session\SessionManager::class,
            'session.store' => \Illuminate\Session\Store::class,
            'translation.loader' => \Illuminate\Translation\FileLoader::class,
            'translator' => \Illuminate\Translation\Translator::class,
            'url' => \Illuminate\Routing\UrlGenerator::class,
            'validation.presence' => \Illuminate\Validation\DatabasePresenceVerifier::class,
            'view' => \Illuminate\View\Factory::class,
            'view.engine.resolver' => \Illuminate\View\Engines\EngineResolver::class,
            'view.finder' => \Illuminate\View\FileViewFinder::class,
        ]));
    override(\Illuminate\Contracts\Container\Container::get(0), map([
        '' => '@',
            'Illuminate\Auth\Console\ClearResetsCommand' => \Illuminate\Auth\Console\ClearResetsCommand::class,
            'Illuminate\Auth\Middleware\RequirePassword' => \Illuminate\Auth\Middleware\RequirePassword::class,
            'Illuminate\Broadcasting\BroadcastManager' => \Illuminate\Broadcasting\BroadcastManager::class,
            'Illuminate\Bus\BatchRepository' => \Illuminate\Bus\DatabaseBatchRepository::class,
            'Illuminate\Bus\DatabaseBatchRepository' => \Illuminate\Bus\DatabaseBatchRepository::class,
            'Illuminate\Bus\Dispatcher' => \Illuminate\Bus\Dispatcher::class,
            'Illuminate\Cache\Console\CacheTableCommand' => \Illuminate\Cache\Console\CacheTableCommand::class,
            'Illuminate\Cache\Console\ClearCommand' => \Illuminate\Cache\Console\ClearCommand::class,
            'Illuminate\Cache\Console\ForgetCommand' => \Illuminate\Cache\Console\ForgetCommand::class,
            'Illuminate\Cache\RateLimiter' => \Illuminate\Cache\RateLimiter::class,
            'Illuminate\Console\Scheduling\Schedule' => \Illuminate\Console\Scheduling\Schedule::class,
            'Illuminate\Console\Scheduling\ScheduleClearCacheCommand' => \Illuminate\Console\Scheduling\ScheduleClearCacheCommand::class,
            'Illuminate\Console\Scheduling\ScheduleFinishCommand' => \Illuminate\Console\Scheduling\ScheduleFinishCommand::class,
            'Illuminate\Console\Scheduling\ScheduleListCommand' => \Illuminate\Console\Scheduling\ScheduleListCommand::class,
            'Illuminate\Console\Scheduling\ScheduleRunCommand' => \Illuminate\Console\Scheduling\ScheduleRunCommand::class,
            'Illuminate\Console\Scheduling\ScheduleTestCommand' => \Illuminate\Console\Scheduling\ScheduleTestCommand::class,
            'Illuminate\Console\Scheduling\ScheduleWorkCommand' => \Illuminate\Console\Scheduling\ScheduleWorkCommand::class,
            'Illuminate\Contracts\Auth\Access\Gate' => \Illuminate\Auth\Access\Gate::class,
            'Illuminate\Contracts\Broadcasting\Broadcaster' => \Illuminate\Broadcasting\Broadcasters\LogBroadcaster::class,
            'Illuminate\Contracts\Console\Kernel' => \App\Console\Kernel::class,
            'Illuminate\Contracts\Debug\ExceptionHandler' => \NunoMaduro\Collision\Adapters\Laravel\ExceptionHandler::class,
            'Illuminate\Contracts\Foundation\ExceptionRenderer' => \Spatie\LaravelIgnition\Renderers\IgnitionExceptionRenderer::class,
            'Illuminate\Contracts\Foundation\MaintenanceMode' => \Illuminate\Foundation\FileBasedMaintenanceMode::class,
            'Illuminate\Contracts\Http\Kernel' => \App\Http\Kernel::class,
            'Illuminate\Contracts\Pipeline\Hub' => \Illuminate\Pipeline\Hub::class,
            'Illuminate\Contracts\Queue\EntityResolver' => \Illuminate\Database\Eloquent\QueueEntityResolver::class,
            'Illuminate\Contracts\Routing\ResponseFactory' => \Illuminate\Routing\ResponseFactory::class,
            'Illuminate\Contracts\Validation\UncompromisedVerifier' => \Illuminate\Validation\NotPwnedVerifier::class,
            'Illuminate\Database\Console\DbCommand' => \Illuminate\Database\Console\DbCommand::class,
            'Illuminate\Database\Console\DumpCommand' => \Illuminate\Database\Console\DumpCommand::class,
            'Illuminate\Database\Console\Factories\FactoryMakeCommand' => \Orchestra\Canvas\Console\FactoryMakeCommand::class,
            'Illuminate\Database\Console\Migrations\FreshCommand' => \Illuminate\Database\Console\Migrations\FreshCommand::class,
            'Illuminate\Database\Console\Migrations\InstallCommand' => \Illuminate\Database\Console\Migrations\InstallCommand::class,
            'Illuminate\Database\Console\Migrations\MigrateCommand' => \Illuminate\Database\Console\Migrations\MigrateCommand::class,
            'Illuminate\Database\Console\Migrations\MigrateMakeCommand' => \Orchestra\Canvas\Console\MigrateMakeCommand::class,
            'Illuminate\Database\Console\Migrations\RefreshCommand' => \Illuminate\Database\Console\Migrations\RefreshCommand::class,
            'Illuminate\Database\Console\Migrations\ResetCommand' => \Illuminate\Database\Console\Migrations\ResetCommand::class,
            'Illuminate\Database\Console\Migrations\RollbackCommand' => \Illuminate\Database\Console\Migrations\RollbackCommand::class,
            'Illuminate\Database\Console\Migrations\StatusCommand' => \Illuminate\Database\Console\Migrations\StatusCommand::class,
            'Illuminate\Database\Console\MonitorCommand' => \Illuminate\Database\Console\MonitorCommand::class,
            'Illuminate\Database\Console\PruneCommand' => \Illuminate\Database\Console\PruneCommand::class,
            'Illuminate\Database\Console\Seeds\SeedCommand' => \Illuminate\Database\Console\Seeds\SeedCommand::class,
            'Illuminate\Database\Console\Seeds\SeederMakeCommand' => \Orchestra\Canvas\Console\SeederMakeCommand::class,
            'Illuminate\Database\Console\ShowCommand' => \Illuminate\Database\Console\ShowCommand::class,
            'Illuminate\Database\Console\TableCommand' => \Illuminate\Database\Console\TableCommand::class,
            'Illuminate\Database\Console\WipeCommand' => \Illuminate\Database\Console\WipeCommand::class,
            'Illuminate\Foundation\Console\AboutCommand' => \Illuminate\Foundation\Console\AboutCommand::class,
            'Illuminate\Foundation\Console\CastMakeCommand' => \Orchestra\Canvas\Console\CastMakeCommand::class,
            'Illuminate\Foundation\Console\ChannelMakeCommand' => \Orchestra\Canvas\Console\ChannelMakeCommand::class,
            'Illuminate\Foundation\Console\ClearCompiledCommand' => \Illuminate\Foundation\Console\ClearCompiledCommand::class,
            'Illuminate\Foundation\Console\ComponentMakeCommand' => \Orchestra\Canvas\Console\ComponentMakeCommand::class,
            'Illuminate\Foundation\Console\ConfigCacheCommand' => \Illuminate\Foundation\Console\ConfigCacheCommand::class,
            'Illuminate\Foundation\Console\ConfigClearCommand' => \Illuminate\Foundation\Console\ConfigClearCommand::class,
            'Illuminate\Foundation\Console\ConsoleMakeCommand' => \Orchestra\Canvas\Console\ConsoleMakeCommand::class,
            'Illuminate\Foundation\Console\DocsCommand' => \Illuminate\Foundation\Console\DocsCommand::class,
            'Illuminate\Foundation\Console\DownCommand' => \Illuminate\Foundation\Console\DownCommand::class,
            'Illuminate\Foundation\Console\EnvironmentCommand' => \Illuminate\Foundation\Console\EnvironmentCommand::class,
            'Illuminate\Foundation\Console\EnvironmentDecryptCommand' => \Illuminate\Foundation\Console\EnvironmentDecryptCommand::class,
            'Illuminate\Foundation\Console\EnvironmentEncryptCommand' => \Illuminate\Foundation\Console\EnvironmentEncryptCommand::class,
            'Illuminate\Foundation\Console\EventCacheCommand' => \Illuminate\Foundation\Console\EventCacheCommand::class,
            'Illuminate\Foundation\Console\EventClearCommand' => \Illuminate\Foundation\Console\EventClearCommand::class,
            'Illuminate\Foundation\Console\EventGenerateCommand' => \Illuminate\Foundation\Console\EventGenerateCommand::class,
            'Illuminate\Foundation\Console\EventListCommand' => \Illuminate\Foundation\Console\EventListCommand::class,
            'Illuminate\Foundation\Console\EventMakeCommand' => \Orchestra\Canvas\Console\EventMakeCommand::class,
            'Illuminate\Foundation\Console\ExceptionMakeCommand' => \Orchestra\Canvas\Console\ExceptionMakeCommand::class,
            'Illuminate\Foundation\Console\JobMakeCommand' => \Orchestra\Canvas\Console\JobMakeCommand::class,
            'Illuminate\Foundation\Console\KeyGenerateCommand' => \Illuminate\Foundation\Console\KeyGenerateCommand::class,
            'Illuminate\Foundation\Console\ListenerMakeCommand' => \Orchestra\Canvas\Console\ListenerMakeCommand::class,
            'Illuminate\Foundation\Console\MailMakeCommand' => \Orchestra\Canvas\Console\MailMakeCommand::class,
            'Illuminate\Foundation\Console\ModelMakeCommand' => \Orchestra\Canvas\Console\ModelMakeCommand::class,
            'Illuminate\Foundation\Console\NotificationMakeCommand' => \Orchestra\Canvas\Console\NotificationMakeCommand::class,
            'Illuminate\Foundation\Console\ObserverMakeCommand' => \Orchestra\Canvas\Console\ObserverMakeCommand::class,
            'Illuminate\Foundation\Console\OptimizeClearCommand' => \Illuminate\Foundation\Console\OptimizeClearCommand::class,
            'Illuminate\Foundation\Console\OptimizeCommand' => \Illuminate\Foundation\Console\OptimizeCommand::class,
            'Illuminate\Foundation\Console\PackageDiscoverCommand' => \Illuminate\Foundation\Console\PackageDiscoverCommand::class,
            'Illuminate\Foundation\Console\PolicyMakeCommand' => \Orchestra\Canvas\Console\PolicyMakeCommand::class,
            'Illuminate\Foundation\Console\ProviderMakeCommand' => \Orchestra\Canvas\Console\ProviderMakeCommand::class,
            'Illuminate\Foundation\Console\RequestMakeCommand' => \Orchestra\Canvas\Console\RequestMakeCommand::class,
            'Illuminate\Foundation\Console\ResourceMakeCommand' => \Orchestra\Canvas\Console\ResourceMakeCommand::class,
            'Illuminate\Foundation\Console\RouteCacheCommand' => \Illuminate\Foundation\Console\RouteCacheCommand::class,
            'Illuminate\Foundation\Console\RouteClearCommand' => \Illuminate\Foundation\Console\RouteClearCommand::class,
            'Illuminate\Foundation\Console\RouteListCommand' => \Illuminate\Foundation\Console\RouteListCommand::class,
            'Illuminate\Foundation\Console\RuleMakeCommand' => \Orchestra\Canvas\Console\RuleMakeCommand::class,
            'Illuminate\Foundation\Console\ScopeMakeCommand' => \Orchestra\Canvas\Console\ScopeMakeCommand::class,
            'Illuminate\Foundation\Console\ServeCommand' => \Illuminate\Foundation\Console\ServeCommand::class,
            'Illuminate\Foundation\Console\ShowModelCommand' => \Illuminate\Foundation\Console\ShowModelCommand::class,
            'Illuminate\Foundation\Console\StorageLinkCommand' => \Illuminate\Foundation\Console\StorageLinkCommand::class,
            'Illuminate\Foundation\Console\StubPublishCommand' => \Illuminate\Foundation\Console\StubPublishCommand::class,
            'Illuminate\Foundation\Console\TestMakeCommand' => \Orchestra\Canvas\Console\TestMakeCommand::class,
            'Illuminate\Foundation\Console\UpCommand' => \Illuminate\Foundation\Console\UpCommand::class,
            'Illuminate\Foundation\Console\VendorPublishCommand' => \Illuminate\Foundation\Console\VendorPublishCommand::class,
            'Illuminate\Foundation\Console\ViewCacheCommand' => \Illuminate\Foundation\Console\ViewCacheCommand::class,
            'Illuminate\Foundation\Console\ViewClearCommand' => \Illuminate\Foundation\Console\ViewClearCommand::class,
            'Illuminate\Foundation\MaintenanceModeManager' => \Illuminate\Foundation\MaintenanceModeManager::class,
            'Illuminate\Foundation\Mix' => \Illuminate\Foundation\Mix::class,
            'Illuminate\Foundation\PackageManifest' => \Illuminate\Foundation\PackageManifest::class,
            'Illuminate\Foundation\Vite' => \Illuminate\Foundation\Vite::class,
            'Illuminate\Mail\Markdown' => \Illuminate\Mail\Markdown::class,
            'Illuminate\Notifications\ChannelManager' => \Illuminate\Notifications\ChannelManager::class,
            'Illuminate\Notifications\Console\NotificationTableCommand' => \Orchestra\Canvas\Console\NotificationTableCommand::class,
            'Illuminate\Queue\Console\BatchesTableCommand' => \Orchestra\Canvas\Console\BatchesTableCommand::class,
            'Illuminate\Queue\Console\ClearCommand' => \Illuminate\Queue\Console\ClearCommand::class,
            'Illuminate\Queue\Console\FailedTableCommand' => \Orchestra\Canvas\Console\FailedTableCommand::class,
            'Illuminate\Queue\Console\FlushFailedCommand' => \Illuminate\Queue\Console\FlushFailedCommand::class,
            'Illuminate\Queue\Console\ForgetFailedCommand' => \Illuminate\Queue\Console\ForgetFailedCommand::class,
            'Illuminate\Queue\Console\ListFailedCommand' => \Illuminate\Queue\Console\ListFailedCommand::class,
            'Illuminate\Queue\Console\ListenCommand' => \Illuminate\Queue\Console\ListenCommand::class,
            'Illuminate\Queue\Console\MonitorCommand' => \Illuminate\Queue\Console\MonitorCommand::class,
            'Illuminate\Queue\Console\PruneBatchesCommand' => \Illuminate\Queue\Console\PruneBatchesCommand::class,
            'Illuminate\Queue\Console\PruneFailedJobsCommand' => \Illuminate\Queue\Console\PruneFailedJobsCommand::class,
            'Illuminate\Queue\Console\RestartCommand' => \Illuminate\Queue\Console\RestartCommand::class,
            'Illuminate\Queue\Console\RetryBatchCommand' => \Illuminate\Queue\Console\RetryBatchCommand::class,
            'Illuminate\Queue\Console\RetryCommand' => \Illuminate\Queue\Console\RetryCommand::class,
            'Illuminate\Queue\Console\TableCommand' => \Orchestra\Canvas\Console\QueueTableCommand::class,
            'Illuminate\Queue\Console\WorkCommand' => \Illuminate\Queue\Console\WorkCommand::class,
            'Illuminate\Routing\Console\ControllerMakeCommand' => \Orchestra\Canvas\Console\ControllerMakeCommand::class,
            'Illuminate\Routing\Console\MiddlewareMakeCommand' => \Orchestra\Canvas\Console\MiddlewareMakeCommand::class,
            'Illuminate\Routing\Contracts\CallableDispatcher' => \Illuminate\Routing\CallableDispatcher::class,
            'Illuminate\Routing\Contracts\ControllerDispatcher' => \Illuminate\Routing\ControllerDispatcher::class,
            'Illuminate\Session\Console\SessionTableCommand' => \Orchestra\Canvas\Console\SessionTableCommand::class,
            'Illuminate\Session\Middleware\StartSession' => \Illuminate\Session\Middleware\StartSession::class,
            'Illuminate\Testing\ParallelTesting' => \Illuminate\Testing\ParallelTesting::class,
            'NunoMaduro\Collision\Contracts\Provider' => \NunoMaduro\Collision\Provider::class,
            'Orchestra\Canvas\Console\UserFactoryMakeCommand' => \Orchestra\Canvas\Console\UserFactoryMakeCommand::class,
            'Orchestra\Canvas\Console\UserModelMakeCommand' => \Orchestra\Canvas\Console\UserModelMakeCommand::class,
            'Orchestra\Canvas\Core\PresetManager' => \Orchestra\Canvas\Core\PresetManager::class,
            'Spatie\Activitylog\ActivityLogStatus' => \Spatie\Activitylog\ActivityLogStatus::class,
            'Spatie\Activitylog\ActivityLogger' => \Spatie\Activitylog\ActivityLogger::class,
            'Spatie\Activitylog\CauserResolver' => \Spatie\Activitylog\CauserResolver::class,
            'Spatie\Activitylog\LogBatch' => \Spatie\Activitylog\LogBatch::class,
            'Spatie\FlareClient\Flare' => \Spatie\FlareClient\Flare::class,
            'Spatie\Ignition\Config\IgnitionConfig' => \Spatie\Ignition\Config\IgnitionConfig::class,
            'Spatie\Ignition\Contracts\ConfigManager' => \Spatie\Ignition\Config\FileConfigManager::class,
            'Spatie\Ignition\Contracts\SolutionProviderRepository' => \Spatie\LaravelIgnition\Solutions\SolutionProviders\SolutionProviderRepository::class,
            'Spatie\Ignition\Ignition' => \Spatie\Ignition\Ignition::class,
            'Spatie\LaravelIgnition\Recorders\DumpRecorder\DumpRecorder' => \Spatie\LaravelIgnition\Recorders\DumpRecorder\DumpRecorder::class,
            'Spatie\LaravelIgnition\Recorders\DumpRecorder\MultiDumpHandler' => \Spatie\LaravelIgnition\Recorders\DumpRecorder\MultiDumpHandler::class,
            'Spatie\LaravelIgnition\Recorders\JobRecorder\JobRecorder' => \Spatie\LaravelIgnition\Recorders\JobRecorder\JobRecorder::class,
            'Spatie\LaravelIgnition\Recorders\LogRecorder\LogRecorder' => \Spatie\LaravelIgnition\Recorders\LogRecorder\LogRecorder::class,
            'Spatie\LaravelIgnition\Recorders\QueryRecorder\QueryRecorder' => \Spatie\LaravelIgnition\Recorders\QueryRecorder\QueryRecorder::class,
            'Spatie\LaravelIgnition\Support\SentReports' => \Spatie\LaravelIgnition\Support\SentReports::class,
            'Spatie\MediaLibrary\MediaCollections\Filesystem' => \Spatie\MediaLibrary\MediaCollections\Filesystem::class,
            'Spatie\MediaLibrary\MediaCollections\MediaRepository' => \Spatie\MediaLibrary\MediaCollections\MediaRepository::class,
            'Spatie\MediaLibrary\ResponsiveImages\TinyPlaceholderGenerator\TinyPlaceholderGenerator' => \Spatie\MediaLibrary\ResponsiveImages\TinyPlaceholderGenerator\Blurred::class,
            'Spatie\MediaLibrary\ResponsiveImages\WidthCalculator\WidthCalculator' => \Spatie\MediaLibrary\ResponsiveImages\WidthCalculator\FileSizeOptimizedWidthCalculator::class,
            'Whoops\Handler\HandlerInterface' => \Spatie\LaravelIgnition\Renderers\IgnitionWhoopsHandler::class,
            'auth' => \Illuminate\Auth\AuthManager::class,
            'auth.driver' => \Illuminate\Auth\SessionGuard::class,
            'auth.password' => \Illuminate\Auth\Passwords\PasswordBrokerManager::class,
            'auth.password.broker' => \Illuminate\Auth\Passwords\PasswordBroker::class,
            'blade.compiler' => \Illuminate\View\Compilers\BladeCompiler::class,
            'cache' => \Illuminate\Cache\CacheManager::class,
            'cache.store' => \Illuminate\Cache\Repository::class,
            'command.ide-helper.eloquent' => \Barryvdh\LaravelIdeHelper\Console\EloquentCommand::class,
            'command.ide-helper.generate' => \Barryvdh\LaravelIdeHelper\Console\GeneratorCommand::class,
            'command.ide-helper.meta' => \Barryvdh\LaravelIdeHelper\Console\MetaCommand::class,
            'command.ide-helper.models' => \Barryvdh\LaravelIdeHelper\Console\ModelsCommand::class,
            'command.media-library:clean' => \Spatie\MediaLibrary\MediaCollections\Commands\CleanCommand::class,
            'command.media-library:clear' => \Spatie\MediaLibrary\MediaCollections\Commands\ClearCommand::class,
            'command.media-library:regenerate' => \Spatie\MediaLibrary\Conversions\Commands\RegenerateCommand::class,
            'command.tinker' => \Laravel\Tinker\Console\TinkerCommand::class,
            'composer' => \Illuminate\Support\Composer::class,
            'cookie' => \Illuminate\Cookie\CookieJar::class,
            'db' => \Illuminate\Database\DatabaseManager::class,
            'db.connection' => \Illuminate\Database\MySqlConnection::class,
            'db.factory' => \Illuminate\Database\Connectors\ConnectionFactory::class,
            'db.schema' => \Illuminate\Database\Schema\MySqlBuilder::class,
            'db.transactions' => \Illuminate\Database\DatabaseTransactionsManager::class,
            'encrypter' => \Illuminate\Encryption\Encrypter::class,
            'events' => \Illuminate\Events\Dispatcher::class,
            'files' => \Illuminate\Filesystem\Filesystem::class,
            'filesystem' => \Illuminate\Filesystem\FilesystemManager::class,
            'filesystem.cloud' => \Illuminate\Filesystem\FilesystemAdapter::class,
            'filesystem.disk' => \Illuminate\Filesystem\FilesystemAdapter::class,
            'flare.logger' => \Monolog\Logger::class,
            'hash' => \Illuminate\Hashing\HashManager::class,
            'hash.driver' => \Illuminate\Hashing\BcryptHasher::class,
            'image' => \Intervention\Image\ImageManager::class,
            'log' => \Illuminate\Log\LogManager::class,
            'mail.manager' => \Illuminate\Mail\MailManager::class,
            'mailer' => \Illuminate\Mail\Mailer::class,
            'memcached.connector' => \Illuminate\Cache\MemcachedConnector::class,
            'migration.creator' => \Illuminate\Database\Migrations\MigrationCreator::class,
            'migration.repository' => \Illuminate\Database\Migrations\DatabaseMigrationRepository::class,
            'migrator' => \Illuminate\Database\Migrations\Migrator::class,
            'queue' => \Illuminate\Queue\QueueManager::class,
            'queue.connection' => \Illuminate\Queue\SyncQueue::class,
            'queue.failer' => \Illuminate\Queue\Failed\DatabaseUuidFailedJobProvider::class,
            'queue.listener' => \Illuminate\Queue\Listener::class,
            'queue.worker' => \Illuminate\Queue\Worker::class,
            'recaptcha' => \Biscolab\ReCaptcha\ReCaptchaBuilderV2::class,
            'redirect' => \Illuminate\Routing\Redirector::class,
            'redis' => \Illuminate\Redis\RedisManager::class,
            'router' => \Illuminate\Routing\Router::class,
            'session' => \Illuminate\Session\SessionManager::class,
            'session.store' => \Illuminate\Session\Store::class,
            'translation.loader' => \Illuminate\Translation\FileLoader::class,
            'translator' => \Illuminate\Translation\Translator::class,
            'url' => \Illuminate\Routing\UrlGenerator::class,
            'validation.presence' => \Illuminate\Validation\DatabasePresenceVerifier::class,
            'view' => \Illuminate\View\Factory::class,
            'view.engine.resolver' => \Illuminate\View\Engines\EngineResolver::class,
            'view.finder' => \Illuminate\View\FileViewFinder::class,
        ]));
    override(\Illuminate\Contracts\Container\Container::make(0), map([
        '' => '@',
            'Illuminate\Auth\Console\ClearResetsCommand' => \Illuminate\Auth\Console\ClearResetsCommand::class,
            'Illuminate\Auth\Middleware\RequirePassword' => \Illuminate\Auth\Middleware\RequirePassword::class,
            'Illuminate\Broadcasting\BroadcastManager' => \Illuminate\Broadcasting\BroadcastManager::class,
            'Illuminate\Bus\BatchRepository' => \Illuminate\Bus\DatabaseBatchRepository::class,
            'Illuminate\Bus\DatabaseBatchRepository' => \Illuminate\Bus\DatabaseBatchRepository::class,
            'Illuminate\Bus\Dispatcher' => \Illuminate\Bus\Dispatcher::class,
            'Illuminate\Cache\Console\CacheTableCommand' => \Illuminate\Cache\Console\CacheTableCommand::class,
            'Illuminate\Cache\Console\ClearCommand' => \Illuminate\Cache\Console\ClearCommand::class,
            'Illuminate\Cache\Console\ForgetCommand' => \Illuminate\Cache\Console\ForgetCommand::class,
            'Illuminate\Cache\RateLimiter' => \Illuminate\Cache\RateLimiter::class,
            'Illuminate\Console\Scheduling\Schedule' => \Illuminate\Console\Scheduling\Schedule::class,
            'Illuminate\Console\Scheduling\ScheduleClearCacheCommand' => \Illuminate\Console\Scheduling\ScheduleClearCacheCommand::class,
            'Illuminate\Console\Scheduling\ScheduleFinishCommand' => \Illuminate\Console\Scheduling\ScheduleFinishCommand::class,
            'Illuminate\Console\Scheduling\ScheduleListCommand' => \Illuminate\Console\Scheduling\ScheduleListCommand::class,
            'Illuminate\Console\Scheduling\ScheduleRunCommand' => \Illuminate\Console\Scheduling\ScheduleRunCommand::class,
            'Illuminate\Console\Scheduling\ScheduleTestCommand' => \Illuminate\Console\Scheduling\ScheduleTestCommand::class,
            'Illuminate\Console\Scheduling\ScheduleWorkCommand' => \Illuminate\Console\Scheduling\ScheduleWorkCommand::class,
            'Illuminate\Contracts\Auth\Access\Gate' => \Illuminate\Auth\Access\Gate::class,
            'Illuminate\Contracts\Broadcasting\Broadcaster' => \Illuminate\Broadcasting\Broadcasters\LogBroadcaster::class,
            'Illuminate\Contracts\Console\Kernel' => \App\Console\Kernel::class,
            'Illuminate\Contracts\Debug\ExceptionHandler' => \NunoMaduro\Collision\Adapters\Laravel\ExceptionHandler::class,
            'Illuminate\Contracts\Foundation\ExceptionRenderer' => \Spatie\LaravelIgnition\Renderers\IgnitionExceptionRenderer::class,
            'Illuminate\Contracts\Foundation\MaintenanceMode' => \Illuminate\Foundation\FileBasedMaintenanceMode::class,
            'Illuminate\Contracts\Http\Kernel' => \App\Http\Kernel::class,
            'Illuminate\Contracts\Pipeline\Hub' => \Illuminate\Pipeline\Hub::class,
            'Illuminate\Contracts\Queue\EntityResolver' => \Illuminate\Database\Eloquent\QueueEntityResolver::class,
            'Illuminate\Contracts\Routing\ResponseFactory' => \Illuminate\Routing\ResponseFactory::class,
            'Illuminate\Contracts\Validation\UncompromisedVerifier' => \Illuminate\Validation\NotPwnedVerifier::class,
            'Illuminate\Database\Console\DbCommand' => \Illuminate\Database\Console\DbCommand::class,
            'Illuminate\Database\Console\DumpCommand' => \Illuminate\Database\Console\DumpCommand::class,
            'Illuminate\Database\Console\Factories\FactoryMakeCommand' => \Orchestra\Canvas\Console\FactoryMakeCommand::class,
            'Illuminate\Database\Console\Migrations\FreshCommand' => \Illuminate\Database\Console\Migrations\FreshCommand::class,
            'Illuminate\Database\Console\Migrations\InstallCommand' => \Illuminate\Database\Console\Migrations\InstallCommand::class,
            'Illuminate\Database\Console\Migrations\MigrateCommand' => \Illuminate\Database\Console\Migrations\MigrateCommand::class,
            'Illuminate\Database\Console\Migrations\MigrateMakeCommand' => \Orchestra\Canvas\Console\MigrateMakeCommand::class,
            'Illuminate\Database\Console\Migrations\RefreshCommand' => \Illuminate\Database\Console\Migrations\RefreshCommand::class,
            'Illuminate\Database\Console\Migrations\ResetCommand' => \Illuminate\Database\Console\Migrations\ResetCommand::class,
            'Illuminate\Database\Console\Migrations\RollbackCommand' => \Illuminate\Database\Console\Migrations\RollbackCommand::class,
            'Illuminate\Database\Console\Migrations\StatusCommand' => \Illuminate\Database\Console\Migrations\StatusCommand::class,
            'Illuminate\Database\Console\MonitorCommand' => \Illuminate\Database\Console\MonitorCommand::class,
            'Illuminate\Database\Console\PruneCommand' => \Illuminate\Database\Console\PruneCommand::class,
            'Illuminate\Database\Console\Seeds\SeedCommand' => \Illuminate\Database\Console\Seeds\SeedCommand::class,
            'Illuminate\Database\Console\Seeds\SeederMakeCommand' => \Orchestra\Canvas\Console\SeederMakeCommand::class,
            'Illuminate\Database\Console\ShowCommand' => \Illuminate\Database\Console\ShowCommand::class,
            'Illuminate\Database\Console\TableCommand' => \Illuminate\Database\Console\TableCommand::class,
            'Illuminate\Database\Console\WipeCommand' => \Illuminate\Database\Console\WipeCommand::class,
            'Illuminate\Foundation\Console\AboutCommand' => \Illuminate\Foundation\Console\AboutCommand::class,
            'Illuminate\Foundation\Console\CastMakeCommand' => \Orchestra\Canvas\Console\CastMakeCommand::class,
            'Illuminate\Foundation\Console\ChannelMakeCommand' => \Orchestra\Canvas\Console\ChannelMakeCommand::class,
            'Illuminate\Foundation\Console\ClearCompiledCommand' => \Illuminate\Foundation\Console\ClearCompiledCommand::class,
            'Illuminate\Foundation\Console\ComponentMakeCommand' => \Orchestra\Canvas\Console\ComponentMakeCommand::class,
            'Illuminate\Foundation\Console\ConfigCacheCommand' => \Illuminate\Foundation\Console\ConfigCacheCommand::class,
            'Illuminate\Foundation\Console\ConfigClearCommand' => \Illuminate\Foundation\Console\ConfigClearCommand::class,
            'Illuminate\Foundation\Console\ConsoleMakeCommand' => \Orchestra\Canvas\Console\ConsoleMakeCommand::class,
            'Illuminate\Foundation\Console\DocsCommand' => \Illuminate\Foundation\Console\DocsCommand::class,
            'Illuminate\Foundation\Console\DownCommand' => \Illuminate\Foundation\Console\DownCommand::class,
            'Illuminate\Foundation\Console\EnvironmentCommand' => \Illuminate\Foundation\Console\EnvironmentCommand::class,
            'Illuminate\Foundation\Console\EnvironmentDecryptCommand' => \Illuminate\Foundation\Console\EnvironmentDecryptCommand::class,
            'Illuminate\Foundation\Console\EnvironmentEncryptCommand' => \Illuminate\Foundation\Console\EnvironmentEncryptCommand::class,
            'Illuminate\Foundation\Console\EventCacheCommand' => \Illuminate\Foundation\Console\EventCacheCommand::class,
            'Illuminate\Foundation\Console\EventClearCommand' => \Illuminate\Foundation\Console\EventClearCommand::class,
            'Illuminate\Foundation\Console\EventGenerateCommand' => \Illuminate\Foundation\Console\EventGenerateCommand::class,
            'Illuminate\Foundation\Console\EventListCommand' => \Illuminate\Foundation\Console\EventListCommand::class,
            'Illuminate\Foundation\Console\EventMakeCommand' => \Orchestra\Canvas\Console\EventMakeCommand::class,
            'Illuminate\Foundation\Console\ExceptionMakeCommand' => \Orchestra\Canvas\Console\ExceptionMakeCommand::class,
            'Illuminate\Foundation\Console\JobMakeCommand' => \Orchestra\Canvas\Console\JobMakeCommand::class,
            'Illuminate\Foundation\Console\KeyGenerateCommand' => \Illuminate\Foundation\Console\KeyGenerateCommand::class,
            'Illuminate\Foundation\Console\ListenerMakeCommand' => \Orchestra\Canvas\Console\ListenerMakeCommand::class,
            'Illuminate\Foundation\Console\MailMakeCommand' => \Orchestra\Canvas\Console\MailMakeCommand::class,
            'Illuminate\Foundation\Console\ModelMakeCommand' => \Orchestra\Canvas\Console\ModelMakeCommand::class,
            'Illuminate\Foundation\Console\NotificationMakeCommand' => \Orchestra\Canvas\Console\NotificationMakeCommand::class,
            'Illuminate\Foundation\Console\ObserverMakeCommand' => \Orchestra\Canvas\Console\ObserverMakeCommand::class,
            'Illuminate\Foundation\Console\OptimizeClearCommand' => \Illuminate\Foundation\Console\OptimizeClearCommand::class,
            'Illuminate\Foundation\Console\OptimizeCommand' => \Illuminate\Foundation\Console\OptimizeCommand::class,
            'Illuminate\Foundation\Console\PackageDiscoverCommand' => \Illuminate\Foundation\Console\PackageDiscoverCommand::class,
            'Illuminate\Foundation\Console\PolicyMakeCommand' => \Orchestra\Canvas\Console\PolicyMakeCommand::class,
            'Illuminate\Foundation\Console\ProviderMakeCommand' => \Orchestra\Canvas\Console\ProviderMakeCommand::class,
            'Illuminate\Foundation\Console\RequestMakeCommand' => \Orchestra\Canvas\Console\RequestMakeCommand::class,
            'Illuminate\Foundation\Console\ResourceMakeCommand' => \Orchestra\Canvas\Console\ResourceMakeCommand::class,
            'Illuminate\Foundation\Console\RouteCacheCommand' => \Illuminate\Foundation\Console\RouteCacheCommand::class,
            'Illuminate\Foundation\Console\RouteClearCommand' => \Illuminate\Foundation\Console\RouteClearCommand::class,
            'Illuminate\Foundation\Console\RouteListCommand' => \Illuminate\Foundation\Console\RouteListCommand::class,
            'Illuminate\Foundation\Console\RuleMakeCommand' => \Orchestra\Canvas\Console\RuleMakeCommand::class,
            'Illuminate\Foundation\Console\ScopeMakeCommand' => \Orchestra\Canvas\Console\ScopeMakeCommand::class,
            'Illuminate\Foundation\Console\ServeCommand' => \Illuminate\Foundation\Console\ServeCommand::class,
            'Illuminate\Foundation\Console\ShowModelCommand' => \Illuminate\Foundation\Console\ShowModelCommand::class,
            'Illuminate\Foundation\Console\StorageLinkCommand' => \Illuminate\Foundation\Console\StorageLinkCommand::class,
            'Illuminate\Foundation\Console\StubPublishCommand' => \Illuminate\Foundation\Console\StubPublishCommand::class,
            'Illuminate\Foundation\Console\TestMakeCommand' => \Orchestra\Canvas\Console\TestMakeCommand::class,
            'Illuminate\Foundation\Console\UpCommand' => \Illuminate\Foundation\Console\UpCommand::class,
            'Illuminate\Foundation\Console\VendorPublishCommand' => \Illuminate\Foundation\Console\VendorPublishCommand::class,
            'Illuminate\Foundation\Console\ViewCacheCommand' => \Illuminate\Foundation\Console\ViewCacheCommand::class,
            'Illuminate\Foundation\Console\ViewClearCommand' => \Illuminate\Foundation\Console\ViewClearCommand::class,
            'Illuminate\Foundation\MaintenanceModeManager' => \Illuminate\Foundation\MaintenanceModeManager::class,
            'Illuminate\Foundation\Mix' => \Illuminate\Foundation\Mix::class,
            'Illuminate\Foundation\PackageManifest' => \Illuminate\Foundation\PackageManifest::class,
            'Illuminate\Foundation\Vite' => \Illuminate\Foundation\Vite::class,
            'Illuminate\Mail\Markdown' => \Illuminate\Mail\Markdown::class,
            'Illuminate\Notifications\ChannelManager' => \Illuminate\Notifications\ChannelManager::class,
            'Illuminate\Notifications\Console\NotificationTableCommand' => \Orchestra\Canvas\Console\NotificationTableCommand::class,
            'Illuminate\Queue\Console\BatchesTableCommand' => \Orchestra\Canvas\Console\BatchesTableCommand::class,
            'Illuminate\Queue\Console\ClearCommand' => \Illuminate\Queue\Console\ClearCommand::class,
            'Illuminate\Queue\Console\FailedTableCommand' => \Orchestra\Canvas\Console\FailedTableCommand::class,
            'Illuminate\Queue\Console\FlushFailedCommand' => \Illuminate\Queue\Console\FlushFailedCommand::class,
            'Illuminate\Queue\Console\ForgetFailedCommand' => \Illuminate\Queue\Console\ForgetFailedCommand::class,
            'Illuminate\Queue\Console\ListFailedCommand' => \Illuminate\Queue\Console\ListFailedCommand::class,
            'Illuminate\Queue\Console\ListenCommand' => \Illuminate\Queue\Console\ListenCommand::class,
            'Illuminate\Queue\Console\MonitorCommand' => \Illuminate\Queue\Console\MonitorCommand::class,
            'Illuminate\Queue\Console\PruneBatchesCommand' => \Illuminate\Queue\Console\PruneBatchesCommand::class,
            'Illuminate\Queue\Console\PruneFailedJobsCommand' => \Illuminate\Queue\Console\PruneFailedJobsCommand::class,
            'Illuminate\Queue\Console\RestartCommand' => \Illuminate\Queue\Console\RestartCommand::class,
            'Illuminate\Queue\Console\RetryBatchCommand' => \Illuminate\Queue\Console\RetryBatchCommand::class,
            'Illuminate\Queue\Console\RetryCommand' => \Illuminate\Queue\Console\RetryCommand::class,
            'Illuminate\Queue\Console\TableCommand' => \Orchestra\Canvas\Console\QueueTableCommand::class,
            'Illuminate\Queue\Console\WorkCommand' => \Illuminate\Queue\Console\WorkCommand::class,
            'Illuminate\Routing\Console\ControllerMakeCommand' => \Orchestra\Canvas\Console\ControllerMakeCommand::class,
            'Illuminate\Routing\Console\MiddlewareMakeCommand' => \Orchestra\Canvas\Console\MiddlewareMakeCommand::class,
            'Illuminate\Routing\Contracts\CallableDispatcher' => \Illuminate\Routing\CallableDispatcher::class,
            'Illuminate\Routing\Contracts\ControllerDispatcher' => \Illuminate\Routing\ControllerDispatcher::class,
            'Illuminate\Session\Console\SessionTableCommand' => \Orchestra\Canvas\Console\SessionTableCommand::class,
            'Illuminate\Session\Middleware\StartSession' => \Illuminate\Session\Middleware\StartSession::class,
            'Illuminate\Testing\ParallelTesting' => \Illuminate\Testing\ParallelTesting::class,
            'NunoMaduro\Collision\Contracts\Provider' => \NunoMaduro\Collision\Provider::class,
            'Orchestra\Canvas\Console\UserFactoryMakeCommand' => \Orchestra\Canvas\Console\UserFactoryMakeCommand::class,
            'Orchestra\Canvas\Console\UserModelMakeCommand' => \Orchestra\Canvas\Console\UserModelMakeCommand::class,
            'Orchestra\Canvas\Core\PresetManager' => \Orchestra\Canvas\Core\PresetManager::class,
            'Spatie\Activitylog\ActivityLogStatus' => \Spatie\Activitylog\ActivityLogStatus::class,
            'Spatie\Activitylog\ActivityLogger' => \Spatie\Activitylog\ActivityLogger::class,
            'Spatie\Activitylog\CauserResolver' => \Spatie\Activitylog\CauserResolver::class,
            'Spatie\Activitylog\LogBatch' => \Spatie\Activitylog\LogBatch::class,
            'Spatie\FlareClient\Flare' => \Spatie\FlareClient\Flare::class,
            'Spatie\Ignition\Config\IgnitionConfig' => \Spatie\Ignition\Config\IgnitionConfig::class,
            'Spatie\Ignition\Contracts\ConfigManager' => \Spatie\Ignition\Config\FileConfigManager::class,
            'Spatie\Ignition\Contracts\SolutionProviderRepository' => \Spatie\LaravelIgnition\Solutions\SolutionProviders\SolutionProviderRepository::class,
            'Spatie\Ignition\Ignition' => \Spatie\Ignition\Ignition::class,
            'Spatie\LaravelIgnition\Recorders\DumpRecorder\DumpRecorder' => \Spatie\LaravelIgnition\Recorders\DumpRecorder\DumpRecorder::class,
            'Spatie\LaravelIgnition\Recorders\DumpRecorder\MultiDumpHandler' => \Spatie\LaravelIgnition\Recorders\DumpRecorder\MultiDumpHandler::class,
            'Spatie\LaravelIgnition\Recorders\JobRecorder\JobRecorder' => \Spatie\LaravelIgnition\Recorders\JobRecorder\JobRecorder::class,
            'Spatie\LaravelIgnition\Recorders\LogRecorder\LogRecorder' => \Spatie\LaravelIgnition\Recorders\LogRecorder\LogRecorder::class,
            'Spatie\LaravelIgnition\Recorders\QueryRecorder\QueryRecorder' => \Spatie\LaravelIgnition\Recorders\QueryRecorder\QueryRecorder::class,
            'Spatie\LaravelIgnition\Support\SentReports' => \Spatie\LaravelIgnition\Support\SentReports::class,
            'Spatie\MediaLibrary\MediaCollections\Filesystem' => \Spatie\MediaLibrary\MediaCollections\Filesystem::class,
            'Spatie\MediaLibrary\MediaCollections\MediaRepository' => \Spatie\MediaLibrary\MediaCollections\MediaRepository::class,
            'Spatie\MediaLibrary\ResponsiveImages\TinyPlaceholderGenerator\TinyPlaceholderGenerator' => \Spatie\MediaLibrary\ResponsiveImages\TinyPlaceholderGenerator\Blurred::class,
            'Spatie\MediaLibrary\ResponsiveImages\WidthCalculator\WidthCalculator' => \Spatie\MediaLibrary\ResponsiveImages\WidthCalculator\FileSizeOptimizedWidthCalculator::class,
            'Whoops\Handler\HandlerInterface' => \Spatie\LaravelIgnition\Renderers\IgnitionWhoopsHandler::class,
            'auth' => \Illuminate\Auth\AuthManager::class,
            'auth.driver' => \Illuminate\Auth\SessionGuard::class,
            'auth.password' => \Illuminate\Auth\Passwords\PasswordBrokerManager::class,
            'auth.password.broker' => \Illuminate\Auth\Passwords\PasswordBroker::class,
            'blade.compiler' => \Illuminate\View\Compilers\BladeCompiler::class,
            'cache' => \Illuminate\Cache\CacheManager::class,
            'cache.store' => \Illuminate\Cache\Repository::class,
            'command.ide-helper.eloquent' => \Barryvdh\LaravelIdeHelper\Console\EloquentCommand::class,
            'command.ide-helper.generate' => \Barryvdh\LaravelIdeHelper\Console\GeneratorCommand::class,
            'command.ide-helper.meta' => \Barryvdh\LaravelIdeHelper\Console\MetaCommand::class,
            'command.ide-helper.models' => \Barryvdh\LaravelIdeHelper\Console\ModelsCommand::class,
            'command.media-library:clean' => \Spatie\MediaLibrary\MediaCollections\Commands\CleanCommand::class,
            'command.media-library:clear' => \Spatie\MediaLibrary\MediaCollections\Commands\ClearCommand::class,
            'command.media-library:regenerate' => \Spatie\MediaLibrary\Conversions\Commands\RegenerateCommand::class,
            'command.tinker' => \Laravel\Tinker\Console\TinkerCommand::class,
            'composer' => \Illuminate\Support\Composer::class,
            'cookie' => \Illuminate\Cookie\CookieJar::class,
            'db' => \Illuminate\Database\DatabaseManager::class,
            'db.connection' => \Illuminate\Database\MySqlConnection::class,
            'db.factory' => \Illuminate\Database\Connectors\ConnectionFactory::class,
            'db.schema' => \Illuminate\Database\Schema\MySqlBuilder::class,
            'db.transactions' => \Illuminate\Database\DatabaseTransactionsManager::class,
            'encrypter' => \Illuminate\Encryption\Encrypter::class,
            'events' => \Illuminate\Events\Dispatcher::class,
            'files' => \Illuminate\Filesystem\Filesystem::class,
            'filesystem' => \Illuminate\Filesystem\FilesystemManager::class,
            'filesystem.cloud' => \Illuminate\Filesystem\FilesystemAdapter::class,
            'filesystem.disk' => \Illuminate\Filesystem\FilesystemAdapter::class,
            'flare.logger' => \Monolog\Logger::class,
            'hash' => \Illuminate\Hashing\HashManager::class,
            'hash.driver' => \Illuminate\Hashing\BcryptHasher::class,
            'image' => \Intervention\Image\ImageManager::class,
            'log' => \Illuminate\Log\LogManager::class,
            'mail.manager' => \Illuminate\Mail\MailManager::class,
            'mailer' => \Illuminate\Mail\Mailer::class,
            'memcached.connector' => \Illuminate\Cache\MemcachedConnector::class,
            'migration.creator' => \Illuminate\Database\Migrations\MigrationCreator::class,
            'migration.repository' => \Illuminate\Database\Migrations\DatabaseMigrationRepository::class,
            'migrator' => \Illuminate\Database\Migrations\Migrator::class,
            'queue' => \Illuminate\Queue\QueueManager::class,
            'queue.connection' => \Illuminate\Queue\SyncQueue::class,
            'queue.failer' => \Illuminate\Queue\Failed\DatabaseUuidFailedJobProvider::class,
            'queue.listener' => \Illuminate\Queue\Listener::class,
            'queue.worker' => \Illuminate\Queue\Worker::class,
            'recaptcha' => \Biscolab\ReCaptcha\ReCaptchaBuilderV2::class,
            'redirect' => \Illuminate\Routing\Redirector::class,
            'redis' => \Illuminate\Redis\RedisManager::class,
            'router' => \Illuminate\Routing\Router::class,
            'session' => \Illuminate\Session\SessionManager::class,
            'session.store' => \Illuminate\Session\Store::class,
            'translation.loader' => \Illuminate\Translation\FileLoader::class,
            'translator' => \Illuminate\Translation\Translator::class,
            'url' => \Illuminate\Routing\UrlGenerator::class,
            'validation.presence' => \Illuminate\Validation\DatabasePresenceVerifier::class,
            'view' => \Illuminate\View\Factory::class,
            'view.engine.resolver' => \Illuminate\View\Engines\EngineResolver::class,
            'view.finder' => \Illuminate\View\FileViewFinder::class,
        ]));
    override(\Illuminate\Contracts\Container\Container::makeWith(0), map([
        '' => '@',
            'Illuminate\Auth\Console\ClearResetsCommand' => \Illuminate\Auth\Console\ClearResetsCommand::class,
            'Illuminate\Auth\Middleware\RequirePassword' => \Illuminate\Auth\Middleware\RequirePassword::class,
            'Illuminate\Broadcasting\BroadcastManager' => \Illuminate\Broadcasting\BroadcastManager::class,
            'Illuminate\Bus\BatchRepository' => \Illuminate\Bus\DatabaseBatchRepository::class,
            'Illuminate\Bus\DatabaseBatchRepository' => \Illuminate\Bus\DatabaseBatchRepository::class,
            'Illuminate\Bus\Dispatcher' => \Illuminate\Bus\Dispatcher::class,
            'Illuminate\Cache\Console\CacheTableCommand' => \Illuminate\Cache\Console\CacheTableCommand::class,
            'Illuminate\Cache\Console\ClearCommand' => \Illuminate\Cache\Console\ClearCommand::class,
            'Illuminate\Cache\Console\ForgetCommand' => \Illuminate\Cache\Console\ForgetCommand::class,
            'Illuminate\Cache\RateLimiter' => \Illuminate\Cache\RateLimiter::class,
            'Illuminate\Console\Scheduling\Schedule' => \Illuminate\Console\Scheduling\Schedule::class,
            'Illuminate\Console\Scheduling\ScheduleClearCacheCommand' => \Illuminate\Console\Scheduling\ScheduleClearCacheCommand::class,
            'Illuminate\Console\Scheduling\ScheduleFinishCommand' => \Illuminate\Console\Scheduling\ScheduleFinishCommand::class,
            'Illuminate\Console\Scheduling\ScheduleListCommand' => \Illuminate\Console\Scheduling\ScheduleListCommand::class,
            'Illuminate\Console\Scheduling\ScheduleRunCommand' => \Illuminate\Console\Scheduling\ScheduleRunCommand::class,
            'Illuminate\Console\Scheduling\ScheduleTestCommand' => \Illuminate\Console\Scheduling\ScheduleTestCommand::class,
            'Illuminate\Console\Scheduling\ScheduleWorkCommand' => \Illuminate\Console\Scheduling\ScheduleWorkCommand::class,
            'Illuminate\Contracts\Auth\Access\Gate' => \Illuminate\Auth\Access\Gate::class,
            'Illuminate\Contracts\Broadcasting\Broadcaster' => \Illuminate\Broadcasting\Broadcasters\LogBroadcaster::class,
            'Illuminate\Contracts\Console\Kernel' => \App\Console\Kernel::class,
            'Illuminate\Contracts\Debug\ExceptionHandler' => \NunoMaduro\Collision\Adapters\Laravel\ExceptionHandler::class,
            'Illuminate\Contracts\Foundation\ExceptionRenderer' => \Spatie\LaravelIgnition\Renderers\IgnitionExceptionRenderer::class,
            'Illuminate\Contracts\Foundation\MaintenanceMode' => \Illuminate\Foundation\FileBasedMaintenanceMode::class,
            'Illuminate\Contracts\Http\Kernel' => \App\Http\Kernel::class,
            'Illuminate\Contracts\Pipeline\Hub' => \Illuminate\Pipeline\Hub::class,
            'Illuminate\Contracts\Queue\EntityResolver' => \Illuminate\Database\Eloquent\QueueEntityResolver::class,
            'Illuminate\Contracts\Routing\ResponseFactory' => \Illuminate\Routing\ResponseFactory::class,
            'Illuminate\Contracts\Validation\UncompromisedVerifier' => \Illuminate\Validation\NotPwnedVerifier::class,
            'Illuminate\Database\Console\DbCommand' => \Illuminate\Database\Console\DbCommand::class,
            'Illuminate\Database\Console\DumpCommand' => \Illuminate\Database\Console\DumpCommand::class,
            'Illuminate\Database\Console\Factories\FactoryMakeCommand' => \Orchestra\Canvas\Console\FactoryMakeCommand::class,
            'Illuminate\Database\Console\Migrations\FreshCommand' => \Illuminate\Database\Console\Migrations\FreshCommand::class,
            'Illuminate\Database\Console\Migrations\InstallCommand' => \Illuminate\Database\Console\Migrations\InstallCommand::class,
            'Illuminate\Database\Console\Migrations\MigrateCommand' => \Illuminate\Database\Console\Migrations\MigrateCommand::class,
            'Illuminate\Database\Console\Migrations\MigrateMakeCommand' => \Orchestra\Canvas\Console\MigrateMakeCommand::class,
            'Illuminate\Database\Console\Migrations\RefreshCommand' => \Illuminate\Database\Console\Migrations\RefreshCommand::class,
            'Illuminate\Database\Console\Migrations\ResetCommand' => \Illuminate\Database\Console\Migrations\ResetCommand::class,
            'Illuminate\Database\Console\Migrations\RollbackCommand' => \Illuminate\Database\Console\Migrations\RollbackCommand::class,
            'Illuminate\Database\Console\Migrations\StatusCommand' => \Illuminate\Database\Console\Migrations\StatusCommand::class,
            'Illuminate\Database\Console\MonitorCommand' => \Illuminate\Database\Console\MonitorCommand::class,
            'Illuminate\Database\Console\PruneCommand' => \Illuminate\Database\Console\PruneCommand::class,
            'Illuminate\Database\Console\Seeds\SeedCommand' => \Illuminate\Database\Console\Seeds\SeedCommand::class,
            'Illuminate\Database\Console\Seeds\SeederMakeCommand' => \Orchestra\Canvas\Console\SeederMakeCommand::class,
            'Illuminate\Database\Console\ShowCommand' => \Illuminate\Database\Console\ShowCommand::class,
            'Illuminate\Database\Console\TableCommand' => \Illuminate\Database\Console\TableCommand::class,
            'Illuminate\Database\Console\WipeCommand' => \Illuminate\Database\Console\WipeCommand::class,
            'Illuminate\Foundation\Console\AboutCommand' => \Illuminate\Foundation\Console\AboutCommand::class,
            'Illuminate\Foundation\Console\CastMakeCommand' => \Orchestra\Canvas\Console\CastMakeCommand::class,
            'Illuminate\Foundation\Console\ChannelMakeCommand' => \Orchestra\Canvas\Console\ChannelMakeCommand::class,
            'Illuminate\Foundation\Console\ClearCompiledCommand' => \Illuminate\Foundation\Console\ClearCompiledCommand::class,
            'Illuminate\Foundation\Console\ComponentMakeCommand' => \Orchestra\Canvas\Console\ComponentMakeCommand::class,
            'Illuminate\Foundation\Console\ConfigCacheCommand' => \Illuminate\Foundation\Console\ConfigCacheCommand::class,
            'Illuminate\Foundation\Console\ConfigClearCommand' => \Illuminate\Foundation\Console\ConfigClearCommand::class,
            'Illuminate\Foundation\Console\ConsoleMakeCommand' => \Orchestra\Canvas\Console\ConsoleMakeCommand::class,
            'Illuminate\Foundation\Console\DocsCommand' => \Illuminate\Foundation\Console\DocsCommand::class,
            'Illuminate\Foundation\Console\DownCommand' => \Illuminate\Foundation\Console\DownCommand::class,
            'Illuminate\Foundation\Console\EnvironmentCommand' => \Illuminate\Foundation\Console\EnvironmentCommand::class,
            'Illuminate\Foundation\Console\EnvironmentDecryptCommand' => \Illuminate\Foundation\Console\EnvironmentDecryptCommand::class,
            'Illuminate\Foundation\Console\EnvironmentEncryptCommand' => \Illuminate\Foundation\Console\EnvironmentEncryptCommand::class,
            'Illuminate\Foundation\Console\EventCacheCommand' => \Illuminate\Foundation\Console\EventCacheCommand::class,
            'Illuminate\Foundation\Console\EventClearCommand' => \Illuminate\Foundation\Console\EventClearCommand::class,
            'Illuminate\Foundation\Console\EventGenerateCommand' => \Illuminate\Foundation\Console\EventGenerateCommand::class,
            'Illuminate\Foundation\Console\EventListCommand' => \Illuminate\Foundation\Console\EventListCommand::class,
            'Illuminate\Foundation\Console\EventMakeCommand' => \Orchestra\Canvas\Console\EventMakeCommand::class,
            'Illuminate\Foundation\Console\ExceptionMakeCommand' => \Orchestra\Canvas\Console\ExceptionMakeCommand::class,
            'Illuminate\Foundation\Console\JobMakeCommand' => \Orchestra\Canvas\Console\JobMakeCommand::class,
            'Illuminate\Foundation\Console\KeyGenerateCommand' => \Illuminate\Foundation\Console\KeyGenerateCommand::class,
            'Illuminate\Foundation\Console\ListenerMakeCommand' => \Orchestra\Canvas\Console\ListenerMakeCommand::class,
            'Illuminate\Foundation\Console\MailMakeCommand' => \Orchestra\Canvas\Console\MailMakeCommand::class,
            'Illuminate\Foundation\Console\ModelMakeCommand' => \Orchestra\Canvas\Console\ModelMakeCommand::class,
            'Illuminate\Foundation\Console\NotificationMakeCommand' => \Orchestra\Canvas\Console\NotificationMakeCommand::class,
            'Illuminate\Foundation\Console\ObserverMakeCommand' => \Orchestra\Canvas\Console\ObserverMakeCommand::class,
            'Illuminate\Foundation\Console\OptimizeClearCommand' => \Illuminate\Foundation\Console\OptimizeClearCommand::class,
            'Illuminate\Foundation\Console\OptimizeCommand' => \Illuminate\Foundation\Console\OptimizeCommand::class,
            'Illuminate\Foundation\Console\PackageDiscoverCommand' => \Illuminate\Foundation\Console\PackageDiscoverCommand::class,
            'Illuminate\Foundation\Console\PolicyMakeCommand' => \Orchestra\Canvas\Console\PolicyMakeCommand::class,
            'Illuminate\Foundation\Console\ProviderMakeCommand' => \Orchestra\Canvas\Console\ProviderMakeCommand::class,
            'Illuminate\Foundation\Console\RequestMakeCommand' => \Orchestra\Canvas\Console\RequestMakeCommand::class,
            'Illuminate\Foundation\Console\ResourceMakeCommand' => \Orchestra\Canvas\Console\ResourceMakeCommand::class,
            'Illuminate\Foundation\Console\RouteCacheCommand' => \Illuminate\Foundation\Console\RouteCacheCommand::class,
            'Illuminate\Foundation\Console\RouteClearCommand' => \Illuminate\Foundation\Console\RouteClearCommand::class,
            'Illuminate\Foundation\Console\RouteListCommand' => \Illuminate\Foundation\Console\RouteListCommand::class,
            'Illuminate\Foundation\Console\RuleMakeCommand' => \Orchestra\Canvas\Console\RuleMakeCommand::class,
            'Illuminate\Foundation\Console\ScopeMakeCommand' => \Orchestra\Canvas\Console\ScopeMakeCommand::class,
            'Illuminate\Foundation\Console\ServeCommand' => \Illuminate\Foundation\Console\ServeCommand::class,
            'Illuminate\Foundation\Console\ShowModelCommand' => \Illuminate\Foundation\Console\ShowModelCommand::class,
            'Illuminate\Foundation\Console\StorageLinkCommand' => \Illuminate\Foundation\Console\StorageLinkCommand::class,
            'Illuminate\Foundation\Console\StubPublishCommand' => \Illuminate\Foundation\Console\StubPublishCommand::class,
            'Illuminate\Foundation\Console\TestMakeCommand' => \Orchestra\Canvas\Console\TestMakeCommand::class,
            'Illuminate\Foundation\Console\UpCommand' => \Illuminate\Foundation\Console\UpCommand::class,
            'Illuminate\Foundation\Console\VendorPublishCommand' => \Illuminate\Foundation\Console\VendorPublishCommand::class,
            'Illuminate\Foundation\Console\ViewCacheCommand' => \Illuminate\Foundation\Console\ViewCacheCommand::class,
            'Illuminate\Foundation\Console\ViewClearCommand' => \Illuminate\Foundation\Console\ViewClearCommand::class,
            'Illuminate\Foundation\MaintenanceModeManager' => \Illuminate\Foundation\MaintenanceModeManager::class,
            'Illuminate\Foundation\Mix' => \Illuminate\Foundation\Mix::class,
            'Illuminate\Foundation\PackageManifest' => \Illuminate\Foundation\PackageManifest::class,
            'Illuminate\Foundation\Vite' => \Illuminate\Foundation\Vite::class,
            'Illuminate\Mail\Markdown' => \Illuminate\Mail\Markdown::class,
            'Illuminate\Notifications\ChannelManager' => \Illuminate\Notifications\ChannelManager::class,
            'Illuminate\Notifications\Console\NotificationTableCommand' => \Orchestra\Canvas\Console\NotificationTableCommand::class,
            'Illuminate\Queue\Console\BatchesTableCommand' => \Orchestra\Canvas\Console\BatchesTableCommand::class,
            'Illuminate\Queue\Console\ClearCommand' => \Illuminate\Queue\Console\ClearCommand::class,
            'Illuminate\Queue\Console\FailedTableCommand' => \Orchestra\Canvas\Console\FailedTableCommand::class,
            'Illuminate\Queue\Console\FlushFailedCommand' => \Illuminate\Queue\Console\FlushFailedCommand::class,
            'Illuminate\Queue\Console\ForgetFailedCommand' => \Illuminate\Queue\Console\ForgetFailedCommand::class,
            'Illuminate\Queue\Console\ListFailedCommand' => \Illuminate\Queue\Console\ListFailedCommand::class,
            'Illuminate\Queue\Console\ListenCommand' => \Illuminate\Queue\Console\ListenCommand::class,
            'Illuminate\Queue\Console\MonitorCommand' => \Illuminate\Queue\Console\MonitorCommand::class,
            'Illuminate\Queue\Console\PruneBatchesCommand' => \Illuminate\Queue\Console\PruneBatchesCommand::class,
            'Illuminate\Queue\Console\PruneFailedJobsCommand' => \Illuminate\Queue\Console\PruneFailedJobsCommand::class,
            'Illuminate\Queue\Console\RestartCommand' => \Illuminate\Queue\Console\RestartCommand::class,
            'Illuminate\Queue\Console\RetryBatchCommand' => \Illuminate\Queue\Console\RetryBatchCommand::class,
            'Illuminate\Queue\Console\RetryCommand' => \Illuminate\Queue\Console\RetryCommand::class,
            'Illuminate\Queue\Console\TableCommand' => \Orchestra\Canvas\Console\QueueTableCommand::class,
            'Illuminate\Queue\Console\WorkCommand' => \Illuminate\Queue\Console\WorkCommand::class,
            'Illuminate\Routing\Console\ControllerMakeCommand' => \Orchestra\Canvas\Console\ControllerMakeCommand::class,
            'Illuminate\Routing\Console\MiddlewareMakeCommand' => \Orchestra\Canvas\Console\MiddlewareMakeCommand::class,
            'Illuminate\Routing\Contracts\CallableDispatcher' => \Illuminate\Routing\CallableDispatcher::class,
            'Illuminate\Routing\Contracts\ControllerDispatcher' => \Illuminate\Routing\ControllerDispatcher::class,
            'Illuminate\Session\Console\SessionTableCommand' => \Orchestra\Canvas\Console\SessionTableCommand::class,
            'Illuminate\Session\Middleware\StartSession' => \Illuminate\Session\Middleware\StartSession::class,
            'Illuminate\Testing\ParallelTesting' => \Illuminate\Testing\ParallelTesting::class,
            'NunoMaduro\Collision\Contracts\Provider' => \NunoMaduro\Collision\Provider::class,
            'Orchestra\Canvas\Console\UserFactoryMakeCommand' => \Orchestra\Canvas\Console\UserFactoryMakeCommand::class,
            'Orchestra\Canvas\Console\UserModelMakeCommand' => \Orchestra\Canvas\Console\UserModelMakeCommand::class,
            'Orchestra\Canvas\Core\PresetManager' => \Orchestra\Canvas\Core\PresetManager::class,
            'Spatie\Activitylog\ActivityLogStatus' => \Spatie\Activitylog\ActivityLogStatus::class,
            'Spatie\Activitylog\ActivityLogger' => \Spatie\Activitylog\ActivityLogger::class,
            'Spatie\Activitylog\CauserResolver' => \Spatie\Activitylog\CauserResolver::class,
            'Spatie\Activitylog\LogBatch' => \Spatie\Activitylog\LogBatch::class,
            'Spatie\FlareClient\Flare' => \Spatie\FlareClient\Flare::class,
            'Spatie\Ignition\Config\IgnitionConfig' => \Spatie\Ignition\Config\IgnitionConfig::class,
            'Spatie\Ignition\Contracts\ConfigManager' => \Spatie\Ignition\Config\FileConfigManager::class,
            'Spatie\Ignition\Contracts\SolutionProviderRepository' => \Spatie\LaravelIgnition\Solutions\SolutionProviders\SolutionProviderRepository::class,
            'Spatie\Ignition\Ignition' => \Spatie\Ignition\Ignition::class,
            'Spatie\LaravelIgnition\Recorders\DumpRecorder\DumpRecorder' => \Spatie\LaravelIgnition\Recorders\DumpRecorder\DumpRecorder::class,
            'Spatie\LaravelIgnition\Recorders\DumpRecorder\MultiDumpHandler' => \Spatie\LaravelIgnition\Recorders\DumpRecorder\MultiDumpHandler::class,
            'Spatie\LaravelIgnition\Recorders\JobRecorder\JobRecorder' => \Spatie\LaravelIgnition\Recorders\JobRecorder\JobRecorder::class,
            'Spatie\LaravelIgnition\Recorders\LogRecorder\LogRecorder' => \Spatie\LaravelIgnition\Recorders\LogRecorder\LogRecorder::class,
            'Spatie\LaravelIgnition\Recorders\QueryRecorder\QueryRecorder' => \Spatie\LaravelIgnition\Recorders\QueryRecorder\QueryRecorder::class,
            'Spatie\LaravelIgnition\Support\SentReports' => \Spatie\LaravelIgnition\Support\SentReports::class,
            'Spatie\MediaLibrary\MediaCollections\Filesystem' => \Spatie\MediaLibrary\MediaCollections\Filesystem::class,
            'Spatie\MediaLibrary\MediaCollections\MediaRepository' => \Spatie\MediaLibrary\MediaCollections\MediaRepository::class,
            'Spatie\MediaLibrary\ResponsiveImages\TinyPlaceholderGenerator\TinyPlaceholderGenerator' => \Spatie\MediaLibrary\ResponsiveImages\TinyPlaceholderGenerator\Blurred::class,
            'Spatie\MediaLibrary\ResponsiveImages\WidthCalculator\WidthCalculator' => \Spatie\MediaLibrary\ResponsiveImages\WidthCalculator\FileSizeOptimizedWidthCalculator::class,
            'Whoops\Handler\HandlerInterface' => \Spatie\LaravelIgnition\Renderers\IgnitionWhoopsHandler::class,
            'auth' => \Illuminate\Auth\AuthManager::class,
            'auth.driver' => \Illuminate\Auth\SessionGuard::class,
            'auth.password' => \Illuminate\Auth\Passwords\PasswordBrokerManager::class,
            'auth.password.broker' => \Illuminate\Auth\Passwords\PasswordBroker::class,
            'blade.compiler' => \Illuminate\View\Compilers\BladeCompiler::class,
            'cache' => \Illuminate\Cache\CacheManager::class,
            'cache.store' => \Illuminate\Cache\Repository::class,
            'command.ide-helper.eloquent' => \Barryvdh\LaravelIdeHelper\Console\EloquentCommand::class,
            'command.ide-helper.generate' => \Barryvdh\LaravelIdeHelper\Console\GeneratorCommand::class,
            'command.ide-helper.meta' => \Barryvdh\LaravelIdeHelper\Console\MetaCommand::class,
            'command.ide-helper.models' => \Barryvdh\LaravelIdeHelper\Console\ModelsCommand::class,
            'command.media-library:clean' => \Spatie\MediaLibrary\MediaCollections\Commands\CleanCommand::class,
            'command.media-library:clear' => \Spatie\MediaLibrary\MediaCollections\Commands\ClearCommand::class,
            'command.media-library:regenerate' => \Spatie\MediaLibrary\Conversions\Commands\RegenerateCommand::class,
            'command.tinker' => \Laravel\Tinker\Console\TinkerCommand::class,
            'composer' => \Illuminate\Support\Composer::class,
            'cookie' => \Illuminate\Cookie\CookieJar::class,
            'db' => \Illuminate\Database\DatabaseManager::class,
            'db.connection' => \Illuminate\Database\MySqlConnection::class,
            'db.factory' => \Illuminate\Database\Connectors\ConnectionFactory::class,
            'db.schema' => \Illuminate\Database\Schema\MySqlBuilder::class,
            'db.transactions' => \Illuminate\Database\DatabaseTransactionsManager::class,
            'encrypter' => \Illuminate\Encryption\Encrypter::class,
            'events' => \Illuminate\Events\Dispatcher::class,
            'files' => \Illuminate\Filesystem\Filesystem::class,
            'filesystem' => \Illuminate\Filesystem\FilesystemManager::class,
            'filesystem.cloud' => \Illuminate\Filesystem\FilesystemAdapter::class,
            'filesystem.disk' => \Illuminate\Filesystem\FilesystemAdapter::class,
            'flare.logger' => \Monolog\Logger::class,
            'hash' => \Illuminate\Hashing\HashManager::class,
            'hash.driver' => \Illuminate\Hashing\BcryptHasher::class,
            'image' => \Intervention\Image\ImageManager::class,
            'log' => \Illuminate\Log\LogManager::class,
            'mail.manager' => \Illuminate\Mail\MailManager::class,
            'mailer' => \Illuminate\Mail\Mailer::class,
            'memcached.connector' => \Illuminate\Cache\MemcachedConnector::class,
            'migration.creator' => \Illuminate\Database\Migrations\MigrationCreator::class,
            'migration.repository' => \Illuminate\Database\Migrations\DatabaseMigrationRepository::class,
            'migrator' => \Illuminate\Database\Migrations\Migrator::class,
            'queue' => \Illuminate\Queue\QueueManager::class,
            'queue.connection' => \Illuminate\Queue\SyncQueue::class,
            'queue.failer' => \Illuminate\Queue\Failed\DatabaseUuidFailedJobProvider::class,
            'queue.listener' => \Illuminate\Queue\Listener::class,
            'queue.worker' => \Illuminate\Queue\Worker::class,
            'recaptcha' => \Biscolab\ReCaptcha\ReCaptchaBuilderV2::class,
            'redirect' => \Illuminate\Routing\Redirector::class,
            'redis' => \Illuminate\Redis\RedisManager::class,
            'router' => \Illuminate\Routing\Router::class,
            'session' => \Illuminate\Session\SessionManager::class,
            'session.store' => \Illuminate\Session\Store::class,
            'translation.loader' => \Illuminate\Translation\FileLoader::class,
            'translator' => \Illuminate\Translation\Translator::class,
            'url' => \Illuminate\Routing\UrlGenerator::class,
            'validation.presence' => \Illuminate\Validation\DatabasePresenceVerifier::class,
            'view' => \Illuminate\View\Factory::class,
            'view.engine.resolver' => \Illuminate\View\Engines\EngineResolver::class,
            'view.finder' => \Illuminate\View\FileViewFinder::class,
        ]));
    override(\App::get(0), map([
        '' => '@',
            'Illuminate\Auth\Console\ClearResetsCommand' => \Illuminate\Auth\Console\ClearResetsCommand::class,
            'Illuminate\Auth\Middleware\RequirePassword' => \Illuminate\Auth\Middleware\RequirePassword::class,
            'Illuminate\Broadcasting\BroadcastManager' => \Illuminate\Broadcasting\BroadcastManager::class,
            'Illuminate\Bus\BatchRepository' => \Illuminate\Bus\DatabaseBatchRepository::class,
            'Illuminate\Bus\DatabaseBatchRepository' => \Illuminate\Bus\DatabaseBatchRepository::class,
            'Illuminate\Bus\Dispatcher' => \Illuminate\Bus\Dispatcher::class,
            'Illuminate\Cache\Console\CacheTableCommand' => \Illuminate\Cache\Console\CacheTableCommand::class,
            'Illuminate\Cache\Console\ClearCommand' => \Illuminate\Cache\Console\ClearCommand::class,
            'Illuminate\Cache\Console\ForgetCommand' => \Illuminate\Cache\Console\ForgetCommand::class,
            'Illuminate\Cache\RateLimiter' => \Illuminate\Cache\RateLimiter::class,
            'Illuminate\Console\Scheduling\Schedule' => \Illuminate\Console\Scheduling\Schedule::class,
            'Illuminate\Console\Scheduling\ScheduleClearCacheCommand' => \Illuminate\Console\Scheduling\ScheduleClearCacheCommand::class,
            'Illuminate\Console\Scheduling\ScheduleFinishCommand' => \Illuminate\Console\Scheduling\ScheduleFinishCommand::class,
            'Illuminate\Console\Scheduling\ScheduleListCommand' => \Illuminate\Console\Scheduling\ScheduleListCommand::class,
            'Illuminate\Console\Scheduling\ScheduleRunCommand' => \Illuminate\Console\Scheduling\ScheduleRunCommand::class,
            'Illuminate\Console\Scheduling\ScheduleTestCommand' => \Illuminate\Console\Scheduling\ScheduleTestCommand::class,
            'Illuminate\Console\Scheduling\ScheduleWorkCommand' => \Illuminate\Console\Scheduling\ScheduleWorkCommand::class,
            'Illuminate\Contracts\Auth\Access\Gate' => \Illuminate\Auth\Access\Gate::class,
            'Illuminate\Contracts\Broadcasting\Broadcaster' => \Illuminate\Broadcasting\Broadcasters\LogBroadcaster::class,
            'Illuminate\Contracts\Console\Kernel' => \App\Console\Kernel::class,
            'Illuminate\Contracts\Debug\ExceptionHandler' => \NunoMaduro\Collision\Adapters\Laravel\ExceptionHandler::class,
            'Illuminate\Contracts\Foundation\ExceptionRenderer' => \Spatie\LaravelIgnition\Renderers\IgnitionExceptionRenderer::class,
            'Illuminate\Contracts\Foundation\MaintenanceMode' => \Illuminate\Foundation\FileBasedMaintenanceMode::class,
            'Illuminate\Contracts\Http\Kernel' => \App\Http\Kernel::class,
            'Illuminate\Contracts\Pipeline\Hub' => \Illuminate\Pipeline\Hub::class,
            'Illuminate\Contracts\Queue\EntityResolver' => \Illuminate\Database\Eloquent\QueueEntityResolver::class,
            'Illuminate\Contracts\Routing\ResponseFactory' => \Illuminate\Routing\ResponseFactory::class,
            'Illuminate\Contracts\Validation\UncompromisedVerifier' => \Illuminate\Validation\NotPwnedVerifier::class,
            'Illuminate\Database\Console\DbCommand' => \Illuminate\Database\Console\DbCommand::class,
            'Illuminate\Database\Console\DumpCommand' => \Illuminate\Database\Console\DumpCommand::class,
            'Illuminate\Database\Console\Factories\FactoryMakeCommand' => \Orchestra\Canvas\Console\FactoryMakeCommand::class,
            'Illuminate\Database\Console\Migrations\FreshCommand' => \Illuminate\Database\Console\Migrations\FreshCommand::class,
            'Illuminate\Database\Console\Migrations\InstallCommand' => \Illuminate\Database\Console\Migrations\InstallCommand::class,
            'Illuminate\Database\Console\Migrations\MigrateCommand' => \Illuminate\Database\Console\Migrations\MigrateCommand::class,
            'Illuminate\Database\Console\Migrations\MigrateMakeCommand' => \Orchestra\Canvas\Console\MigrateMakeCommand::class,
            'Illuminate\Database\Console\Migrations\RefreshCommand' => \Illuminate\Database\Console\Migrations\RefreshCommand::class,
            'Illuminate\Database\Console\Migrations\ResetCommand' => \Illuminate\Database\Console\Migrations\ResetCommand::class,
            'Illuminate\Database\Console\Migrations\RollbackCommand' => \Illuminate\Database\Console\Migrations\RollbackCommand::class,
            'Illuminate\Database\Console\Migrations\StatusCommand' => \Illuminate\Database\Console\Migrations\StatusCommand::class,
            'Illuminate\Database\Console\MonitorCommand' => \Illuminate\Database\Console\MonitorCommand::class,
            'Illuminate\Database\Console\PruneCommand' => \Illuminate\Database\Console\PruneCommand::class,
            'Illuminate\Database\Console\Seeds\SeedCommand' => \Illuminate\Database\Console\Seeds\SeedCommand::class,
            'Illuminate\Database\Console\Seeds\SeederMakeCommand' => \Orchestra\Canvas\Console\SeederMakeCommand::class,
            'Illuminate\Database\Console\ShowCommand' => \Illuminate\Database\Console\ShowCommand::class,
            'Illuminate\Database\Console\TableCommand' => \Illuminate\Database\Console\TableCommand::class,
            'Illuminate\Database\Console\WipeCommand' => \Illuminate\Database\Console\WipeCommand::class,
            'Illuminate\Foundation\Console\AboutCommand' => \Illuminate\Foundation\Console\AboutCommand::class,
            'Illuminate\Foundation\Console\CastMakeCommand' => \Orchestra\Canvas\Console\CastMakeCommand::class,
            'Illuminate\Foundation\Console\ChannelMakeCommand' => \Orchestra\Canvas\Console\ChannelMakeCommand::class,
            'Illuminate\Foundation\Console\ClearCompiledCommand' => \Illuminate\Foundation\Console\ClearCompiledCommand::class,
            'Illuminate\Foundation\Console\ComponentMakeCommand' => \Orchestra\Canvas\Console\ComponentMakeCommand::class,
            'Illuminate\Foundation\Console\ConfigCacheCommand' => \Illuminate\Foundation\Console\ConfigCacheCommand::class,
            'Illuminate\Foundation\Console\ConfigClearCommand' => \Illuminate\Foundation\Console\ConfigClearCommand::class,
            'Illuminate\Foundation\Console\ConsoleMakeCommand' => \Orchestra\Canvas\Console\ConsoleMakeCommand::class,
            'Illuminate\Foundation\Console\DocsCommand' => \Illuminate\Foundation\Console\DocsCommand::class,
            'Illuminate\Foundation\Console\DownCommand' => \Illuminate\Foundation\Console\DownCommand::class,
            'Illuminate\Foundation\Console\EnvironmentCommand' => \Illuminate\Foundation\Console\EnvironmentCommand::class,
            'Illuminate\Foundation\Console\EnvironmentDecryptCommand' => \Illuminate\Foundation\Console\EnvironmentDecryptCommand::class,
            'Illuminate\Foundation\Console\EnvironmentEncryptCommand' => \Illuminate\Foundation\Console\EnvironmentEncryptCommand::class,
            'Illuminate\Foundation\Console\EventCacheCommand' => \Illuminate\Foundation\Console\EventCacheCommand::class,
            'Illuminate\Foundation\Console\EventClearCommand' => \Illuminate\Foundation\Console\EventClearCommand::class,
            'Illuminate\Foundation\Console\EventGenerateCommand' => \Illuminate\Foundation\Console\EventGenerateCommand::class,
            'Illuminate\Foundation\Console\EventListCommand' => \Illuminate\Foundation\Console\EventListCommand::class,
            'Illuminate\Foundation\Console\EventMakeCommand' => \Orchestra\Canvas\Console\EventMakeCommand::class,
            'Illuminate\Foundation\Console\ExceptionMakeCommand' => \Orchestra\Canvas\Console\ExceptionMakeCommand::class,
            'Illuminate\Foundation\Console\JobMakeCommand' => \Orchestra\Canvas\Console\JobMakeCommand::class,
            'Illuminate\Foundation\Console\KeyGenerateCommand' => \Illuminate\Foundation\Console\KeyGenerateCommand::class,
            'Illuminate\Foundation\Console\ListenerMakeCommand' => \Orchestra\Canvas\Console\ListenerMakeCommand::class,
            'Illuminate\Foundation\Console\MailMakeCommand' => \Orchestra\Canvas\Console\MailMakeCommand::class,
            'Illuminate\Foundation\Console\ModelMakeCommand' => \Orchestra\Canvas\Console\ModelMakeCommand::class,
            'Illuminate\Foundation\Console\NotificationMakeCommand' => \Orchestra\Canvas\Console\NotificationMakeCommand::class,
            'Illuminate\Foundation\Console\ObserverMakeCommand' => \Orchestra\Canvas\Console\ObserverMakeCommand::class,
            'Illuminate\Foundation\Console\OptimizeClearCommand' => \Illuminate\Foundation\Console\OptimizeClearCommand::class,
            'Illuminate\Foundation\Console\OptimizeCommand' => \Illuminate\Foundation\Console\OptimizeCommand::class,
            'Illuminate\Foundation\Console\PackageDiscoverCommand' => \Illuminate\Foundation\Console\PackageDiscoverCommand::class,
            'Illuminate\Foundation\Console\PolicyMakeCommand' => \Orchestra\Canvas\Console\PolicyMakeCommand::class,
            'Illuminate\Foundation\Console\ProviderMakeCommand' => \Orchestra\Canvas\Console\ProviderMakeCommand::class,
            'Illuminate\Foundation\Console\RequestMakeCommand' => \Orchestra\Canvas\Console\RequestMakeCommand::class,
            'Illuminate\Foundation\Console\ResourceMakeCommand' => \Orchestra\Canvas\Console\ResourceMakeCommand::class,
            'Illuminate\Foundation\Console\RouteCacheCommand' => \Illuminate\Foundation\Console\RouteCacheCommand::class,
            'Illuminate\Foundation\Console\RouteClearCommand' => \Illuminate\Foundation\Console\RouteClearCommand::class,
            'Illuminate\Foundation\Console\RouteListCommand' => \Illuminate\Foundation\Console\RouteListCommand::class,
            'Illuminate\Foundation\Console\RuleMakeCommand' => \Orchestra\Canvas\Console\RuleMakeCommand::class,
            'Illuminate\Foundation\Console\ScopeMakeCommand' => \Orchestra\Canvas\Console\ScopeMakeCommand::class,
            'Illuminate\Foundation\Console\ServeCommand' => \Illuminate\Foundation\Console\ServeCommand::class,
            'Illuminate\Foundation\Console\ShowModelCommand' => \Illuminate\Foundation\Console\ShowModelCommand::class,
            'Illuminate\Foundation\Console\StorageLinkCommand' => \Illuminate\Foundation\Console\StorageLinkCommand::class,
            'Illuminate\Foundation\Console\StubPublishCommand' => \Illuminate\Foundation\Console\StubPublishCommand::class,
            'Illuminate\Foundation\Console\TestMakeCommand' => \Orchestra\Canvas\Console\TestMakeCommand::class,
            'Illuminate\Foundation\Console\UpCommand' => \Illuminate\Foundation\Console\UpCommand::class,
            'Illuminate\Foundation\Console\VendorPublishCommand' => \Illuminate\Foundation\Console\VendorPublishCommand::class,
            'Illuminate\Foundation\Console\ViewCacheCommand' => \Illuminate\Foundation\Console\ViewCacheCommand::class,
            'Illuminate\Foundation\Console\ViewClearCommand' => \Illuminate\Foundation\Console\ViewClearCommand::class,
            'Illuminate\Foundation\MaintenanceModeManager' => \Illuminate\Foundation\MaintenanceModeManager::class,
            'Illuminate\Foundation\Mix' => \Illuminate\Foundation\Mix::class,
            'Illuminate\Foundation\PackageManifest' => \Illuminate\Foundation\PackageManifest::class,
            'Illuminate\Foundation\Vite' => \Illuminate\Foundation\Vite::class,
            'Illuminate\Mail\Markdown' => \Illuminate\Mail\Markdown::class,
            'Illuminate\Notifications\ChannelManager' => \Illuminate\Notifications\ChannelManager::class,
            'Illuminate\Notifications\Console\NotificationTableCommand' => \Orchestra\Canvas\Console\NotificationTableCommand::class,
            'Illuminate\Queue\Console\BatchesTableCommand' => \Orchestra\Canvas\Console\BatchesTableCommand::class,
            'Illuminate\Queue\Console\ClearCommand' => \Illuminate\Queue\Console\ClearCommand::class,
            'Illuminate\Queue\Console\FailedTableCommand' => \Orchestra\Canvas\Console\FailedTableCommand::class,
            'Illuminate\Queue\Console\FlushFailedCommand' => \Illuminate\Queue\Console\FlushFailedCommand::class,
            'Illuminate\Queue\Console\ForgetFailedCommand' => \Illuminate\Queue\Console\ForgetFailedCommand::class,
            'Illuminate\Queue\Console\ListFailedCommand' => \Illuminate\Queue\Console\ListFailedCommand::class,
            'Illuminate\Queue\Console\ListenCommand' => \Illuminate\Queue\Console\ListenCommand::class,
            'Illuminate\Queue\Console\MonitorCommand' => \Illuminate\Queue\Console\MonitorCommand::class,
            'Illuminate\Queue\Console\PruneBatchesCommand' => \Illuminate\Queue\Console\PruneBatchesCommand::class,
            'Illuminate\Queue\Console\PruneFailedJobsCommand' => \Illuminate\Queue\Console\PruneFailedJobsCommand::class,
            'Illuminate\Queue\Console\RestartCommand' => \Illuminate\Queue\Console\RestartCommand::class,
            'Illuminate\Queue\Console\RetryBatchCommand' => \Illuminate\Queue\Console\RetryBatchCommand::class,
            'Illuminate\Queue\Console\RetryCommand' => \Illuminate\Queue\Console\RetryCommand::class,
            'Illuminate\Queue\Console\TableCommand' => \Orchestra\Canvas\Console\QueueTableCommand::class,
            'Illuminate\Queue\Console\WorkCommand' => \Illuminate\Queue\Console\WorkCommand::class,
            'Illuminate\Routing\Console\ControllerMakeCommand' => \Orchestra\Canvas\Console\ControllerMakeCommand::class,
            'Illuminate\Routing\Console\MiddlewareMakeCommand' => \Orchestra\Canvas\Console\MiddlewareMakeCommand::class,
            'Illuminate\Routing\Contracts\CallableDispatcher' => \Illuminate\Routing\CallableDispatcher::class,
            'Illuminate\Routing\Contracts\ControllerDispatcher' => \Illuminate\Routing\ControllerDispatcher::class,
            'Illuminate\Session\Console\SessionTableCommand' => \Orchestra\Canvas\Console\SessionTableCommand::class,
            'Illuminate\Session\Middleware\StartSession' => \Illuminate\Session\Middleware\StartSession::class,
            'Illuminate\Testing\ParallelTesting' => \Illuminate\Testing\ParallelTesting::class,
            'NunoMaduro\Collision\Contracts\Provider' => \NunoMaduro\Collision\Provider::class,
            'Orchestra\Canvas\Console\UserFactoryMakeCommand' => \Orchestra\Canvas\Console\UserFactoryMakeCommand::class,
            'Orchestra\Canvas\Console\UserModelMakeCommand' => \Orchestra\Canvas\Console\UserModelMakeCommand::class,
            'Orchestra\Canvas\Core\PresetManager' => \Orchestra\Canvas\Core\PresetManager::class,
            'Spatie\Activitylog\ActivityLogStatus' => \Spatie\Activitylog\ActivityLogStatus::class,
            'Spatie\Activitylog\ActivityLogger' => \Spatie\Activitylog\ActivityLogger::class,
            'Spatie\Activitylog\CauserResolver' => \Spatie\Activitylog\CauserResolver::class,
            'Spatie\Activitylog\LogBatch' => \Spatie\Activitylog\LogBatch::class,
            'Spatie\FlareClient\Flare' => \Spatie\FlareClient\Flare::class,
            'Spatie\Ignition\Config\IgnitionConfig' => \Spatie\Ignition\Config\IgnitionConfig::class,
            'Spatie\Ignition\Contracts\ConfigManager' => \Spatie\Ignition\Config\FileConfigManager::class,
            'Spatie\Ignition\Contracts\SolutionProviderRepository' => \Spatie\LaravelIgnition\Solutions\SolutionProviders\SolutionProviderRepository::class,
            'Spatie\Ignition\Ignition' => \Spatie\Ignition\Ignition::class,
            'Spatie\LaravelIgnition\Recorders\DumpRecorder\DumpRecorder' => \Spatie\LaravelIgnition\Recorders\DumpRecorder\DumpRecorder::class,
            'Spatie\LaravelIgnition\Recorders\DumpRecorder\MultiDumpHandler' => \Spatie\LaravelIgnition\Recorders\DumpRecorder\MultiDumpHandler::class,
            'Spatie\LaravelIgnition\Recorders\JobRecorder\JobRecorder' => \Spatie\LaravelIgnition\Recorders\JobRecorder\JobRecorder::class,
            'Spatie\LaravelIgnition\Recorders\LogRecorder\LogRecorder' => \Spatie\LaravelIgnition\Recorders\LogRecorder\LogRecorder::class,
            'Spatie\LaravelIgnition\Recorders\QueryRecorder\QueryRecorder' => \Spatie\LaravelIgnition\Recorders\QueryRecorder\QueryRecorder::class,
            'Spatie\LaravelIgnition\Support\SentReports' => \Spatie\LaravelIgnition\Support\SentReports::class,
            'Spatie\MediaLibrary\MediaCollections\Filesystem' => \Spatie\MediaLibrary\MediaCollections\Filesystem::class,
            'Spatie\MediaLibrary\MediaCollections\MediaRepository' => \Spatie\MediaLibrary\MediaCollections\MediaRepository::class,
            'Spatie\MediaLibrary\ResponsiveImages\TinyPlaceholderGenerator\TinyPlaceholderGenerator' => \Spatie\MediaLibrary\ResponsiveImages\TinyPlaceholderGenerator\Blurred::class,
            'Spatie\MediaLibrary\ResponsiveImages\WidthCalculator\WidthCalculator' => \Spatie\MediaLibrary\ResponsiveImages\WidthCalculator\FileSizeOptimizedWidthCalculator::class,
            'Whoops\Handler\HandlerInterface' => \Spatie\LaravelIgnition\Renderers\IgnitionWhoopsHandler::class,
            'auth' => \Illuminate\Auth\AuthManager::class,
            'auth.driver' => \Illuminate\Auth\SessionGuard::class,
            'auth.password' => \Illuminate\Auth\Passwords\PasswordBrokerManager::class,
            'auth.password.broker' => \Illuminate\Auth\Passwords\PasswordBroker::class,
            'blade.compiler' => \Illuminate\View\Compilers\BladeCompiler::class,
            'cache' => \Illuminate\Cache\CacheManager::class,
            'cache.store' => \Illuminate\Cache\Repository::class,
            'command.ide-helper.eloquent' => \Barryvdh\LaravelIdeHelper\Console\EloquentCommand::class,
            'command.ide-helper.generate' => \Barryvdh\LaravelIdeHelper\Console\GeneratorCommand::class,
            'command.ide-helper.meta' => \Barryvdh\LaravelIdeHelper\Console\MetaCommand::class,
            'command.ide-helper.models' => \Barryvdh\LaravelIdeHelper\Console\ModelsCommand::class,
            'command.media-library:clean' => \Spatie\MediaLibrary\MediaCollections\Commands\CleanCommand::class,
            'command.media-library:clear' => \Spatie\MediaLibrary\MediaCollections\Commands\ClearCommand::class,
            'command.media-library:regenerate' => \Spatie\MediaLibrary\Conversions\Commands\RegenerateCommand::class,
            'command.tinker' => \Laravel\Tinker\Console\TinkerCommand::class,
            'composer' => \Illuminate\Support\Composer::class,
            'cookie' => \Illuminate\Cookie\CookieJar::class,
            'db' => \Illuminate\Database\DatabaseManager::class,
            'db.connection' => \Illuminate\Database\MySqlConnection::class,
            'db.factory' => \Illuminate\Database\Connectors\ConnectionFactory::class,
            'db.schema' => \Illuminate\Database\Schema\MySqlBuilder::class,
            'db.transactions' => \Illuminate\Database\DatabaseTransactionsManager::class,
            'encrypter' => \Illuminate\Encryption\Encrypter::class,
            'events' => \Illuminate\Events\Dispatcher::class,
            'files' => \Illuminate\Filesystem\Filesystem::class,
            'filesystem' => \Illuminate\Filesystem\FilesystemManager::class,
            'filesystem.cloud' => \Illuminate\Filesystem\FilesystemAdapter::class,
            'filesystem.disk' => \Illuminate\Filesystem\FilesystemAdapter::class,
            'flare.logger' => \Monolog\Logger::class,
            'hash' => \Illuminate\Hashing\HashManager::class,
            'hash.driver' => \Illuminate\Hashing\BcryptHasher::class,
            'image' => \Intervention\Image\ImageManager::class,
            'log' => \Illuminate\Log\LogManager::class,
            'mail.manager' => \Illuminate\Mail\MailManager::class,
            'mailer' => \Illuminate\Mail\Mailer::class,
            'memcached.connector' => \Illuminate\Cache\MemcachedConnector::class,
            'migration.creator' => \Illuminate\Database\Migrations\MigrationCreator::class,
            'migration.repository' => \Illuminate\Database\Migrations\DatabaseMigrationRepository::class,
            'migrator' => \Illuminate\Database\Migrations\Migrator::class,
            'queue' => \Illuminate\Queue\QueueManager::class,
            'queue.connection' => \Illuminate\Queue\SyncQueue::class,
            'queue.failer' => \Illuminate\Queue\Failed\DatabaseUuidFailedJobProvider::class,
            'queue.listener' => \Illuminate\Queue\Listener::class,
            'queue.worker' => \Illuminate\Queue\Worker::class,
            'recaptcha' => \Biscolab\ReCaptcha\ReCaptchaBuilderV2::class,
            'redirect' => \Illuminate\Routing\Redirector::class,
            'redis' => \Illuminate\Redis\RedisManager::class,
            'router' => \Illuminate\Routing\Router::class,
            'session' => \Illuminate\Session\SessionManager::class,
            'session.store' => \Illuminate\Session\Store::class,
            'translation.loader' => \Illuminate\Translation\FileLoader::class,
            'translator' => \Illuminate\Translation\Translator::class,
            'url' => \Illuminate\Routing\UrlGenerator::class,
            'validation.presence' => \Illuminate\Validation\DatabasePresenceVerifier::class,
            'view' => \Illuminate\View\Factory::class,
            'view.engine.resolver' => \Illuminate\View\Engines\EngineResolver::class,
            'view.finder' => \Illuminate\View\FileViewFinder::class,
        ]));
    override(\App::make(0), map([
        '' => '@',
            'Illuminate\Auth\Console\ClearResetsCommand' => \Illuminate\Auth\Console\ClearResetsCommand::class,
            'Illuminate\Auth\Middleware\RequirePassword' => \Illuminate\Auth\Middleware\RequirePassword::class,
            'Illuminate\Broadcasting\BroadcastManager' => \Illuminate\Broadcasting\BroadcastManager::class,
            'Illuminate\Bus\BatchRepository' => \Illuminate\Bus\DatabaseBatchRepository::class,
            'Illuminate\Bus\DatabaseBatchRepository' => \Illuminate\Bus\DatabaseBatchRepository::class,
            'Illuminate\Bus\Dispatcher' => \Illuminate\Bus\Dispatcher::class,
            'Illuminate\Cache\Console\CacheTableCommand' => \Illuminate\Cache\Console\CacheTableCommand::class,
            'Illuminate\Cache\Console\ClearCommand' => \Illuminate\Cache\Console\ClearCommand::class,
            'Illuminate\Cache\Console\ForgetCommand' => \Illuminate\Cache\Console\ForgetCommand::class,
            'Illuminate\Cache\RateLimiter' => \Illuminate\Cache\RateLimiter::class,
            'Illuminate\Console\Scheduling\Schedule' => \Illuminate\Console\Scheduling\Schedule::class,
            'Illuminate\Console\Scheduling\ScheduleClearCacheCommand' => \Illuminate\Console\Scheduling\ScheduleClearCacheCommand::class,
            'Illuminate\Console\Scheduling\ScheduleFinishCommand' => \Illuminate\Console\Scheduling\ScheduleFinishCommand::class,
            'Illuminate\Console\Scheduling\ScheduleListCommand' => \Illuminate\Console\Scheduling\ScheduleListCommand::class,
            'Illuminate\Console\Scheduling\ScheduleRunCommand' => \Illuminate\Console\Scheduling\ScheduleRunCommand::class,
            'Illuminate\Console\Scheduling\ScheduleTestCommand' => \Illuminate\Console\Scheduling\ScheduleTestCommand::class,
            'Illuminate\Console\Scheduling\ScheduleWorkCommand' => \Illuminate\Console\Scheduling\ScheduleWorkCommand::class,
            'Illuminate\Contracts\Auth\Access\Gate' => \Illuminate\Auth\Access\Gate::class,
            'Illuminate\Contracts\Broadcasting\Broadcaster' => \Illuminate\Broadcasting\Broadcasters\LogBroadcaster::class,
            'Illuminate\Contracts\Console\Kernel' => \App\Console\Kernel::class,
            'Illuminate\Contracts\Debug\ExceptionHandler' => \NunoMaduro\Collision\Adapters\Laravel\ExceptionHandler::class,
            'Illuminate\Contracts\Foundation\ExceptionRenderer' => \Spatie\LaravelIgnition\Renderers\IgnitionExceptionRenderer::class,
            'Illuminate\Contracts\Foundation\MaintenanceMode' => \Illuminate\Foundation\FileBasedMaintenanceMode::class,
            'Illuminate\Contracts\Http\Kernel' => \App\Http\Kernel::class,
            'Illuminate\Contracts\Pipeline\Hub' => \Illuminate\Pipeline\Hub::class,
            'Illuminate\Contracts\Queue\EntityResolver' => \Illuminate\Database\Eloquent\QueueEntityResolver::class,
            'Illuminate\Contracts\Routing\ResponseFactory' => \Illuminate\Routing\ResponseFactory::class,
            'Illuminate\Contracts\Validation\UncompromisedVerifier' => \Illuminate\Validation\NotPwnedVerifier::class,
            'Illuminate\Database\Console\DbCommand' => \Illuminate\Database\Console\DbCommand::class,
            'Illuminate\Database\Console\DumpCommand' => \Illuminate\Database\Console\DumpCommand::class,
            'Illuminate\Database\Console\Factories\FactoryMakeCommand' => \Orchestra\Canvas\Console\FactoryMakeCommand::class,
            'Illuminate\Database\Console\Migrations\FreshCommand' => \Illuminate\Database\Console\Migrations\FreshCommand::class,
            'Illuminate\Database\Console\Migrations\InstallCommand' => \Illuminate\Database\Console\Migrations\InstallCommand::class,
            'Illuminate\Database\Console\Migrations\MigrateCommand' => \Illuminate\Database\Console\Migrations\MigrateCommand::class,
            'Illuminate\Database\Console\Migrations\MigrateMakeCommand' => \Orchestra\Canvas\Console\MigrateMakeCommand::class,
            'Illuminate\Database\Console\Migrations\RefreshCommand' => \Illuminate\Database\Console\Migrations\RefreshCommand::class,
            'Illuminate\Database\Console\Migrations\ResetCommand' => \Illuminate\Database\Console\Migrations\ResetCommand::class,
            'Illuminate\Database\Console\Migrations\RollbackCommand' => \Illuminate\Database\Console\Migrations\RollbackCommand::class,
            'Illuminate\Database\Console\Migrations\StatusCommand' => \Illuminate\Database\Console\Migrations\StatusCommand::class,
            'Illuminate\Database\Console\MonitorCommand' => \Illuminate\Database\Console\MonitorCommand::class,
            'Illuminate\Database\Console\PruneCommand' => \Illuminate\Database\Console\PruneCommand::class,
            'Illuminate\Database\Console\Seeds\SeedCommand' => \Illuminate\Database\Console\Seeds\SeedCommand::class,
            'Illuminate\Database\Console\Seeds\SeederMakeCommand' => \Orchestra\Canvas\Console\SeederMakeCommand::class,
            'Illuminate\Database\Console\ShowCommand' => \Illuminate\Database\Console\ShowCommand::class,
            'Illuminate\Database\Console\TableCommand' => \Illuminate\Database\Console\TableCommand::class,
            'Illuminate\Database\Console\WipeCommand' => \Illuminate\Database\Console\WipeCommand::class,
            'Illuminate\Foundation\Console\AboutCommand' => \Illuminate\Foundation\Console\AboutCommand::class,
            'Illuminate\Foundation\Console\CastMakeCommand' => \Orchestra\Canvas\Console\CastMakeCommand::class,
            'Illuminate\Foundation\Console\ChannelMakeCommand' => \Orchestra\Canvas\Console\ChannelMakeCommand::class,
            'Illuminate\Foundation\Console\ClearCompiledCommand' => \Illuminate\Foundation\Console\ClearCompiledCommand::class,
            'Illuminate\Foundation\Console\ComponentMakeCommand' => \Orchestra\Canvas\Console\ComponentMakeCommand::class,
            'Illuminate\Foundation\Console\ConfigCacheCommand' => \Illuminate\Foundation\Console\ConfigCacheCommand::class,
            'Illuminate\Foundation\Console\ConfigClearCommand' => \Illuminate\Foundation\Console\ConfigClearCommand::class,
            'Illuminate\Foundation\Console\ConsoleMakeCommand' => \Orchestra\Canvas\Console\ConsoleMakeCommand::class,
            'Illuminate\Foundation\Console\DocsCommand' => \Illuminate\Foundation\Console\DocsCommand::class,
            'Illuminate\Foundation\Console\DownCommand' => \Illuminate\Foundation\Console\DownCommand::class,
            'Illuminate\Foundation\Console\EnvironmentCommand' => \Illuminate\Foundation\Console\EnvironmentCommand::class,
            'Illuminate\Foundation\Console\EnvironmentDecryptCommand' => \Illuminate\Foundation\Console\EnvironmentDecryptCommand::class,
            'Illuminate\Foundation\Console\EnvironmentEncryptCommand' => \Illuminate\Foundation\Console\EnvironmentEncryptCommand::class,
            'Illuminate\Foundation\Console\EventCacheCommand' => \Illuminate\Foundation\Console\EventCacheCommand::class,
            'Illuminate\Foundation\Console\EventClearCommand' => \Illuminate\Foundation\Console\EventClearCommand::class,
            'Illuminate\Foundation\Console\EventGenerateCommand' => \Illuminate\Foundation\Console\EventGenerateCommand::class,
            'Illuminate\Foundation\Console\EventListCommand' => \Illuminate\Foundation\Console\EventListCommand::class,
            'Illuminate\Foundation\Console\EventMakeCommand' => \Orchestra\Canvas\Console\EventMakeCommand::class,
            'Illuminate\Foundation\Console\ExceptionMakeCommand' => \Orchestra\Canvas\Console\ExceptionMakeCommand::class,
            'Illuminate\Foundation\Console\JobMakeCommand' => \Orchestra\Canvas\Console\JobMakeCommand::class,
            'Illuminate\Foundation\Console\KeyGenerateCommand' => \Illuminate\Foundation\Console\KeyGenerateCommand::class,
            'Illuminate\Foundation\Console\ListenerMakeCommand' => \Orchestra\Canvas\Console\ListenerMakeCommand::class,
            'Illuminate\Foundation\Console\MailMakeCommand' => \Orchestra\Canvas\Console\MailMakeCommand::class,
            'Illuminate\Foundation\Console\ModelMakeCommand' => \Orchestra\Canvas\Console\ModelMakeCommand::class,
            'Illuminate\Foundation\Console\NotificationMakeCommand' => \Orchestra\Canvas\Console\NotificationMakeCommand::class,
            'Illuminate\Foundation\Console\ObserverMakeCommand' => \Orchestra\Canvas\Console\ObserverMakeCommand::class,
            'Illuminate\Foundation\Console\OptimizeClearCommand' => \Illuminate\Foundation\Console\OptimizeClearCommand::class,
            'Illuminate\Foundation\Console\OptimizeCommand' => \Illuminate\Foundation\Console\OptimizeCommand::class,
            'Illuminate\Foundation\Console\PackageDiscoverCommand' => \Illuminate\Foundation\Console\PackageDiscoverCommand::class,
            'Illuminate\Foundation\Console\PolicyMakeCommand' => \Orchestra\Canvas\Console\PolicyMakeCommand::class,
            'Illuminate\Foundation\Console\ProviderMakeCommand' => \Orchestra\Canvas\Console\ProviderMakeCommand::class,
            'Illuminate\Foundation\Console\RequestMakeCommand' => \Orchestra\Canvas\Console\RequestMakeCommand::class,
            'Illuminate\Foundation\Console\ResourceMakeCommand' => \Orchestra\Canvas\Console\ResourceMakeCommand::class,
            'Illuminate\Foundation\Console\RouteCacheCommand' => \Illuminate\Foundation\Console\RouteCacheCommand::class,
            'Illuminate\Foundation\Console\RouteClearCommand' => \Illuminate\Foundation\Console\RouteClearCommand::class,
            'Illuminate\Foundation\Console\RouteListCommand' => \Illuminate\Foundation\Console\RouteListCommand::class,
            'Illuminate\Foundation\Console\RuleMakeCommand' => \Orchestra\Canvas\Console\RuleMakeCommand::class,
            'Illuminate\Foundation\Console\ScopeMakeCommand' => \Orchestra\Canvas\Console\ScopeMakeCommand::class,
            'Illuminate\Foundation\Console\ServeCommand' => \Illuminate\Foundation\Console\ServeCommand::class,
            'Illuminate\Foundation\Console\ShowModelCommand' => \Illuminate\Foundation\Console\ShowModelCommand::class,
            'Illuminate\Foundation\Console\StorageLinkCommand' => \Illuminate\Foundation\Console\StorageLinkCommand::class,
            'Illuminate\Foundation\Console\StubPublishCommand' => \Illuminate\Foundation\Console\StubPublishCommand::class,
            'Illuminate\Foundation\Console\TestMakeCommand' => \Orchestra\Canvas\Console\TestMakeCommand::class,
            'Illuminate\Foundation\Console\UpCommand' => \Illuminate\Foundation\Console\UpCommand::class,
            'Illuminate\Foundation\Console\VendorPublishCommand' => \Illuminate\Foundation\Console\VendorPublishCommand::class,
            'Illuminate\Foundation\Console\ViewCacheCommand' => \Illuminate\Foundation\Console\ViewCacheCommand::class,
            'Illuminate\Foundation\Console\ViewClearCommand' => \Illuminate\Foundation\Console\ViewClearCommand::class,
            'Illuminate\Foundation\MaintenanceModeManager' => \Illuminate\Foundation\MaintenanceModeManager::class,
            'Illuminate\Foundation\Mix' => \Illuminate\Foundation\Mix::class,
            'Illuminate\Foundation\PackageManifest' => \Illuminate\Foundation\PackageManifest::class,
            'Illuminate\Foundation\Vite' => \Illuminate\Foundation\Vite::class,
            'Illuminate\Mail\Markdown' => \Illuminate\Mail\Markdown::class,
            'Illuminate\Notifications\ChannelManager' => \Illuminate\Notifications\ChannelManager::class,
            'Illuminate\Notifications\Console\NotificationTableCommand' => \Orchestra\Canvas\Console\NotificationTableCommand::class,
            'Illuminate\Queue\Console\BatchesTableCommand' => \Orchestra\Canvas\Console\BatchesTableCommand::class,
            'Illuminate\Queue\Console\ClearCommand' => \Illuminate\Queue\Console\ClearCommand::class,
            'Illuminate\Queue\Console\FailedTableCommand' => \Orchestra\Canvas\Console\FailedTableCommand::class,
            'Illuminate\Queue\Console\FlushFailedCommand' => \Illuminate\Queue\Console\FlushFailedCommand::class,
            'Illuminate\Queue\Console\ForgetFailedCommand' => \Illuminate\Queue\Console\ForgetFailedCommand::class,
            'Illuminate\Queue\Console\ListFailedCommand' => \Illuminate\Queue\Console\ListFailedCommand::class,
            'Illuminate\Queue\Console\ListenCommand' => \Illuminate\Queue\Console\ListenCommand::class,
            'Illuminate\Queue\Console\MonitorCommand' => \Illuminate\Queue\Console\MonitorCommand::class,
            'Illuminate\Queue\Console\PruneBatchesCommand' => \Illuminate\Queue\Console\PruneBatchesCommand::class,
            'Illuminate\Queue\Console\PruneFailedJobsCommand' => \Illuminate\Queue\Console\PruneFailedJobsCommand::class,
            'Illuminate\Queue\Console\RestartCommand' => \Illuminate\Queue\Console\RestartCommand::class,
            'Illuminate\Queue\Console\RetryBatchCommand' => \Illuminate\Queue\Console\RetryBatchCommand::class,
            'Illuminate\Queue\Console\RetryCommand' => \Illuminate\Queue\Console\RetryCommand::class,
            'Illuminate\Queue\Console\TableCommand' => \Orchestra\Canvas\Console\QueueTableCommand::class,
            'Illuminate\Queue\Console\WorkCommand' => \Illuminate\Queue\Console\WorkCommand::class,
            'Illuminate\Routing\Console\ControllerMakeCommand' => \Orchestra\Canvas\Console\ControllerMakeCommand::class,
            'Illuminate\Routing\Console\MiddlewareMakeCommand' => \Orchestra\Canvas\Console\MiddlewareMakeCommand::class,
            'Illuminate\Routing\Contracts\CallableDispatcher' => \Illuminate\Routing\CallableDispatcher::class,
            'Illuminate\Routing\Contracts\ControllerDispatcher' => \Illuminate\Routing\ControllerDispatcher::class,
            'Illuminate\Session\Console\SessionTableCommand' => \Orchestra\Canvas\Console\SessionTableCommand::class,
            'Illuminate\Session\Middleware\StartSession' => \Illuminate\Session\Middleware\StartSession::class,
            'Illuminate\Testing\ParallelTesting' => \Illuminate\Testing\ParallelTesting::class,
            'NunoMaduro\Collision\Contracts\Provider' => \NunoMaduro\Collision\Provider::class,
            'Orchestra\Canvas\Console\UserFactoryMakeCommand' => \Orchestra\Canvas\Console\UserFactoryMakeCommand::class,
            'Orchestra\Canvas\Console\UserModelMakeCommand' => \Orchestra\Canvas\Console\UserModelMakeCommand::class,
            'Orchestra\Canvas\Core\PresetManager' => \Orchestra\Canvas\Core\PresetManager::class,
            'Spatie\Activitylog\ActivityLogStatus' => \Spatie\Activitylog\ActivityLogStatus::class,
            'Spatie\Activitylog\ActivityLogger' => \Spatie\Activitylog\ActivityLogger::class,
            'Spatie\Activitylog\CauserResolver' => \Spatie\Activitylog\CauserResolver::class,
            'Spatie\Activitylog\LogBatch' => \Spatie\Activitylog\LogBatch::class,
            'Spatie\FlareClient\Flare' => \Spatie\FlareClient\Flare::class,
            'Spatie\Ignition\Config\IgnitionConfig' => \Spatie\Ignition\Config\IgnitionConfig::class,
            'Spatie\Ignition\Contracts\ConfigManager' => \Spatie\Ignition\Config\FileConfigManager::class,
            'Spatie\Ignition\Contracts\SolutionProviderRepository' => \Spatie\LaravelIgnition\Solutions\SolutionProviders\SolutionProviderRepository::class,
            'Spatie\Ignition\Ignition' => \Spatie\Ignition\Ignition::class,
            'Spatie\LaravelIgnition\Recorders\DumpRecorder\DumpRecorder' => \Spatie\LaravelIgnition\Recorders\DumpRecorder\DumpRecorder::class,
            'Spatie\LaravelIgnition\Recorders\DumpRecorder\MultiDumpHandler' => \Spatie\LaravelIgnition\Recorders\DumpRecorder\MultiDumpHandler::class,
            'Spatie\LaravelIgnition\Recorders\JobRecorder\JobRecorder' => \Spatie\LaravelIgnition\Recorders\JobRecorder\JobRecorder::class,
            'Spatie\LaravelIgnition\Recorders\LogRecorder\LogRecorder' => \Spatie\LaravelIgnition\Recorders\LogRecorder\LogRecorder::class,
            'Spatie\LaravelIgnition\Recorders\QueryRecorder\QueryRecorder' => \Spatie\LaravelIgnition\Recorders\QueryRecorder\QueryRecorder::class,
            'Spatie\LaravelIgnition\Support\SentReports' => \Spatie\LaravelIgnition\Support\SentReports::class,
            'Spatie\MediaLibrary\MediaCollections\Filesystem' => \Spatie\MediaLibrary\MediaCollections\Filesystem::class,
            'Spatie\MediaLibrary\MediaCollections\MediaRepository' => \Spatie\MediaLibrary\MediaCollections\MediaRepository::class,
            'Spatie\MediaLibrary\ResponsiveImages\TinyPlaceholderGenerator\TinyPlaceholderGenerator' => \Spatie\MediaLibrary\ResponsiveImages\TinyPlaceholderGenerator\Blurred::class,
            'Spatie\MediaLibrary\ResponsiveImages\WidthCalculator\WidthCalculator' => \Spatie\MediaLibrary\ResponsiveImages\WidthCalculator\FileSizeOptimizedWidthCalculator::class,
            'Whoops\Handler\HandlerInterface' => \Spatie\LaravelIgnition\Renderers\IgnitionWhoopsHandler::class,
            'auth' => \Illuminate\Auth\AuthManager::class,
            'auth.driver' => \Illuminate\Auth\SessionGuard::class,
            'auth.password' => \Illuminate\Auth\Passwords\PasswordBrokerManager::class,
            'auth.password.broker' => \Illuminate\Auth\Passwords\PasswordBroker::class,
            'blade.compiler' => \Illuminate\View\Compilers\BladeCompiler::class,
            'cache' => \Illuminate\Cache\CacheManager::class,
            'cache.store' => \Illuminate\Cache\Repository::class,
            'command.ide-helper.eloquent' => \Barryvdh\LaravelIdeHelper\Console\EloquentCommand::class,
            'command.ide-helper.generate' => \Barryvdh\LaravelIdeHelper\Console\GeneratorCommand::class,
            'command.ide-helper.meta' => \Barryvdh\LaravelIdeHelper\Console\MetaCommand::class,
            'command.ide-helper.models' => \Barryvdh\LaravelIdeHelper\Console\ModelsCommand::class,
            'command.media-library:clean' => \Spatie\MediaLibrary\MediaCollections\Commands\CleanCommand::class,
            'command.media-library:clear' => \Spatie\MediaLibrary\MediaCollections\Commands\ClearCommand::class,
            'command.media-library:regenerate' => \Spatie\MediaLibrary\Conversions\Commands\RegenerateCommand::class,
            'command.tinker' => \Laravel\Tinker\Console\TinkerCommand::class,
            'composer' => \Illuminate\Support\Composer::class,
            'cookie' => \Illuminate\Cookie\CookieJar::class,
            'db' => \Illuminate\Database\DatabaseManager::class,
            'db.connection' => \Illuminate\Database\MySqlConnection::class,
            'db.factory' => \Illuminate\Database\Connectors\ConnectionFactory::class,
            'db.schema' => \Illuminate\Database\Schema\MySqlBuilder::class,
            'db.transactions' => \Illuminate\Database\DatabaseTransactionsManager::class,
            'encrypter' => \Illuminate\Encryption\Encrypter::class,
            'events' => \Illuminate\Events\Dispatcher::class,
            'files' => \Illuminate\Filesystem\Filesystem::class,
            'filesystem' => \Illuminate\Filesystem\FilesystemManager::class,
            'filesystem.cloud' => \Illuminate\Filesystem\FilesystemAdapter::class,
            'filesystem.disk' => \Illuminate\Filesystem\FilesystemAdapter::class,
            'flare.logger' => \Monolog\Logger::class,
            'hash' => \Illuminate\Hashing\HashManager::class,
            'hash.driver' => \Illuminate\Hashing\BcryptHasher::class,
            'image' => \Intervention\Image\ImageManager::class,
            'log' => \Illuminate\Log\LogManager::class,
            'mail.manager' => \Illuminate\Mail\MailManager::class,
            'mailer' => \Illuminate\Mail\Mailer::class,
            'memcached.connector' => \Illuminate\Cache\MemcachedConnector::class,
            'migration.creator' => \Illuminate\Database\Migrations\MigrationCreator::class,
            'migration.repository' => \Illuminate\Database\Migrations\DatabaseMigrationRepository::class,
            'migrator' => \Illuminate\Database\Migrations\Migrator::class,
            'queue' => \Illuminate\Queue\QueueManager::class,
            'queue.connection' => \Illuminate\Queue\SyncQueue::class,
            'queue.failer' => \Illuminate\Queue\Failed\DatabaseUuidFailedJobProvider::class,
            'queue.listener' => \Illuminate\Queue\Listener::class,
            'queue.worker' => \Illuminate\Queue\Worker::class,
            'recaptcha' => \Biscolab\ReCaptcha\ReCaptchaBuilderV2::class,
            'redirect' => \Illuminate\Routing\Redirector::class,
            'redis' => \Illuminate\Redis\RedisManager::class,
            'router' => \Illuminate\Routing\Router::class,
            'session' => \Illuminate\Session\SessionManager::class,
            'session.store' => \Illuminate\Session\Store::class,
            'translation.loader' => \Illuminate\Translation\FileLoader::class,
            'translator' => \Illuminate\Translation\Translator::class,
            'url' => \Illuminate\Routing\UrlGenerator::class,
            'validation.presence' => \Illuminate\Validation\DatabasePresenceVerifier::class,
            'view' => \Illuminate\View\Factory::class,
            'view.engine.resolver' => \Illuminate\View\Engines\EngineResolver::class,
            'view.finder' => \Illuminate\View\FileViewFinder::class,
        ]));
    override(\App::makeWith(0), map([
        '' => '@',
            'Illuminate\Auth\Console\ClearResetsCommand' => \Illuminate\Auth\Console\ClearResetsCommand::class,
            'Illuminate\Auth\Middleware\RequirePassword' => \Illuminate\Auth\Middleware\RequirePassword::class,
            'Illuminate\Broadcasting\BroadcastManager' => \Illuminate\Broadcasting\BroadcastManager::class,
            'Illuminate\Bus\BatchRepository' => \Illuminate\Bus\DatabaseBatchRepository::class,
            'Illuminate\Bus\DatabaseBatchRepository' => \Illuminate\Bus\DatabaseBatchRepository::class,
            'Illuminate\Bus\Dispatcher' => \Illuminate\Bus\Dispatcher::class,
            'Illuminate\Cache\Console\CacheTableCommand' => \Illuminate\Cache\Console\CacheTableCommand::class,
            'Illuminate\Cache\Console\ClearCommand' => \Illuminate\Cache\Console\ClearCommand::class,
            'Illuminate\Cache\Console\ForgetCommand' => \Illuminate\Cache\Console\ForgetCommand::class,
            'Illuminate\Cache\RateLimiter' => \Illuminate\Cache\RateLimiter::class,
            'Illuminate\Console\Scheduling\Schedule' => \Illuminate\Console\Scheduling\Schedule::class,
            'Illuminate\Console\Scheduling\ScheduleClearCacheCommand' => \Illuminate\Console\Scheduling\ScheduleClearCacheCommand::class,
            'Illuminate\Console\Scheduling\ScheduleFinishCommand' => \Illuminate\Console\Scheduling\ScheduleFinishCommand::class,
            'Illuminate\Console\Scheduling\ScheduleListCommand' => \Illuminate\Console\Scheduling\ScheduleListCommand::class,
            'Illuminate\Console\Scheduling\ScheduleRunCommand' => \Illuminate\Console\Scheduling\ScheduleRunCommand::class,
            'Illuminate\Console\Scheduling\ScheduleTestCommand' => \Illuminate\Console\Scheduling\ScheduleTestCommand::class,
            'Illuminate\Console\Scheduling\ScheduleWorkCommand' => \Illuminate\Console\Scheduling\ScheduleWorkCommand::class,
            'Illuminate\Contracts\Auth\Access\Gate' => \Illuminate\Auth\Access\Gate::class,
            'Illuminate\Contracts\Broadcasting\Broadcaster' => \Illuminate\Broadcasting\Broadcasters\LogBroadcaster::class,
            'Illuminate\Contracts\Console\Kernel' => \App\Console\Kernel::class,
            'Illuminate\Contracts\Debug\ExceptionHandler' => \NunoMaduro\Collision\Adapters\Laravel\ExceptionHandler::class,
            'Illuminate\Contracts\Foundation\ExceptionRenderer' => \Spatie\LaravelIgnition\Renderers\IgnitionExceptionRenderer::class,
            'Illuminate\Contracts\Foundation\MaintenanceMode' => \Illuminate\Foundation\FileBasedMaintenanceMode::class,
            'Illuminate\Contracts\Http\Kernel' => \App\Http\Kernel::class,
            'Illuminate\Contracts\Pipeline\Hub' => \Illuminate\Pipeline\Hub::class,
            'Illuminate\Contracts\Queue\EntityResolver' => \Illuminate\Database\Eloquent\QueueEntityResolver::class,
            'Illuminate\Contracts\Routing\ResponseFactory' => \Illuminate\Routing\ResponseFactory::class,
            'Illuminate\Contracts\Validation\UncompromisedVerifier' => \Illuminate\Validation\NotPwnedVerifier::class,
            'Illuminate\Database\Console\DbCommand' => \Illuminate\Database\Console\DbCommand::class,
            'Illuminate\Database\Console\DumpCommand' => \Illuminate\Database\Console\DumpCommand::class,
            'Illuminate\Database\Console\Factories\FactoryMakeCommand' => \Orchestra\Canvas\Console\FactoryMakeCommand::class,
            'Illuminate\Database\Console\Migrations\FreshCommand' => \Illuminate\Database\Console\Migrations\FreshCommand::class,
            'Illuminate\Database\Console\Migrations\InstallCommand' => \Illuminate\Database\Console\Migrations\InstallCommand::class,
            'Illuminate\Database\Console\Migrations\MigrateCommand' => \Illuminate\Database\Console\Migrations\MigrateCommand::class,
            'Illuminate\Database\Console\Migrations\MigrateMakeCommand' => \Orchestra\Canvas\Console\MigrateMakeCommand::class,
            'Illuminate\Database\Console\Migrations\RefreshCommand' => \Illuminate\Database\Console\Migrations\RefreshCommand::class,
            'Illuminate\Database\Console\Migrations\ResetCommand' => \Illuminate\Database\Console\Migrations\ResetCommand::class,
            'Illuminate\Database\Console\Migrations\RollbackCommand' => \Illuminate\Database\Console\Migrations\RollbackCommand::class,
            'Illuminate\Database\Console\Migrations\StatusCommand' => \Illuminate\Database\Console\Migrations\StatusCommand::class,
            'Illuminate\Database\Console\MonitorCommand' => \Illuminate\Database\Console\MonitorCommand::class,
            'Illuminate\Database\Console\PruneCommand' => \Illuminate\Database\Console\PruneCommand::class,
            'Illuminate\Database\Console\Seeds\SeedCommand' => \Illuminate\Database\Console\Seeds\SeedCommand::class,
            'Illuminate\Database\Console\Seeds\SeederMakeCommand' => \Orchestra\Canvas\Console\SeederMakeCommand::class,
            'Illuminate\Database\Console\ShowCommand' => \Illuminate\Database\Console\ShowCommand::class,
            'Illuminate\Database\Console\TableCommand' => \Illuminate\Database\Console\TableCommand::class,
            'Illuminate\Database\Console\WipeCommand' => \Illuminate\Database\Console\WipeCommand::class,
            'Illuminate\Foundation\Console\AboutCommand' => \Illuminate\Foundation\Console\AboutCommand::class,
            'Illuminate\Foundation\Console\CastMakeCommand' => \Orchestra\Canvas\Console\CastMakeCommand::class,
            'Illuminate\Foundation\Console\ChannelMakeCommand' => \Orchestra\Canvas\Console\ChannelMakeCommand::class,
            'Illuminate\Foundation\Console\ClearCompiledCommand' => \Illuminate\Foundation\Console\ClearCompiledCommand::class,
            'Illuminate\Foundation\Console\ComponentMakeCommand' => \Orchestra\Canvas\Console\ComponentMakeCommand::class,
            'Illuminate\Foundation\Console\ConfigCacheCommand' => \Illuminate\Foundation\Console\ConfigCacheCommand::class,
            'Illuminate\Foundation\Console\ConfigClearCommand' => \Illuminate\Foundation\Console\ConfigClearCommand::class,
            'Illuminate\Foundation\Console\ConsoleMakeCommand' => \Orchestra\Canvas\Console\ConsoleMakeCommand::class,
            'Illuminate\Foundation\Console\DocsCommand' => \Illuminate\Foundation\Console\DocsCommand::class,
            'Illuminate\Foundation\Console\DownCommand' => \Illuminate\Foundation\Console\DownCommand::class,
            'Illuminate\Foundation\Console\EnvironmentCommand' => \Illuminate\Foundation\Console\EnvironmentCommand::class,
            'Illuminate\Foundation\Console\EnvironmentDecryptCommand' => \Illuminate\Foundation\Console\EnvironmentDecryptCommand::class,
            'Illuminate\Foundation\Console\EnvironmentEncryptCommand' => \Illuminate\Foundation\Console\EnvironmentEncryptCommand::class,
            'Illuminate\Foundation\Console\EventCacheCommand' => \Illuminate\Foundation\Console\EventCacheCommand::class,
            'Illuminate\Foundation\Console\EventClearCommand' => \Illuminate\Foundation\Console\EventClearCommand::class,
            'Illuminate\Foundation\Console\EventGenerateCommand' => \Illuminate\Foundation\Console\EventGenerateCommand::class,
            'Illuminate\Foundation\Console\EventListCommand' => \Illuminate\Foundation\Console\EventListCommand::class,
            'Illuminate\Foundation\Console\EventMakeCommand' => \Orchestra\Canvas\Console\EventMakeCommand::class,
            'Illuminate\Foundation\Console\ExceptionMakeCommand' => \Orchestra\Canvas\Console\ExceptionMakeCommand::class,
            'Illuminate\Foundation\Console\JobMakeCommand' => \Orchestra\Canvas\Console\JobMakeCommand::class,
            'Illuminate\Foundation\Console\KeyGenerateCommand' => \Illuminate\Foundation\Console\KeyGenerateCommand::class,
            'Illuminate\Foundation\Console\ListenerMakeCommand' => \Orchestra\Canvas\Console\ListenerMakeCommand::class,
            'Illuminate\Foundation\Console\MailMakeCommand' => \Orchestra\Canvas\Console\MailMakeCommand::class,
            'Illuminate\Foundation\Console\ModelMakeCommand' => \Orchestra\Canvas\Console\ModelMakeCommand::class,
            'Illuminate\Foundation\Console\NotificationMakeCommand' => \Orchestra\Canvas\Console\NotificationMakeCommand::class,
            'Illuminate\Foundation\Console\ObserverMakeCommand' => \Orchestra\Canvas\Console\ObserverMakeCommand::class,
            'Illuminate\Foundation\Console\OptimizeClearCommand' => \Illuminate\Foundation\Console\OptimizeClearCommand::class,
            'Illuminate\Foundation\Console\OptimizeCommand' => \Illuminate\Foundation\Console\OptimizeCommand::class,
            'Illuminate\Foundation\Console\PackageDiscoverCommand' => \Illuminate\Foundation\Console\PackageDiscoverCommand::class,
            'Illuminate\Foundation\Console\PolicyMakeCommand' => \Orchestra\Canvas\Console\PolicyMakeCommand::class,
            'Illuminate\Foundation\Console\ProviderMakeCommand' => \Orchestra\Canvas\Console\ProviderMakeCommand::class,
            'Illuminate\Foundation\Console\RequestMakeCommand' => \Orchestra\Canvas\Console\RequestMakeCommand::class,
            'Illuminate\Foundation\Console\ResourceMakeCommand' => \Orchestra\Canvas\Console\ResourceMakeCommand::class,
            'Illuminate\Foundation\Console\RouteCacheCommand' => \Illuminate\Foundation\Console\RouteCacheCommand::class,
            'Illuminate\Foundation\Console\RouteClearCommand' => \Illuminate\Foundation\Console\RouteClearCommand::class,
            'Illuminate\Foundation\Console\RouteListCommand' => \Illuminate\Foundation\Console\RouteListCommand::class,
            'Illuminate\Foundation\Console\RuleMakeCommand' => \Orchestra\Canvas\Console\RuleMakeCommand::class,
            'Illuminate\Foundation\Console\ScopeMakeCommand' => \Orchestra\Canvas\Console\ScopeMakeCommand::class,
            'Illuminate\Foundation\Console\ServeCommand' => \Illuminate\Foundation\Console\ServeCommand::class,
            'Illuminate\Foundation\Console\ShowModelCommand' => \Illuminate\Foundation\Console\ShowModelCommand::class,
            'Illuminate\Foundation\Console\StorageLinkCommand' => \Illuminate\Foundation\Console\StorageLinkCommand::class,
            'Illuminate\Foundation\Console\StubPublishCommand' => \Illuminate\Foundation\Console\StubPublishCommand::class,
            'Illuminate\Foundation\Console\TestMakeCommand' => \Orchestra\Canvas\Console\TestMakeCommand::class,
            'Illuminate\Foundation\Console\UpCommand' => \Illuminate\Foundation\Console\UpCommand::class,
            'Illuminate\Foundation\Console\VendorPublishCommand' => \Illuminate\Foundation\Console\VendorPublishCommand::class,
            'Illuminate\Foundation\Console\ViewCacheCommand' => \Illuminate\Foundation\Console\ViewCacheCommand::class,
            'Illuminate\Foundation\Console\ViewClearCommand' => \Illuminate\Foundation\Console\ViewClearCommand::class,
            'Illuminate\Foundation\MaintenanceModeManager' => \Illuminate\Foundation\MaintenanceModeManager::class,
            'Illuminate\Foundation\Mix' => \Illuminate\Foundation\Mix::class,
            'Illuminate\Foundation\PackageManifest' => \Illuminate\Foundation\PackageManifest::class,
            'Illuminate\Foundation\Vite' => \Illuminate\Foundation\Vite::class,
            'Illuminate\Mail\Markdown' => \Illuminate\Mail\Markdown::class,
            'Illuminate\Notifications\ChannelManager' => \Illuminate\Notifications\ChannelManager::class,
            'Illuminate\Notifications\Console\NotificationTableCommand' => \Orchestra\Canvas\Console\NotificationTableCommand::class,
            'Illuminate\Queue\Console\BatchesTableCommand' => \Orchestra\Canvas\Console\BatchesTableCommand::class,
            'Illuminate\Queue\Console\ClearCommand' => \Illuminate\Queue\Console\ClearCommand::class,
            'Illuminate\Queue\Console\FailedTableCommand' => \Orchestra\Canvas\Console\FailedTableCommand::class,
            'Illuminate\Queue\Console\FlushFailedCommand' => \Illuminate\Queue\Console\FlushFailedCommand::class,
            'Illuminate\Queue\Console\ForgetFailedCommand' => \Illuminate\Queue\Console\ForgetFailedCommand::class,
            'Illuminate\Queue\Console\ListFailedCommand' => \Illuminate\Queue\Console\ListFailedCommand::class,
            'Illuminate\Queue\Console\ListenCommand' => \Illuminate\Queue\Console\ListenCommand::class,
            'Illuminate\Queue\Console\MonitorCommand' => \Illuminate\Queue\Console\MonitorCommand::class,
            'Illuminate\Queue\Console\PruneBatchesCommand' => \Illuminate\Queue\Console\PruneBatchesCommand::class,
            'Illuminate\Queue\Console\PruneFailedJobsCommand' => \Illuminate\Queue\Console\PruneFailedJobsCommand::class,
            'Illuminate\Queue\Console\RestartCommand' => \Illuminate\Queue\Console\RestartCommand::class,
            'Illuminate\Queue\Console\RetryBatchCommand' => \Illuminate\Queue\Console\RetryBatchCommand::class,
            'Illuminate\Queue\Console\RetryCommand' => \Illuminate\Queue\Console\RetryCommand::class,
            'Illuminate\Queue\Console\TableCommand' => \Orchestra\Canvas\Console\QueueTableCommand::class,
            'Illuminate\Queue\Console\WorkCommand' => \Illuminate\Queue\Console\WorkCommand::class,
            'Illuminate\Routing\Console\ControllerMakeCommand' => \Orchestra\Canvas\Console\ControllerMakeCommand::class,
            'Illuminate\Routing\Console\MiddlewareMakeCommand' => \Orchestra\Canvas\Console\MiddlewareMakeCommand::class,
            'Illuminate\Routing\Contracts\CallableDispatcher' => \Illuminate\Routing\CallableDispatcher::class,
            'Illuminate\Routing\Contracts\ControllerDispatcher' => \Illuminate\Routing\ControllerDispatcher::class,
            'Illuminate\Session\Console\SessionTableCommand' => \Orchestra\Canvas\Console\SessionTableCommand::class,
            'Illuminate\Session\Middleware\StartSession' => \Illuminate\Session\Middleware\StartSession::class,
            'Illuminate\Testing\ParallelTesting' => \Illuminate\Testing\ParallelTesting::class,
            'NunoMaduro\Collision\Contracts\Provider' => \NunoMaduro\Collision\Provider::class,
            'Orchestra\Canvas\Console\UserFactoryMakeCommand' => \Orchestra\Canvas\Console\UserFactoryMakeCommand::class,
            'Orchestra\Canvas\Console\UserModelMakeCommand' => \Orchestra\Canvas\Console\UserModelMakeCommand::class,
            'Orchestra\Canvas\Core\PresetManager' => \Orchestra\Canvas\Core\PresetManager::class,
            'Spatie\Activitylog\ActivityLogStatus' => \Spatie\Activitylog\ActivityLogStatus::class,
            'Spatie\Activitylog\ActivityLogger' => \Spatie\Activitylog\ActivityLogger::class,
            'Spatie\Activitylog\CauserResolver' => \Spatie\Activitylog\CauserResolver::class,
            'Spatie\Activitylog\LogBatch' => \Spatie\Activitylog\LogBatch::class,
            'Spatie\FlareClient\Flare' => \Spatie\FlareClient\Flare::class,
            'Spatie\Ignition\Config\IgnitionConfig' => \Spatie\Ignition\Config\IgnitionConfig::class,
            'Spatie\Ignition\Contracts\ConfigManager' => \Spatie\Ignition\Config\FileConfigManager::class,
            'Spatie\Ignition\Contracts\SolutionProviderRepository' => \Spatie\LaravelIgnition\Solutions\SolutionProviders\SolutionProviderRepository::class,
            'Spatie\Ignition\Ignition' => \Spatie\Ignition\Ignition::class,
            'Spatie\LaravelIgnition\Recorders\DumpRecorder\DumpRecorder' => \Spatie\LaravelIgnition\Recorders\DumpRecorder\DumpRecorder::class,
            'Spatie\LaravelIgnition\Recorders\DumpRecorder\MultiDumpHandler' => \Spatie\LaravelIgnition\Recorders\DumpRecorder\MultiDumpHandler::class,
            'Spatie\LaravelIgnition\Recorders\JobRecorder\JobRecorder' => \Spatie\LaravelIgnition\Recorders\JobRecorder\JobRecorder::class,
            'Spatie\LaravelIgnition\Recorders\LogRecorder\LogRecorder' => \Spatie\LaravelIgnition\Recorders\LogRecorder\LogRecorder::class,
            'Spatie\LaravelIgnition\Recorders\QueryRecorder\QueryRecorder' => \Spatie\LaravelIgnition\Recorders\QueryRecorder\QueryRecorder::class,
            'Spatie\LaravelIgnition\Support\SentReports' => \Spatie\LaravelIgnition\Support\SentReports::class,
            'Spatie\MediaLibrary\MediaCollections\Filesystem' => \Spatie\MediaLibrary\MediaCollections\Filesystem::class,
            'Spatie\MediaLibrary\MediaCollections\MediaRepository' => \Spatie\MediaLibrary\MediaCollections\MediaRepository::class,
            'Spatie\MediaLibrary\ResponsiveImages\TinyPlaceholderGenerator\TinyPlaceholderGenerator' => \Spatie\MediaLibrary\ResponsiveImages\TinyPlaceholderGenerator\Blurred::class,
            'Spatie\MediaLibrary\ResponsiveImages\WidthCalculator\WidthCalculator' => \Spatie\MediaLibrary\ResponsiveImages\WidthCalculator\FileSizeOptimizedWidthCalculator::class,
            'Whoops\Handler\HandlerInterface' => \Spatie\LaravelIgnition\Renderers\IgnitionWhoopsHandler::class,
            'auth' => \Illuminate\Auth\AuthManager::class,
            'auth.driver' => \Illuminate\Auth\SessionGuard::class,
            'auth.password' => \Illuminate\Auth\Passwords\PasswordBrokerManager::class,
            'auth.password.broker' => \Illuminate\Auth\Passwords\PasswordBroker::class,
            'blade.compiler' => \Illuminate\View\Compilers\BladeCompiler::class,
            'cache' => \Illuminate\Cache\CacheManager::class,
            'cache.store' => \Illuminate\Cache\Repository::class,
            'command.ide-helper.eloquent' => \Barryvdh\LaravelIdeHelper\Console\EloquentCommand::class,
            'command.ide-helper.generate' => \Barryvdh\LaravelIdeHelper\Console\GeneratorCommand::class,
            'command.ide-helper.meta' => \Barryvdh\LaravelIdeHelper\Console\MetaCommand::class,
            'command.ide-helper.models' => \Barryvdh\LaravelIdeHelper\Console\ModelsCommand::class,
            'command.media-library:clean' => \Spatie\MediaLibrary\MediaCollections\Commands\CleanCommand::class,
            'command.media-library:clear' => \Spatie\MediaLibrary\MediaCollections\Commands\ClearCommand::class,
            'command.media-library:regenerate' => \Spatie\MediaLibrary\Conversions\Commands\RegenerateCommand::class,
            'command.tinker' => \Laravel\Tinker\Console\TinkerCommand::class,
            'composer' => \Illuminate\Support\Composer::class,
            'cookie' => \Illuminate\Cookie\CookieJar::class,
            'db' => \Illuminate\Database\DatabaseManager::class,
            'db.connection' => \Illuminate\Database\MySqlConnection::class,
            'db.factory' => \Illuminate\Database\Connectors\ConnectionFactory::class,
            'db.schema' => \Illuminate\Database\Schema\MySqlBuilder::class,
            'db.transactions' => \Illuminate\Database\DatabaseTransactionsManager::class,
            'encrypter' => \Illuminate\Encryption\Encrypter::class,
            'events' => \Illuminate\Events\Dispatcher::class,
            'files' => \Illuminate\Filesystem\Filesystem::class,
            'filesystem' => \Illuminate\Filesystem\FilesystemManager::class,
            'filesystem.cloud' => \Illuminate\Filesystem\FilesystemAdapter::class,
            'filesystem.disk' => \Illuminate\Filesystem\FilesystemAdapter::class,
            'flare.logger' => \Monolog\Logger::class,
            'hash' => \Illuminate\Hashing\HashManager::class,
            'hash.driver' => \Illuminate\Hashing\BcryptHasher::class,
            'image' => \Intervention\Image\ImageManager::class,
            'log' => \Illuminate\Log\LogManager::class,
            'mail.manager' => \Illuminate\Mail\MailManager::class,
            'mailer' => \Illuminate\Mail\Mailer::class,
            'memcached.connector' => \Illuminate\Cache\MemcachedConnector::class,
            'migration.creator' => \Illuminate\Database\Migrations\MigrationCreator::class,
            'migration.repository' => \Illuminate\Database\Migrations\DatabaseMigrationRepository::class,
            'migrator' => \Illuminate\Database\Migrations\Migrator::class,
            'queue' => \Illuminate\Queue\QueueManager::class,
            'queue.connection' => \Illuminate\Queue\SyncQueue::class,
            'queue.failer' => \Illuminate\Queue\Failed\DatabaseUuidFailedJobProvider::class,
            'queue.listener' => \Illuminate\Queue\Listener::class,
            'queue.worker' => \Illuminate\Queue\Worker::class,
            'recaptcha' => \Biscolab\ReCaptcha\ReCaptchaBuilderV2::class,
            'redirect' => \Illuminate\Routing\Redirector::class,
            'redis' => \Illuminate\Redis\RedisManager::class,
            'router' => \Illuminate\Routing\Router::class,
            'session' => \Illuminate\Session\SessionManager::class,
            'session.store' => \Illuminate\Session\Store::class,
            'translation.loader' => \Illuminate\Translation\FileLoader::class,
            'translator' => \Illuminate\Translation\Translator::class,
            'url' => \Illuminate\Routing\UrlGenerator::class,
            'validation.presence' => \Illuminate\Validation\DatabasePresenceVerifier::class,
            'view' => \Illuminate\View\Factory::class,
            'view.engine.resolver' => \Illuminate\View\Engines\EngineResolver::class,
            'view.finder' => \Illuminate\View\FileViewFinder::class,
        ]));
    override(\app(0), map([
        '' => '@',
            'Illuminate\Auth\Console\ClearResetsCommand' => \Illuminate\Auth\Console\ClearResetsCommand::class,
            'Illuminate\Auth\Middleware\RequirePassword' => \Illuminate\Auth\Middleware\RequirePassword::class,
            'Illuminate\Broadcasting\BroadcastManager' => \Illuminate\Broadcasting\BroadcastManager::class,
            'Illuminate\Bus\BatchRepository' => \Illuminate\Bus\DatabaseBatchRepository::class,
            'Illuminate\Bus\DatabaseBatchRepository' => \Illuminate\Bus\DatabaseBatchRepository::class,
            'Illuminate\Bus\Dispatcher' => \Illuminate\Bus\Dispatcher::class,
            'Illuminate\Cache\Console\CacheTableCommand' => \Illuminate\Cache\Console\CacheTableCommand::class,
            'Illuminate\Cache\Console\ClearCommand' => \Illuminate\Cache\Console\ClearCommand::class,
            'Illuminate\Cache\Console\ForgetCommand' => \Illuminate\Cache\Console\ForgetCommand::class,
            'Illuminate\Cache\RateLimiter' => \Illuminate\Cache\RateLimiter::class,
            'Illuminate\Console\Scheduling\Schedule' => \Illuminate\Console\Scheduling\Schedule::class,
            'Illuminate\Console\Scheduling\ScheduleClearCacheCommand' => \Illuminate\Console\Scheduling\ScheduleClearCacheCommand::class,
            'Illuminate\Console\Scheduling\ScheduleFinishCommand' => \Illuminate\Console\Scheduling\ScheduleFinishCommand::class,
            'Illuminate\Console\Scheduling\ScheduleListCommand' => \Illuminate\Console\Scheduling\ScheduleListCommand::class,
            'Illuminate\Console\Scheduling\ScheduleRunCommand' => \Illuminate\Console\Scheduling\ScheduleRunCommand::class,
            'Illuminate\Console\Scheduling\ScheduleTestCommand' => \Illuminate\Console\Scheduling\ScheduleTestCommand::class,
            'Illuminate\Console\Scheduling\ScheduleWorkCommand' => \Illuminate\Console\Scheduling\ScheduleWorkCommand::class,
            'Illuminate\Contracts\Auth\Access\Gate' => \Illuminate\Auth\Access\Gate::class,
            'Illuminate\Contracts\Broadcasting\Broadcaster' => \Illuminate\Broadcasting\Broadcasters\LogBroadcaster::class,
            'Illuminate\Contracts\Console\Kernel' => \App\Console\Kernel::class,
            'Illuminate\Contracts\Debug\ExceptionHandler' => \NunoMaduro\Collision\Adapters\Laravel\ExceptionHandler::class,
            'Illuminate\Contracts\Foundation\ExceptionRenderer' => \Spatie\LaravelIgnition\Renderers\IgnitionExceptionRenderer::class,
            'Illuminate\Contracts\Foundation\MaintenanceMode' => \Illuminate\Foundation\FileBasedMaintenanceMode::class,
            'Illuminate\Contracts\Http\Kernel' => \App\Http\Kernel::class,
            'Illuminate\Contracts\Pipeline\Hub' => \Illuminate\Pipeline\Hub::class,
            'Illuminate\Contracts\Queue\EntityResolver' => \Illuminate\Database\Eloquent\QueueEntityResolver::class,
            'Illuminate\Contracts\Routing\ResponseFactory' => \Illuminate\Routing\ResponseFactory::class,
            'Illuminate\Contracts\Validation\UncompromisedVerifier' => \Illuminate\Validation\NotPwnedVerifier::class,
            'Illuminate\Database\Console\DbCommand' => \Illuminate\Database\Console\DbCommand::class,
            'Illuminate\Database\Console\DumpCommand' => \Illuminate\Database\Console\DumpCommand::class,
            'Illuminate\Database\Console\Factories\FactoryMakeCommand' => \Orchestra\Canvas\Console\FactoryMakeCommand::class,
            'Illuminate\Database\Console\Migrations\FreshCommand' => \Illuminate\Database\Console\Migrations\FreshCommand::class,
            'Illuminate\Database\Console\Migrations\InstallCommand' => \Illuminate\Database\Console\Migrations\InstallCommand::class,
            'Illuminate\Database\Console\Migrations\MigrateCommand' => \Illuminate\Database\Console\Migrations\MigrateCommand::class,
            'Illuminate\Database\Console\Migrations\MigrateMakeCommand' => \Orchestra\Canvas\Console\MigrateMakeCommand::class,
            'Illuminate\Database\Console\Migrations\RefreshCommand' => \Illuminate\Database\Console\Migrations\RefreshCommand::class,
            'Illuminate\Database\Console\Migrations\ResetCommand' => \Illuminate\Database\Console\Migrations\ResetCommand::class,
            'Illuminate\Database\Console\Migrations\RollbackCommand' => \Illuminate\Database\Console\Migrations\RollbackCommand::class,
            'Illuminate\Database\Console\Migrations\StatusCommand' => \Illuminate\Database\Console\Migrations\StatusCommand::class,
            'Illuminate\Database\Console\MonitorCommand' => \Illuminate\Database\Console\MonitorCommand::class,
            'Illuminate\Database\Console\PruneCommand' => \Illuminate\Database\Console\PruneCommand::class,
            'Illuminate\Database\Console\Seeds\SeedCommand' => \Illuminate\Database\Console\Seeds\SeedCommand::class,
            'Illuminate\Database\Console\Seeds\SeederMakeCommand' => \Orchestra\Canvas\Console\SeederMakeCommand::class,
            'Illuminate\Database\Console\ShowCommand' => \Illuminate\Database\Console\ShowCommand::class,
            'Illuminate\Database\Console\TableCommand' => \Illuminate\Database\Console\TableCommand::class,
            'Illuminate\Database\Console\WipeCommand' => \Illuminate\Database\Console\WipeCommand::class,
            'Illuminate\Foundation\Console\AboutCommand' => \Illuminate\Foundation\Console\AboutCommand::class,
            'Illuminate\Foundation\Console\CastMakeCommand' => \Orchestra\Canvas\Console\CastMakeCommand::class,
            'Illuminate\Foundation\Console\ChannelMakeCommand' => \Orchestra\Canvas\Console\ChannelMakeCommand::class,
            'Illuminate\Foundation\Console\ClearCompiledCommand' => \Illuminate\Foundation\Console\ClearCompiledCommand::class,
            'Illuminate\Foundation\Console\ComponentMakeCommand' => \Orchestra\Canvas\Console\ComponentMakeCommand::class,
            'Illuminate\Foundation\Console\ConfigCacheCommand' => \Illuminate\Foundation\Console\ConfigCacheCommand::class,
            'Illuminate\Foundation\Console\ConfigClearCommand' => \Illuminate\Foundation\Console\ConfigClearCommand::class,
            'Illuminate\Foundation\Console\ConsoleMakeCommand' => \Orchestra\Canvas\Console\ConsoleMakeCommand::class,
            'Illuminate\Foundation\Console\DocsCommand' => \Illuminate\Foundation\Console\DocsCommand::class,
            'Illuminate\Foundation\Console\DownCommand' => \Illuminate\Foundation\Console\DownCommand::class,
            'Illuminate\Foundation\Console\EnvironmentCommand' => \Illuminate\Foundation\Console\EnvironmentCommand::class,
            'Illuminate\Foundation\Console\EnvironmentDecryptCommand' => \Illuminate\Foundation\Console\EnvironmentDecryptCommand::class,
            'Illuminate\Foundation\Console\EnvironmentEncryptCommand' => \Illuminate\Foundation\Console\EnvironmentEncryptCommand::class,
            'Illuminate\Foundation\Console\EventCacheCommand' => \Illuminate\Foundation\Console\EventCacheCommand::class,
            'Illuminate\Foundation\Console\EventClearCommand' => \Illuminate\Foundation\Console\EventClearCommand::class,
            'Illuminate\Foundation\Console\EventGenerateCommand' => \Illuminate\Foundation\Console\EventGenerateCommand::class,
            'Illuminate\Foundation\Console\EventListCommand' => \Illuminate\Foundation\Console\EventListCommand::class,
            'Illuminate\Foundation\Console\EventMakeCommand' => \Orchestra\Canvas\Console\EventMakeCommand::class,
            'Illuminate\Foundation\Console\ExceptionMakeCommand' => \Orchestra\Canvas\Console\ExceptionMakeCommand::class,
            'Illuminate\Foundation\Console\JobMakeCommand' => \Orchestra\Canvas\Console\JobMakeCommand::class,
            'Illuminate\Foundation\Console\KeyGenerateCommand' => \Illuminate\Foundation\Console\KeyGenerateCommand::class,
            'Illuminate\Foundation\Console\ListenerMakeCommand' => \Orchestra\Canvas\Console\ListenerMakeCommand::class,
            'Illuminate\Foundation\Console\MailMakeCommand' => \Orchestra\Canvas\Console\MailMakeCommand::class,
            'Illuminate\Foundation\Console\ModelMakeCommand' => \Orchestra\Canvas\Console\ModelMakeCommand::class,
            'Illuminate\Foundation\Console\NotificationMakeCommand' => \Orchestra\Canvas\Console\NotificationMakeCommand::class,
            'Illuminate\Foundation\Console\ObserverMakeCommand' => \Orchestra\Canvas\Console\ObserverMakeCommand::class,
            'Illuminate\Foundation\Console\OptimizeClearCommand' => \Illuminate\Foundation\Console\OptimizeClearCommand::class,
            'Illuminate\Foundation\Console\OptimizeCommand' => \Illuminate\Foundation\Console\OptimizeCommand::class,
            'Illuminate\Foundation\Console\PackageDiscoverCommand' => \Illuminate\Foundation\Console\PackageDiscoverCommand::class,
            'Illuminate\Foundation\Console\PolicyMakeCommand' => \Orchestra\Canvas\Console\PolicyMakeCommand::class,
            'Illuminate\Foundation\Console\ProviderMakeCommand' => \Orchestra\Canvas\Console\ProviderMakeCommand::class,
            'Illuminate\Foundation\Console\RequestMakeCommand' => \Orchestra\Canvas\Console\RequestMakeCommand::class,
            'Illuminate\Foundation\Console\ResourceMakeCommand' => \Orchestra\Canvas\Console\ResourceMakeCommand::class,
            'Illuminate\Foundation\Console\RouteCacheCommand' => \Illuminate\Foundation\Console\RouteCacheCommand::class,
            'Illuminate\Foundation\Console\RouteClearCommand' => \Illuminate\Foundation\Console\RouteClearCommand::class,
            'Illuminate\Foundation\Console\RouteListCommand' => \Illuminate\Foundation\Console\RouteListCommand::class,
            'Illuminate\Foundation\Console\RuleMakeCommand' => \Orchestra\Canvas\Console\RuleMakeCommand::class,
            'Illuminate\Foundation\Console\ScopeMakeCommand' => \Orchestra\Canvas\Console\ScopeMakeCommand::class,
            'Illuminate\Foundation\Console\ServeCommand' => \Illuminate\Foundation\Console\ServeCommand::class,
            'Illuminate\Foundation\Console\ShowModelCommand' => \Illuminate\Foundation\Console\ShowModelCommand::class,
            'Illuminate\Foundation\Console\StorageLinkCommand' => \Illuminate\Foundation\Console\StorageLinkCommand::class,
            'Illuminate\Foundation\Console\StubPublishCommand' => \Illuminate\Foundation\Console\StubPublishCommand::class,
            'Illuminate\Foundation\Console\TestMakeCommand' => \Orchestra\Canvas\Console\TestMakeCommand::class,
            'Illuminate\Foundation\Console\UpCommand' => \Illuminate\Foundation\Console\UpCommand::class,
            'Illuminate\Foundation\Console\VendorPublishCommand' => \Illuminate\Foundation\Console\VendorPublishCommand::class,
            'Illuminate\Foundation\Console\ViewCacheCommand' => \Illuminate\Foundation\Console\ViewCacheCommand::class,
            'Illuminate\Foundation\Console\ViewClearCommand' => \Illuminate\Foundation\Console\ViewClearCommand::class,
            'Illuminate\Foundation\MaintenanceModeManager' => \Illuminate\Foundation\MaintenanceModeManager::class,
            'Illuminate\Foundation\Mix' => \Illuminate\Foundation\Mix::class,
            'Illuminate\Foundation\PackageManifest' => \Illuminate\Foundation\PackageManifest::class,
            'Illuminate\Foundation\Vite' => \Illuminate\Foundation\Vite::class,
            'Illuminate\Mail\Markdown' => \Illuminate\Mail\Markdown::class,
            'Illuminate\Notifications\ChannelManager' => \Illuminate\Notifications\ChannelManager::class,
            'Illuminate\Notifications\Console\NotificationTableCommand' => \Orchestra\Canvas\Console\NotificationTableCommand::class,
            'Illuminate\Queue\Console\BatchesTableCommand' => \Orchestra\Canvas\Console\BatchesTableCommand::class,
            'Illuminate\Queue\Console\ClearCommand' => \Illuminate\Queue\Console\ClearCommand::class,
            'Illuminate\Queue\Console\FailedTableCommand' => \Orchestra\Canvas\Console\FailedTableCommand::class,
            'Illuminate\Queue\Console\FlushFailedCommand' => \Illuminate\Queue\Console\FlushFailedCommand::class,
            'Illuminate\Queue\Console\ForgetFailedCommand' => \Illuminate\Queue\Console\ForgetFailedCommand::class,
            'Illuminate\Queue\Console\ListFailedCommand' => \Illuminate\Queue\Console\ListFailedCommand::class,
            'Illuminate\Queue\Console\ListenCommand' => \Illuminate\Queue\Console\ListenCommand::class,
            'Illuminate\Queue\Console\MonitorCommand' => \Illuminate\Queue\Console\MonitorCommand::class,
            'Illuminate\Queue\Console\PruneBatchesCommand' => \Illuminate\Queue\Console\PruneBatchesCommand::class,
            'Illuminate\Queue\Console\PruneFailedJobsCommand' => \Illuminate\Queue\Console\PruneFailedJobsCommand::class,
            'Illuminate\Queue\Console\RestartCommand' => \Illuminate\Queue\Console\RestartCommand::class,
            'Illuminate\Queue\Console\RetryBatchCommand' => \Illuminate\Queue\Console\RetryBatchCommand::class,
            'Illuminate\Queue\Console\RetryCommand' => \Illuminate\Queue\Console\RetryCommand::class,
            'Illuminate\Queue\Console\TableCommand' => \Orchestra\Canvas\Console\QueueTableCommand::class,
            'Illuminate\Queue\Console\WorkCommand' => \Illuminate\Queue\Console\WorkCommand::class,
            'Illuminate\Routing\Console\ControllerMakeCommand' => \Orchestra\Canvas\Console\ControllerMakeCommand::class,
            'Illuminate\Routing\Console\MiddlewareMakeCommand' => \Orchestra\Canvas\Console\MiddlewareMakeCommand::class,
            'Illuminate\Routing\Contracts\CallableDispatcher' => \Illuminate\Routing\CallableDispatcher::class,
            'Illuminate\Routing\Contracts\ControllerDispatcher' => \Illuminate\Routing\ControllerDispatcher::class,
            'Illuminate\Session\Console\SessionTableCommand' => \Orchestra\Canvas\Console\SessionTableCommand::class,
            'Illuminate\Session\Middleware\StartSession' => \Illuminate\Session\Middleware\StartSession::class,
            'Illuminate\Testing\ParallelTesting' => \Illuminate\Testing\ParallelTesting::class,
            'NunoMaduro\Collision\Contracts\Provider' => \NunoMaduro\Collision\Provider::class,
            'Orchestra\Canvas\Console\UserFactoryMakeCommand' => \Orchestra\Canvas\Console\UserFactoryMakeCommand::class,
            'Orchestra\Canvas\Console\UserModelMakeCommand' => \Orchestra\Canvas\Console\UserModelMakeCommand::class,
            'Orchestra\Canvas\Core\PresetManager' => \Orchestra\Canvas\Core\PresetManager::class,
            'Spatie\Activitylog\ActivityLogStatus' => \Spatie\Activitylog\ActivityLogStatus::class,
            'Spatie\Activitylog\ActivityLogger' => \Spatie\Activitylog\ActivityLogger::class,
            'Spatie\Activitylog\CauserResolver' => \Spatie\Activitylog\CauserResolver::class,
            'Spatie\Activitylog\LogBatch' => \Spatie\Activitylog\LogBatch::class,
            'Spatie\FlareClient\Flare' => \Spatie\FlareClient\Flare::class,
            'Spatie\Ignition\Config\IgnitionConfig' => \Spatie\Ignition\Config\IgnitionConfig::class,
            'Spatie\Ignition\Contracts\ConfigManager' => \Spatie\Ignition\Config\FileConfigManager::class,
            'Spatie\Ignition\Contracts\SolutionProviderRepository' => \Spatie\LaravelIgnition\Solutions\SolutionProviders\SolutionProviderRepository::class,
            'Spatie\Ignition\Ignition' => \Spatie\Ignition\Ignition::class,
            'Spatie\LaravelIgnition\Recorders\DumpRecorder\DumpRecorder' => \Spatie\LaravelIgnition\Recorders\DumpRecorder\DumpRecorder::class,
            'Spatie\LaravelIgnition\Recorders\DumpRecorder\MultiDumpHandler' => \Spatie\LaravelIgnition\Recorders\DumpRecorder\MultiDumpHandler::class,
            'Spatie\LaravelIgnition\Recorders\JobRecorder\JobRecorder' => \Spatie\LaravelIgnition\Recorders\JobRecorder\JobRecorder::class,
            'Spatie\LaravelIgnition\Recorders\LogRecorder\LogRecorder' => \Spatie\LaravelIgnition\Recorders\LogRecorder\LogRecorder::class,
            'Spatie\LaravelIgnition\Recorders\QueryRecorder\QueryRecorder' => \Spatie\LaravelIgnition\Recorders\QueryRecorder\QueryRecorder::class,
            'Spatie\LaravelIgnition\Support\SentReports' => \Spatie\LaravelIgnition\Support\SentReports::class,
            'Spatie\MediaLibrary\MediaCollections\Filesystem' => \Spatie\MediaLibrary\MediaCollections\Filesystem::class,
            'Spatie\MediaLibrary\MediaCollections\MediaRepository' => \Spatie\MediaLibrary\MediaCollections\MediaRepository::class,
            'Spatie\MediaLibrary\ResponsiveImages\TinyPlaceholderGenerator\TinyPlaceholderGenerator' => \Spatie\MediaLibrary\ResponsiveImages\TinyPlaceholderGenerator\Blurred::class,
            'Spatie\MediaLibrary\ResponsiveImages\WidthCalculator\WidthCalculator' => \Spatie\MediaLibrary\ResponsiveImages\WidthCalculator\FileSizeOptimizedWidthCalculator::class,
            'Whoops\Handler\HandlerInterface' => \Spatie\LaravelIgnition\Renderers\IgnitionWhoopsHandler::class,
            'auth' => \Illuminate\Auth\AuthManager::class,
            'auth.driver' => \Illuminate\Auth\SessionGuard::class,
            'auth.password' => \Illuminate\Auth\Passwords\PasswordBrokerManager::class,
            'auth.password.broker' => \Illuminate\Auth\Passwords\PasswordBroker::class,
            'blade.compiler' => \Illuminate\View\Compilers\BladeCompiler::class,
            'cache' => \Illuminate\Cache\CacheManager::class,
            'cache.store' => \Illuminate\Cache\Repository::class,
            'command.ide-helper.eloquent' => \Barryvdh\LaravelIdeHelper\Console\EloquentCommand::class,
            'command.ide-helper.generate' => \Barryvdh\LaravelIdeHelper\Console\GeneratorCommand::class,
            'command.ide-helper.meta' => \Barryvdh\LaravelIdeHelper\Console\MetaCommand::class,
            'command.ide-helper.models' => \Barryvdh\LaravelIdeHelper\Console\ModelsCommand::class,
            'command.media-library:clean' => \Spatie\MediaLibrary\MediaCollections\Commands\CleanCommand::class,
            'command.media-library:clear' => \Spatie\MediaLibrary\MediaCollections\Commands\ClearCommand::class,
            'command.media-library:regenerate' => \Spatie\MediaLibrary\Conversions\Commands\RegenerateCommand::class,
            'command.tinker' => \Laravel\Tinker\Console\TinkerCommand::class,
            'composer' => \Illuminate\Support\Composer::class,
            'cookie' => \Illuminate\Cookie\CookieJar::class,
            'db' => \Illuminate\Database\DatabaseManager::class,
            'db.connection' => \Illuminate\Database\MySqlConnection::class,
            'db.factory' => \Illuminate\Database\Connectors\ConnectionFactory::class,
            'db.schema' => \Illuminate\Database\Schema\MySqlBuilder::class,
            'db.transactions' => \Illuminate\Database\DatabaseTransactionsManager::class,
            'encrypter' => \Illuminate\Encryption\Encrypter::class,
            'events' => \Illuminate\Events\Dispatcher::class,
            'files' => \Illuminate\Filesystem\Filesystem::class,
            'filesystem' => \Illuminate\Filesystem\FilesystemManager::class,
            'filesystem.cloud' => \Illuminate\Filesystem\FilesystemAdapter::class,
            'filesystem.disk' => \Illuminate\Filesystem\FilesystemAdapter::class,
            'flare.logger' => \Monolog\Logger::class,
            'hash' => \Illuminate\Hashing\HashManager::class,
            'hash.driver' => \Illuminate\Hashing\BcryptHasher::class,
            'image' => \Intervention\Image\ImageManager::class,
            'log' => \Illuminate\Log\LogManager::class,
            'mail.manager' => \Illuminate\Mail\MailManager::class,
            'mailer' => \Illuminate\Mail\Mailer::class,
            'memcached.connector' => \Illuminate\Cache\MemcachedConnector::class,
            'migration.creator' => \Illuminate\Database\Migrations\MigrationCreator::class,
            'migration.repository' => \Illuminate\Database\Migrations\DatabaseMigrationRepository::class,
            'migrator' => \Illuminate\Database\Migrations\Migrator::class,
            'queue' => \Illuminate\Queue\QueueManager::class,
            'queue.connection' => \Illuminate\Queue\SyncQueue::class,
            'queue.failer' => \Illuminate\Queue\Failed\DatabaseUuidFailedJobProvider::class,
            'queue.listener' => \Illuminate\Queue\Listener::class,
            'queue.worker' => \Illuminate\Queue\Worker::class,
            'recaptcha' => \Biscolab\ReCaptcha\ReCaptchaBuilderV2::class,
            'redirect' => \Illuminate\Routing\Redirector::class,
            'redis' => \Illuminate\Redis\RedisManager::class,
            'router' => \Illuminate\Routing\Router::class,
            'session' => \Illuminate\Session\SessionManager::class,
            'session.store' => \Illuminate\Session\Store::class,
            'translation.loader' => \Illuminate\Translation\FileLoader::class,
            'translator' => \Illuminate\Translation\Translator::class,
            'url' => \Illuminate\Routing\UrlGenerator::class,
            'validation.presence' => \Illuminate\Validation\DatabasePresenceVerifier::class,
            'view' => \Illuminate\View\Factory::class,
            'view.engine.resolver' => \Illuminate\View\Engines\EngineResolver::class,
            'view.finder' => \Illuminate\View\FileViewFinder::class,
        ]));
    override(\resolve(0), map([
        '' => '@',
            'Illuminate\Auth\Console\ClearResetsCommand' => \Illuminate\Auth\Console\ClearResetsCommand::class,
            'Illuminate\Auth\Middleware\RequirePassword' => \Illuminate\Auth\Middleware\RequirePassword::class,
            'Illuminate\Broadcasting\BroadcastManager' => \Illuminate\Broadcasting\BroadcastManager::class,
            'Illuminate\Bus\BatchRepository' => \Illuminate\Bus\DatabaseBatchRepository::class,
            'Illuminate\Bus\DatabaseBatchRepository' => \Illuminate\Bus\DatabaseBatchRepository::class,
            'Illuminate\Bus\Dispatcher' => \Illuminate\Bus\Dispatcher::class,
            'Illuminate\Cache\Console\CacheTableCommand' => \Illuminate\Cache\Console\CacheTableCommand::class,
            'Illuminate\Cache\Console\ClearCommand' => \Illuminate\Cache\Console\ClearCommand::class,
            'Illuminate\Cache\Console\ForgetCommand' => \Illuminate\Cache\Console\ForgetCommand::class,
            'Illuminate\Cache\RateLimiter' => \Illuminate\Cache\RateLimiter::class,
            'Illuminate\Console\Scheduling\Schedule' => \Illuminate\Console\Scheduling\Schedule::class,
            'Illuminate\Console\Scheduling\ScheduleClearCacheCommand' => \Illuminate\Console\Scheduling\ScheduleClearCacheCommand::class,
            'Illuminate\Console\Scheduling\ScheduleFinishCommand' => \Illuminate\Console\Scheduling\ScheduleFinishCommand::class,
            'Illuminate\Console\Scheduling\ScheduleListCommand' => \Illuminate\Console\Scheduling\ScheduleListCommand::class,
            'Illuminate\Console\Scheduling\ScheduleRunCommand' => \Illuminate\Console\Scheduling\ScheduleRunCommand::class,
            'Illuminate\Console\Scheduling\ScheduleTestCommand' => \Illuminate\Console\Scheduling\ScheduleTestCommand::class,
            'Illuminate\Console\Scheduling\ScheduleWorkCommand' => \Illuminate\Console\Scheduling\ScheduleWorkCommand::class,
            'Illuminate\Contracts\Auth\Access\Gate' => \Illuminate\Auth\Access\Gate::class,
            'Illuminate\Contracts\Broadcasting\Broadcaster' => \Illuminate\Broadcasting\Broadcasters\LogBroadcaster::class,
            'Illuminate\Contracts\Console\Kernel' => \App\Console\Kernel::class,
            'Illuminate\Contracts\Debug\ExceptionHandler' => \NunoMaduro\Collision\Adapters\Laravel\ExceptionHandler::class,
            'Illuminate\Contracts\Foundation\ExceptionRenderer' => \Spatie\LaravelIgnition\Renderers\IgnitionExceptionRenderer::class,
            'Illuminate\Contracts\Foundation\MaintenanceMode' => \Illuminate\Foundation\FileBasedMaintenanceMode::class,
            'Illuminate\Contracts\Http\Kernel' => \App\Http\Kernel::class,
            'Illuminate\Contracts\Pipeline\Hub' => \Illuminate\Pipeline\Hub::class,
            'Illuminate\Contracts\Queue\EntityResolver' => \Illuminate\Database\Eloquent\QueueEntityResolver::class,
            'Illuminate\Contracts\Routing\ResponseFactory' => \Illuminate\Routing\ResponseFactory::class,
            'Illuminate\Contracts\Validation\UncompromisedVerifier' => \Illuminate\Validation\NotPwnedVerifier::class,
            'Illuminate\Database\Console\DbCommand' => \Illuminate\Database\Console\DbCommand::class,
            'Illuminate\Database\Console\DumpCommand' => \Illuminate\Database\Console\DumpCommand::class,
            'Illuminate\Database\Console\Factories\FactoryMakeCommand' => \Orchestra\Canvas\Console\FactoryMakeCommand::class,
            'Illuminate\Database\Console\Migrations\FreshCommand' => \Illuminate\Database\Console\Migrations\FreshCommand::class,
            'Illuminate\Database\Console\Migrations\InstallCommand' => \Illuminate\Database\Console\Migrations\InstallCommand::class,
            'Illuminate\Database\Console\Migrations\MigrateCommand' => \Illuminate\Database\Console\Migrations\MigrateCommand::class,
            'Illuminate\Database\Console\Migrations\MigrateMakeCommand' => \Orchestra\Canvas\Console\MigrateMakeCommand::class,
            'Illuminate\Database\Console\Migrations\RefreshCommand' => \Illuminate\Database\Console\Migrations\RefreshCommand::class,
            'Illuminate\Database\Console\Migrations\ResetCommand' => \Illuminate\Database\Console\Migrations\ResetCommand::class,
            'Illuminate\Database\Console\Migrations\RollbackCommand' => \Illuminate\Database\Console\Migrations\RollbackCommand::class,
            'Illuminate\Database\Console\Migrations\StatusCommand' => \Illuminate\Database\Console\Migrations\StatusCommand::class,
            'Illuminate\Database\Console\MonitorCommand' => \Illuminate\Database\Console\MonitorCommand::class,
            'Illuminate\Database\Console\PruneCommand' => \Illuminate\Database\Console\PruneCommand::class,
            'Illuminate\Database\Console\Seeds\SeedCommand' => \Illuminate\Database\Console\Seeds\SeedCommand::class,
            'Illuminate\Database\Console\Seeds\SeederMakeCommand' => \Orchestra\Canvas\Console\SeederMakeCommand::class,
            'Illuminate\Database\Console\ShowCommand' => \Illuminate\Database\Console\ShowCommand::class,
            'Illuminate\Database\Console\TableCommand' => \Illuminate\Database\Console\TableCommand::class,
            'Illuminate\Database\Console\WipeCommand' => \Illuminate\Database\Console\WipeCommand::class,
            'Illuminate\Foundation\Console\AboutCommand' => \Illuminate\Foundation\Console\AboutCommand::class,
            'Illuminate\Foundation\Console\CastMakeCommand' => \Orchestra\Canvas\Console\CastMakeCommand::class,
            'Illuminate\Foundation\Console\ChannelMakeCommand' => \Orchestra\Canvas\Console\ChannelMakeCommand::class,
            'Illuminate\Foundation\Console\ClearCompiledCommand' => \Illuminate\Foundation\Console\ClearCompiledCommand::class,
            'Illuminate\Foundation\Console\ComponentMakeCommand' => \Orchestra\Canvas\Console\ComponentMakeCommand::class,
            'Illuminate\Foundation\Console\ConfigCacheCommand' => \Illuminate\Foundation\Console\ConfigCacheCommand::class,
            'Illuminate\Foundation\Console\ConfigClearCommand' => \Illuminate\Foundation\Console\ConfigClearCommand::class,
            'Illuminate\Foundation\Console\ConsoleMakeCommand' => \Orchestra\Canvas\Console\ConsoleMakeCommand::class,
            'Illuminate\Foundation\Console\DocsCommand' => \Illuminate\Foundation\Console\DocsCommand::class,
            'Illuminate\Foundation\Console\DownCommand' => \Illuminate\Foundation\Console\DownCommand::class,
            'Illuminate\Foundation\Console\EnvironmentCommand' => \Illuminate\Foundation\Console\EnvironmentCommand::class,
            'Illuminate\Foundation\Console\EnvironmentDecryptCommand' => \Illuminate\Foundation\Console\EnvironmentDecryptCommand::class,
            'Illuminate\Foundation\Console\EnvironmentEncryptCommand' => \Illuminate\Foundation\Console\EnvironmentEncryptCommand::class,
            'Illuminate\Foundation\Console\EventCacheCommand' => \Illuminate\Foundation\Console\EventCacheCommand::class,
            'Illuminate\Foundation\Console\EventClearCommand' => \Illuminate\Foundation\Console\EventClearCommand::class,
            'Illuminate\Foundation\Console\EventGenerateCommand' => \Illuminate\Foundation\Console\EventGenerateCommand::class,
            'Illuminate\Foundation\Console\EventListCommand' => \Illuminate\Foundation\Console\EventListCommand::class,
            'Illuminate\Foundation\Console\EventMakeCommand' => \Orchestra\Canvas\Console\EventMakeCommand::class,
            'Illuminate\Foundation\Console\ExceptionMakeCommand' => \Orchestra\Canvas\Console\ExceptionMakeCommand::class,
            'Illuminate\Foundation\Console\JobMakeCommand' => \Orchestra\Canvas\Console\JobMakeCommand::class,
            'Illuminate\Foundation\Console\KeyGenerateCommand' => \Illuminate\Foundation\Console\KeyGenerateCommand::class,
            'Illuminate\Foundation\Console\ListenerMakeCommand' => \Orchestra\Canvas\Console\ListenerMakeCommand::class,
            'Illuminate\Foundation\Console\MailMakeCommand' => \Orchestra\Canvas\Console\MailMakeCommand::class,
            'Illuminate\Foundation\Console\ModelMakeCommand' => \Orchestra\Canvas\Console\ModelMakeCommand::class,
            'Illuminate\Foundation\Console\NotificationMakeCommand' => \Orchestra\Canvas\Console\NotificationMakeCommand::class,
            'Illuminate\Foundation\Console\ObserverMakeCommand' => \Orchestra\Canvas\Console\ObserverMakeCommand::class,
            'Illuminate\Foundation\Console\OptimizeClearCommand' => \Illuminate\Foundation\Console\OptimizeClearCommand::class,
            'Illuminate\Foundation\Console\OptimizeCommand' => \Illuminate\Foundation\Console\OptimizeCommand::class,
            'Illuminate\Foundation\Console\PackageDiscoverCommand' => \Illuminate\Foundation\Console\PackageDiscoverCommand::class,
            'Illuminate\Foundation\Console\PolicyMakeCommand' => \Orchestra\Canvas\Console\PolicyMakeCommand::class,
            'Illuminate\Foundation\Console\ProviderMakeCommand' => \Orchestra\Canvas\Console\ProviderMakeCommand::class,
            'Illuminate\Foundation\Console\RequestMakeCommand' => \Orchestra\Canvas\Console\RequestMakeCommand::class,
            'Illuminate\Foundation\Console\ResourceMakeCommand' => \Orchestra\Canvas\Console\ResourceMakeCommand::class,
            'Illuminate\Foundation\Console\RouteCacheCommand' => \Illuminate\Foundation\Console\RouteCacheCommand::class,
            'Illuminate\Foundation\Console\RouteClearCommand' => \Illuminate\Foundation\Console\RouteClearCommand::class,
            'Illuminate\Foundation\Console\RouteListCommand' => \Illuminate\Foundation\Console\RouteListCommand::class,
            'Illuminate\Foundation\Console\RuleMakeCommand' => \Orchestra\Canvas\Console\RuleMakeCommand::class,
            'Illuminate\Foundation\Console\ScopeMakeCommand' => \Orchestra\Canvas\Console\ScopeMakeCommand::class,
            'Illuminate\Foundation\Console\ServeCommand' => \Illuminate\Foundation\Console\ServeCommand::class,
            'Illuminate\Foundation\Console\ShowModelCommand' => \Illuminate\Foundation\Console\ShowModelCommand::class,
            'Illuminate\Foundation\Console\StorageLinkCommand' => \Illuminate\Foundation\Console\StorageLinkCommand::class,
            'Illuminate\Foundation\Console\StubPublishCommand' => \Illuminate\Foundation\Console\StubPublishCommand::class,
            'Illuminate\Foundation\Console\TestMakeCommand' => \Orchestra\Canvas\Console\TestMakeCommand::class,
            'Illuminate\Foundation\Console\UpCommand' => \Illuminate\Foundation\Console\UpCommand::class,
            'Illuminate\Foundation\Console\VendorPublishCommand' => \Illuminate\Foundation\Console\VendorPublishCommand::class,
            'Illuminate\Foundation\Console\ViewCacheCommand' => \Illuminate\Foundation\Console\ViewCacheCommand::class,
            'Illuminate\Foundation\Console\ViewClearCommand' => \Illuminate\Foundation\Console\ViewClearCommand::class,
            'Illuminate\Foundation\MaintenanceModeManager' => \Illuminate\Foundation\MaintenanceModeManager::class,
            'Illuminate\Foundation\Mix' => \Illuminate\Foundation\Mix::class,
            'Illuminate\Foundation\PackageManifest' => \Illuminate\Foundation\PackageManifest::class,
            'Illuminate\Foundation\Vite' => \Illuminate\Foundation\Vite::class,
            'Illuminate\Mail\Markdown' => \Illuminate\Mail\Markdown::class,
            'Illuminate\Notifications\ChannelManager' => \Illuminate\Notifications\ChannelManager::class,
            'Illuminate\Notifications\Console\NotificationTableCommand' => \Orchestra\Canvas\Console\NotificationTableCommand::class,
            'Illuminate\Queue\Console\BatchesTableCommand' => \Orchestra\Canvas\Console\BatchesTableCommand::class,
            'Illuminate\Queue\Console\ClearCommand' => \Illuminate\Queue\Console\ClearCommand::class,
            'Illuminate\Queue\Console\FailedTableCommand' => \Orchestra\Canvas\Console\FailedTableCommand::class,
            'Illuminate\Queue\Console\FlushFailedCommand' => \Illuminate\Queue\Console\FlushFailedCommand::class,
            'Illuminate\Queue\Console\ForgetFailedCommand' => \Illuminate\Queue\Console\ForgetFailedCommand::class,
            'Illuminate\Queue\Console\ListFailedCommand' => \Illuminate\Queue\Console\ListFailedCommand::class,
            'Illuminate\Queue\Console\ListenCommand' => \Illuminate\Queue\Console\ListenCommand::class,
            'Illuminate\Queue\Console\MonitorCommand' => \Illuminate\Queue\Console\MonitorCommand::class,
            'Illuminate\Queue\Console\PruneBatchesCommand' => \Illuminate\Queue\Console\PruneBatchesCommand::class,
            'Illuminate\Queue\Console\PruneFailedJobsCommand' => \Illuminate\Queue\Console\PruneFailedJobsCommand::class,
            'Illuminate\Queue\Console\RestartCommand' => \Illuminate\Queue\Console\RestartCommand::class,
            'Illuminate\Queue\Console\RetryBatchCommand' => \Illuminate\Queue\Console\RetryBatchCommand::class,
            'Illuminate\Queue\Console\RetryCommand' => \Illuminate\Queue\Console\RetryCommand::class,
            'Illuminate\Queue\Console\TableCommand' => \Orchestra\Canvas\Console\QueueTableCommand::class,
            'Illuminate\Queue\Console\WorkCommand' => \Illuminate\Queue\Console\WorkCommand::class,
            'Illuminate\Routing\Console\ControllerMakeCommand' => \Orchestra\Canvas\Console\ControllerMakeCommand::class,
            'Illuminate\Routing\Console\MiddlewareMakeCommand' => \Orchestra\Canvas\Console\MiddlewareMakeCommand::class,
            'Illuminate\Routing\Contracts\CallableDispatcher' => \Illuminate\Routing\CallableDispatcher::class,
            'Illuminate\Routing\Contracts\ControllerDispatcher' => \Illuminate\Routing\ControllerDispatcher::class,
            'Illuminate\Session\Console\SessionTableCommand' => \Orchestra\Canvas\Console\SessionTableCommand::class,
            'Illuminate\Session\Middleware\StartSession' => \Illuminate\Session\Middleware\StartSession::class,
            'Illuminate\Testing\ParallelTesting' => \Illuminate\Testing\ParallelTesting::class,
            'NunoMaduro\Collision\Contracts\Provider' => \NunoMaduro\Collision\Provider::class,
            'Orchestra\Canvas\Console\UserFactoryMakeCommand' => \Orchestra\Canvas\Console\UserFactoryMakeCommand::class,
            'Orchestra\Canvas\Console\UserModelMakeCommand' => \Orchestra\Canvas\Console\UserModelMakeCommand::class,
            'Orchestra\Canvas\Core\PresetManager' => \Orchestra\Canvas\Core\PresetManager::class,
            'Spatie\Activitylog\ActivityLogStatus' => \Spatie\Activitylog\ActivityLogStatus::class,
            'Spatie\Activitylog\ActivityLogger' => \Spatie\Activitylog\ActivityLogger::class,
            'Spatie\Activitylog\CauserResolver' => \Spatie\Activitylog\CauserResolver::class,
            'Spatie\Activitylog\LogBatch' => \Spatie\Activitylog\LogBatch::class,
            'Spatie\FlareClient\Flare' => \Spatie\FlareClient\Flare::class,
            'Spatie\Ignition\Config\IgnitionConfig' => \Spatie\Ignition\Config\IgnitionConfig::class,
            'Spatie\Ignition\Contracts\ConfigManager' => \Spatie\Ignition\Config\FileConfigManager::class,
            'Spatie\Ignition\Contracts\SolutionProviderRepository' => \Spatie\LaravelIgnition\Solutions\SolutionProviders\SolutionProviderRepository::class,
            'Spatie\Ignition\Ignition' => \Spatie\Ignition\Ignition::class,
            'Spatie\LaravelIgnition\Recorders\DumpRecorder\DumpRecorder' => \Spatie\LaravelIgnition\Recorders\DumpRecorder\DumpRecorder::class,
            'Spatie\LaravelIgnition\Recorders\DumpRecorder\MultiDumpHandler' => \Spatie\LaravelIgnition\Recorders\DumpRecorder\MultiDumpHandler::class,
            'Spatie\LaravelIgnition\Recorders\JobRecorder\JobRecorder' => \Spatie\LaravelIgnition\Recorders\JobRecorder\JobRecorder::class,
            'Spatie\LaravelIgnition\Recorders\LogRecorder\LogRecorder' => \Spatie\LaravelIgnition\Recorders\LogRecorder\LogRecorder::class,
            'Spatie\LaravelIgnition\Recorders\QueryRecorder\QueryRecorder' => \Spatie\LaravelIgnition\Recorders\QueryRecorder\QueryRecorder::class,
            'Spatie\LaravelIgnition\Support\SentReports' => \Spatie\LaravelIgnition\Support\SentReports::class,
            'Spatie\MediaLibrary\MediaCollections\Filesystem' => \Spatie\MediaLibrary\MediaCollections\Filesystem::class,
            'Spatie\MediaLibrary\MediaCollections\MediaRepository' => \Spatie\MediaLibrary\MediaCollections\MediaRepository::class,
            'Spatie\MediaLibrary\ResponsiveImages\TinyPlaceholderGenerator\TinyPlaceholderGenerator' => \Spatie\MediaLibrary\ResponsiveImages\TinyPlaceholderGenerator\Blurred::class,
            'Spatie\MediaLibrary\ResponsiveImages\WidthCalculator\WidthCalculator' => \Spatie\MediaLibrary\ResponsiveImages\WidthCalculator\FileSizeOptimizedWidthCalculator::class,
            'Whoops\Handler\HandlerInterface' => \Spatie\LaravelIgnition\Renderers\IgnitionWhoopsHandler::class,
            'auth' => \Illuminate\Auth\AuthManager::class,
            'auth.driver' => \Illuminate\Auth\SessionGuard::class,
            'auth.password' => \Illuminate\Auth\Passwords\PasswordBrokerManager::class,
            'auth.password.broker' => \Illuminate\Auth\Passwords\PasswordBroker::class,
            'blade.compiler' => \Illuminate\View\Compilers\BladeCompiler::class,
            'cache' => \Illuminate\Cache\CacheManager::class,
            'cache.store' => \Illuminate\Cache\Repository::class,
            'command.ide-helper.eloquent' => \Barryvdh\LaravelIdeHelper\Console\EloquentCommand::class,
            'command.ide-helper.generate' => \Barryvdh\LaravelIdeHelper\Console\GeneratorCommand::class,
            'command.ide-helper.meta' => \Barryvdh\LaravelIdeHelper\Console\MetaCommand::class,
            'command.ide-helper.models' => \Barryvdh\LaravelIdeHelper\Console\ModelsCommand::class,
            'command.media-library:clean' => \Spatie\MediaLibrary\MediaCollections\Commands\CleanCommand::class,
            'command.media-library:clear' => \Spatie\MediaLibrary\MediaCollections\Commands\ClearCommand::class,
            'command.media-library:regenerate' => \Spatie\MediaLibrary\Conversions\Commands\RegenerateCommand::class,
            'command.tinker' => \Laravel\Tinker\Console\TinkerCommand::class,
            'composer' => \Illuminate\Support\Composer::class,
            'cookie' => \Illuminate\Cookie\CookieJar::class,
            'db' => \Illuminate\Database\DatabaseManager::class,
            'db.connection' => \Illuminate\Database\MySqlConnection::class,
            'db.factory' => \Illuminate\Database\Connectors\ConnectionFactory::class,
            'db.schema' => \Illuminate\Database\Schema\MySqlBuilder::class,
            'db.transactions' => \Illuminate\Database\DatabaseTransactionsManager::class,
            'encrypter' => \Illuminate\Encryption\Encrypter::class,
            'events' => \Illuminate\Events\Dispatcher::class,
            'files' => \Illuminate\Filesystem\Filesystem::class,
            'filesystem' => \Illuminate\Filesystem\FilesystemManager::class,
            'filesystem.cloud' => \Illuminate\Filesystem\FilesystemAdapter::class,
            'filesystem.disk' => \Illuminate\Filesystem\FilesystemAdapter::class,
            'flare.logger' => \Monolog\Logger::class,
            'hash' => \Illuminate\Hashing\HashManager::class,
            'hash.driver' => \Illuminate\Hashing\BcryptHasher::class,
            'image' => \Intervention\Image\ImageManager::class,
            'log' => \Illuminate\Log\LogManager::class,
            'mail.manager' => \Illuminate\Mail\MailManager::class,
            'mailer' => \Illuminate\Mail\Mailer::class,
            'memcached.connector' => \Illuminate\Cache\MemcachedConnector::class,
            'migration.creator' => \Illuminate\Database\Migrations\MigrationCreator::class,
            'migration.repository' => \Illuminate\Database\Migrations\DatabaseMigrationRepository::class,
            'migrator' => \Illuminate\Database\Migrations\Migrator::class,
            'queue' => \Illuminate\Queue\QueueManager::class,
            'queue.connection' => \Illuminate\Queue\SyncQueue::class,
            'queue.failer' => \Illuminate\Queue\Failed\DatabaseUuidFailedJobProvider::class,
            'queue.listener' => \Illuminate\Queue\Listener::class,
            'queue.worker' => \Illuminate\Queue\Worker::class,
            'recaptcha' => \Biscolab\ReCaptcha\ReCaptchaBuilderV2::class,
            'redirect' => \Illuminate\Routing\Redirector::class,
            'redis' => \Illuminate\Redis\RedisManager::class,
            'router' => \Illuminate\Routing\Router::class,
            'session' => \Illuminate\Session\SessionManager::class,
            'session.store' => \Illuminate\Session\Store::class,
            'translation.loader' => \Illuminate\Translation\FileLoader::class,
            'translator' => \Illuminate\Translation\Translator::class,
            'url' => \Illuminate\Routing\UrlGenerator::class,
            'validation.presence' => \Illuminate\Validation\DatabasePresenceVerifier::class,
            'view' => \Illuminate\View\Factory::class,
            'view.engine.resolver' => \Illuminate\View\Engines\EngineResolver::class,
            'view.finder' => \Illuminate\View\FileViewFinder::class,
        ]));
    override(\Psr\Container\ContainerInterface::get(0), map([
        '' => '@',
            'Illuminate\Auth\Console\ClearResetsCommand' => \Illuminate\Auth\Console\ClearResetsCommand::class,
            'Illuminate\Auth\Middleware\RequirePassword' => \Illuminate\Auth\Middleware\RequirePassword::class,
            'Illuminate\Broadcasting\BroadcastManager' => \Illuminate\Broadcasting\BroadcastManager::class,
            'Illuminate\Bus\BatchRepository' => \Illuminate\Bus\DatabaseBatchRepository::class,
            'Illuminate\Bus\DatabaseBatchRepository' => \Illuminate\Bus\DatabaseBatchRepository::class,
            'Illuminate\Bus\Dispatcher' => \Illuminate\Bus\Dispatcher::class,
            'Illuminate\Cache\Console\CacheTableCommand' => \Illuminate\Cache\Console\CacheTableCommand::class,
            'Illuminate\Cache\Console\ClearCommand' => \Illuminate\Cache\Console\ClearCommand::class,
            'Illuminate\Cache\Console\ForgetCommand' => \Illuminate\Cache\Console\ForgetCommand::class,
            'Illuminate\Cache\RateLimiter' => \Illuminate\Cache\RateLimiter::class,
            'Illuminate\Console\Scheduling\Schedule' => \Illuminate\Console\Scheduling\Schedule::class,
            'Illuminate\Console\Scheduling\ScheduleClearCacheCommand' => \Illuminate\Console\Scheduling\ScheduleClearCacheCommand::class,
            'Illuminate\Console\Scheduling\ScheduleFinishCommand' => \Illuminate\Console\Scheduling\ScheduleFinishCommand::class,
            'Illuminate\Console\Scheduling\ScheduleListCommand' => \Illuminate\Console\Scheduling\ScheduleListCommand::class,
            'Illuminate\Console\Scheduling\ScheduleRunCommand' => \Illuminate\Console\Scheduling\ScheduleRunCommand::class,
            'Illuminate\Console\Scheduling\ScheduleTestCommand' => \Illuminate\Console\Scheduling\ScheduleTestCommand::class,
            'Illuminate\Console\Scheduling\ScheduleWorkCommand' => \Illuminate\Console\Scheduling\ScheduleWorkCommand::class,
            'Illuminate\Contracts\Auth\Access\Gate' => \Illuminate\Auth\Access\Gate::class,
            'Illuminate\Contracts\Broadcasting\Broadcaster' => \Illuminate\Broadcasting\Broadcasters\LogBroadcaster::class,
            'Illuminate\Contracts\Console\Kernel' => \App\Console\Kernel::class,
            'Illuminate\Contracts\Debug\ExceptionHandler' => \NunoMaduro\Collision\Adapters\Laravel\ExceptionHandler::class,
            'Illuminate\Contracts\Foundation\ExceptionRenderer' => \Spatie\LaravelIgnition\Renderers\IgnitionExceptionRenderer::class,
            'Illuminate\Contracts\Foundation\MaintenanceMode' => \Illuminate\Foundation\FileBasedMaintenanceMode::class,
            'Illuminate\Contracts\Http\Kernel' => \App\Http\Kernel::class,
            'Illuminate\Contracts\Pipeline\Hub' => \Illuminate\Pipeline\Hub::class,
            'Illuminate\Contracts\Queue\EntityResolver' => \Illuminate\Database\Eloquent\QueueEntityResolver::class,
            'Illuminate\Contracts\Routing\ResponseFactory' => \Illuminate\Routing\ResponseFactory::class,
            'Illuminate\Contracts\Validation\UncompromisedVerifier' => \Illuminate\Validation\NotPwnedVerifier::class,
            'Illuminate\Database\Console\DbCommand' => \Illuminate\Database\Console\DbCommand::class,
            'Illuminate\Database\Console\DumpCommand' => \Illuminate\Database\Console\DumpCommand::class,
            'Illuminate\Database\Console\Factories\FactoryMakeCommand' => \Orchestra\Canvas\Console\FactoryMakeCommand::class,
            'Illuminate\Database\Console\Migrations\FreshCommand' => \Illuminate\Database\Console\Migrations\FreshCommand::class,
            'Illuminate\Database\Console\Migrations\InstallCommand' => \Illuminate\Database\Console\Migrations\InstallCommand::class,
            'Illuminate\Database\Console\Migrations\MigrateCommand' => \Illuminate\Database\Console\Migrations\MigrateCommand::class,
            'Illuminate\Database\Console\Migrations\MigrateMakeCommand' => \Orchestra\Canvas\Console\MigrateMakeCommand::class,
            'Illuminate\Database\Console\Migrations\RefreshCommand' => \Illuminate\Database\Console\Migrations\RefreshCommand::class,
            'Illuminate\Database\Console\Migrations\ResetCommand' => \Illuminate\Database\Console\Migrations\ResetCommand::class,
            'Illuminate\Database\Console\Migrations\RollbackCommand' => \Illuminate\Database\Console\Migrations\RollbackCommand::class,
            'Illuminate\Database\Console\Migrations\StatusCommand' => \Illuminate\Database\Console\Migrations\StatusCommand::class,
            'Illuminate\Database\Console\MonitorCommand' => \Illuminate\Database\Console\MonitorCommand::class,
            'Illuminate\Database\Console\PruneCommand' => \Illuminate\Database\Console\PruneCommand::class,
            'Illuminate\Database\Console\Seeds\SeedCommand' => \Illuminate\Database\Console\Seeds\SeedCommand::class,
            'Illuminate\Database\Console\Seeds\SeederMakeCommand' => \Orchestra\Canvas\Console\SeederMakeCommand::class,
            'Illuminate\Database\Console\ShowCommand' => \Illuminate\Database\Console\ShowCommand::class,
            'Illuminate\Database\Console\TableCommand' => \Illuminate\Database\Console\TableCommand::class,
            'Illuminate\Database\Console\WipeCommand' => \Illuminate\Database\Console\WipeCommand::class,
            'Illuminate\Foundation\Console\AboutCommand' => \Illuminate\Foundation\Console\AboutCommand::class,
            'Illuminate\Foundation\Console\CastMakeCommand' => \Orchestra\Canvas\Console\CastMakeCommand::class,
            'Illuminate\Foundation\Console\ChannelMakeCommand' => \Orchestra\Canvas\Console\ChannelMakeCommand::class,
            'Illuminate\Foundation\Console\ClearCompiledCommand' => \Illuminate\Foundation\Console\ClearCompiledCommand::class,
            'Illuminate\Foundation\Console\ComponentMakeCommand' => \Orchestra\Canvas\Console\ComponentMakeCommand::class,
            'Illuminate\Foundation\Console\ConfigCacheCommand' => \Illuminate\Foundation\Console\ConfigCacheCommand::class,
            'Illuminate\Foundation\Console\ConfigClearCommand' => \Illuminate\Foundation\Console\ConfigClearCommand::class,
            'Illuminate\Foundation\Console\ConsoleMakeCommand' => \Orchestra\Canvas\Console\ConsoleMakeCommand::class,
            'Illuminate\Foundation\Console\DocsCommand' => \Illuminate\Foundation\Console\DocsCommand::class,
            'Illuminate\Foundation\Console\DownCommand' => \Illuminate\Foundation\Console\DownCommand::class,
            'Illuminate\Foundation\Console\EnvironmentCommand' => \Illuminate\Foundation\Console\EnvironmentCommand::class,
            'Illuminate\Foundation\Console\EnvironmentDecryptCommand' => \Illuminate\Foundation\Console\EnvironmentDecryptCommand::class,
            'Illuminate\Foundation\Console\EnvironmentEncryptCommand' => \Illuminate\Foundation\Console\EnvironmentEncryptCommand::class,
            'Illuminate\Foundation\Console\EventCacheCommand' => \Illuminate\Foundation\Console\EventCacheCommand::class,
            'Illuminate\Foundation\Console\EventClearCommand' => \Illuminate\Foundation\Console\EventClearCommand::class,
            'Illuminate\Foundation\Console\EventGenerateCommand' => \Illuminate\Foundation\Console\EventGenerateCommand::class,
            'Illuminate\Foundation\Console\EventListCommand' => \Illuminate\Foundation\Console\EventListCommand::class,
            'Illuminate\Foundation\Console\EventMakeCommand' => \Orchestra\Canvas\Console\EventMakeCommand::class,
            'Illuminate\Foundation\Console\ExceptionMakeCommand' => \Orchestra\Canvas\Console\ExceptionMakeCommand::class,
            'Illuminate\Foundation\Console\JobMakeCommand' => \Orchestra\Canvas\Console\JobMakeCommand::class,
            'Illuminate\Foundation\Console\KeyGenerateCommand' => \Illuminate\Foundation\Console\KeyGenerateCommand::class,
            'Illuminate\Foundation\Console\ListenerMakeCommand' => \Orchestra\Canvas\Console\ListenerMakeCommand::class,
            'Illuminate\Foundation\Console\MailMakeCommand' => \Orchestra\Canvas\Console\MailMakeCommand::class,
            'Illuminate\Foundation\Console\ModelMakeCommand' => \Orchestra\Canvas\Console\ModelMakeCommand::class,
            'Illuminate\Foundation\Console\NotificationMakeCommand' => \Orchestra\Canvas\Console\NotificationMakeCommand::class,
            'Illuminate\Foundation\Console\ObserverMakeCommand' => \Orchestra\Canvas\Console\ObserverMakeCommand::class,
            'Illuminate\Foundation\Console\OptimizeClearCommand' => \Illuminate\Foundation\Console\OptimizeClearCommand::class,
            'Illuminate\Foundation\Console\OptimizeCommand' => \Illuminate\Foundation\Console\OptimizeCommand::class,
            'Illuminate\Foundation\Console\PackageDiscoverCommand' => \Illuminate\Foundation\Console\PackageDiscoverCommand::class,
            'Illuminate\Foundation\Console\PolicyMakeCommand' => \Orchestra\Canvas\Console\PolicyMakeCommand::class,
            'Illuminate\Foundation\Console\ProviderMakeCommand' => \Orchestra\Canvas\Console\ProviderMakeCommand::class,
            'Illuminate\Foundation\Console\RequestMakeCommand' => \Orchestra\Canvas\Console\RequestMakeCommand::class,
            'Illuminate\Foundation\Console\ResourceMakeCommand' => \Orchestra\Canvas\Console\ResourceMakeCommand::class,
            'Illuminate\Foundation\Console\RouteCacheCommand' => \Illuminate\Foundation\Console\RouteCacheCommand::class,
            'Illuminate\Foundation\Console\RouteClearCommand' => \Illuminate\Foundation\Console\RouteClearCommand::class,
            'Illuminate\Foundation\Console\RouteListCommand' => \Illuminate\Foundation\Console\RouteListCommand::class,
            'Illuminate\Foundation\Console\RuleMakeCommand' => \Orchestra\Canvas\Console\RuleMakeCommand::class,
            'Illuminate\Foundation\Console\ScopeMakeCommand' => \Orchestra\Canvas\Console\ScopeMakeCommand::class,
            'Illuminate\Foundation\Console\ServeCommand' => \Illuminate\Foundation\Console\ServeCommand::class,
            'Illuminate\Foundation\Console\ShowModelCommand' => \Illuminate\Foundation\Console\ShowModelCommand::class,
            'Illuminate\Foundation\Console\StorageLinkCommand' => \Illuminate\Foundation\Console\StorageLinkCommand::class,
            'Illuminate\Foundation\Console\StubPublishCommand' => \Illuminate\Foundation\Console\StubPublishCommand::class,
            'Illuminate\Foundation\Console\TestMakeCommand' => \Orchestra\Canvas\Console\TestMakeCommand::class,
            'Illuminate\Foundation\Console\UpCommand' => \Illuminate\Foundation\Console\UpCommand::class,
            'Illuminate\Foundation\Console\VendorPublishCommand' => \Illuminate\Foundation\Console\VendorPublishCommand::class,
            'Illuminate\Foundation\Console\ViewCacheCommand' => \Illuminate\Foundation\Console\ViewCacheCommand::class,
            'Illuminate\Foundation\Console\ViewClearCommand' => \Illuminate\Foundation\Console\ViewClearCommand::class,
            'Illuminate\Foundation\MaintenanceModeManager' => \Illuminate\Foundation\MaintenanceModeManager::class,
            'Illuminate\Foundation\Mix' => \Illuminate\Foundation\Mix::class,
            'Illuminate\Foundation\PackageManifest' => \Illuminate\Foundation\PackageManifest::class,
            'Illuminate\Foundation\Vite' => \Illuminate\Foundation\Vite::class,
            'Illuminate\Mail\Markdown' => \Illuminate\Mail\Markdown::class,
            'Illuminate\Notifications\ChannelManager' => \Illuminate\Notifications\ChannelManager::class,
            'Illuminate\Notifications\Console\NotificationTableCommand' => \Orchestra\Canvas\Console\NotificationTableCommand::class,
            'Illuminate\Queue\Console\BatchesTableCommand' => \Orchestra\Canvas\Console\BatchesTableCommand::class,
            'Illuminate\Queue\Console\ClearCommand' => \Illuminate\Queue\Console\ClearCommand::class,
            'Illuminate\Queue\Console\FailedTableCommand' => \Orchestra\Canvas\Console\FailedTableCommand::class,
            'Illuminate\Queue\Console\FlushFailedCommand' => \Illuminate\Queue\Console\FlushFailedCommand::class,
            'Illuminate\Queue\Console\ForgetFailedCommand' => \Illuminate\Queue\Console\ForgetFailedCommand::class,
            'Illuminate\Queue\Console\ListFailedCommand' => \Illuminate\Queue\Console\ListFailedCommand::class,
            'Illuminate\Queue\Console\ListenCommand' => \Illuminate\Queue\Console\ListenCommand::class,
            'Illuminate\Queue\Console\MonitorCommand' => \Illuminate\Queue\Console\MonitorCommand::class,
            'Illuminate\Queue\Console\PruneBatchesCommand' => \Illuminate\Queue\Console\PruneBatchesCommand::class,
            'Illuminate\Queue\Console\PruneFailedJobsCommand' => \Illuminate\Queue\Console\PruneFailedJobsCommand::class,
            'Illuminate\Queue\Console\RestartCommand' => \Illuminate\Queue\Console\RestartCommand::class,
            'Illuminate\Queue\Console\RetryBatchCommand' => \Illuminate\Queue\Console\RetryBatchCommand::class,
            'Illuminate\Queue\Console\RetryCommand' => \Illuminate\Queue\Console\RetryCommand::class,
            'Illuminate\Queue\Console\TableCommand' => \Orchestra\Canvas\Console\QueueTableCommand::class,
            'Illuminate\Queue\Console\WorkCommand' => \Illuminate\Queue\Console\WorkCommand::class,
            'Illuminate\Routing\Console\ControllerMakeCommand' => \Orchestra\Canvas\Console\ControllerMakeCommand::class,
            'Illuminate\Routing\Console\MiddlewareMakeCommand' => \Orchestra\Canvas\Console\MiddlewareMakeCommand::class,
            'Illuminate\Routing\Contracts\CallableDispatcher' => \Illuminate\Routing\CallableDispatcher::class,
            'Illuminate\Routing\Contracts\ControllerDispatcher' => \Illuminate\Routing\ControllerDispatcher::class,
            'Illuminate\Session\Console\SessionTableCommand' => \Orchestra\Canvas\Console\SessionTableCommand::class,
            'Illuminate\Session\Middleware\StartSession' => \Illuminate\Session\Middleware\StartSession::class,
            'Illuminate\Testing\ParallelTesting' => \Illuminate\Testing\ParallelTesting::class,
            'NunoMaduro\Collision\Contracts\Provider' => \NunoMaduro\Collision\Provider::class,
            'Orchestra\Canvas\Console\UserFactoryMakeCommand' => \Orchestra\Canvas\Console\UserFactoryMakeCommand::class,
            'Orchestra\Canvas\Console\UserModelMakeCommand' => \Orchestra\Canvas\Console\UserModelMakeCommand::class,
            'Orchestra\Canvas\Core\PresetManager' => \Orchestra\Canvas\Core\PresetManager::class,
            'Spatie\Activitylog\ActivityLogStatus' => \Spatie\Activitylog\ActivityLogStatus::class,
            'Spatie\Activitylog\ActivityLogger' => \Spatie\Activitylog\ActivityLogger::class,
            'Spatie\Activitylog\CauserResolver' => \Spatie\Activitylog\CauserResolver::class,
            'Spatie\Activitylog\LogBatch' => \Spatie\Activitylog\LogBatch::class,
            'Spatie\FlareClient\Flare' => \Spatie\FlareClient\Flare::class,
            'Spatie\Ignition\Config\IgnitionConfig' => \Spatie\Ignition\Config\IgnitionConfig::class,
            'Spatie\Ignition\Contracts\ConfigManager' => \Spatie\Ignition\Config\FileConfigManager::class,
            'Spatie\Ignition\Contracts\SolutionProviderRepository' => \Spatie\LaravelIgnition\Solutions\SolutionProviders\SolutionProviderRepository::class,
            'Spatie\Ignition\Ignition' => \Spatie\Ignition\Ignition::class,
            'Spatie\LaravelIgnition\Recorders\DumpRecorder\DumpRecorder' => \Spatie\LaravelIgnition\Recorders\DumpRecorder\DumpRecorder::class,
            'Spatie\LaravelIgnition\Recorders\DumpRecorder\MultiDumpHandler' => \Spatie\LaravelIgnition\Recorders\DumpRecorder\MultiDumpHandler::class,
            'Spatie\LaravelIgnition\Recorders\JobRecorder\JobRecorder' => \Spatie\LaravelIgnition\Recorders\JobRecorder\JobRecorder::class,
            'Spatie\LaravelIgnition\Recorders\LogRecorder\LogRecorder' => \Spatie\LaravelIgnition\Recorders\LogRecorder\LogRecorder::class,
            'Spatie\LaravelIgnition\Recorders\QueryRecorder\QueryRecorder' => \Spatie\LaravelIgnition\Recorders\QueryRecorder\QueryRecorder::class,
            'Spatie\LaravelIgnition\Support\SentReports' => \Spatie\LaravelIgnition\Support\SentReports::class,
            'Spatie\MediaLibrary\MediaCollections\Filesystem' => \Spatie\MediaLibrary\MediaCollections\Filesystem::class,
            'Spatie\MediaLibrary\MediaCollections\MediaRepository' => \Spatie\MediaLibrary\MediaCollections\MediaRepository::class,
            'Spatie\MediaLibrary\ResponsiveImages\TinyPlaceholderGenerator\TinyPlaceholderGenerator' => \Spatie\MediaLibrary\ResponsiveImages\TinyPlaceholderGenerator\Blurred::class,
            'Spatie\MediaLibrary\ResponsiveImages\WidthCalculator\WidthCalculator' => \Spatie\MediaLibrary\ResponsiveImages\WidthCalculator\FileSizeOptimizedWidthCalculator::class,
            'Whoops\Handler\HandlerInterface' => \Spatie\LaravelIgnition\Renderers\IgnitionWhoopsHandler::class,
            'auth' => \Illuminate\Auth\AuthManager::class,
            'auth.driver' => \Illuminate\Auth\SessionGuard::class,
            'auth.password' => \Illuminate\Auth\Passwords\PasswordBrokerManager::class,
            'auth.password.broker' => \Illuminate\Auth\Passwords\PasswordBroker::class,
            'blade.compiler' => \Illuminate\View\Compilers\BladeCompiler::class,
            'cache' => \Illuminate\Cache\CacheManager::class,
            'cache.store' => \Illuminate\Cache\Repository::class,
            'command.ide-helper.eloquent' => \Barryvdh\LaravelIdeHelper\Console\EloquentCommand::class,
            'command.ide-helper.generate' => \Barryvdh\LaravelIdeHelper\Console\GeneratorCommand::class,
            'command.ide-helper.meta' => \Barryvdh\LaravelIdeHelper\Console\MetaCommand::class,
            'command.ide-helper.models' => \Barryvdh\LaravelIdeHelper\Console\ModelsCommand::class,
            'command.media-library:clean' => \Spatie\MediaLibrary\MediaCollections\Commands\CleanCommand::class,
            'command.media-library:clear' => \Spatie\MediaLibrary\MediaCollections\Commands\ClearCommand::class,
            'command.media-library:regenerate' => \Spatie\MediaLibrary\Conversions\Commands\RegenerateCommand::class,
            'command.tinker' => \Laravel\Tinker\Console\TinkerCommand::class,
            'composer' => \Illuminate\Support\Composer::class,
            'cookie' => \Illuminate\Cookie\CookieJar::class,
            'db' => \Illuminate\Database\DatabaseManager::class,
            'db.connection' => \Illuminate\Database\MySqlConnection::class,
            'db.factory' => \Illuminate\Database\Connectors\ConnectionFactory::class,
            'db.schema' => \Illuminate\Database\Schema\MySqlBuilder::class,
            'db.transactions' => \Illuminate\Database\DatabaseTransactionsManager::class,
            'encrypter' => \Illuminate\Encryption\Encrypter::class,
            'events' => \Illuminate\Events\Dispatcher::class,
            'files' => \Illuminate\Filesystem\Filesystem::class,
            'filesystem' => \Illuminate\Filesystem\FilesystemManager::class,
            'filesystem.cloud' => \Illuminate\Filesystem\FilesystemAdapter::class,
            'filesystem.disk' => \Illuminate\Filesystem\FilesystemAdapter::class,
            'flare.logger' => \Monolog\Logger::class,
            'hash' => \Illuminate\Hashing\HashManager::class,
            'hash.driver' => \Illuminate\Hashing\BcryptHasher::class,
            'image' => \Intervention\Image\ImageManager::class,
            'log' => \Illuminate\Log\LogManager::class,
            'mail.manager' => \Illuminate\Mail\MailManager::class,
            'mailer' => \Illuminate\Mail\Mailer::class,
            'memcached.connector' => \Illuminate\Cache\MemcachedConnector::class,
            'migration.creator' => \Illuminate\Database\Migrations\MigrationCreator::class,
            'migration.repository' => \Illuminate\Database\Migrations\DatabaseMigrationRepository::class,
            'migrator' => \Illuminate\Database\Migrations\Migrator::class,
            'queue' => \Illuminate\Queue\QueueManager::class,
            'queue.connection' => \Illuminate\Queue\SyncQueue::class,
            'queue.failer' => \Illuminate\Queue\Failed\DatabaseUuidFailedJobProvider::class,
            'queue.listener' => \Illuminate\Queue\Listener::class,
            'queue.worker' => \Illuminate\Queue\Worker::class,
            'recaptcha' => \Biscolab\ReCaptcha\ReCaptchaBuilderV2::class,
            'redirect' => \Illuminate\Routing\Redirector::class,
            'redis' => \Illuminate\Redis\RedisManager::class,
            'router' => \Illuminate\Routing\Router::class,
            'session' => \Illuminate\Session\SessionManager::class,
            'session.store' => \Illuminate\Session\Store::class,
            'translation.loader' => \Illuminate\Translation\FileLoader::class,
            'translator' => \Illuminate\Translation\Translator::class,
            'url' => \Illuminate\Routing\UrlGenerator::class,
            'validation.presence' => \Illuminate\Validation\DatabasePresenceVerifier::class,
            'view' => \Illuminate\View\Factory::class,
            'view.engine.resolver' => \Illuminate\View\Engines\EngineResolver::class,
            'view.finder' => \Illuminate\View\FileViewFinder::class,
        ]));


    override(\Illuminate\Foundation\Testing\Concerns\InteractsWithContainer::mock(0), map(["" => "@&\Mockery\MockInterface"]));
    override(\Illuminate\Foundation\Testing\Concerns\InteractsWithContainer::partialMock(0), map(["" => "@&\Mockery\MockInterface"]));
    override(\Illuminate\Foundation\Testing\Concerns\InteractsWithContainer::instance(0), type(1));
    override(\Illuminate\Foundation\Testing\Concerns\InteractsWithContainer::spy(0), map(["" => "@&\Mockery\MockInterface"]));
    override(\Illuminate\Support\Arr::add(0), type(0));
    override(\Illuminate\Support\Arr::except(0), type(0));
    override(\Illuminate\Support\Arr::first(0), elementType(0));
    override(\Illuminate\Support\Arr::last(0), elementType(0));
    override(\Illuminate\Support\Arr::get(0), elementType(0));
    override(\Illuminate\Support\Arr::only(0), type(0));
    override(\Illuminate\Support\Arr::prepend(0), type(0));
    override(\Illuminate\Support\Arr::pull(0), elementType(0));
    override(\Illuminate\Support\Arr::set(0), type(0));
    override(\Illuminate\Support\Arr::shuffle(0), type(0));
    override(\Illuminate\Support\Arr::sort(0), type(0));
    override(\Illuminate\Support\Arr::sortRecursive(0), type(0));
    override(\Illuminate\Support\Arr::where(0), type(0));
    override(\array_add(0), type(0));
    override(\array_except(0), type(0));
    override(\array_first(0), elementType(0));
    override(\array_last(0), elementType(0));
    override(\array_get(0), elementType(0));
    override(\array_only(0), type(0));
    override(\array_prepend(0), type(0));
    override(\array_pull(0), elementType(0));
    override(\array_set(0), type(0));
    override(\array_sort(0), type(0));
    override(\array_sort_recursive(0), type(0));
    override(\array_where(0), type(0));
    override(\head(0), elementType(0));
    override(\last(0), elementType(0));
    override(\with(0), type(0));
    override(\tap(0), type(0));
    override(\optional(0), type(0));

}


----------------------------------------
DOSYA YOLU: composer.json
----------------------------------------

{
    "name": "laravel/laravel",
    "type": "project",
    "description": "The Laravel Framework.",
    "keywords": [
        "framework",
        "laravel"
    ],
    "license": "MIT",
    "require": {
        "php": "^8.0.2",
        "google/recaptcha": "^1.3",
        "guzzlehttp/guzzle": "^7.2",
        "laravel/framework": "^9.19",
        "laravel/sanctum": "^3.0",
        "laravel/tinker": "^2.7",
        "laravel/ui": "^4.6",
        "spatie/laravel-activitylog": "^4.7",
        "spatie/laravel-medialibrary": "10.0",
        "spatie/laravel-permission": "^6.23"
    },
    "require-dev": {
        "barryvdh/laravel-ide-helper": "^2.15",
        "fakerphp/faker": "^1.9.1",
        "laravel/pint": "^1.0",
        "laravel/sail": "^1.0.1",
        "mockery/mockery": "^1.4.4",
        "nunomaduro/collision": "^6.1",
        "phpunit/phpunit": "^9.5.10",
        "spatie/laravel-ignition": "^1.0"
    },
    "autoload": {
        "psr-4": {
            "App\\": "app/",
            "Database\\Factories\\": "database/factories/",
            "Database\\Seeders\\": "database/seeders/"
        }
    },
    "autoload-dev": {
        "psr-4": {
            "Tests\\": "tests/"
        }
    },
    "scripts": {
        "post-autoload-dump": [
            "Illuminate\\Foundation\\ComposerScripts::postAutoloadDump"
        ],
        "post-update-cmd": [
            "@php artisan vendor:publish --tag=laravel-assets --ansi --force"
        ],
        "post-root-package-install": [
            "@php -r \"file_exists('.env') || copy('.env.example', '.env');\""
        ],
        "post-create-project-cmd": [
            "@php artisan key:generate --ansi"
        ]
    },
    "extra": {
        "laravel": {
            "dont-discover": []
        }
    },
    "config": {
        "optimize-autoloader": true,
        "preferred-install": "dist",
        "sort-packages": true,
        "allow-plugins": {
            "pestphp/pest-plugin": true,
            "phpstan/extension-installer": true
        }
    },
    "minimum-stability": "stable",
    "prefer-stable": true
}


----------------------------------------
DOSYA YOLU: package.json
----------------------------------------

{
    "private": true,
    "scripts": {
        "dev": "vite",
        "build": "vite build"
    },
    "devDependencies": {
        "@popperjs/core": "^2.11.6",
        "axios": "^1.1.2",
        "bootstrap": "^5.2.3",
        "laravel-vite-plugin": "^0.7.2",
        "lodash": "^4.17.19",
        "postcss": "^8.1.14",
        "sass": "^1.56.1",
        "vite": "^4.0.0"
    }
}


----------------------------------------
DOSYA YOLU: phpunit.xml
----------------------------------------

<?xml version="1.0" encoding="UTF-8"?>
<phpunit xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
         xsi:noNamespaceSchemaLocation="./vendor/phpunit/phpunit/phpunit.xsd"
         bootstrap="vendor/autoload.php"
         colors="true"
>
    <testsuites>
        <testsuite name="Unit">
            <directory suffix="Test.php">./tests/Unit</directory>
        </testsuite>
        <testsuite name="Feature">
            <directory suffix="Test.php">./tests/Feature</directory>
        </testsuite>
    </testsuites>
    <coverage processUncoveredFiles="true">
        <include>
            <directory suffix=".php">./app</directory>
        </include>
    </coverage>
    <php>
        <env name="APP_ENV" value="testing"/>
        <env name="BCRYPT_ROUNDS" value="4"/>
        <env name="CACHE_DRIVER" value="array"/>
        <!-- <env name="DB_CONNECTION" value="sqlite"/> -->
        <!-- <env name="DB_DATABASE" value=":memory:"/> -->
        <env name="MAIL_MAILER" value="array"/>
        <env name="QUEUE_CONNECTION" value="sync"/>
        <env name="SESSION_DRIVER" value="array"/>
        <env name="TELESCOPE_ENABLED" value="false"/>
    </php>
</phpunit>


----------------------------------------
DOSYA YOLU: vite.config.js
----------------------------------------

import { defineConfig } from 'vite';
import laravel from 'laravel-vite-plugin';

export default defineConfig({
    plugins: [
        laravel({
            input: [
                'resources/sass/app.scss',
                'resources/js/app.js',
            ],
            refresh: true,
        }),
    ],
});


----------------------------------------
DOSYA YOLU: _ide_helper.php
----------------------------------------

<?php
/* @noinspection ALL */
// @formatter:off
// phpcs:ignoreFile

/**
 * A helper file for Laravel, to provide autocomplete information to your IDE
 * Generated for Laravel 9.52.21.
 *
 * This file should not be included in your code, only analyzed by your IDE!
 *
 * @author Barry vd. Heuvel <barryvdh@gmail.com>
 * @see https://github.com/barryvdh/laravel-ide-helper
 */

namespace Illuminate\Support\Facades {
            /**
     * @see \Illuminate\Foundation\Application
     */        class App {
                    /**
         * Get the version number of the application.
         *
         * @return string
         * @static
         */        public static function version()
        {
                        /** @var \Illuminate\Foundation\Application $instance */
                        return $instance->version();
        }
                    /**
         * Run the given array of bootstrap classes.
         *
         * @param string[] $bootstrappers
         * @return void
         * @static
         */        public static function bootstrapWith($bootstrappers)
        {
                        /** @var \Illuminate\Foundation\Application $instance */
                        $instance->bootstrapWith($bootstrappers);
        }
                    /**
         * Register a callback to run after loading the environment.
         *
         * @param \Closure $callback
         * @return void
         * @static
         */        public static function afterLoadingEnvironment($callback)
        {
                        /** @var \Illuminate\Foundation\Application $instance */
                        $instance->afterLoadingEnvironment($callback);
        }
                    /**
         * Register a callback to run before a bootstrapper.
         *
         * @param string $bootstrapper
         * @param \Closure $callback
         * @return void
         * @static
         */        public static function beforeBootstrapping($bootstrapper, $callback)
        {
                        /** @var \Illuminate\Foundation\Application $instance */
                        $instance->beforeBootstrapping($bootstrapper, $callback);
        }
                    /**
         * Register a callback to run after a bootstrapper.
         *
         * @param string $bootstrapper
         * @param \Closure $callback
         * @return void
         * @static
         */        public static function afterBootstrapping($bootstrapper, $callback)
        {
                        /** @var \Illuminate\Foundation\Application $instance */
                        $instance->afterBootstrapping($bootstrapper, $callback);
        }
                    /**
         * Determine if the application has been bootstrapped before.
         *
         * @return bool
         * @static
         */        public static function hasBeenBootstrapped()
        {
                        /** @var \Illuminate\Foundation\Application $instance */
                        return $instance->hasBeenBootstrapped();
        }
                    /**
         * Set the base path for the application.
         *
         * @param string $basePath
         * @return \Illuminate\Foundation\Application
         * @static
         */        public static function setBasePath($basePath)
        {
                        /** @var \Illuminate\Foundation\Application $instance */
                        return $instance->setBasePath($basePath);
        }
                    /**
         * Get the path to the application "app" directory.
         *
         * @param string $path
         * @return string
         * @static
         */        public static function path($path = '')
        {
                        /** @var \Illuminate\Foundation\Application $instance */
                        return $instance->path($path);
        }
                    /**
         * Set the application directory.
         *
         * @param string $path
         * @return \Illuminate\Foundation\Application
         * @static
         */        public static function useAppPath($path)
        {
                        /** @var \Illuminate\Foundation\Application $instance */
                        return $instance->useAppPath($path);
        }
                    /**
         * Get the base path of the Laravel installation.
         *
         * @param string $path
         * @return string
         * @static
         */        public static function basePath($path = '')
        {
                        /** @var \Illuminate\Foundation\Application $instance */
                        return $instance->basePath($path);
        }
                    /**
         * Get the path to the bootstrap directory.
         *
         * @param string $path
         * @return string
         * @static
         */        public static function bootstrapPath($path = '')
        {
                        /** @var \Illuminate\Foundation\Application $instance */
                        return $instance->bootstrapPath($path);
        }
                    /**
         * Get the path to the application configuration files.
         *
         * @param string $path
         * @return string
         * @static
         */        public static function configPath($path = '')
        {
                        /** @var \Illuminate\Foundation\Application $instance */
                        return $instance->configPath($path);
        }
                    /**
         * Get the path to the database directory.
         *
         * @param string $path
         * @return string
         * @static
         */        public static function databasePath($path = '')
        {
                        /** @var \Illuminate\Foundation\Application $instance */
                        return $instance->databasePath($path);
        }
                    /**
         * Set the database directory.
         *
         * @param string $path
         * @return \Illuminate\Foundation\Application
         * @static
         */        public static function useDatabasePath($path)
        {
                        /** @var \Illuminate\Foundation\Application $instance */
                        return $instance->useDatabasePath($path);
        }
                    /**
         * Get the path to the language files.
         *
         * @param string $path
         * @return string
         * @static
         */        public static function langPath($path = '')
        {
                        /** @var \Illuminate\Foundation\Application $instance */
                        return $instance->langPath($path);
        }
                    /**
         * Set the language file directory.
         *
         * @param string $path
         * @return \Illuminate\Foundation\Application
         * @static
         */        public static function useLangPath($path)
        {
                        /** @var \Illuminate\Foundation\Application $instance */
                        return $instance->useLangPath($path);
        }
                    /**
         * Get the path to the public / web directory.
         *
         * @return string
         * @static
         */        public static function publicPath()
        {
                        /** @var \Illuminate\Foundation\Application $instance */
                        return $instance->publicPath();
        }
                    /**
         * Get the path to the storage directory.
         *
         * @param string $path
         * @return string
         * @static
         */        public static function storagePath($path = '')
        {
                        /** @var \Illuminate\Foundation\Application $instance */
                        return $instance->storagePath($path);
        }
                    /**
         * Set the storage directory.
         *
         * @param string $path
         * @return \Illuminate\Foundation\Application
         * @static
         */        public static function useStoragePath($path)
        {
                        /** @var \Illuminate\Foundation\Application $instance */
                        return $instance->useStoragePath($path);
        }
                    /**
         * Get the path to the resources directory.
         *
         * @param string $path
         * @return string
         * @static
         */        public static function resourcePath($path = '')
        {
                        /** @var \Illuminate\Foundation\Application $instance */
                        return $instance->resourcePath($path);
        }
                    /**
         * Get the path to the views directory.
         * 
         * This method returns the first configured path in the array of view paths.
         *
         * @param string $path
         * @return string
         * @static
         */        public static function viewPath($path = '')
        {
                        /** @var \Illuminate\Foundation\Application $instance */
                        return $instance->viewPath($path);
        }
                    /**
         * Get the path to the environment file directory.
         *
         * @return string
         * @static
         */        public static function environmentPath()
        {
                        /** @var \Illuminate\Foundation\Application $instance */
                        return $instance->environmentPath();
        }
                    /**
         * Set the directory for the environment file.
         *
         * @param string $path
         * @return \Illuminate\Foundation\Application
         * @static
         */        public static function useEnvironmentPath($path)
        {
                        /** @var \Illuminate\Foundation\Application $instance */
                        return $instance->useEnvironmentPath($path);
        }
                    /**
         * Set the environment file to be loaded during bootstrapping.
         *
         * @param string $file
         * @return \Illuminate\Foundation\Application
         * @static
         */        public static function loadEnvironmentFrom($file)
        {
                        /** @var \Illuminate\Foundation\Application $instance */
                        return $instance->loadEnvironmentFrom($file);
        }
                    /**
         * Get the environment file the application is using.
         *
         * @return string
         * @static
         */        public static function environmentFile()
        {
                        /** @var \Illuminate\Foundation\Application $instance */
                        return $instance->environmentFile();
        }
                    /**
         * Get the fully qualified path to the environment file.
         *
         * @return string
         * @static
         */        public static function environmentFilePath()
        {
                        /** @var \Illuminate\Foundation\Application $instance */
                        return $instance->environmentFilePath();
        }
                    /**
         * Get or check the current application environment.
         *
         * @param string|array $environments
         * @return string|bool
         * @static
         */        public static function environment(...$environments)
        {
                        /** @var \Illuminate\Foundation\Application $instance */
                        return $instance->environment(...$environments);
        }
                    /**
         * Determine if the application is in the local environment.
         *
         * @return bool
         * @static
         */        public static function isLocal()
        {
                        /** @var \Illuminate\Foundation\Application $instance */
                        return $instance->isLocal();
        }
                    /**
         * Determine if the application is in the production environment.
         *
         * @return bool
         * @static
         */        public static function isProduction()
        {
                        /** @var \Illuminate\Foundation\Application $instance */
                        return $instance->isProduction();
        }
                    /**
         * Detect the application's current environment.
         *
         * @param \Closure $callback
         * @return string
         * @static
         */        public static function detectEnvironment($callback)
        {
                        /** @var \Illuminate\Foundation\Application $instance */
                        return $instance->detectEnvironment($callback);
        }
                    /**
         * Determine if the application is running in the console.
         *
         * @return bool
         * @static
         */        public static function runningInConsole()
        {
                        /** @var \Illuminate\Foundation\Application $instance */
                        return $instance->runningInConsole();
        }
                    /**
         * Determine if the application is running unit tests.
         *
         * @return bool
         * @static
         */        public static function runningUnitTests()
        {
                        /** @var \Illuminate\Foundation\Application $instance */
                        return $instance->runningUnitTests();
        }
                    /**
         * Determine if the application is running with debug mode enabled.
         *
         * @return bool
         * @static
         */        public static function hasDebugModeEnabled()
        {
                        /** @var \Illuminate\Foundation\Application $instance */
                        return $instance->hasDebugModeEnabled();
        }
                    /**
         * Register all of the configured providers.
         *
         * @return void
         * @static
         */        public static function registerConfiguredProviders()
        {
                        /** @var \Illuminate\Foundation\Application $instance */
                        $instance->registerConfiguredProviders();
        }
                    /**
         * Register a service provider with the application.
         *
         * @param \Illuminate\Support\ServiceProvider|string $provider
         * @param bool $force
         * @return \Illuminate\Support\ServiceProvider
         * @static
         */        public static function register($provider, $force = false)
        {
                        /** @var \Illuminate\Foundation\Application $instance */
                        return $instance->register($provider, $force);
        }
                    /**
         * Get the registered service provider instance if it exists.
         *
         * @param \Illuminate\Support\ServiceProvider|string $provider
         * @return \Illuminate\Support\ServiceProvider|null
         * @static
         */        public static function getProvider($provider)
        {
                        /** @var \Illuminate\Foundation\Application $instance */
                        return $instance->getProvider($provider);
        }
                    /**
         * Get the registered service provider instances if any exist.
         *
         * @param \Illuminate\Support\ServiceProvider|string $provider
         * @return array
         * @static
         */        public static function getProviders($provider)
        {
                        /** @var \Illuminate\Foundation\Application $instance */
                        return $instance->getProviders($provider);
        }
                    /**
         * Resolve a service provider instance from the class name.
         *
         * @param string $provider
         * @return \Illuminate\Support\ServiceProvider
         * @static
         */        public static function resolveProvider($provider)
        {
                        /** @var \Illuminate\Foundation\Application $instance */
                        return $instance->resolveProvider($provider);
        }
                    /**
         * Load and boot all of the remaining deferred providers.
         *
         * @return void
         * @static
         */        public static function loadDeferredProviders()
        {
                        /** @var \Illuminate\Foundation\Application $instance */
                        $instance->loadDeferredProviders();
        }
                    /**
         * Load the provider for a deferred service.
         *
         * @param string $service
         * @return void
         * @static
         */        public static function loadDeferredProvider($service)
        {
                        /** @var \Illuminate\Foundation\Application $instance */
                        $instance->loadDeferredProvider($service);
        }
                    /**
         * Register a deferred provider and service.
         *
         * @param string $provider
         * @param string|null $service
         * @return void
         * @static
         */        public static function registerDeferredProvider($provider, $service = null)
        {
                        /** @var \Illuminate\Foundation\Application $instance */
                        $instance->registerDeferredProvider($provider, $service);
        }
                    /**
         * Resolve the given type from the container.
         *
         * @param string $abstract
         * @param array $parameters
         * @return mixed
         * @static
         */        public static function make($abstract, $parameters = [])
        {
                        /** @var \Illuminate\Foundation\Application $instance */
                        return $instance->make($abstract, $parameters);
        }
                    /**
         * Determine if the given abstract type has been bound.
         *
         * @param string $abstract
         * @return bool
         * @static
         */        public static function bound($abstract)
        {
                        /** @var \Illuminate\Foundation\Application $instance */
                        return $instance->bound($abstract);
        }
                    /**
         * Determine if the application has booted.
         *
         * @return bool
         * @static
         */        public static function isBooted()
        {
                        /** @var \Illuminate\Foundation\Application $instance */
                        return $instance->isBooted();
        }
                    /**
         * Boot the application's service providers.
         *
         * @return void
         * @static
         */        public static function boot()
        {
                        /** @var \Illuminate\Foundation\Application $instance */
                        $instance->boot();
        }
                    /**
         * Register a new boot listener.
         *
         * @param callable $callback
         * @return void
         * @static
         */        public static function booting($callback)
        {
                        /** @var \Illuminate\Foundation\Application $instance */
                        $instance->booting($callback);
        }
                    /**
         * Register a new "booted" listener.
         *
         * @param callable $callback
         * @return void
         * @static
         */        public static function booted($callback)
        {
                        /** @var \Illuminate\Foundation\Application $instance */
                        $instance->booted($callback);
        }
                    /**
         * {@inheritdoc}
         *
         * @return \Symfony\Component\HttpFoundation\Response
         * @static
         */        public static function handle($request, $type = 1, $catch = true)
        {
                        /** @var \Illuminate\Foundation\Application $instance */
                        return $instance->handle($request, $type, $catch);
        }
                    /**
         * Determine if middleware has been disabled for the application.
         *
         * @return bool
         * @static
         */        public static function shouldSkipMiddleware()
        {
                        /** @var \Illuminate\Foundation\Application $instance */
                        return $instance->shouldSkipMiddleware();
        }
                    /**
         * Get the path to the cached services.php file.
         *
         * @return string
         * @static
         */        public static function getCachedServicesPath()
        {
                        /** @var \Illuminate\Foundation\Application $instance */
                        return $instance->getCachedServicesPath();
        }
                    /**
         * Get the path to the cached packages.php file.
         *
         * @return string
         * @static
         */        public static function getCachedPackagesPath()
        {
                        /** @var \Illuminate\Foundation\Application $instance */
                        return $instance->getCachedPackagesPath();
        }
                    /**
         * Determine if the application configuration is cached.
         *
         * @return bool
         * @static
         */        public static function configurationIsCached()
        {
                        /** @var \Illuminate\Foundation\Application $instance */
                        return $instance->configurationIsCached();
        }
                    /**
         * Get the path to the configuration cache file.
         *
         * @return string
         * @static
         */        public static function getCachedConfigPath()
        {
                        /** @var \Illuminate\Foundation\Application $instance */
                        return $instance->getCachedConfigPath();
        }
                    /**
         * Determine if the application routes are cached.
         *
         * @return bool
         * @static
         */        public static function routesAreCached()
        {
                        /** @var \Illuminate\Foundation\Application $instance */
                        return $instance->routesAreCached();
        }
                    /**
         * Get the path to the routes cache file.
         *
         * @return string
         * @static
         */        public static function getCachedRoutesPath()
        {
                        /** @var \Illuminate\Foundation\Application $instance */
                        return $instance->getCachedRoutesPath();
        }
                    /**
         * Determine if the application events are cached.
         *
         * @return bool
         * @static
         */        public static function eventsAreCached()
        {
                        /** @var \Illuminate\Foundation\Application $instance */
                        return $instance->eventsAreCached();
        }
                    /**
         * Get the path to the events cache file.
         *
         * @return string
         * @static
         */        public static function getCachedEventsPath()
        {
                        /** @var \Illuminate\Foundation\Application $instance */
                        return $instance->getCachedEventsPath();
        }
                    /**
         * Add new prefix to list of absolute path prefixes.
         *
         * @param string $prefix
         * @return \Illuminate\Foundation\Application
         * @static
         */        public static function addAbsoluteCachePathPrefix($prefix)
        {
                        /** @var \Illuminate\Foundation\Application $instance */
                        return $instance->addAbsoluteCachePathPrefix($prefix);
        }
                    /**
         * Get an instance of the maintenance mode manager implementation.
         *
         * @return \Illuminate\Contracts\Foundation\MaintenanceMode
         * @static
         */        public static function maintenanceMode()
        {
                        /** @var \Illuminate\Foundation\Application $instance */
                        return $instance->maintenanceMode();
        }
                    /**
         * Determine if the application is currently down for maintenance.
         *
         * @return bool
         * @static
         */        public static function isDownForMaintenance()
        {
                        /** @var \Illuminate\Foundation\Application $instance */
                        return $instance->isDownForMaintenance();
        }
                    /**
         * Throw an HttpException with the given data.
         *
         * @param int $code
         * @param string $message
         * @param array $headers
         * @return never
         * @throws \Symfony\Component\HttpKernel\Exception\HttpException
         * @throws \Symfony\Component\HttpKernel\Exception\NotFoundHttpException
         * @static
         */        public static function abort($code, $message = '', $headers = [])
        {
                        /** @var \Illuminate\Foundation\Application $instance */
                        return $instance->abort($code, $message, $headers);
        }
                    /**
         * Register a terminating callback with the application.
         *
         * @param callable|string $callback
         * @return \Illuminate\Foundation\Application
         * @static
         */        public static function terminating($callback)
        {
                        /** @var \Illuminate\Foundation\Application $instance */
                        return $instance->terminating($callback);
        }
                    /**
         * Terminate the application.
         *
         * @return void
         * @static
         */        public static function terminate()
        {
                        /** @var \Illuminate\Foundation\Application $instance */
                        $instance->terminate();
        }
                    /**
         * Get the service providers that have been loaded.
         *
         * @return array
         * @static
         */        public static function getLoadedProviders()
        {
                        /** @var \Illuminate\Foundation\Application $instance */
                        return $instance->getLoadedProviders();
        }
                    /**
         * Determine if the given service provider is loaded.
         *
         * @param string $provider
         * @return bool
         * @static
         */        public static function providerIsLoaded($provider)
        {
                        /** @var \Illuminate\Foundation\Application $instance */
                        return $instance->providerIsLoaded($provider);
        }
                    /**
         * Get the application's deferred services.
         *
         * @return array
         * @static
         */        public static function getDeferredServices()
        {
                        /** @var \Illuminate\Foundation\Application $instance */
                        return $instance->getDeferredServices();
        }
                    /**
         * Set the application's deferred services.
         *
         * @param array $services
         * @return void
         * @static
         */        public static function setDeferredServices($services)
        {
                        /** @var \Illuminate\Foundation\Application $instance */
                        $instance->setDeferredServices($services);
        }
                    /**
         * Add an array of services to the application's deferred services.
         *
         * @param array $services
         * @return void
         * @static
         */        public static function addDeferredServices($services)
        {
                        /** @var \Illuminate\Foundation\Application $instance */
                        $instance->addDeferredServices($services);
        }
                    /**
         * Determine if the given service is a deferred service.
         *
         * @param string $service
         * @return bool
         * @static
         */        public static function isDeferredService($service)
        {
                        /** @var \Illuminate\Foundation\Application $instance */
                        return $instance->isDeferredService($service);
        }
                    /**
         * Configure the real-time facade namespace.
         *
         * @param string $namespace
         * @return void
         * @static
         */        public static function provideFacades($namespace)
        {
                        /** @var \Illuminate\Foundation\Application $instance */
                        $instance->provideFacades($namespace);
        }
                    /**
         * Get the current application locale.
         *
         * @return string
         * @static
         */        public static function getLocale()
        {
                        /** @var \Illuminate\Foundation\Application $instance */
                        return $instance->getLocale();
        }
                    /**
         * Get the current application locale.
         *
         * @return string
         * @static
         */        public static function currentLocale()
        {
                        /** @var \Illuminate\Foundation\Application $instance */
                        return $instance->currentLocale();
        }
                    /**
         * Get the current application fallback locale.
         *
         * @return string
         * @static
         */        public static function getFallbackLocale()
        {
                        /** @var \Illuminate\Foundation\Application $instance */
                        return $instance->getFallbackLocale();
        }
                    /**
         * Set the current application locale.
         *
         * @param string $locale
         * @return void
         * @static
         */        public static function setLocale($locale)
        {
                        /** @var \Illuminate\Foundation\Application $instance */
                        $instance->setLocale($locale);
        }
                    /**
         * Set the current application fallback locale.
         *
         * @param string $fallbackLocale
         * @return void
         * @static
         */        public static function setFallbackLocale($fallbackLocale)
        {
                        /** @var \Illuminate\Foundation\Application $instance */
                        $instance->setFallbackLocale($fallbackLocale);
        }
                    /**
         * Determine if the application locale is the given locale.
         *
         * @param string $locale
         * @return bool
         * @static
         */        public static function isLocale($locale)
        {
                        /** @var \Illuminate\Foundation\Application $instance */
                        return $instance->isLocale($locale);
        }
                    /**
         * Register the core class aliases in the container.
         *
         * @return void
         * @static
         */        public static function registerCoreContainerAliases()
        {
                        /** @var \Illuminate\Foundation\Application $instance */
                        $instance->registerCoreContainerAliases();
        }
                    /**
         * Flush the container of all bindings and resolved instances.
         *
         * @return void
         * @static
         */        public static function flush()
        {
                        /** @var \Illuminate\Foundation\Application $instance */
                        $instance->flush();
        }
                    /**
         * Get the application namespace.
         *
         * @return string
         * @throws \RuntimeException
         * @static
         */        public static function getNamespace()
        {
                        /** @var \Illuminate\Foundation\Application $instance */
                        return $instance->getNamespace();
        }
                    /**
         * Define a contextual binding.
         *
         * @param array|string $concrete
         * @return \Illuminate\Contracts\Container\ContextualBindingBuilder
         * @static
         */        public static function when($concrete)
        {            //Method inherited from \Illuminate\Container\Container         
                        /** @var \Illuminate\Foundation\Application $instance */
                        return $instance->when($concrete);
        }
                    /**
         * Returns true if the container can return an entry for the given identifier.
         * 
         * Returns false otherwise.
         * 
         * `has($id)` returning true does not mean that `get($id)` will not throw an exception.
         * It does however mean that `get($id)` will not throw a `NotFoundExceptionInterface`.
         *
         * @return bool
         * @param string $id Identifier of the entry to look for.
         * @return bool
         * @static
         */        public static function has($id)
        {            //Method inherited from \Illuminate\Container\Container         
                        /** @var \Illuminate\Foundation\Application $instance */
                        return $instance->has($id);
        }
                    /**
         * Determine if the given abstract type has been resolved.
         *
         * @param string $abstract
         * @return bool
         * @static
         */        public static function resolved($abstract)
        {            //Method inherited from \Illuminate\Container\Container         
                        /** @var \Illuminate\Foundation\Application $instance */
                        return $instance->resolved($abstract);
        }
                    /**
         * Determine if a given type is shared.
         *
         * @param string $abstract
         * @return bool
         * @static
         */        public static function isShared($abstract)
        {            //Method inherited from \Illuminate\Container\Container         
                        /** @var \Illuminate\Foundation\Application $instance */
                        return $instance->isShared($abstract);
        }
                    /**
         * Determine if a given string is an alias.
         *
         * @param string $name
         * @return bool
         * @static
         */        public static function isAlias($name)
        {            //Method inherited from \Illuminate\Container\Container         
                        /** @var \Illuminate\Foundation\Application $instance */
                        return $instance->isAlias($name);
        }
                    /**
         * Register a binding with the container.
         *
         * @param string $abstract
         * @param \Closure|string|null $concrete
         * @param bool $shared
         * @return void
         * @throws \TypeError
         * @static
         */        public static function bind($abstract, $concrete = null, $shared = false)
        {            //Method inherited from \Illuminate\Container\Container         
                        /** @var \Illuminate\Foundation\Application $instance */
                        $instance->bind($abstract, $concrete, $shared);
        }
                    /**
         * Determine if the container has a method binding.
         *
         * @param string $method
         * @return bool
         * @static
         */        public static function hasMethodBinding($method)
        {            //Method inherited from \Illuminate\Container\Container         
                        /** @var \Illuminate\Foundation\Application $instance */
                        return $instance->hasMethodBinding($method);
        }
                    /**
         * Bind a callback to resolve with Container::call.
         *
         * @param array|string $method
         * @param \Closure $callback
         * @return void
         * @static
         */        public static function bindMethod($method, $callback)
        {            //Method inherited from \Illuminate\Container\Container         
                        /** @var \Illuminate\Foundation\Application $instance */
                        $instance->bindMethod($method, $callback);
        }
                    /**
         * Get the method binding for the given method.
         *
         * @param string $method
         * @param mixed $instance
         * @return mixed
         * @static
         */        public static function callMethodBinding($method, $instance)
        {            //Method inherited from \Illuminate\Container\Container         
                        /** @var \Illuminate\Foundation\Application $instance */
                        return $instance->callMethodBinding($method, $instance);
        }
                    /**
         * Add a contextual binding to the container.
         *
         * @param string $concrete
         * @param string $abstract
         * @param \Closure|string $implementation
         * @return void
         * @static
         */        public static function addContextualBinding($concrete, $abstract, $implementation)
        {            //Method inherited from \Illuminate\Container\Container         
                        /** @var \Illuminate\Foundation\Application $instance */
                        $instance->addContextualBinding($concrete, $abstract, $implementation);
        }
                    /**
         * Register a binding if it hasn't already been registered.
         *
         * @param string $abstract
         * @param \Closure|string|null $concrete
         * @param bool $shared
         * @return void
         * @static
         */        public static function bindIf($abstract, $concrete = null, $shared = false)
        {            //Method inherited from \Illuminate\Container\Container         
                        /** @var \Illuminate\Foundation\Application $instance */
                        $instance->bindIf($abstract, $concrete, $shared);
        }
                    /**
         * Register a shared binding in the container.
         *
         * @param string $abstract
         * @param \Closure|string|null $concrete
         * @return void
         * @static
         */        public static function singleton($abstract, $concrete = null)
        {            //Method inherited from \Illuminate\Container\Container         
                        /** @var \Illuminate\Foundation\Application $instance */
                        $instance->singleton($abstract, $concrete);
        }
                    /**
         * Register a shared binding if it hasn't already been registered.
         *
         * @param string $abstract
         * @param \Closure|string|null $concrete
         * @return void
         * @static
         */        public static function singletonIf($abstract, $concrete = null)
        {            //Method inherited from \Illuminate\Container\Container         
                        /** @var \Illuminate\Foundation\Application $instance */
                        $instance->singletonIf($abstract, $concrete);
        }
                    /**
         * Register a scoped binding in the container.
         *
         * @param string $abstract
         * @param \Closure|string|null $concrete
         * @return void
         * @static
         */        public static function scoped($abstract, $concrete = null)
        {            //Method inherited from \Illuminate\Container\Container         
                        /** @var \Illuminate\Foundation\Application $instance */
                        $instance->scoped($abstract, $concrete);
        }
                    /**
         * Register a scoped binding if it hasn't already been registered.
         *
         * @param string $abstract
         * @param \Closure|string|null $concrete
         * @return void
         * @static
         */        public static function scopedIf($abstract, $concrete = null)
        {            //Method inherited from \Illuminate\Container\Container         
                        /** @var \Illuminate\Foundation\Application $instance */
                        $instance->scopedIf($abstract, $concrete);
        }
                    /**
         * "Extend" an abstract type in the container.
         *
         * @param string $abstract
         * @param \Closure $closure
         * @return void
         * @throws \InvalidArgumentException
         * @static
         */        public static function extend($abstract, $closure)
        {            //Method inherited from \Illuminate\Container\Container         
                        /** @var \Illuminate\Foundation\Application $instance */
                        $instance->extend($abstract, $closure);
        }
                    /**
         * Register an existing instance as shared in the container.
         *
         * @param string $abstract
         * @param mixed $instance
         * @return mixed
         * @static
         */        public static function instance($abstract, $instance)
        {            //Method inherited from \Illuminate\Container\Container         
                        /** @var \Illuminate\Foundation\Application $instance */
                        return $instance->instance($abstract, $instance);
        }
                    /**
         * Assign a set of tags to a given binding.
         *
         * @param array|string $abstracts
         * @param array|mixed $tags
         * @return void
         * @static
         */        public static function tag($abstracts, $tags)
        {            //Method inherited from \Illuminate\Container\Container         
                        /** @var \Illuminate\Foundation\Application $instance */
                        $instance->tag($abstracts, $tags);
        }
                    /**
         * Resolve all of the bindings for a given tag.
         *
         * @param string $tag
         * @return iterable
         * @static
         */        public static function tagged($tag)
        {            //Method inherited from \Illuminate\Container\Container         
                        /** @var \Illuminate\Foundation\Application $instance */
                        return $instance->tagged($tag);
        }
                    /**
         * Alias a type to a different name.
         *
         * @param string $abstract
         * @param string $alias
         * @return void
         * @throws \LogicException
         * @static
         */        public static function alias($abstract, $alias)
        {            //Method inherited from \Illuminate\Container\Container         
                        /** @var \Illuminate\Foundation\Application $instance */
                        $instance->alias($abstract, $alias);
        }
                    /**
         * Bind a new callback to an abstract's rebind event.
         *
         * @param string $abstract
         * @param \Closure $callback
         * @return mixed
         * @static
         */        public static function rebinding($abstract, $callback)
        {            //Method inherited from \Illuminate\Container\Container         
                        /** @var \Illuminate\Foundation\Application $instance */
                        return $instance->rebinding($abstract, $callback);
        }
                    /**
         * Refresh an instance on the given target and method.
         *
         * @param string $abstract
         * @param mixed $target
         * @param string $method
         * @return mixed
         * @static
         */        public static function refresh($abstract, $target, $method)
        {            //Method inherited from \Illuminate\Container\Container         
                        /** @var \Illuminate\Foundation\Application $instance */
                        return $instance->refresh($abstract, $target, $method);
        }
                    /**
         * Wrap the given closure such that its dependencies will be injected when executed.
         *
         * @param \Closure $callback
         * @param array $parameters
         * @return \Closure
         * @static
         */        public static function wrap($callback, $parameters = [])
        {            //Method inherited from \Illuminate\Container\Container         
                        /** @var \Illuminate\Foundation\Application $instance */
                        return $instance->wrap($callback, $parameters);
        }
                    /**
         * Call the given Closure / class@method and inject its dependencies.
         *
         * @param callable|string $callback
         * @param array<string, mixed> $parameters
         * @param string|null $defaultMethod
         * @return mixed
         * @throws \InvalidArgumentException
         * @static
         */        public static function call($callback, $parameters = [], $defaultMethod = null)
        {            //Method inherited from \Illuminate\Container\Container         
                        /** @var \Illuminate\Foundation\Application $instance */
                        return $instance->call($callback, $parameters, $defaultMethod);
        }
                    /**
         * Get a closure to resolve the given type from the container.
         *
         * @param string $abstract
         * @return \Closure
         * @static
         */        public static function factory($abstract)
        {            //Method inherited from \Illuminate\Container\Container         
                        /** @var \Illuminate\Foundation\Application $instance */
                        return $instance->factory($abstract);
        }
                    /**
         * An alias function name for make().
         *
         * @param string|callable $abstract
         * @param array $parameters
         * @return mixed
         * @throws \Illuminate\Contracts\Container\BindingResolutionException
         * @static
         */        public static function makeWith($abstract, $parameters = [])
        {            //Method inherited from \Illuminate\Container\Container         
                        /** @var \Illuminate\Foundation\Application $instance */
                        return $instance->makeWith($abstract, $parameters);
        }
                    /**
         * Finds an entry of the container by its identifier and returns it.
         *
         * @return mixed
         * @param string $id Identifier of the entry to look for.
         * @throws NotFoundExceptionInterface  No entry was found for **this** identifier.
         * @throws ContainerExceptionInterface Error while retrieving the entry.
         * @return mixed Entry.
         * @static
         */        public static function get($id)
        {            //Method inherited from \Illuminate\Container\Container         
                        /** @var \Illuminate\Foundation\Application $instance */
                        return $instance->get($id);
        }
                    /**
         * Instantiate a concrete instance of the given type.
         *
         * @param \Closure|string $concrete
         * @return mixed
         * @throws \Illuminate\Contracts\Container\BindingResolutionException
         * @throws \Illuminate\Contracts\Container\CircularDependencyException
         * @static
         */        public static function build($concrete)
        {            //Method inherited from \Illuminate\Container\Container         
                        /** @var \Illuminate\Foundation\Application $instance */
                        return $instance->build($concrete);
        }
                    /**
         * Register a new before resolving callback for all types.
         *
         * @param \Closure|string $abstract
         * @param \Closure|null $callback
         * @return void
         * @static
         */        public static function beforeResolving($abstract, $callback = null)
        {            //Method inherited from \Illuminate\Container\Container         
                        /** @var \Illuminate\Foundation\Application $instance */
                        $instance->beforeResolving($abstract, $callback);
        }
                    /**
         * Register a new resolving callback.
         *
         * @param \Closure|string $abstract
         * @param \Closure|null $callback
         * @return void
         * @static
         */        public static function resolving($abstract, $callback = null)
        {            //Method inherited from \Illuminate\Container\Container         
                        /** @var \Illuminate\Foundation\Application $instance */
                        $instance->resolving($abstract, $callback);
        }
                    /**
         * Register a new after resolving callback for all types.
         *
         * @param \Closure|string $abstract
         * @param \Closure|null $callback
         * @return void
         * @static
         */        public static function afterResolving($abstract, $callback = null)
        {            //Method inherited from \Illuminate\Container\Container         
                        /** @var \Illuminate\Foundation\Application $instance */
                        $instance->afterResolving($abstract, $callback);
        }
                    /**
         * Get the container's bindings.
         *
         * @return array
         * @static
         */        public static function getBindings()
        {            //Method inherited from \Illuminate\Container\Container         
                        /** @var \Illuminate\Foundation\Application $instance */
                        return $instance->getBindings();
        }
                    /**
         * Get the alias for an abstract if available.
         *
         * @param string $abstract
         * @return string
         * @static
         */        public static function getAlias($abstract)
        {            //Method inherited from \Illuminate\Container\Container         
                        /** @var \Illuminate\Foundation\Application $instance */
                        return $instance->getAlias($abstract);
        }
                    /**
         * Remove all of the extender callbacks for a given type.
         *
         * @param string $abstract
         * @return void
         * @static
         */        public static function forgetExtenders($abstract)
        {            //Method inherited from \Illuminate\Container\Container         
                        /** @var \Illuminate\Foundation\Application $instance */
                        $instance->forgetExtenders($abstract);
        }
                    /**
         * Remove a resolved instance from the instance cache.
         *
         * @param string $abstract
         * @return void
         * @static
         */        public static function forgetInstance($abstract)
        {            //Method inherited from \Illuminate\Container\Container         
                        /** @var \Illuminate\Foundation\Application $instance */
                        $instance->forgetInstance($abstract);
        }
                    /**
         * Clear all of the instances from the container.
         *
         * @return void
         * @static
         */        public static function forgetInstances()
        {            //Method inherited from \Illuminate\Container\Container         
                        /** @var \Illuminate\Foundation\Application $instance */
                        $instance->forgetInstances();
        }
                    /**
         * Clear all of the scoped instances from the container.
         *
         * @return void
         * @static
         */        public static function forgetScopedInstances()
        {            //Method inherited from \Illuminate\Container\Container         
                        /** @var \Illuminate\Foundation\Application $instance */
                        $instance->forgetScopedInstances();
        }
                    /**
         * Get the globally available instance of the container.
         *
         * @return static
         * @static
         */        public static function getInstance()
        {            //Method inherited from \Illuminate\Container\Container         
                        return \Illuminate\Foundation\Application::getInstance();
        }
                    /**
         * Set the shared instance of the container.
         *
         * @param \Illuminate\Contracts\Container\Container|null $container
         * @return \Illuminate\Contracts\Container\Container|static
         * @static
         */        public static function setInstance($container = null)
        {            //Method inherited from \Illuminate\Container\Container         
                        return \Illuminate\Foundation\Application::setInstance($container);
        }
                    /**
         * Determine if a given offset exists.
         *
         * @param string $key
         * @return bool
         * @static
         */        public static function offsetExists($key)
        {            //Method inherited from \Illuminate\Container\Container         
                        /** @var \Illuminate\Foundation\Application $instance */
                        return $instance->offsetExists($key);
        }
                    /**
         * Get the value at a given offset.
         *
         * @param string $key
         * @return mixed
         * @static
         */        public static function offsetGet($key)
        {            //Method inherited from \Illuminate\Container\Container         
                        /** @var \Illuminate\Foundation\Application $instance */
                        return $instance->offsetGet($key);
        }
                    /**
         * Set the value at a given offset.
         *
         * @param string $key
         * @param mixed $value
         * @return void
         * @static
         */        public static function offsetSet($key, $value)
        {            //Method inherited from \Illuminate\Container\Container         
                        /** @var \Illuminate\Foundation\Application $instance */
                        $instance->offsetSet($key, $value);
        }
                    /**
         * Unset the value at a given offset.
         *
         * @param string $key
         * @return void
         * @static
         */        public static function offsetUnset($key)
        {            //Method inherited from \Illuminate\Container\Container         
                        /** @var \Illuminate\Foundation\Application $instance */
                        $instance->offsetUnset($key);
        }
                    /**
         * Register a custom macro.
         *
         * @param string $name
         * @param object|callable $macro
         * @return void
         * @static
         */        public static function macro($name, $macro)
        {
                        \Illuminate\Foundation\Application::macro($name, $macro);
        }
                    /**
         * Mix another object into the class.
         *
         * @param object $mixin
         * @param bool $replace
         * @return void
         * @throws \ReflectionException
         * @static
         */        public static function mixin($mixin, $replace = true)
        {
                        \Illuminate\Foundation\Application::mixin($mixin, $replace);
        }
                    /**
         * Checks if macro is registered.
         *
         * @param string $name
         * @return bool
         * @static
         */        public static function hasMacro($name)
        {
                        return \Illuminate\Foundation\Application::hasMacro($name);
        }
                    /**
         * Flush the existing macros.
         *
         * @return void
         * @static
         */        public static function flushMacros()
        {
                        \Illuminate\Foundation\Application::flushMacros();
        }
            }
            /**
     * @see \Illuminate\Foundation\Console\Kernel
     */        class Artisan {
                    /**
         * Run the console application.
         *
         * @param \Symfony\Component\Console\Input\InputInterface $input
         * @param \Symfony\Component\Console\Output\OutputInterface|null $output
         * @return int
         * @static
         */        public static function handle($input, $output = null)
        {            //Method inherited from \Illuminate\Foundation\Console\Kernel         
                        /** @var \App\Console\Kernel $instance */
                        return $instance->handle($input, $output);
        }
                    /**
         * Terminate the application.
         *
         * @param \Symfony\Component\Console\Input\InputInterface $input
         * @param int $status
         * @return void
         * @static
         */        public static function terminate($input, $status)
        {            //Method inherited from \Illuminate\Foundation\Console\Kernel         
                        /** @var \App\Console\Kernel $instance */
                        $instance->terminate($input, $status);
        }
                    /**
         * Register a callback to be invoked when the command lifecycle duration exceeds a given amount of time.
         *
         * @param \DateTimeInterface|\Carbon\CarbonInterval|float|int $threshold
         * @param callable $handler
         * @return void
         * @static
         */        public static function whenCommandLifecycleIsLongerThan($threshold, $handler)
        {            //Method inherited from \Illuminate\Foundation\Console\Kernel         
                        /** @var \App\Console\Kernel $instance */
                        $instance->whenCommandLifecycleIsLongerThan($threshold, $handler);
        }
                    /**
         * When the command being handled started.
         *
         * @return \Illuminate\Support\Carbon|null
         * @static
         */        public static function commandStartedAt()
        {            //Method inherited from \Illuminate\Foundation\Console\Kernel         
                        /** @var \App\Console\Kernel $instance */
                        return $instance->commandStartedAt();
        }
                    /**
         * Register a Closure based command with the application.
         *
         * @param string $signature
         * @param \Closure $callback
         * @return \Illuminate\Foundation\Console\ClosureCommand
         * @static
         */        public static function command($signature, $callback)
        {            //Method inherited from \Illuminate\Foundation\Console\Kernel         
                        /** @var \App\Console\Kernel $instance */
                        return $instance->command($signature, $callback);
        }
                    /**
         * Register the given command with the console application.
         *
         * @param \Symfony\Component\Console\Command\Command $command
         * @return void
         * @static
         */        public static function registerCommand($command)
        {            //Method inherited from \Illuminate\Foundation\Console\Kernel         
                        /** @var \App\Console\Kernel $instance */
                        $instance->registerCommand($command);
        }
                    /**
         * Run an Artisan console command by name.
         *
         * @param string $command
         * @param array $parameters
         * @param \Symfony\Component\Console\Output\OutputInterface|null $outputBuffer
         * @return int
         * @throws \Symfony\Component\Console\Exception\CommandNotFoundException
         * @static
         */        public static function call($command, $parameters = [], $outputBuffer = null)
        {            //Method inherited from \Illuminate\Foundation\Console\Kernel         
                        /** @var \App\Console\Kernel $instance */
                        return $instance->call($command, $parameters, $outputBuffer);
        }
                    /**
         * Queue the given console command.
         *
         * @param string $command
         * @param array $parameters
         * @return \Illuminate\Foundation\Bus\PendingDispatch
         * @static
         */        public static function queue($command, $parameters = [])
        {            //Method inherited from \Illuminate\Foundation\Console\Kernel         
                        /** @var \App\Console\Kernel $instance */
                        return $instance->queue($command, $parameters);
        }
                    /**
         * Get all of the commands registered with the console.
         *
         * @return array
         * @static
         */        public static function all()
        {            //Method inherited from \Illuminate\Foundation\Console\Kernel         
                        /** @var \App\Console\Kernel $instance */
                        return $instance->all();
        }
                    /**
         * Get the output for the last run command.
         *
         * @return string
         * @static
         */        public static function output()
        {            //Method inherited from \Illuminate\Foundation\Console\Kernel         
                        /** @var \App\Console\Kernel $instance */
                        return $instance->output();
        }
                    /**
         * Bootstrap the application for artisan commands.
         *
         * @return void
         * @static
         */        public static function bootstrap()
        {            //Method inherited from \Illuminate\Foundation\Console\Kernel         
                        /** @var \App\Console\Kernel $instance */
                        $instance->bootstrap();
        }
                    /**
         * Bootstrap the application without booting service providers.
         *
         * @return void
         * @static
         */        public static function bootstrapWithoutBootingProviders()
        {            //Method inherited from \Illuminate\Foundation\Console\Kernel         
                        /** @var \App\Console\Kernel $instance */
                        $instance->bootstrapWithoutBootingProviders();
        }
                    /**
         * Set the Artisan application instance.
         *
         * @param \Illuminate\Console\Application $artisan
         * @return void
         * @static
         */        public static function setArtisan($artisan)
        {            //Method inherited from \Illuminate\Foundation\Console\Kernel         
                        /** @var \App\Console\Kernel $instance */
                        $instance->setArtisan($artisan);
        }
            }
            /**
     * @see \Illuminate\Auth\AuthManager
     * @see \Illuminate\Auth\SessionGuard
     */        class Auth {
                    /**
         * Attempt to get the guard from the local cache.
         *
         * @param string|null $name
         * @return \Illuminate\Contracts\Auth\Guard|\Illuminate\Contracts\Auth\StatefulGuard
         * @static
         */        public static function guard($name = null)
        {
                        /** @var \Illuminate\Auth\AuthManager $instance */
                        return $instance->guard($name);
        }
                    /**
         * Create a session based authentication guard.
         *
         * @param string $name
         * @param array $config
         * @return \Illuminate\Auth\SessionGuard
         * @static
         */        public static function createSessionDriver($name, $config)
        {
                        /** @var \Illuminate\Auth\AuthManager $instance */
                        return $instance->createSessionDriver($name, $config);
        }
                    /**
         * Create a token based authentication guard.
         *
         * @param string $name
         * @param array $config
         * @return \Illuminate\Auth\TokenGuard
         * @static
         */        public static function createTokenDriver($name, $config)
        {
                        /** @var \Illuminate\Auth\AuthManager $instance */
                        return $instance->createTokenDriver($name, $config);
        }
                    /**
         * Get the default authentication driver name.
         *
         * @return string
         * @static
         */        public static function getDefaultDriver()
        {
                        /** @var \Illuminate\Auth\AuthManager $instance */
                        return $instance->getDefaultDriver();
        }
                    /**
         * Set the default guard driver the factory should serve.
         *
         * @param string $name
         * @return void
         * @static
         */        public static function shouldUse($name)
        {
                        /** @var \Illuminate\Auth\AuthManager $instance */
                        $instance->shouldUse($name);
        }
                    /**
         * Set the default authentication driver name.
         *
         * @param string $name
         * @return void
         * @static
         */        public static function setDefaultDriver($name)
        {
                        /** @var \Illuminate\Auth\AuthManager $instance */
                        $instance->setDefaultDriver($name);
        }
                    /**
         * Register a new callback based request guard.
         *
         * @param string $driver
         * @param callable $callback
         * @return \Illuminate\Auth\AuthManager
         * @static
         */        public static function viaRequest($driver, $callback)
        {
                        /** @var \Illuminate\Auth\AuthManager $instance */
                        return $instance->viaRequest($driver, $callback);
        }
                    /**
         * Get the user resolver callback.
         *
         * @return \Closure
         * @static
         */        public static function userResolver()
        {
                        /** @var \Illuminate\Auth\AuthManager $instance */
                        return $instance->userResolver();
        }
                    /**
         * Set the callback to be used to resolve users.
         *
         * @param \Closure $userResolver
         * @return \Illuminate\Auth\AuthManager
         * @static
         */        public static function resolveUsersUsing($userResolver)
        {
                        /** @var \Illuminate\Auth\AuthManager $instance */
                        return $instance->resolveUsersUsing($userResolver);
        }
                    /**
         * Register a custom driver creator Closure.
         *
         * @param string $driver
         * @param \Closure $callback
         * @return \Illuminate\Auth\AuthManager
         * @static
         */        public static function extend($driver, $callback)
        {
                        /** @var \Illuminate\Auth\AuthManager $instance */
                        return $instance->extend($driver, $callback);
        }
                    /**
         * Register a custom provider creator Closure.
         *
         * @param string $name
         * @param \Closure $callback
         * @return \Illuminate\Auth\AuthManager
         * @static
         */        public static function provider($name, $callback)
        {
                        /** @var \Illuminate\Auth\AuthManager $instance */
                        return $instance->provider($name, $callback);
        }
                    /**
         * Determines if any guards have already been resolved.
         *
         * @return bool
         * @static
         */        public static function hasResolvedGuards()
        {
                        /** @var \Illuminate\Auth\AuthManager $instance */
                        return $instance->hasResolvedGuards();
        }
                    /**
         * Forget all of the resolved guard instances.
         *
         * @return \Illuminate\Auth\AuthManager
         * @static
         */        public static function forgetGuards()
        {
                        /** @var \Illuminate\Auth\AuthManager $instance */
                        return $instance->forgetGuards();
        }
                    /**
         * Set the application instance used by the manager.
         *
         * @param \Illuminate\Contracts\Foundation\Application $app
         * @return \Illuminate\Auth\AuthManager
         * @static
         */        public static function setApplication($app)
        {
                        /** @var \Illuminate\Auth\AuthManager $instance */
                        return $instance->setApplication($app);
        }
                    /**
         * Create the user provider implementation for the driver.
         *
         * @param string|null $provider
         * @return \Illuminate\Contracts\Auth\UserProvider|null
         * @throws \InvalidArgumentException
         * @static
         */        public static function createUserProvider($provider = null)
        {
                        /** @var \Illuminate\Auth\AuthManager $instance */
                        return $instance->createUserProvider($provider);
        }
                    /**
         * Get the default user provider name.
         *
         * @return string
         * @static
         */        public static function getDefaultUserProvider()
        {
                        /** @var \Illuminate\Auth\AuthManager $instance */
                        return $instance->getDefaultUserProvider();
        }
                    /**
         * Get the currently authenticated user.
         *
         * @return \App\Models\User|null
         * @static
         */        public static function user()
        {
                        /** @var \Illuminate\Auth\SessionGuard $instance */
                        return $instance->user();
        }
                    /**
         * Get the ID for the currently authenticated user.
         *
         * @return int|string|null
         * @static
         */        public static function id()
        {
                        /** @var \Illuminate\Auth\SessionGuard $instance */
                        return $instance->id();
        }
                    /**
         * Log a user into the application without sessions or cookies.
         *
         * @param array $credentials
         * @return bool
         * @static
         */        public static function once($credentials = [])
        {
                        /** @var \Illuminate\Auth\SessionGuard $instance */
                        return $instance->once($credentials);
        }
                    /**
         * Log the given user ID into the application without sessions or cookies.
         *
         * @param mixed $id
         * @return \App\Models\User|false
         * @static
         */        public static function onceUsingId($id)
        {
                        /** @var \Illuminate\Auth\SessionGuard $instance */
                        return $instance->onceUsingId($id);
        }
                    /**
         * Validate a user's credentials.
         *
         * @param array $credentials
         * @return bool
         * @static
         */        public static function validate($credentials = [])
        {
                        /** @var \Illuminate\Auth\SessionGuard $instance */
                        return $instance->validate($credentials);
        }
                    /**
         * Attempt to authenticate using HTTP Basic Auth.
         *
         * @param string $field
         * @param array $extraConditions
         * @return \Symfony\Component\HttpFoundation\Response|null
         * @throws \Symfony\Component\HttpKernel\Exception\UnauthorizedHttpException
         * @static
         */        public static function basic($field = 'email', $extraConditions = [])
        {
                        /** @var \Illuminate\Auth\SessionGuard $instance */
                        return $instance->basic($field, $extraConditions);
        }
                    /**
         * Perform a stateless HTTP Basic login attempt.
         *
         * @param string $field
         * @param array $extraConditions
         * @return \Symfony\Component\HttpFoundation\Response|null
         * @throws \Symfony\Component\HttpKernel\Exception\UnauthorizedHttpException
         * @static
         */        public static function onceBasic($field = 'email', $extraConditions = [])
        {
                        /** @var \Illuminate\Auth\SessionGuard $instance */
                        return $instance->onceBasic($field, $extraConditions);
        }
                    /**
         * Attempt to authenticate a user using the given credentials.
         *
         * @param array $credentials
         * @param bool $remember
         * @return bool
         * @static
         */        public static function attempt($credentials = [], $remember = false)
        {
                        /** @var \Illuminate\Auth\SessionGuard $instance */
                        return $instance->attempt($credentials, $remember);
        }
                    /**
         * Attempt to authenticate a user with credentials and additional callbacks.
         *
         * @param array $credentials
         * @param array|callable|null $callbacks
         * @param bool $remember
         * @return bool
         * @static
         */        public static function attemptWhen($credentials = [], $callbacks = null, $remember = false)
        {
                        /** @var \Illuminate\Auth\SessionGuard $instance */
                        return $instance->attemptWhen($credentials, $callbacks, $remember);
        }
                    /**
         * Log the given user ID into the application.
         *
         * @param mixed $id
         * @param bool $remember
         * @return \App\Models\User|false
         * @static
         */        public static function loginUsingId($id, $remember = false)
        {
                        /** @var \Illuminate\Auth\SessionGuard $instance */
                        return $instance->loginUsingId($id, $remember);
        }
                    /**
         * Log a user into the application.
         *
         * @param \Illuminate\Contracts\Auth\Authenticatable $user
         * @param bool $remember
         * @return void
         * @static
         */        public static function login($user, $remember = false)
        {
                        /** @var \Illuminate\Auth\SessionGuard $instance */
                        $instance->login($user, $remember);
        }
                    /**
         * Log the user out of the application.
         *
         * @return void
         * @static
         */        public static function logout()
        {
                        /** @var \Illuminate\Auth\SessionGuard $instance */
                        $instance->logout();
        }
                    /**
         * Log the user out of the application on their current device only.
         * 
         * This method does not cycle the "remember" token.
         *
         * @return void
         * @static
         */        public static function logoutCurrentDevice()
        {
                        /** @var \Illuminate\Auth\SessionGuard $instance */
                        $instance->logoutCurrentDevice();
        }
                    /**
         * Invalidate other sessions for the current user.
         * 
         * The application must be using the AuthenticateSession middleware.
         *
         * @param string $password
         * @param string $attribute
         * @return \App\Models\User|null
         * @throws \Illuminate\Auth\AuthenticationException
         * @static
         */        public static function logoutOtherDevices($password, $attribute = 'password')
        {
                        /** @var \Illuminate\Auth\SessionGuard $instance */
                        return $instance->logoutOtherDevices($password, $attribute);
        }
                    /**
         * Register an authentication attempt event listener.
         *
         * @param mixed $callback
         * @return void
         * @static
         */        public static function attempting($callback)
        {
                        /** @var \Illuminate\Auth\SessionGuard $instance */
                        $instance->attempting($callback);
        }
                    /**
         * Get the last user we attempted to authenticate.
         *
         * @return \App\Models\User
         * @static
         */        public static function getLastAttempted()
        {
                        /** @var \Illuminate\Auth\SessionGuard $instance */
                        return $instance->getLastAttempted();
        }
                    /**
         * Get a unique identifier for the auth session value.
         *
         * @return string
         * @static
         */        public static function getName()
        {
                        /** @var \Illuminate\Auth\SessionGuard $instance */
                        return $instance->getName();
        }
                    /**
         * Get the name of the cookie used to store the "recaller".
         *
         * @return string
         * @static
         */        public static function getRecallerName()
        {
                        /** @var \Illuminate\Auth\SessionGuard $instance */
                        return $instance->getRecallerName();
        }
                    /**
         * Determine if the user was authenticated via "remember me" cookie.
         *
         * @return bool
         * @static
         */        public static function viaRemember()
        {
                        /** @var \Illuminate\Auth\SessionGuard $instance */
                        return $instance->viaRemember();
        }
                    /**
         * Set the number of minutes the remember me cookie should be valid for.
         *
         * @param int $minutes
         * @return \Illuminate\Auth\SessionGuard
         * @static
         */        public static function setRememberDuration($minutes)
        {
                        /** @var \Illuminate\Auth\SessionGuard $instance */
                        return $instance->setRememberDuration($minutes);
        }
                    /**
         * Get the cookie creator instance used by the guard.
         *
         * @return \Illuminate\Contracts\Cookie\QueueingFactory
         * @throws \RuntimeException
         * @static
         */        public static function getCookieJar()
        {
                        /** @var \Illuminate\Auth\SessionGuard $instance */
                        return $instance->getCookieJar();
        }
                    /**
         * Set the cookie creator instance used by the guard.
         *
         * @param \Illuminate\Contracts\Cookie\QueueingFactory $cookie
         * @return void
         * @static
         */        public static function setCookieJar($cookie)
        {
                        /** @var \Illuminate\Auth\SessionGuard $instance */
                        $instance->setCookieJar($cookie);
        }
                    /**
         * Get the event dispatcher instance.
         *
         * @return \Illuminate\Contracts\Events\Dispatcher
         * @static
         */        public static function getDispatcher()
        {
                        /** @var \Illuminate\Auth\SessionGuard $instance */
                        return $instance->getDispatcher();
        }
                    /**
         * Set the event dispatcher instance.
         *
         * @param \Illuminate\Contracts\Events\Dispatcher $events
         * @return void
         * @static
         */        public static function setDispatcher($events)
        {
                        /** @var \Illuminate\Auth\SessionGuard $instance */
                        $instance->setDispatcher($events);
        }
                    /**
         * Get the session store used by the guard.
         *
         * @return \Illuminate\Contracts\Session\Session
         * @static
         */        public static function getSession()
        {
                        /** @var \Illuminate\Auth\SessionGuard $instance */
                        return $instance->getSession();
        }
                    /**
         * Return the currently cached user.
         *
         * @return \App\Models\User|null
         * @static
         */        public static function getUser()
        {
                        /** @var \Illuminate\Auth\SessionGuard $instance */
                        return $instance->getUser();
        }
                    /**
         * Set the current user.
         *
         * @param \Illuminate\Contracts\Auth\Authenticatable $user
         * @return \Illuminate\Auth\SessionGuard
         * @static
         */        public static function setUser($user)
        {
                        /** @var \Illuminate\Auth\SessionGuard $instance */
                        return $instance->setUser($user);
        }
                    /**
         * Get the current request instance.
         *
         * @return \Symfony\Component\HttpFoundation\Request
         * @static
         */        public static function getRequest()
        {
                        /** @var \Illuminate\Auth\SessionGuard $instance */
                        return $instance->getRequest();
        }
                    /**
         * Set the current request instance.
         *
         * @param \Symfony\Component\HttpFoundation\Request $request
         * @return \Illuminate\Auth\SessionGuard
         * @static
         */        public static function setRequest($request)
        {
                        /** @var \Illuminate\Auth\SessionGuard $instance */
                        return $instance->setRequest($request);
        }
                    /**
         * Get the timebox instance used by the guard.
         *
         * @return \Illuminate\Support\Timebox
         * @static
         */        public static function getTimebox()
        {
                        /** @var \Illuminate\Auth\SessionGuard $instance */
                        return $instance->getTimebox();
        }
                    /**
         * Determine if the current user is authenticated. If not, throw an exception.
         *
         * @return \App\Models\User
         * @throws \Illuminate\Auth\AuthenticationException
         * @static
         */        public static function authenticate()
        {
                        /** @var \Illuminate\Auth\SessionGuard $instance */
                        return $instance->authenticate();
        }
                    /**
         * Determine if the guard has a user instance.
         *
         * @return bool
         * @static
         */        public static function hasUser()
        {
                        /** @var \Illuminate\Auth\SessionGuard $instance */
                        return $instance->hasUser();
        }
                    /**
         * Determine if the current user is authenticated.
         *
         * @return bool
         * @static
         */        public static function check()
        {
                        /** @var \Illuminate\Auth\SessionGuard $instance */
                        return $instance->check();
        }
                    /**
         * Determine if the current user is a guest.
         *
         * @return bool
         * @static
         */        public static function guest()
        {
                        /** @var \Illuminate\Auth\SessionGuard $instance */
                        return $instance->guest();
        }
                    /**
         * Forget the current user.
         *
         * @return \Illuminate\Auth\SessionGuard
         * @static
         */        public static function forgetUser()
        {
                        /** @var \Illuminate\Auth\SessionGuard $instance */
                        return $instance->forgetUser();
        }
                    /**
         * Get the user provider used by the guard.
         *
         * @return \Illuminate\Contracts\Auth\UserProvider
         * @static
         */        public static function getProvider()
        {
                        /** @var \Illuminate\Auth\SessionGuard $instance */
                        return $instance->getProvider();
        }
                    /**
         * Set the user provider used by the guard.
         *
         * @param \Illuminate\Contracts\Auth\UserProvider $provider
         * @return void
         * @static
         */        public static function setProvider($provider)
        {
                        /** @var \Illuminate\Auth\SessionGuard $instance */
                        $instance->setProvider($provider);
        }
                    /**
         * Register a custom macro.
         *
         * @param string $name
         * @param object|callable $macro
         * @return void
         * @static
         */        public static function macro($name, $macro)
        {
                        \Illuminate\Auth\SessionGuard::macro($name, $macro);
        }
                    /**
         * Mix another object into the class.
         *
         * @param object $mixin
         * @param bool $replace
         * @return void
         * @throws \ReflectionException
         * @static
         */        public static function mixin($mixin, $replace = true)
        {
                        \Illuminate\Auth\SessionGuard::mixin($mixin, $replace);
        }
                    /**
         * Checks if macro is registered.
         *
         * @param string $name
         * @return bool
         * @static
         */        public static function hasMacro($name)
        {
                        return \Illuminate\Auth\SessionGuard::hasMacro($name);
        }
                    /**
         * Flush the existing macros.
         *
         * @return void
         * @static
         */        public static function flushMacros()
        {
                        \Illuminate\Auth\SessionGuard::flushMacros();
        }
            }
            /**
     * @see \Illuminate\View\Compilers\BladeCompiler
     */        class Blade {
                    /**
         * Compile the view at the given path.
         *
         * @param string|null $path
         * @return void
         * @static
         */        public static function compile($path = null)
        {
                        /** @var \Illuminate\View\Compilers\BladeCompiler $instance */
                        $instance->compile($path);
        }
                    /**
         * Get the path currently being compiled.
         *
         * @return string
         * @static
         */        public static function getPath()
        {
                        /** @var \Illuminate\View\Compilers\BladeCompiler $instance */
                        return $instance->getPath();
        }
                    /**
         * Set the path currently being compiled.
         *
         * @param string $path
         * @return void
         * @static
         */        public static function setPath($path)
        {
                        /** @var \Illuminate\View\Compilers\BladeCompiler $instance */
                        $instance->setPath($path);
        }
                    /**
         * Compile the given Blade template contents.
         *
         * @param string $value
         * @return string
         * @static
         */        public static function compileString($value)
        {
                        /** @var \Illuminate\View\Compilers\BladeCompiler $instance */
                        return $instance->compileString($value);
        }
                    /**
         * Evaluate and render a Blade string to HTML.
         *
         * @param string $string
         * @param array $data
         * @param bool $deleteCachedView
         * @return string
         * @static
         */        public static function render($string, $data = [], $deleteCachedView = false)
        {
                        return \Illuminate\View\Compilers\BladeCompiler::render($string, $data, $deleteCachedView);
        }
                    /**
         * Render a component instance to HTML.
         *
         * @param \Illuminate\View\Component $component
         * @return string
         * @static
         */        public static function renderComponent($component)
        {
                        return \Illuminate\View\Compilers\BladeCompiler::renderComponent($component);
        }
                    /**
         * Strip the parentheses from the given expression.
         *
         * @param string $expression
         * @return string
         * @static
         */        public static function stripParentheses($expression)
        {
                        /** @var \Illuminate\View\Compilers\BladeCompiler $instance */
                        return $instance->stripParentheses($expression);
        }
                    /**
         * Register a custom Blade compiler.
         *
         * @param callable $compiler
         * @return void
         * @static
         */        public static function extend($compiler)
        {
                        /** @var \Illuminate\View\Compilers\BladeCompiler $instance */
                        $instance->extend($compiler);
        }
                    /**
         * Get the extensions used by the compiler.
         *
         * @return array
         * @static
         */        public static function getExtensions()
        {
                        /** @var \Illuminate\View\Compilers\BladeCompiler $instance */
                        return $instance->getExtensions();
        }
                    /**
         * Register an "if" statement directive.
         *
         * @param string $name
         * @param callable $callback
         * @return void
         * @static
         */        public static function if($name, $callback)
        {
                        /** @var \Illuminate\View\Compilers\BladeCompiler $instance */
                        $instance->if($name, $callback);
        }
                    /**
         * Check the result of a condition.
         *
         * @param string $name
         * @param mixed $parameters
         * @return bool
         * @static
         */        public static function check($name, ...$parameters)
        {
                        /** @var \Illuminate\View\Compilers\BladeCompiler $instance */
                        return $instance->check($name, ...$parameters);
        }
                    /**
         * Register a class-based component alias directive.
         *
         * @param string $class
         * @param string|null $alias
         * @param string $prefix
         * @return void
         * @static
         */        public static function component($class, $alias = null, $prefix = '')
        {
                        /** @var \Illuminate\View\Compilers\BladeCompiler $instance */
                        $instance->component($class, $alias, $prefix);
        }
                    /**
         * Register an array of class-based components.
         *
         * @param array $components
         * @param string $prefix
         * @return void
         * @static
         */        public static function components($components, $prefix = '')
        {
                        /** @var \Illuminate\View\Compilers\BladeCompiler $instance */
                        $instance->components($components, $prefix);
        }
                    /**
         * Get the registered class component aliases.
         *
         * @return array
         * @static
         */        public static function getClassComponentAliases()
        {
                        /** @var \Illuminate\View\Compilers\BladeCompiler $instance */
                        return $instance->getClassComponentAliases();
        }
                    /**
         * Register a new anonymous component path.
         *
         * @param string $path
         * @param string|null $prefix
         * @return void
         * @static
         */        public static function anonymousComponentPath($path, $prefix = null)
        {
                        /** @var \Illuminate\View\Compilers\BladeCompiler $instance */
                        $instance->anonymousComponentPath($path, $prefix);
        }
                    /**
         * Register an anonymous component namespace.
         *
         * @param string $directory
         * @param string|null $prefix
         * @return void
         * @static
         */        public static function anonymousComponentNamespace($directory, $prefix = null)
        {
                        /** @var \Illuminate\View\Compilers\BladeCompiler $instance */
                        $instance->anonymousComponentNamespace($directory, $prefix);
        }
                    /**
         * Register a class-based component namespace.
         *
         * @param string $namespace
         * @param string $prefix
         * @return void
         * @static
         */        public static function componentNamespace($namespace, $prefix)
        {
                        /** @var \Illuminate\View\Compilers\BladeCompiler $instance */
                        $instance->componentNamespace($namespace, $prefix);
        }
                    /**
         * Get the registered anonymous component paths.
         *
         * @return array
         * @static
         */        public static function getAnonymousComponentPaths()
        {
                        /** @var \Illuminate\View\Compilers\BladeCompiler $instance */
                        return $instance->getAnonymousComponentPaths();
        }
                    /**
         * Get the registered anonymous component namespaces.
         *
         * @return array
         * @static
         */        public static function getAnonymousComponentNamespaces()
        {
                        /** @var \Illuminate\View\Compilers\BladeCompiler $instance */
                        return $instance->getAnonymousComponentNamespaces();
        }
                    /**
         * Get the registered class component namespaces.
         *
         * @return array
         * @static
         */        public static function getClassComponentNamespaces()
        {
                        /** @var \Illuminate\View\Compilers\BladeCompiler $instance */
                        return $instance->getClassComponentNamespaces();
        }
                    /**
         * Register a component alias directive.
         *
         * @param string $path
         * @param string|null $alias
         * @return void
         * @static
         */        public static function aliasComponent($path, $alias = null)
        {
                        /** @var \Illuminate\View\Compilers\BladeCompiler $instance */
                        $instance->aliasComponent($path, $alias);
        }
                    /**
         * Register an include alias directive.
         *
         * @param string $path
         * @param string|null $alias
         * @return void
         * @static
         */        public static function include($path, $alias = null)
        {
                        /** @var \Illuminate\View\Compilers\BladeCompiler $instance */
                        $instance->include($path, $alias);
        }
                    /**
         * Register an include alias directive.
         *
         * @param string $path
         * @param string|null $alias
         * @return void
         * @static
         */        public static function aliasInclude($path, $alias = null)
        {
                        /** @var \Illuminate\View\Compilers\BladeCompiler $instance */
                        $instance->aliasInclude($path, $alias);
        }
                    /**
         * Register a handler for custom directives.
         *
         * @param string $name
         * @param callable $handler
         * @return void
         * @throws \InvalidArgumentException
         * @static
         */        public static function directive($name, $handler)
        {
                        /** @var \Illuminate\View\Compilers\BladeCompiler $instance */
                        $instance->directive($name, $handler);
        }
                    /**
         * Get the list of custom directives.
         *
         * @return array
         * @static
         */        public static function getCustomDirectives()
        {
                        /** @var \Illuminate\View\Compilers\BladeCompiler $instance */
                        return $instance->getCustomDirectives();
        }
                    /**
         * Register a new precompiler.
         *
         * @param callable $precompiler
         * @return void
         * @static
         */        public static function precompiler($precompiler)
        {
                        /** @var \Illuminate\View\Compilers\BladeCompiler $instance */
                        $instance->precompiler($precompiler);
        }
                    /**
         * Set the echo format to be used by the compiler.
         *
         * @param string $format
         * @return void
         * @static
         */        public static function setEchoFormat($format)
        {
                        /** @var \Illuminate\View\Compilers\BladeCompiler $instance */
                        $instance->setEchoFormat($format);
        }
                    /**
         * Set the "echo" format to double encode entities.
         *
         * @return void
         * @static
         */        public static function withDoubleEncoding()
        {
                        /** @var \Illuminate\View\Compilers\BladeCompiler $instance */
                        $instance->withDoubleEncoding();
        }
                    /**
         * Set the "echo" format to not double encode entities.
         *
         * @return void
         * @static
         */        public static function withoutDoubleEncoding()
        {
                        /** @var \Illuminate\View\Compilers\BladeCompiler $instance */
                        $instance->withoutDoubleEncoding();
        }
                    /**
         * Indicate that component tags should not be compiled.
         *
         * @return void
         * @static
         */        public static function withoutComponentTags()
        {
                        /** @var \Illuminate\View\Compilers\BladeCompiler $instance */
                        $instance->withoutComponentTags();
        }
                    /**
         * Get the path to the compiled version of a view.
         *
         * @param string $path
         * @return string
         * @static
         */        public static function getCompiledPath($path)
        {            //Method inherited from \Illuminate\View\Compilers\Compiler         
                        /** @var \Illuminate\View\Compilers\BladeCompiler $instance */
                        return $instance->getCompiledPath($path);
        }
                    /**
         * Determine if the view at the given path is expired.
         *
         * @param string $path
         * @return bool
         * @static
         */        public static function isExpired($path)
        {            //Method inherited from \Illuminate\View\Compilers\Compiler         
                        /** @var \Illuminate\View\Compilers\BladeCompiler $instance */
                        return $instance->isExpired($path);
        }
                    /**
         * Get a new component hash for a component name.
         *
         * @param string $component
         * @return string
         * @static
         */        public static function newComponentHash($component)
        {
                        return \Illuminate\View\Compilers\BladeCompiler::newComponentHash($component);
        }
                    /**
         * Compile a class component opening.
         *
         * @param string $component
         * @param string $alias
         * @param string $data
         * @param string $hash
         * @return string
         * @static
         */        public static function compileClassComponentOpening($component, $alias, $data, $hash)
        {
                        return \Illuminate\View\Compilers\BladeCompiler::compileClassComponentOpening($component, $alias, $data, $hash);
        }
                    /**
         * Compile the end-component statements into valid PHP.
         *
         * @return string
         * @static
         */        public static function compileEndComponentClass()
        {
                        /** @var \Illuminate\View\Compilers\BladeCompiler $instance */
                        return $instance->compileEndComponentClass();
        }
                    /**
         * Sanitize the given component attribute value.
         *
         * @param mixed $value
         * @return mixed
         * @static
         */        public static function sanitizeComponentAttribute($value)
        {
                        return \Illuminate\View\Compilers\BladeCompiler::sanitizeComponentAttribute($value);
        }
                    /**
         * Compile an end-once block into valid PHP.
         *
         * @return string
         * @static
         */        public static function compileEndOnce()
        {
                        /** @var \Illuminate\View\Compilers\BladeCompiler $instance */
                        return $instance->compileEndOnce();
        }
                    /**
         * Add a handler to be executed before echoing a given class.
         *
         * @param string|callable $class
         * @param callable|null $handler
         * @return void
         * @static
         */        public static function stringable($class, $handler = null)
        {
                        /** @var \Illuminate\View\Compilers\BladeCompiler $instance */
                        $instance->stringable($class, $handler);
        }
                    /**
         * Compile Blade echos into valid PHP.
         *
         * @param string $value
         * @return string
         * @static
         */        public static function compileEchos($value)
        {
                        /** @var \Illuminate\View\Compilers\BladeCompiler $instance */
                        return $instance->compileEchos($value);
        }
                    /**
         * Apply the echo handler for the value if it exists.
         *
         * @param string $value
         * @return string
         * @static
         */        public static function applyEchoHandler($value)
        {
                        /** @var \Illuminate\View\Compilers\BladeCompiler $instance */
                        return $instance->applyEchoHandler($value);
        }
            }
            /**
     * @method static mixed auth(\Illuminate\Http\Request $request)
     * @method static mixed validAuthenticationResponse(\Illuminate\Http\Request $request, mixed $result)
     * @method static void broadcast(array $channels, string $event, array $payload = [])
     * @method static array|null resolveAuthenticatedUser(\Illuminate\Http\Request $request)
     * @method static void resolveAuthenticatedUserUsing(\Closure $callback)
     * @method static \Illuminate\Broadcasting\Broadcasters\Broadcaster channel(\Illuminate\Contracts\Broadcasting\HasBroadcastChannel|string $channel, callable|string $callback, array $options = [])
     * @see \Illuminate\Broadcasting\BroadcastManager
     * @see \Illuminate\Broadcasting\Broadcasters\Broadcaster
     */        class Broadcast {
                    /**
         * Register the routes for handling broadcast channel authentication and sockets.
         *
         * @param array|null $attributes
         * @return void
         * @static
         */        public static function routes($attributes = null)
        {
                        /** @var \Illuminate\Broadcasting\BroadcastManager $instance */
                        $instance->routes($attributes);
        }
                    /**
         * Register the routes for handling broadcast user authentication.
         *
         * @param array|null $attributes
         * @return void
         * @static
         */        public static function userRoutes($attributes = null)
        {
                        /** @var \Illuminate\Broadcasting\BroadcastManager $instance */
                        $instance->userRoutes($attributes);
        }
                    /**
         * Register the routes for handling broadcast authentication and sockets.
         * 
         * Alias of "routes" method.
         *
         * @param array|null $attributes
         * @return void
         * @static
         */        public static function channelRoutes($attributes = null)
        {
                        /** @var \Illuminate\Broadcasting\BroadcastManager $instance */
                        $instance->channelRoutes($attributes);
        }
                    /**
         * Get the socket ID for the given request.
         *
         * @param \Illuminate\Http\Request|null $request
         * @return string|null
         * @static
         */        public static function socket($request = null)
        {
                        /** @var \Illuminate\Broadcasting\BroadcastManager $instance */
                        return $instance->socket($request);
        }
                    /**
         * Begin broadcasting an event.
         *
         * @param mixed|null $event
         * @return \Illuminate\Broadcasting\PendingBroadcast
         * @static
         */        public static function event($event = null)
        {
                        /** @var \Illuminate\Broadcasting\BroadcastManager $instance */
                        return $instance->event($event);
        }
                    /**
         * Queue the given event for broadcast.
         *
         * @param mixed $event
         * @return void
         * @static
         */        public static function queue($event)
        {
                        /** @var \Illuminate\Broadcasting\BroadcastManager $instance */
                        $instance->queue($event);
        }
                    /**
         * Get a driver instance.
         *
         * @param string|null $driver
         * @return mixed
         * @static
         */        public static function connection($driver = null)
        {
                        /** @var \Illuminate\Broadcasting\BroadcastManager $instance */
                        return $instance->connection($driver);
        }
                    /**
         * Get a driver instance.
         *
         * @param string|null $name
         * @return mixed
         * @static
         */        public static function driver($name = null)
        {
                        /** @var \Illuminate\Broadcasting\BroadcastManager $instance */
                        return $instance->driver($name);
        }
                    /**
         * Get a Pusher instance for the given configuration.
         *
         * @param array $config
         * @return \Pusher\Pusher
         * @static
         */        public static function pusher($config)
        {
                        /** @var \Illuminate\Broadcasting\BroadcastManager $instance */
                        return $instance->pusher($config);
        }
                    /**
         * Get an Ably instance for the given configuration.
         *
         * @param array $config
         * @return \Ably\AblyRest
         * @static
         */        public static function ably($config)
        {
                        /** @var \Illuminate\Broadcasting\BroadcastManager $instance */
                        return $instance->ably($config);
        }
                    /**
         * Get the default driver name.
         *
         * @return string
         * @static
         */        public static function getDefaultDriver()
        {
                        /** @var \Illuminate\Broadcasting\BroadcastManager $instance */
                        return $instance->getDefaultDriver();
        }
                    /**
         * Set the default driver name.
         *
         * @param string $name
         * @return void
         * @static
         */        public static function setDefaultDriver($name)
        {
                        /** @var \Illuminate\Broadcasting\BroadcastManager $instance */
                        $instance->setDefaultDriver($name);
        }
                    /**
         * Disconnect the given disk and remove from local cache.
         *
         * @param string|null $name
         * @return void
         * @static
         */        public static function purge($name = null)
        {
                        /** @var \Illuminate\Broadcasting\BroadcastManager $instance */
                        $instance->purge($name);
        }
                    /**
         * Register a custom driver creator Closure.
         *
         * @param string $driver
         * @param \Closure $callback
         * @return \Illuminate\Broadcasting\BroadcastManager
         * @static
         */        public static function extend($driver, $callback)
        {
                        /** @var \Illuminate\Broadcasting\BroadcastManager $instance */
                        return $instance->extend($driver, $callback);
        }
                    /**
         * Get the application instance used by the manager.
         *
         * @return \Illuminate\Contracts\Foundation\Application
         * @static
         */        public static function getApplication()
        {
                        /** @var \Illuminate\Broadcasting\BroadcastManager $instance */
                        return $instance->getApplication();
        }
                    /**
         * Set the application instance used by the manager.
         *
         * @param \Illuminate\Contracts\Foundation\Application $app
         * @return \Illuminate\Broadcasting\BroadcastManager
         * @static
         */        public static function setApplication($app)
        {
                        /** @var \Illuminate\Broadcasting\BroadcastManager $instance */
                        return $instance->setApplication($app);
        }
                    /**
         * Forget all of the resolved driver instances.
         *
         * @return \Illuminate\Broadcasting\BroadcastManager
         * @static
         */        public static function forgetDrivers()
        {
                        /** @var \Illuminate\Broadcasting\BroadcastManager $instance */
                        return $instance->forgetDrivers();
        }
            }
            /**
     * @see \Illuminate\Bus\Dispatcher
     * @see \Illuminate\Support\Testing\Fakes\BusFake
     */        class Bus {
                    /**
         * Dispatch a command to its appropriate handler.
         *
         * @param mixed $command
         * @return mixed
         * @static
         */        public static function dispatch($command)
        {
                        /** @var \Illuminate\Bus\Dispatcher $instance */
                        return $instance->dispatch($command);
        }
                    /**
         * Dispatch a command to its appropriate handler in the current process.
         * 
         * Queueable jobs will be dispatched to the "sync" queue.
         *
         * @param mixed $command
         * @param mixed $handler
         * @return mixed
         * @static
         */        public static function dispatchSync($command, $handler = null)
        {
                        /** @var \Illuminate\Bus\Dispatcher $instance */
                        return $instance->dispatchSync($command, $handler);
        }
                    /**
         * Dispatch a command to its appropriate handler in the current process without using the synchronous queue.
         *
         * @param mixed $command
         * @param mixed $handler
         * @return mixed
         * @static
         */        public static function dispatchNow($command, $handler = null)
        {
                        /** @var \Illuminate\Bus\Dispatcher $instance */
                        return $instance->dispatchNow($command, $handler);
        }
                    /**
         * Attempt to find the batch with the given ID.
         *
         * @param string $batchId
         * @return \Illuminate\Bus\Batch|null
         * @static
         */        public static function findBatch($batchId)
        {
                        /** @var \Illuminate\Bus\Dispatcher $instance */
                        return $instance->findBatch($batchId);
        }
                    /**
         * Create a new batch of queueable jobs.
         *
         * @param \Illuminate\Support\Collection|array|mixed $jobs
         * @return \Illuminate\Bus\PendingBatch
         * @static
         */        public static function batch($jobs)
        {
                        /** @var \Illuminate\Bus\Dispatcher $instance */
                        return $instance->batch($jobs);
        }
                    /**
         * Create a new chain of queueable jobs.
         *
         * @param \Illuminate\Support\Collection|array $jobs
         * @return \Illuminate\Foundation\Bus\PendingChain
         * @static
         */        public static function chain($jobs)
        {
                        /** @var \Illuminate\Bus\Dispatcher $instance */
                        return $instance->chain($jobs);
        }
                    /**
         * Determine if the given command has a handler.
         *
         * @param mixed $command
         * @return bool
         * @static
         */        public static function hasCommandHandler($command)
        {
                        /** @var \Illuminate\Bus\Dispatcher $instance */
                        return $instance->hasCommandHandler($command);
        }
                    /**
         * Retrieve the handler for a command.
         *
         * @param mixed $command
         * @return bool|mixed
         * @static
         */        public static function getCommandHandler($command)
        {
                        /** @var \Illuminate\Bus\Dispatcher $instance */
                        return $instance->getCommandHandler($command);
        }
                    /**
         * Dispatch a command to its appropriate handler behind a queue.
         *
         * @param mixed $command
         * @return mixed
         * @throws \RuntimeException
         * @static
         */        public static function dispatchToQueue($command)
        {
                        /** @var \Illuminate\Bus\Dispatcher $instance */
                        return $instance->dispatchToQueue($command);
        }
                    /**
         * Dispatch a command to its appropriate handler after the current process.
         *
         * @param mixed $command
         * @param mixed $handler
         * @return void
         * @static
         */        public static function dispatchAfterResponse($command, $handler = null)
        {
                        /** @var \Illuminate\Bus\Dispatcher $instance */
                        $instance->dispatchAfterResponse($command, $handler);
        }
                    /**
         * Set the pipes through which commands should be piped before dispatching.
         *
         * @param array $pipes
         * @return \Illuminate\Bus\Dispatcher
         * @static
         */        public static function pipeThrough($pipes)
        {
                        /** @var \Illuminate\Bus\Dispatcher $instance */
                        return $instance->pipeThrough($pipes);
        }
                    /**
         * Map a command to a handler.
         *
         * @param array $map
         * @return \Illuminate\Bus\Dispatcher
         * @static
         */        public static function map($map)
        {
                        /** @var \Illuminate\Bus\Dispatcher $instance */
                        return $instance->map($map);
        }
                    /**
         * Specify the jobs that should be dispatched instead of faked.
         *
         * @param array|string $jobsToDispatch
         * @return void
         * @static
         */        public static function except($jobsToDispatch)
        {
                        /** @var \Illuminate\Support\Testing\Fakes\BusFake $instance */
                        $instance->except($jobsToDispatch);
        }
                    /**
         * Assert if a job was dispatched based on a truth-test callback.
         *
         * @param string|\Closure $command
         * @param callable|int|null $callback
         * @return void
         * @static
         */        public static function assertDispatched($command, $callback = null)
        {
                        /** @var \Illuminate\Support\Testing\Fakes\BusFake $instance */
                        $instance->assertDispatched($command, $callback);
        }
                    /**
         * Assert if a job was pushed a number of times.
         *
         * @param string|\Closure $command
         * @param int $times
         * @return void
         * @static
         */        public static function assertDispatchedTimes($command, $times = 1)
        {
                        /** @var \Illuminate\Support\Testing\Fakes\BusFake $instance */
                        $instance->assertDispatchedTimes($command, $times);
        }
                    /**
         * Determine if a job was dispatched based on a truth-test callback.
         *
         * @param string|\Closure $command
         * @param callable|null $callback
         * @return void
         * @static
         */        public static function assertNotDispatched($command, $callback = null)
        {
                        /** @var \Illuminate\Support\Testing\Fakes\BusFake $instance */
                        $instance->assertNotDispatched($command, $callback);
        }
                    /**
         * Assert that no jobs were dispatched.
         *
         * @return void
         * @static
         */        public static function assertNothingDispatched()
        {
                        /** @var \Illuminate\Support\Testing\Fakes\BusFake $instance */
                        $instance->assertNothingDispatched();
        }
                    /**
         * Assert if a job was explicitly dispatched synchronously based on a truth-test callback.
         *
         * @param string|\Closure $command
         * @param callable|int|null $callback
         * @return void
         * @static
         */        public static function assertDispatchedSync($command, $callback = null)
        {
                        /** @var \Illuminate\Support\Testing\Fakes\BusFake $instance */
                        $instance->assertDispatchedSync($command, $callback);
        }
                    /**
         * Assert if a job was pushed synchronously a number of times.
         *
         * @param string|\Closure $command
         * @param int $times
         * @return void
         * @static
         */        public static function assertDispatchedSyncTimes($command, $times = 1)
        {
                        /** @var \Illuminate\Support\Testing\Fakes\BusFake $instance */
                        $instance->assertDispatchedSyncTimes($command, $times);
        }
                    /**
         * Determine if a job was dispatched based on a truth-test callback.
         *
         * @param string|\Closure $command
         * @param callable|null $callback
         * @return void
         * @static
         */        public static function assertNotDispatchedSync($command, $callback = null)
        {
                        /** @var \Illuminate\Support\Testing\Fakes\BusFake $instance */
                        $instance->assertNotDispatchedSync($command, $callback);
        }
                    /**
         * Assert if a job was dispatched after the response was sent based on a truth-test callback.
         *
         * @param string|\Closure $command
         * @param callable|int|null $callback
         * @return void
         * @static
         */        public static function assertDispatchedAfterResponse($command, $callback = null)
        {
                        /** @var \Illuminate\Support\Testing\Fakes\BusFake $instance */
                        $instance->assertDispatchedAfterResponse($command, $callback);
        }
                    /**
         * Assert if a job was pushed after the response was sent a number of times.
         *
         * @param string|\Closure $command
         * @param int $times
         * @return void
         * @static
         */        public static function assertDispatchedAfterResponseTimes($command, $times = 1)
        {
                        /** @var \Illuminate\Support\Testing\Fakes\BusFake $instance */
                        $instance->assertDispatchedAfterResponseTimes($command, $times);
        }
                    /**
         * Determine if a job was dispatched based on a truth-test callback.
         *
         * @param string|\Closure $command
         * @param callable|null $callback
         * @return void
         * @static
         */        public static function assertNotDispatchedAfterResponse($command, $callback = null)
        {
                        /** @var \Illuminate\Support\Testing\Fakes\BusFake $instance */
                        $instance->assertNotDispatchedAfterResponse($command, $callback);
        }
                    /**
         * Assert if a chain of jobs was dispatched.
         *
         * @param array $expectedChain
         * @return void
         * @static
         */        public static function assertChained($expectedChain)
        {
                        /** @var \Illuminate\Support\Testing\Fakes\BusFake $instance */
                        $instance->assertChained($expectedChain);
        }
                    /**
         * Assert if a job was dispatched with an empty chain based on a truth-test callback.
         *
         * @param string|\Closure $command
         * @param callable|null $callback
         * @return void
         * @static
         */        public static function assertDispatchedWithoutChain($command, $callback = null)
        {
                        /** @var \Illuminate\Support\Testing\Fakes\BusFake $instance */
                        $instance->assertDispatchedWithoutChain($command, $callback);
        }
                    /**
         * Assert if a batch was dispatched based on a truth-test callback.
         *
         * @param callable $callback
         * @return void
         * @static
         */        public static function assertBatched($callback)
        {
                        /** @var \Illuminate\Support\Testing\Fakes\BusFake $instance */
                        $instance->assertBatched($callback);
        }
                    /**
         * Assert the number of batches that have been dispatched.
         *
         * @param int $count
         * @return void
         * @static
         */        public static function assertBatchCount($count)
        {
                        /** @var \Illuminate\Support\Testing\Fakes\BusFake $instance */
                        $instance->assertBatchCount($count);
        }
                    /**
         * Assert that no batched jobs were dispatched.
         *
         * @return void
         * @static
         */        public static function assertNothingBatched()
        {
                        /** @var \Illuminate\Support\Testing\Fakes\BusFake $instance */
                        $instance->assertNothingBatched();
        }
                    /**
         * Get all of the jobs matching a truth-test callback.
         *
         * @param string $command
         * @param callable|null $callback
         * @return \Illuminate\Support\Collection
         * @static
         */        public static function dispatched($command, $callback = null)
        {
                        /** @var \Illuminate\Support\Testing\Fakes\BusFake $instance */
                        return $instance->dispatched($command, $callback);
        }
                    /**
         * Get all of the jobs dispatched synchronously matching a truth-test callback.
         *
         * @param string $command
         * @param callable|null $callback
         * @return \Illuminate\Support\Collection
         * @static
         */        public static function dispatchedSync($command, $callback = null)
        {
                        /** @var \Illuminate\Support\Testing\Fakes\BusFake $instance */
                        return $instance->dispatchedSync($command, $callback);
        }
                    /**
         * Get all of the jobs dispatched after the response was sent matching a truth-test callback.
         *
         * @param string $command
         * @param callable|null $callback
         * @return \Illuminate\Support\Collection
         * @static
         */        public static function dispatchedAfterResponse($command, $callback = null)
        {
                        /** @var \Illuminate\Support\Testing\Fakes\BusFake $instance */
                        return $instance->dispatchedAfterResponse($command, $callback);
        }
                    /**
         * Get all of the pending batches matching a truth-test callback.
         *
         * @param callable $callback
         * @return \Illuminate\Support\Collection
         * @static
         */        public static function batched($callback)
        {
                        /** @var \Illuminate\Support\Testing\Fakes\BusFake $instance */
                        return $instance->batched($callback);
        }
                    /**
         * Determine if there are any stored commands for a given class.
         *
         * @param string $command
         * @return bool
         * @static
         */        public static function hasDispatched($command)
        {
                        /** @var \Illuminate\Support\Testing\Fakes\BusFake $instance */
                        return $instance->hasDispatched($command);
        }
                    /**
         * Determine if there are any stored commands for a given class.
         *
         * @param string $command
         * @return bool
         * @static
         */        public static function hasDispatchedSync($command)
        {
                        /** @var \Illuminate\Support\Testing\Fakes\BusFake $instance */
                        return $instance->hasDispatchedSync($command);
        }
                    /**
         * Determine if there are any stored commands for a given class.
         *
         * @param string $command
         * @return bool
         * @static
         */        public static function hasDispatchedAfterResponse($command)
        {
                        /** @var \Illuminate\Support\Testing\Fakes\BusFake $instance */
                        return $instance->hasDispatchedAfterResponse($command);
        }
                    /**
         * Dispatch an empty job batch for testing.
         *
         * @param string $name
         * @return \Illuminate\Bus\Batch
         * @static
         */        public static function dispatchFakeBatch($name = '')
        {
                        /** @var \Illuminate\Support\Testing\Fakes\BusFake $instance */
                        return $instance->dispatchFakeBatch($name);
        }
                    /**
         * Record the fake pending batch dispatch.
         *
         * @param \Illuminate\Bus\PendingBatch $pendingBatch
         * @return \Illuminate\Bus\Batch
         * @static
         */        public static function recordPendingBatch($pendingBatch)
        {
                        /** @var \Illuminate\Support\Testing\Fakes\BusFake $instance */
                        return $instance->recordPendingBatch($pendingBatch);
        }
            }
            /**
     * @see \Illuminate\Cache\CacheManager
     * @mixin \Illuminate\Cache\Repository
     */        class Cache {
                    /**
         * Get a cache store instance by name, wrapped in a repository.
         *
         * @param string|null $name
         * @return \Illuminate\Contracts\Cache\Repository
         * @static
         */        public static function store($name = null)
        {
                        /** @var \Illuminate\Cache\CacheManager $instance */
                        return $instance->store($name);
        }
                    /**
         * Get a cache driver instance.
         *
         * @param string|null $driver
         * @return \Illuminate\Contracts\Cache\Repository
         * @static
         */        public static function driver($driver = null)
        {
                        /** @var \Illuminate\Cache\CacheManager $instance */
                        return $instance->driver($driver);
        }
                    /**
         * Create a new cache repository with the given implementation.
         *
         * @param \Illuminate\Contracts\Cache\Store $store
         * @return \Illuminate\Cache\Repository
         * @static
         */        public static function repository($store)
        {
                        /** @var \Illuminate\Cache\CacheManager $instance */
                        return $instance->repository($store);
        }
                    /**
         * Re-set the event dispatcher on all resolved cache repositories.
         *
         * @return void
         * @static
         */        public static function refreshEventDispatcher()
        {
                        /** @var \Illuminate\Cache\CacheManager $instance */
                        $instance->refreshEventDispatcher();
        }
                    /**
         * Get the default cache driver name.
         *
         * @return string
         * @static
         */        public static function getDefaultDriver()
        {
                        /** @var \Illuminate\Cache\CacheManager $instance */
                        return $instance->getDefaultDriver();
        }
                    /**
         * Set the default cache driver name.
         *
         * @param string $name
         * @return void
         * @static
         */        public static function setDefaultDriver($name)
        {
                        /** @var \Illuminate\Cache\CacheManager $instance */
                        $instance->setDefaultDriver($name);
        }
                    /**
         * Unset the given driver instances.
         *
         * @param array|string|null $name
         * @return \Illuminate\Cache\CacheManager
         * @static
         */        public static function forgetDriver($name = null)
        {
                        /** @var \Illuminate\Cache\CacheManager $instance */
                        return $instance->forgetDriver($name);
        }
                    /**
         * Disconnect the given driver and remove from local cache.
         *
         * @param string|null $name
         * @return void
         * @static
         */        public static function purge($name = null)
        {
                        /** @var \Illuminate\Cache\CacheManager $instance */
                        $instance->purge($name);
        }
                    /**
         * Register a custom driver creator Closure.
         *
         * @param string $driver
         * @param \Closure $callback
         * @return \Illuminate\Cache\CacheManager
         * @static
         */        public static function extend($driver, $callback)
        {
                        /** @var \Illuminate\Cache\CacheManager $instance */
                        return $instance->extend($driver, $callback);
        }
                    /**
         * Determine if an item exists in the cache.
         *
         * @param array|string $key
         * @return bool
         * @static
         */        public static function has($key)
        {
                        /** @var \Illuminate\Cache\Repository $instance */
                        return $instance->has($key);
        }
                    /**
         * Determine if an item doesn't exist in the cache.
         *
         * @param string $key
         * @return bool
         * @static
         */        public static function missing($key)
        {
                        /** @var \Illuminate\Cache\Repository $instance */
                        return $instance->missing($key);
        }
                    /**
         * Retrieve an item from the cache by key.
         *
         * @template TCacheValue
         * @param array|string $key
         * @param TCacheValue|(\Closure(): TCacheValue) $default
         * @return (TCacheValue is null ? mixed : TCacheValue)
         * @static
         */        public static function get($key, $default = null)
        {
                        /** @var \Illuminate\Cache\Repository $instance */
                        return $instance->get($key, $default);
        }
                    /**
         * Retrieve multiple items from the cache by key.
         * 
         * Items not found in the cache will have a null value.
         *
         * @param array $keys
         * @return array
         * @static
         */        public static function many($keys)
        {
                        /** @var \Illuminate\Cache\Repository $instance */
                        return $instance->many($keys);
        }
                    /**
         * Obtains multiple cache items by their unique keys.
         *
         * @return iterable
         * @param iterable<string> $keys A list of keys that can be obtained in a single operation.
         * @param mixed $default Default value to return for keys that do not exist.
         * @return iterable<string, mixed> A list of key => value pairs. Cache keys that do not exist or are stale will have $default as value.
         * @throws \Psr\SimpleCache\InvalidArgumentException
         *   MUST be thrown if $keys is neither an array nor a Traversable,
         *   or if any of the $keys are not a legal value.
         * @static
         */        public static function getMultiple($keys, $default = null)
        {
                        /** @var \Illuminate\Cache\Repository $instance */
                        return $instance->getMultiple($keys, $default);
        }
                    /**
         * Retrieve an item from the cache and delete it.
         *
         * @template TCacheValue
         * @param array|string $key
         * @param TCacheValue|(\Closure(): TCacheValue) $default
         * @return (TCacheValue is null ? mixed : TCacheValue)
         * @static
         */        public static function pull($key, $default = null)
        {
                        /** @var \Illuminate\Cache\Repository $instance */
                        return $instance->pull($key, $default);
        }
                    /**
         * Store an item in the cache.
         *
         * @param array|string $key
         * @param mixed $value
         * @param \DateTimeInterface|\DateInterval|int|null $ttl
         * @return bool
         * @static
         */        public static function put($key, $value, $ttl = null)
        {
                        /** @var \Illuminate\Cache\Repository $instance */
                        return $instance->put($key, $value, $ttl);
        }
                    /**
         * Persists data in the cache, uniquely referenced by a key with an optional expiration TTL time.
         *
         * @return bool
         * @param string $key The key of the item to store.
         * @param mixed $value The value of the item to store, must be serializable.
         * @param null|int|\DateInterval $ttl Optional. The TTL value of this item. If no value is sent and
         *                                      the driver supports TTL then the library may set a default value
         *                                      for it or let the driver take care of that.
         * @return bool True on success and false on failure.
         * @throws \Psr\SimpleCache\InvalidArgumentException
         *   MUST be thrown if the $key string is not a legal value.
         * @static
         */        public static function set($key, $value, $ttl = null)
        {
                        /** @var \Illuminate\Cache\Repository $instance */
                        return $instance->set($key, $value, $ttl);
        }
                    /**
         * Store multiple items in the cache for a given number of seconds.
         *
         * @param array $values
         * @param \DateTimeInterface|\DateInterval|int|null $ttl
         * @return bool
         * @static
         */        public static function putMany($values, $ttl = null)
        {
                        /** @var \Illuminate\Cache\Repository $instance */
                        return $instance->putMany($values, $ttl);
        }
                    /**
         * Persists a set of key => value pairs in the cache, with an optional TTL.
         *
         * @return bool
         * @param iterable $values A list of key => value pairs for a multiple-set operation.
         * @param null|int|\DateInterval $ttl Optional. The TTL value of this item. If no value is sent and
         *                                       the driver supports TTL then the library may set a default value
         *                                       for it or let the driver take care of that.
         * @return bool True on success and false on failure.
         * @throws \Psr\SimpleCache\InvalidArgumentException
         *   MUST be thrown if $values is neither an array nor a Traversable,
         *   or if any of the $values are not a legal value.
         * @static
         */        public static function setMultiple($values, $ttl = null)
        {
                        /** @var \Illuminate\Cache\Repository $instance */
                        return $instance->setMultiple($values, $ttl);
        }
                    /**
         * Store an item in the cache if the key does not exist.
         *
         * @param string $key
         * @param mixed $value
         * @param \DateTimeInterface|\DateInterval|int|null $ttl
         * @return bool
         * @static
         */        public static function add($key, $value, $ttl = null)
        {
                        /** @var \Illuminate\Cache\Repository $instance */
                        return $instance->add($key, $value, $ttl);
        }
                    /**
         * Increment the value of an item in the cache.
         *
         * @param string $key
         * @param mixed $value
         * @return int|bool
         * @static
         */        public static function increment($key, $value = 1)
        {
                        /** @var \Illuminate\Cache\Repository $instance */
                        return $instance->increment($key, $value);
        }
                    /**
         * Decrement the value of an item in the cache.
         *
         * @param string $key
         * @param mixed $value
         * @return int|bool
         * @static
         */        public static function decrement($key, $value = 1)
        {
                        /** @var \Illuminate\Cache\Repository $instance */
                        return $instance->decrement($key, $value);
        }
                    /**
         * Store an item in the cache indefinitely.
         *
         * @param string $key
         * @param mixed $value
         * @return bool
         * @static
         */        public static function forever($key, $value)
        {
                        /** @var \Illuminate\Cache\Repository $instance */
                        return $instance->forever($key, $value);
        }
                    /**
         * Get an item from the cache, or execute the given Closure and store the result.
         *
         * @template TCacheValue
         * @param string $key
         * @param \Closure|\DateTimeInterface|\DateInterval|int|null $ttl
         * @param \Closure():  TCacheValue  $callback
         * @return TCacheValue
         * @static
         */        public static function remember($key, $ttl, $callback)
        {
                        /** @var \Illuminate\Cache\Repository $instance */
                        return $instance->remember($key, $ttl, $callback);
        }
                    /**
         * Get an item from the cache, or execute the given Closure and store the result forever.
         *
         * @template TCacheValue
         * @param string $key
         * @param \Closure():  TCacheValue  $callback
         * @return TCacheValue
         * @static
         */        public static function sear($key, $callback)
        {
                        /** @var \Illuminate\Cache\Repository $instance */
                        return $instance->sear($key, $callback);
        }
                    /**
         * Get an item from the cache, or execute the given Closure and store the result forever.
         *
         * @template TCacheValue
         * @param string $key
         * @param \Closure():  TCacheValue  $callback
         * @return TCacheValue
         * @static
         */        public static function rememberForever($key, $callback)
        {
                        /** @var \Illuminate\Cache\Repository $instance */
                        return $instance->rememberForever($key, $callback);
        }
                    /**
         * Remove an item from the cache.
         *
         * @param string $key
         * @return bool
         * @static
         */        public static function forget($key)
        {
                        /** @var \Illuminate\Cache\Repository $instance */
                        return $instance->forget($key);
        }
                    /**
         * Delete an item from the cache by its unique key.
         *
         * @return bool
         * @param string $key The unique cache key of the item to delete.
         * @return bool True if the item was successfully removed. False if there was an error.
         * @throws \Psr\SimpleCache\InvalidArgumentException
         *   MUST be thrown if the $key string is not a legal value.
         * @static
         */        public static function delete($key)
        {
                        /** @var \Illuminate\Cache\Repository $instance */
                        return $instance->delete($key);
        }
                    /**
         * Deletes multiple cache items in a single operation.
         *
         * @return bool
         * @param iterable<string> $keys A list of string-based keys to be deleted.
         * @return bool True if the items were successfully removed. False if there was an error.
         * @throws \Psr\SimpleCache\InvalidArgumentException
         *   MUST be thrown if $keys is neither an array nor a Traversable,
         *   or if any of the $keys are not a legal value.
         * @static
         */        public static function deleteMultiple($keys)
        {
                        /** @var \Illuminate\Cache\Repository $instance */
                        return $instance->deleteMultiple($keys);
        }
                    /**
         * Wipes clean the entire cache's keys.
         *
         * @return bool
         * @return bool True on success and false on failure.
         * @static
         */        public static function clear()
        {
                        /** @var \Illuminate\Cache\Repository $instance */
                        return $instance->clear();
        }
                    /**
         * Begin executing a new tags operation if the store supports it.
         *
         * @param array|mixed $names
         * @return \Illuminate\Cache\TaggedCache
         * @throws \BadMethodCallException
         * @static
         */        public static function tags($names)
        {
                        /** @var \Illuminate\Cache\Repository $instance */
                        return $instance->tags($names);
        }
                    /**
         * Determine if the current store supports tags.
         *
         * @return bool
         * @static
         */        public static function supportsTags()
        {
                        /** @var \Illuminate\Cache\Repository $instance */
                        return $instance->supportsTags();
        }
                    /**
         * Get the default cache time.
         *
         * @return int|null
         * @static
         */        public static function getDefaultCacheTime()
        {
                        /** @var \Illuminate\Cache\Repository $instance */
                        return $instance->getDefaultCacheTime();
        }
                    /**
         * Set the default cache time in seconds.
         *
         * @param int|null $seconds
         * @return \Illuminate\Cache\Repository
         * @static
         */        public static function setDefaultCacheTime($seconds)
        {
                        /** @var \Illuminate\Cache\Repository $instance */
                        return $instance->setDefaultCacheTime($seconds);
        }
                    /**
         * Get the cache store implementation.
         *
         * @return \Illuminate\Contracts\Cache\Store
         * @static
         */        public static function getStore()
        {
                        /** @var \Illuminate\Cache\Repository $instance */
                        return $instance->getStore();
        }
                    /**
         * Get the event dispatcher instance.
         *
         * @return \Illuminate\Contracts\Events\Dispatcher
         * @static
         */        public static function getEventDispatcher()
        {
                        /** @var \Illuminate\Cache\Repository $instance */
                        return $instance->getEventDispatcher();
        }
                    /**
         * Set the event dispatcher instance.
         *
         * @param \Illuminate\Contracts\Events\Dispatcher $events
         * @return void
         * @static
         */        public static function setEventDispatcher($events)
        {
                        /** @var \Illuminate\Cache\Repository $instance */
                        $instance->setEventDispatcher($events);
        }
                    /**
         * Determine if a cached value exists.
         *
         * @param string $key
         * @return bool
         * @static
         */        public static function offsetExists($key)
        {
                        /** @var \Illuminate\Cache\Repository $instance */
                        return $instance->offsetExists($key);
        }
                    /**
         * Retrieve an item from the cache by key.
         *
         * @param string $key
         * @return mixed
         * @static
         */        public static function offsetGet($key)
        {
                        /** @var \Illuminate\Cache\Repository $instance */
                        return $instance->offsetGet($key);
        }
                    /**
         * Store an item in the cache for the default time.
         *
         * @param string $key
         * @param mixed $value
         * @return void
         * @static
         */        public static function offsetSet($key, $value)
        {
                        /** @var \Illuminate\Cache\Repository $instance */
                        $instance->offsetSet($key, $value);
        }
                    /**
         * Remove an item from the cache.
         *
         * @param string $key
         * @return void
         * @static
         */        public static function offsetUnset($key)
        {
                        /** @var \Illuminate\Cache\Repository $instance */
                        $instance->offsetUnset($key);
        }
                    /**
         * Register a custom macro.
         *
         * @param string $name
         * @param object|callable $macro
         * @return void
         * @static
         */        public static function macro($name, $macro)
        {
                        \Illuminate\Cache\Repository::macro($name, $macro);
        }
                    /**
         * Mix another object into the class.
         *
         * @param object $mixin
         * @param bool $replace
         * @return void
         * @throws \ReflectionException
         * @static
         */        public static function mixin($mixin, $replace = true)
        {
                        \Illuminate\Cache\Repository::mixin($mixin, $replace);
        }
                    /**
         * Checks if macro is registered.
         *
         * @param string $name
         * @return bool
         * @static
         */        public static function hasMacro($name)
        {
                        return \Illuminate\Cache\Repository::hasMacro($name);
        }
                    /**
         * Flush the existing macros.
         *
         * @return void
         * @static
         */        public static function flushMacros()
        {
                        \Illuminate\Cache\Repository::flushMacros();
        }
                    /**
         * Dynamically handle calls to the class.
         *
         * @param string $method
         * @param array $parameters
         * @return mixed
         * @throws \BadMethodCallException
         * @static
         */        public static function macroCall($method, $parameters)
        {
                        /** @var \Illuminate\Cache\Repository $instance */
                        return $instance->macroCall($method, $parameters);
        }
                    /**
         * Get a lock instance.
         *
         * @param string $name
         * @param int $seconds
         * @param string|null $owner
         * @return \Illuminate\Contracts\Cache\Lock
         * @static
         */        public static function lock($name, $seconds = 0, $owner = null)
        {
                        /** @var \Illuminate\Cache\FileStore $instance */
                        return $instance->lock($name, $seconds, $owner);
        }
                    /**
         * Restore a lock instance using the owner identifier.
         *
         * @param string $name
         * @param string $owner
         * @return \Illuminate\Contracts\Cache\Lock
         * @static
         */        public static function restoreLock($name, $owner)
        {
                        /** @var \Illuminate\Cache\FileStore $instance */
                        return $instance->restoreLock($name, $owner);
        }
                    /**
         * Remove all items from the cache.
         *
         * @return bool
         * @static
         */        public static function flush()
        {
                        /** @var \Illuminate\Cache\FileStore $instance */
                        return $instance->flush();
        }
                    /**
         * Get the Filesystem instance.
         *
         * @return \Illuminate\Filesystem\Filesystem
         * @static
         */        public static function getFilesystem()
        {
                        /** @var \Illuminate\Cache\FileStore $instance */
                        return $instance->getFilesystem();
        }
                    /**
         * Get the working directory of the cache.
         *
         * @return string
         * @static
         */        public static function getDirectory()
        {
                        /** @var \Illuminate\Cache\FileStore $instance */
                        return $instance->getDirectory();
        }
                    /**
         * Get the cache key prefix.
         *
         * @return string
         * @static
         */        public static function getPrefix()
        {
                        /** @var \Illuminate\Cache\FileStore $instance */
                        return $instance->getPrefix();
        }
            }
            /**
     * @see \Illuminate\Config\Repository
     */        class Config {
                    /**
         * Determine if the given configuration value exists.
         *
         * @param string $key
         * @return bool
         * @static
         */        public static function has($key)
        {
                        /** @var \Illuminate\Config\Repository $instance */
                        return $instance->has($key);
        }
                    /**
         * Get the specified configuration value.
         *
         * @param array|string $key
         * @param mixed $default
         * @return mixed
         * @static
         */        public static function get($key, $default = null)
        {
                        /** @var \Illuminate\Config\Repository $instance */
                        return $instance->get($key, $default);
        }
                    /**
         * Get many configuration values.
         *
         * @param array $keys
         * @return array
         * @static
         */        public static function getMany($keys)
        {
                        /** @var \Illuminate\Config\Repository $instance */
                        return $instance->getMany($keys);
        }
                    /**
         * Set a given configuration value.
         *
         * @param array|string $key
         * @param mixed $value
         * @return void
         * @static
         */        public static function set($key, $value = null)
        {
                        /** @var \Illuminate\Config\Repository $instance */
                        $instance->set($key, $value);
        }
                    /**
         * Prepend a value onto an array configuration value.
         *
         * @param string $key
         * @param mixed $value
         * @return void
         * @static
         */        public static function prepend($key, $value)
        {
                        /** @var \Illuminate\Config\Repository $instance */
                        $instance->prepend($key, $value);
        }
                    /**
         * Push a value onto an array configuration value.
         *
         * @param string $key
         * @param mixed $value
         * @return void
         * @static
         */        public static function push($key, $value)
        {
                        /** @var \Illuminate\Config\Repository $instance */
                        $instance->push($key, $value);
        }
                    /**
         * Get all of the configuration items for the application.
         *
         * @return array
         * @static
         */        public static function all()
        {
                        /** @var \Illuminate\Config\Repository $instance */
                        return $instance->all();
        }
                    /**
         * Determine if the given configuration option exists.
         *
         * @param string $key
         * @return bool
         * @static
         */        public static function offsetExists($key)
        {
                        /** @var \Illuminate\Config\Repository $instance */
                        return $instance->offsetExists($key);
        }
                    /**
         * Get a configuration option.
         *
         * @param string $key
         * @return mixed
         * @static
         */        public static function offsetGet($key)
        {
                        /** @var \Illuminate\Config\Repository $instance */
                        return $instance->offsetGet($key);
        }
                    /**
         * Set a configuration option.
         *
         * @param string $key
         * @param mixed $value
         * @return void
         * @static
         */        public static function offsetSet($key, $value)
        {
                        /** @var \Illuminate\Config\Repository $instance */
                        $instance->offsetSet($key, $value);
        }
                    /**
         * Unset a configuration option.
         *
         * @param string $key
         * @return void
         * @static
         */        public static function offsetUnset($key)
        {
                        /** @var \Illuminate\Config\Repository $instance */
                        $instance->offsetUnset($key);
        }
                    /**
         * Register a custom macro.
         *
         * @param string $name
         * @param object|callable $macro
         * @return void
         * @static
         */        public static function macro($name, $macro)
        {
                        \Illuminate\Config\Repository::macro($name, $macro);
        }
                    /**
         * Mix another object into the class.
         *
         * @param object $mixin
         * @param bool $replace
         * @return void
         * @throws \ReflectionException
         * @static
         */        public static function mixin($mixin, $replace = true)
        {
                        \Illuminate\Config\Repository::mixin($mixin, $replace);
        }
                    /**
         * Checks if macro is registered.
         *
         * @param string $name
         * @return bool
         * @static
         */        public static function hasMacro($name)
        {
                        return \Illuminate\Config\Repository::hasMacro($name);
        }
                    /**
         * Flush the existing macros.
         *
         * @return void
         * @static
         */        public static function flushMacros()
        {
                        \Illuminate\Config\Repository::flushMacros();
        }
            }
            /**
     * @see \Illuminate\Cookie\CookieJar
     */        class Cookie {
                    /**
         * Create a new cookie instance.
         *
         * @param string $name
         * @param string $value
         * @param int $minutes
         * @param string|null $path
         * @param string|null $domain
         * @param bool|null $secure
         * @param bool $httpOnly
         * @param bool $raw
         * @param string|null $sameSite
         * @return \Symfony\Component\HttpFoundation\Cookie
         * @static
         */        public static function make($name, $value, $minutes = 0, $path = null, $domain = null, $secure = null, $httpOnly = true, $raw = false, $sameSite = null)
        {
                        /** @var \Illuminate\Cookie\CookieJar $instance */
                        return $instance->make($name, $value, $minutes, $path, $domain, $secure, $httpOnly, $raw, $sameSite);
        }
                    /**
         * Create a cookie that lasts "forever" (400 days).
         *
         * @param string $name
         * @param string $value
         * @param string|null $path
         * @param string|null $domain
         * @param bool|null $secure
         * @param bool $httpOnly
         * @param bool $raw
         * @param string|null $sameSite
         * @return \Symfony\Component\HttpFoundation\Cookie
         * @static
         */        public static function forever($name, $value, $path = null, $domain = null, $secure = null, $httpOnly = true, $raw = false, $sameSite = null)
        {
                        /** @var \Illuminate\Cookie\CookieJar $instance */
                        return $instance->forever($name, $value, $path, $domain, $secure, $httpOnly, $raw, $sameSite);
        }
                    /**
         * Expire the given cookie.
         *
         * @param string $name
         * @param string|null $path
         * @param string|null $domain
         * @return \Symfony\Component\HttpFoundation\Cookie
         * @static
         */        public static function forget($name, $path = null, $domain = null)
        {
                        /** @var \Illuminate\Cookie\CookieJar $instance */
                        return $instance->forget($name, $path, $domain);
        }
                    /**
         * Determine if a cookie has been queued.
         *
         * @param string $key
         * @param string|null $path
         * @return bool
         * @static
         */        public static function hasQueued($key, $path = null)
        {
                        /** @var \Illuminate\Cookie\CookieJar $instance */
                        return $instance->hasQueued($key, $path);
        }
                    /**
         * Get a queued cookie instance.
         *
         * @param string $key
         * @param mixed $default
         * @param string|null $path
         * @return \Symfony\Component\HttpFoundation\Cookie|null
         * @static
         */        public static function queued($key, $default = null, $path = null)
        {
                        /** @var \Illuminate\Cookie\CookieJar $instance */
                        return $instance->queued($key, $default, $path);
        }
                    /**
         * Queue a cookie to send with the next response.
         *
         * @param mixed $parameters
         * @return void
         * @static
         */        public static function queue(...$parameters)
        {
                        /** @var \Illuminate\Cookie\CookieJar $instance */
                        $instance->queue(...$parameters);
        }
                    /**
         * Queue a cookie to expire with the next response.
         *
         * @param string $name
         * @param string|null $path
         * @param string|null $domain
         * @return void
         * @static
         */        public static function expire($name, $path = null, $domain = null)
        {
                        /** @var \Illuminate\Cookie\CookieJar $instance */
                        $instance->expire($name, $path, $domain);
        }
                    /**
         * Remove a cookie from the queue.
         *
         * @param string $name
         * @param string|null $path
         * @return void
         * @static
         */        public static function unqueue($name, $path = null)
        {
                        /** @var \Illuminate\Cookie\CookieJar $instance */
                        $instance->unqueue($name, $path);
        }
                    /**
         * Set the default path and domain for the jar.
         *
         * @param string $path
         * @param string|null $domain
         * @param bool|null $secure
         * @param string|null $sameSite
         * @return \Illuminate\Cookie\CookieJar
         * @static
         */        public static function setDefaultPathAndDomain($path, $domain, $secure = false, $sameSite = null)
        {
                        /** @var \Illuminate\Cookie\CookieJar $instance */
                        return $instance->setDefaultPathAndDomain($path, $domain, $secure, $sameSite);
        }
                    /**
         * Get the cookies which have been queued for the next request.
         *
         * @return \Symfony\Component\HttpFoundation\Cookie[]
         * @static
         */        public static function getQueuedCookies()
        {
                        /** @var \Illuminate\Cookie\CookieJar $instance */
                        return $instance->getQueuedCookies();
        }
                    /**
         * Flush the cookies which have been queued for the next request.
         *
         * @return \Illuminate\Cookie\CookieJar
         * @static
         */        public static function flushQueuedCookies()
        {
                        /** @var \Illuminate\Cookie\CookieJar $instance */
                        return $instance->flushQueuedCookies();
        }
                    /**
         * Register a custom macro.
         *
         * @param string $name
         * @param object|callable $macro
         * @return void
         * @static
         */        public static function macro($name, $macro)
        {
                        \Illuminate\Cookie\CookieJar::macro($name, $macro);
        }
                    /**
         * Mix another object into the class.
         *
         * @param object $mixin
         * @param bool $replace
         * @return void
         * @throws \ReflectionException
         * @static
         */        public static function mixin($mixin, $replace = true)
        {
                        \Illuminate\Cookie\CookieJar::mixin($mixin, $replace);
        }
                    /**
         * Checks if macro is registered.
         *
         * @param string $name
         * @return bool
         * @static
         */        public static function hasMacro($name)
        {
                        return \Illuminate\Cookie\CookieJar::hasMacro($name);
        }
                    /**
         * Flush the existing macros.
         *
         * @return void
         * @static
         */        public static function flushMacros()
        {
                        \Illuminate\Cookie\CookieJar::flushMacros();
        }
            }
            /**
     * @see \Illuminate\Encryption\Encrypter
     */        class Crypt {
                    /**
         * Determine if the given key and cipher combination is valid.
         *
         * @param string $key
         * @param string $cipher
         * @return bool
         * @static
         */        public static function supported($key, $cipher)
        {
                        return \Illuminate\Encryption\Encrypter::supported($key, $cipher);
        }
                    /**
         * Create a new encryption key for the given cipher.
         *
         * @param string $cipher
         * @return string
         * @static
         */        public static function generateKey($cipher)
        {
                        return \Illuminate\Encryption\Encrypter::generateKey($cipher);
        }
                    /**
         * Encrypt the given value.
         *
         * @param mixed $value
         * @param bool $serialize
         * @return string
         * @throws \Illuminate\Contracts\Encryption\EncryptException
         * @static
         */        public static function encrypt($value, $serialize = true)
        {
                        /** @var \Illuminate\Encryption\Encrypter $instance */
                        return $instance->encrypt($value, $serialize);
        }
                    /**
         * Encrypt a string without serialization.
         *
         * @param string $value
         * @return string
         * @throws \Illuminate\Contracts\Encryption\EncryptException
         * @static
         */        public static function encryptString($value)
        {
                        /** @var \Illuminate\Encryption\Encrypter $instance */
                        return $instance->encryptString($value);
        }
                    /**
         * Decrypt the given value.
         *
         * @param string $payload
         * @param bool $unserialize
         * @return mixed
         * @throws \Illuminate\Contracts\Encryption\DecryptException
         * @static
         */        public static function decrypt($payload, $unserialize = true)
        {
                        /** @var \Illuminate\Encryption\Encrypter $instance */
                        return $instance->decrypt($payload, $unserialize);
        }
                    /**
         * Decrypt the given string without unserialization.
         *
         * @param string $payload
         * @return string
         * @throws \Illuminate\Contracts\Encryption\DecryptException
         * @static
         */        public static function decryptString($payload)
        {
                        /** @var \Illuminate\Encryption\Encrypter $instance */
                        return $instance->decryptString($payload);
        }
                    /**
         * Get the encryption key that the encrypter is currently using.
         *
         * @return string
         * @static
         */        public static function getKey()
        {
                        /** @var \Illuminate\Encryption\Encrypter $instance */
                        return $instance->getKey();
        }
            }
            /**
     * @see https://carbon.nesbot.com/docs/
     * @see https://github.com/briannesbitt/Carbon/blob/master/src/Carbon/Factory.php
     * @method static \Illuminate\Support\Carbon create($year = 0, $month = 1, $day = 1, $hour = 0, $minute = 0, $second = 0, $tz = null)
     * @method static \Illuminate\Support\Carbon createFromDate($year = null, $month = null, $day = null, $tz = null)
     * @method static \Illuminate\Support\Carbon|false createFromFormat($format, $time, $tz = null)
     * @method static \Illuminate\Support\Carbon createFromTime($hour = 0, $minute = 0, $second = 0, $tz = null)
     * @method static \Illuminate\Support\Carbon createFromTimeString($time, $tz = null)
     * @method static \Illuminate\Support\Carbon createFromTimestamp($timestamp, $tz = null)
     * @method static \Illuminate\Support\Carbon createFromTimestampMs($timestamp, $tz = null)
     * @method static \Illuminate\Support\Carbon createFromTimestampUTC($timestamp)
     * @method static \Illuminate\Support\Carbon createMidnightDate($year = null, $month = null, $day = null, $tz = null)
     * @method static \Illuminate\Support\Carbon|false createSafe($year = null, $month = null, $day = null, $hour = null, $minute = null, $second = null, $tz = null)
     * @method static void disableHumanDiffOption($humanDiffOption)
     * @method static void enableHumanDiffOption($humanDiffOption)
     * @method static mixed executeWithLocale($locale, $func)
     * @method static \Illuminate\Support\Carbon fromSerialized($value)
     * @method static array getAvailableLocales()
     * @method static array getDays()
     * @method static int getHumanDiffOptions()
     * @method static array getIsoUnits()
     * @method static array getLastErrors()
     * @method static string getLocale()
     * @method static int getMidDayAt()
     * @method static \Illuminate\Support\Carbon|null getTestNow()
     * @method static \Symfony\Component\Translation\TranslatorInterface getTranslator()
     * @method static int getWeekEndsAt()
     * @method static int getWeekStartsAt()
     * @method static array getWeekendDays()
     * @method static bool hasFormat($date, $format)
     * @method static bool hasMacro($name)
     * @method static bool hasRelativeKeywords($time)
     * @method static bool hasTestNow()
     * @method static \Illuminate\Support\Carbon instance($date)
     * @method static bool isImmutable()
     * @method static bool isModifiableUnit($unit)
     * @method static bool isMutable()
     * @method static bool isStrictModeEnabled()
     * @method static bool localeHasDiffOneDayWords($locale)
     * @method static bool localeHasDiffSyntax($locale)
     * @method static bool localeHasDiffTwoDayWords($locale)
     * @method static bool localeHasPeriodSyntax($locale)
     * @method static bool localeHasShortUnits($locale)
     * @method static void macro($name, $macro)
     * @method static \Illuminate\Support\Carbon|null make($var)
     * @method static \Illuminate\Support\Carbon maxValue()
     * @method static \Illuminate\Support\Carbon minValue()
     * @method static void mixin($mixin)
     * @method static \Illuminate\Support\Carbon now($tz = null)
     * @method static \Illuminate\Support\Carbon parse($time = null, $tz = null)
     * @method static string pluralUnit(string $unit)
     * @method static void resetMonthsOverflow()
     * @method static void resetToStringFormat()
     * @method static void resetYearsOverflow()
     * @method static void serializeUsing($callback)
     * @method static void setHumanDiffOptions($humanDiffOptions)
     * @method static bool setLocale($locale)
     * @method static void setMidDayAt($hour)
     * @method static void setTestNow($testNow = null)
     * @method static void setToStringFormat($format)
     * @method static void setTranslator(\Symfony\Component\Translation\TranslatorInterface $translator)
     * @method static void setUtf8($utf8)
     * @method static void setWeekEndsAt($day)
     * @method static void setWeekStartsAt($day)
     * @method static void setWeekendDays($days)
     * @method static bool shouldOverflowMonths()
     * @method static bool shouldOverflowYears()
     * @method static string singularUnit(string $unit)
     * @method static \Illuminate\Support\Carbon today($tz = null)
     * @method static \Illuminate\Support\Carbon tomorrow($tz = null)
     * @method static void useMonthsOverflow($monthsOverflow = true)
     * @method static void useStrictMode($strictModeEnabled = true)
     * @method static void useYearsOverflow($yearsOverflow = true)
     * @method static \Illuminate\Support\Carbon yesterday($tz = null)
     * @see \Illuminate\Support\DateFactory
     */        class Date {
                    /**
         * Use the given handler when generating dates (class name, callable, or factory).
         *
         * @param mixed $handler
         * @return mixed
         * @throws \InvalidArgumentException
         * @static
         */        public static function use($handler)
        {
                        return \Illuminate\Support\DateFactory::use($handler);
        }
                    /**
         * Use the default date class when generating dates.
         *
         * @return void
         * @static
         */        public static function useDefault()
        {
                        \Illuminate\Support\DateFactory::useDefault();
        }
                    /**
         * Execute the given callable on each date creation.
         *
         * @param callable $callable
         * @return void
         * @static
         */        public static function useCallable($callable)
        {
                        \Illuminate\Support\DateFactory::useCallable($callable);
        }
                    /**
         * Use the given date type (class) when generating dates.
         *
         * @param string $dateClass
         * @return void
         * @static
         */        public static function useClass($dateClass)
        {
                        \Illuminate\Support\DateFactory::useClass($dateClass);
        }
                    /**
         * Use the given Carbon factory when generating dates.
         *
         * @param object $factory
         * @return void
         * @static
         */        public static function useFactory($factory)
        {
                        \Illuminate\Support\DateFactory::useFactory($factory);
        }
            }
            /**
     * @see \Illuminate\Database\DatabaseManager
     */        class DB {
                    /**
         * Get a database connection instance.
         *
         * @param string|null $name
         * @return \Illuminate\Database\Connection
         * @static
         */        public static function connection($name = null)
        {
                        /** @var \Illuminate\Database\DatabaseManager $instance */
                        return $instance->connection($name);
        }
                    /**
         * Register a custom Doctrine type.
         *
         * @param string $class
         * @param string $name
         * @param string $type
         * @return void
         * @throws \Doctrine\DBAL\DBALException
         * @throws \RuntimeException
         * @static
         */        public static function registerDoctrineType($class, $name, $type)
        {
                        /** @var \Illuminate\Database\DatabaseManager $instance */
                        $instance->registerDoctrineType($class, $name, $type);
        }
                    /**
         * Disconnect from the given database and remove from local cache.
         *
         * @param string|null $name
         * @return void
         * @static
         */        public static function purge($name = null)
        {
                        /** @var \Illuminate\Database\DatabaseManager $instance */
                        $instance->purge($name);
        }
                    /**
         * Disconnect from the given database.
         *
         * @param string|null $name
         * @return void
         * @static
         */        public static function disconnect($name = null)
        {
                        /** @var \Illuminate\Database\DatabaseManager $instance */
                        $instance->disconnect($name);
        }
                    /**
         * Reconnect to the given database.
         *
         * @param string|null $name
         * @return \Illuminate\Database\Connection
         * @static
         */        public static function reconnect($name = null)
        {
                        /** @var \Illuminate\Database\DatabaseManager $instance */
                        return $instance->reconnect($name);
        }
                    /**
         * Set the default database connection for the callback execution.
         *
         * @param string $name
         * @param callable $callback
         * @return mixed
         * @static
         */        public static function usingConnection($name, $callback)
        {
                        /** @var \Illuminate\Database\DatabaseManager $instance */
                        return $instance->usingConnection($name, $callback);
        }
                    /**
         * Get the default connection name.
         *
         * @return string
         * @static
         */        public static function getDefaultConnection()
        {
                        /** @var \Illuminate\Database\DatabaseManager $instance */
                        return $instance->getDefaultConnection();
        }
                    /**
         * Set the default connection name.
         *
         * @param string $name
         * @return void
         * @static
         */        public static function setDefaultConnection($name)
        {
                        /** @var \Illuminate\Database\DatabaseManager $instance */
                        $instance->setDefaultConnection($name);
        }
                    /**
         * Get all of the support drivers.
         *
         * @return string[]
         * @static
         */        public static function supportedDrivers()
        {
                        /** @var \Illuminate\Database\DatabaseManager $instance */
                        return $instance->supportedDrivers();
        }
                    /**
         * Get all of the drivers that are actually available.
         *
         * @return string[]
         * @static
         */        public static function availableDrivers()
        {
                        /** @var \Illuminate\Database\DatabaseManager $instance */
                        return $instance->availableDrivers();
        }
                    /**
         * Register an extension connection resolver.
         *
         * @param string $name
         * @param callable $resolver
         * @return void
         * @static
         */        public static function extend($name, $resolver)
        {
                        /** @var \Illuminate\Database\DatabaseManager $instance */
                        $instance->extend($name, $resolver);
        }
                    /**
         * Remove an extension connection resolver.
         *
         * @param string $name
         * @return void
         * @static
         */        public static function forgetExtension($name)
        {
                        /** @var \Illuminate\Database\DatabaseManager $instance */
                        $instance->forgetExtension($name);
        }
                    /**
         * Return all of the created connections.
         *
         * @return array<string, \Illuminate\Database\Connection>
         * @static
         */        public static function getConnections()
        {
                        /** @var \Illuminate\Database\DatabaseManager $instance */
                        return $instance->getConnections();
        }
                    /**
         * Set the database reconnector callback.
         *
         * @param callable $reconnector
         * @return void
         * @static
         */        public static function setReconnector($reconnector)
        {
                        /** @var \Illuminate\Database\DatabaseManager $instance */
                        $instance->setReconnector($reconnector);
        }
                    /**
         * Set the application instance used by the manager.
         *
         * @param \Illuminate\Contracts\Foundation\Application $app
         * @return \Illuminate\Database\DatabaseManager
         * @static
         */        public static function setApplication($app)
        {
                        /** @var \Illuminate\Database\DatabaseManager $instance */
                        return $instance->setApplication($app);
        }
                    /**
         * Register a custom macro.
         *
         * @param string $name
         * @param object|callable $macro
         * @return void
         * @static
         */        public static function macro($name, $macro)
        {
                        \Illuminate\Database\DatabaseManager::macro($name, $macro);
        }
                    /**
         * Mix another object into the class.
         *
         * @param object $mixin
         * @param bool $replace
         * @return void
         * @throws \ReflectionException
         * @static
         */        public static function mixin($mixin, $replace = true)
        {
                        \Illuminate\Database\DatabaseManager::mixin($mixin, $replace);
        }
                    /**
         * Checks if macro is registered.
         *
         * @param string $name
         * @return bool
         * @static
         */        public static function hasMacro($name)
        {
                        return \Illuminate\Database\DatabaseManager::hasMacro($name);
        }
                    /**
         * Flush the existing macros.
         *
         * @return void
         * @static
         */        public static function flushMacros()
        {
                        \Illuminate\Database\DatabaseManager::flushMacros();
        }
                    /**
         * Dynamically handle calls to the class.
         *
         * @param string $method
         * @param array $parameters
         * @return mixed
         * @throws \BadMethodCallException
         * @static
         */        public static function macroCall($method, $parameters)
        {
                        /** @var \Illuminate\Database\DatabaseManager $instance */
                        return $instance->macroCall($method, $parameters);
        }
                    /**
         * Determine if the connected database is a MariaDB database.
         *
         * @return bool
         * @static
         */        public static function isMaria()
        {
                        /** @var \Illuminate\Database\MySqlConnection $instance */
                        return $instance->isMaria();
        }
                    /**
         * Get a schema builder instance for the connection.
         *
         * @return \Illuminate\Database\Schema\MySqlBuilder
         * @static
         */        public static function getSchemaBuilder()
        {
                        /** @var \Illuminate\Database\MySqlConnection $instance */
                        return $instance->getSchemaBuilder();
        }
                    /**
         * Get the schema state for the connection.
         *
         * @param \Illuminate\Filesystem\Filesystem|null $files
         * @param callable|null $processFactory
         * @return \Illuminate\Database\Schema\MySqlSchemaState
         * @static
         */        public static function getSchemaState($files = null, $processFactory = null)
        {
                        /** @var \Illuminate\Database\MySqlConnection $instance */
                        return $instance->getSchemaState($files, $processFactory);
        }
                    /**
         * Set the query grammar to the default implementation.
         *
         * @return void
         * @static
         */        public static function useDefaultQueryGrammar()
        {            //Method inherited from \Illuminate\Database\Connection         
                        /** @var \Illuminate\Database\MySqlConnection $instance */
                        $instance->useDefaultQueryGrammar();
        }
                    /**
         * Set the schema grammar to the default implementation.
         *
         * @return void
         * @static
         */        public static function useDefaultSchemaGrammar()
        {            //Method inherited from \Illuminate\Database\Connection         
                        /** @var \Illuminate\Database\MySqlConnection $instance */
                        $instance->useDefaultSchemaGrammar();
        }
                    /**
         * Set the query post processor to the default implementation.
         *
         * @return void
         * @static
         */        public static function useDefaultPostProcessor()
        {            //Method inherited from \Illuminate\Database\Connection         
                        /** @var \Illuminate\Database\MySqlConnection $instance */
                        $instance->useDefaultPostProcessor();
        }
                    /**
         * Begin a fluent query against a database table.
         *
         * @param \Closure|\Illuminate\Database\Query\Builder|string $table
         * @param string|null $as
         * @return \Illuminate\Database\Query\Builder
         * @static
         */        public static function table($table, $as = null)
        {            //Method inherited from \Illuminate\Database\Connection         
                        /** @var \Illuminate\Database\MySqlConnection $instance */
                        return $instance->table($table, $as);
        }
                    /**
         * Get a new query builder instance.
         *
         * @return \Illuminate\Database\Query\Builder
         * @static
         */        public static function query()
        {            //Method inherited from \Illuminate\Database\Connection         
                        /** @var \Illuminate\Database\MySqlConnection $instance */
                        return $instance->query();
        }
                    /**
         * Run a select statement and return a single result.
         *
         * @param string $query
         * @param array $bindings
         * @param bool $useReadPdo
         * @return mixed
         * @static
         */        public static function selectOne($query, $bindings = [], $useReadPdo = true)
        {            //Method inherited from \Illuminate\Database\Connection         
                        /** @var \Illuminate\Database\MySqlConnection $instance */
                        return $instance->selectOne($query, $bindings, $useReadPdo);
        }
                    /**
         * Run a select statement and return the first column of the first row.
         *
         * @param string $query
         * @param array $bindings
         * @param bool $useReadPdo
         * @return mixed
         * @throws \Illuminate\Database\MultipleColumnsSelectedException
         * @static
         */        public static function scalar($query, $bindings = [], $useReadPdo = true)
        {            //Method inherited from \Illuminate\Database\Connection         
                        /** @var \Illuminate\Database\MySqlConnection $instance */
                        return $instance->scalar($query, $bindings, $useReadPdo);
        }
                    /**
         * Run a select statement against the database.
         *
         * @param string $query
         * @param array $bindings
         * @return array
         * @static
         */        public static function selectFromWriteConnection($query, $bindings = [])
        {            //Method inherited from \Illuminate\Database\Connection         
                        /** @var \Illuminate\Database\MySqlConnection $instance */
                        return $instance->selectFromWriteConnection($query, $bindings);
        }
                    /**
         * Run a select statement against the database.
         *
         * @param string $query
         * @param array $bindings
         * @param bool $useReadPdo
         * @return array
         * @static
         */        public static function select($query, $bindings = [], $useReadPdo = true)
        {            //Method inherited from \Illuminate\Database\Connection         
                        /** @var \Illuminate\Database\MySqlConnection $instance */
                        return $instance->select($query, $bindings, $useReadPdo);
        }
                    /**
         * Run a select statement against the database and returns a generator.
         *
         * @param string $query
         * @param array $bindings
         * @param bool $useReadPdo
         * @return \Generator
         * @static
         */        public static function cursor($query, $bindings = [], $useReadPdo = true)
        {            //Method inherited from \Illuminate\Database\Connection         
                        /** @var \Illuminate\Database\MySqlConnection $instance */
                        return $instance->cursor($query, $bindings, $useReadPdo);
        }
                    /**
         * Run an insert statement against the database.
         *
         * @param string $query
         * @param array $bindings
         * @return bool
         * @static
         */        public static function insert($query, $bindings = [])
        {            //Method inherited from \Illuminate\Database\Connection         
                        /** @var \Illuminate\Database\MySqlConnection $instance */
                        return $instance->insert($query, $bindings);
        }
                    /**
         * Run an update statement against the database.
         *
         * @param string $query
         * @param array $bindings
         * @return int
         * @static
         */        public static function update($query, $bindings = [])
        {            //Method inherited from \Illuminate\Database\Connection         
                        /** @var \Illuminate\Database\MySqlConnection $instance */
                        return $instance->update($query, $bindings);
        }
                    /**
         * Run a delete statement against the database.
         *
         * @param string $query
         * @param array $bindings
         * @return int
         * @static
         */        public static function delete($query, $bindings = [])
        {            //Method inherited from \Illuminate\Database\Connection         
                        /** @var \Illuminate\Database\MySqlConnection $instance */
                        return $instance->delete($query, $bindings);
        }
                    /**
         * Execute an SQL statement and return the boolean result.
         *
         * @param string $query
         * @param array $bindings
         * @return bool
         * @static
         */        public static function statement($query, $bindings = [])
        {            //Method inherited from \Illuminate\Database\Connection         
                        /** @var \Illuminate\Database\MySqlConnection $instance */
                        return $instance->statement($query, $bindings);
        }
                    /**
         * Run an SQL statement and get the number of rows affected.
         *
         * @param string $query
         * @param array $bindings
         * @return int
         * @static
         */        public static function affectingStatement($query, $bindings = [])
        {            //Method inherited from \Illuminate\Database\Connection         
                        /** @var \Illuminate\Database\MySqlConnection $instance */
                        return $instance->affectingStatement($query, $bindings);
        }
                    /**
         * Run a raw, unprepared query against the PDO connection.
         *
         * @param string $query
         * @return bool
         * @static
         */        public static function unprepared($query)
        {            //Method inherited from \Illuminate\Database\Connection         
                        /** @var \Illuminate\Database\MySqlConnection $instance */
                        return $instance->unprepared($query);
        }
                    /**
         * Execute the given callback in "dry run" mode.
         *
         * @param \Closure $callback
         * @return array
         * @static
         */        public static function pretend($callback)
        {            //Method inherited from \Illuminate\Database\Connection         
                        /** @var \Illuminate\Database\MySqlConnection $instance */
                        return $instance->pretend($callback);
        }
                    /**
         * Bind values to their parameters in the given statement.
         *
         * @param \PDOStatement $statement
         * @param array $bindings
         * @return void
         * @static
         */        public static function bindValues($statement, $bindings)
        {            //Method inherited from \Illuminate\Database\Connection         
                        /** @var \Illuminate\Database\MySqlConnection $instance */
                        $instance->bindValues($statement, $bindings);
        }
                    /**
         * Prepare the query bindings for execution.
         *
         * @param array $bindings
         * @return array
         * @static
         */        public static function prepareBindings($bindings)
        {            //Method inherited from \Illuminate\Database\Connection         
                        /** @var \Illuminate\Database\MySqlConnection $instance */
                        return $instance->prepareBindings($bindings);
        }
                    /**
         * Log a query in the connection's query log.
         *
         * @param string $query
         * @param array $bindings
         * @param float|null $time
         * @return void
         * @static
         */        public static function logQuery($query, $bindings, $time = null)
        {            //Method inherited from \Illuminate\Database\Connection         
                        /** @var \Illuminate\Database\MySqlConnection $instance */
                        $instance->logQuery($query, $bindings, $time);
        }
                    /**
         * Register a callback to be invoked when the connection queries for longer than a given amount of time.
         *
         * @param \DateTimeInterface|\Carbon\CarbonInterval|float|int $threshold
         * @param callable $handler
         * @return void
         * @static
         */        public static function whenQueryingForLongerThan($threshold, $handler)
        {            //Method inherited from \Illuminate\Database\Connection         
                        /** @var \Illuminate\Database\MySqlConnection $instance */
                        $instance->whenQueryingForLongerThan($threshold, $handler);
        }
                    /**
         * Allow all the query duration handlers to run again, even if they have already run.
         *
         * @return void
         * @static
         */        public static function allowQueryDurationHandlersToRunAgain()
        {            //Method inherited from \Illuminate\Database\Connection         
                        /** @var \Illuminate\Database\MySqlConnection $instance */
                        $instance->allowQueryDurationHandlersToRunAgain();
        }
                    /**
         * Get the duration of all run queries in milliseconds.
         *
         * @return float
         * @static
         */        public static function totalQueryDuration()
        {            //Method inherited from \Illuminate\Database\Connection         
                        /** @var \Illuminate\Database\MySqlConnection $instance */
                        return $instance->totalQueryDuration();
        }
                    /**
         * Reset the duration of all run queries.
         *
         * @return void
         * @static
         */        public static function resetTotalQueryDuration()
        {            //Method inherited from \Illuminate\Database\Connection         
                        /** @var \Illuminate\Database\MySqlConnection $instance */
                        $instance->resetTotalQueryDuration();
        }
                    /**
         * Register a hook to be run just before a database query is executed.
         *
         * @param \Closure $callback
         * @return \Illuminate\Database\MySqlConnection
         * @static
         */        public static function beforeExecuting($callback)
        {            //Method inherited from \Illuminate\Database\Connection         
                        /** @var \Illuminate\Database\MySqlConnection $instance */
                        return $instance->beforeExecuting($callback);
        }
                    /**
         * Register a database query listener with the connection.
         *
         * @param \Closure $callback
         * @return void
         * @static
         */        public static function listen($callback)
        {            //Method inherited from \Illuminate\Database\Connection         
                        /** @var \Illuminate\Database\MySqlConnection $instance */
                        $instance->listen($callback);
        }
                    /**
         * Get a new raw query expression.
         *
         * @param mixed $value
         * @return \Illuminate\Database\Query\Expression
         * @static
         */        public static function raw($value)
        {            //Method inherited from \Illuminate\Database\Connection         
                        /** @var \Illuminate\Database\MySqlConnection $instance */
                        return $instance->raw($value);
        }
                    /**
         * Determine if the database connection has modified any database records.
         *
         * @return bool
         * @static
         */        public static function hasModifiedRecords()
        {            //Method inherited from \Illuminate\Database\Connection         
                        /** @var \Illuminate\Database\MySqlConnection $instance */
                        return $instance->hasModifiedRecords();
        }
                    /**
         * Indicate if any records have been modified.
         *
         * @param bool $value
         * @return void
         * @static
         */        public static function recordsHaveBeenModified($value = true)
        {            //Method inherited from \Illuminate\Database\Connection         
                        /** @var \Illuminate\Database\MySqlConnection $instance */
                        $instance->recordsHaveBeenModified($value);
        }
                    /**
         * Set the record modification state.
         *
         * @param bool $value
         * @return \Illuminate\Database\MySqlConnection
         * @static
         */        public static function setRecordModificationState($value)
        {            //Method inherited from \Illuminate\Database\Connection         
                        /** @var \Illuminate\Database\MySqlConnection $instance */
                        return $instance->setRecordModificationState($value);
        }
                    /**
         * Reset the record modification state.
         *
         * @return void
         * @static
         */        public static function forgetRecordModificationState()
        {            //Method inherited from \Illuminate\Database\Connection         
                        /** @var \Illuminate\Database\MySqlConnection $instance */
                        $instance->forgetRecordModificationState();
        }
                    /**
         * Indicate that the connection should use the write PDO connection for reads.
         *
         * @param bool $value
         * @return \Illuminate\Database\MySqlConnection
         * @static
         */        public static function useWriteConnectionWhenReading($value = true)
        {            //Method inherited from \Illuminate\Database\Connection         
                        /** @var \Illuminate\Database\MySqlConnection $instance */
                        return $instance->useWriteConnectionWhenReading($value);
        }
                    /**
         * Is Doctrine available?
         *
         * @return bool
         * @static
         */        public static function isDoctrineAvailable()
        {            //Method inherited from \Illuminate\Database\Connection         
                        /** @var \Illuminate\Database\MySqlConnection $instance */
                        return $instance->isDoctrineAvailable();
        }
                    /**
         * Indicates whether native alter operations will be used when dropping or renaming columns, even if Doctrine DBAL is installed.
         *
         * @return bool
         * @static
         */        public static function usingNativeSchemaOperations()
        {            //Method inherited from \Illuminate\Database\Connection         
                        /** @var \Illuminate\Database\MySqlConnection $instance */
                        return $instance->usingNativeSchemaOperations();
        }
                    /**
         * Get a Doctrine Schema Column instance.
         *
         * @param string $table
         * @param string $column
         * @return \Doctrine\DBAL\Schema\Column
         * @static
         */        public static function getDoctrineColumn($table, $column)
        {            //Method inherited from \Illuminate\Database\Connection         
                        /** @var \Illuminate\Database\MySqlConnection $instance */
                        return $instance->getDoctrineColumn($table, $column);
        }
                    /**
         * Get the Doctrine DBAL schema manager for the connection.
         *
         * @return \Doctrine\DBAL\Schema\AbstractSchemaManager
         * @static
         */        public static function getDoctrineSchemaManager()
        {            //Method inherited from \Illuminate\Database\Connection         
                        /** @var \Illuminate\Database\MySqlConnection $instance */
                        return $instance->getDoctrineSchemaManager();
        }
                    /**
         * Get the Doctrine DBAL database connection instance.
         *
         * @return \Doctrine\DBAL\Connection
         * @static
         */        public static function getDoctrineConnection()
        {            //Method inherited from \Illuminate\Database\Connection         
                        /** @var \Illuminate\Database\MySqlConnection $instance */
                        return $instance->getDoctrineConnection();
        }
                    /**
         * Get the current PDO connection.
         *
         * @return \PDO
         * @static
         */        public static function getPdo()
        {            //Method inherited from \Illuminate\Database\Connection         
                        /** @var \Illuminate\Database\MySqlConnection $instance */
                        return $instance->getPdo();
        }
                    /**
         * Get the current PDO connection parameter without executing any reconnect logic.
         *
         * @return \PDO|\Closure|null
         * @static
         */        public static function getRawPdo()
        {            //Method inherited from \Illuminate\Database\Connection         
                        /** @var \Illuminate\Database\MySqlConnection $instance */
                        return $instance->getRawPdo();
        }
                    /**
         * Get the current PDO connection used for reading.
         *
         * @return \PDO
         * @static
         */        public static function getReadPdo()
        {            //Method inherited from \Illuminate\Database\Connection         
                        /** @var \Illuminate\Database\MySqlConnection $instance */
                        return $instance->getReadPdo();
        }
                    /**
         * Get the current read PDO connection parameter without executing any reconnect logic.
         *
         * @return \PDO|\Closure|null
         * @static
         */        public static function getRawReadPdo()
        {            //Method inherited from \Illuminate\Database\Connection         
                        /** @var \Illuminate\Database\MySqlConnection $instance */
                        return $instance->getRawReadPdo();
        }
                    /**
         * Set the PDO connection.
         *
         * @param \PDO|\Closure|null $pdo
         * @return \Illuminate\Database\MySqlConnection
         * @static
         */        public static function setPdo($pdo)
        {            //Method inherited from \Illuminate\Database\Connection         
                        /** @var \Illuminate\Database\MySqlConnection $instance */
                        return $instance->setPdo($pdo);
        }
                    /**
         * Set the PDO connection used for reading.
         *
         * @param \PDO|\Closure|null $pdo
         * @return \Illuminate\Database\MySqlConnection
         * @static
         */        public static function setReadPdo($pdo)
        {            //Method inherited from \Illuminate\Database\Connection         
                        /** @var \Illuminate\Database\MySqlConnection $instance */
                        return $instance->setReadPdo($pdo);
        }
                    /**
         * Get the database connection name.
         *
         * @return string|null
         * @static
         */        public static function getName()
        {            //Method inherited from \Illuminate\Database\Connection         
                        /** @var \Illuminate\Database\MySqlConnection $instance */
                        return $instance->getName();
        }
                    /**
         * Get the database connection full name.
         *
         * @return string|null
         * @static
         */        public static function getNameWithReadWriteType()
        {            //Method inherited from \Illuminate\Database\Connection         
                        /** @var \Illuminate\Database\MySqlConnection $instance */
                        return $instance->getNameWithReadWriteType();
        }
                    /**
         * Get an option from the configuration options.
         *
         * @param string|null $option
         * @return mixed
         * @static
         */        public static function getConfig($option = null)
        {            //Method inherited from \Illuminate\Database\Connection         
                        /** @var \Illuminate\Database\MySqlConnection $instance */
                        return $instance->getConfig($option);
        }
                    /**
         * Get the PDO driver name.
         *
         * @return string
         * @static
         */        public static function getDriverName()
        {            //Method inherited from \Illuminate\Database\Connection         
                        /** @var \Illuminate\Database\MySqlConnection $instance */
                        return $instance->getDriverName();
        }
                    /**
         * Get the query grammar used by the connection.
         *
         * @return \Illuminate\Database\Query\Grammars\Grammar
         * @static
         */        public static function getQueryGrammar()
        {            //Method inherited from \Illuminate\Database\Connection         
                        /** @var \Illuminate\Database\MySqlConnection $instance */
                        return $instance->getQueryGrammar();
        }
                    /**
         * Set the query grammar used by the connection.
         *
         * @param \Illuminate\Database\Query\Grammars\Grammar $grammar
         * @return \Illuminate\Database\MySqlConnection
         * @static
         */        public static function setQueryGrammar($grammar)
        {            //Method inherited from \Illuminate\Database\Connection         
                        /** @var \Illuminate\Database\MySqlConnection $instance */
                        return $instance->setQueryGrammar($grammar);
        }
                    /**
         * Get the schema grammar used by the connection.
         *
         * @return \Illuminate\Database\Schema\Grammars\Grammar
         * @static
         */        public static function getSchemaGrammar()
        {            //Method inherited from \Illuminate\Database\Connection         
                        /** @var \Illuminate\Database\MySqlConnection $instance */
                        return $instance->getSchemaGrammar();
        }
                    /**
         * Set the schema grammar used by the connection.
         *
         * @param \Illuminate\Database\Schema\Grammars\Grammar $grammar
         * @return \Illuminate\Database\MySqlConnection
         * @static
         */        public static function setSchemaGrammar($grammar)
        {            //Method inherited from \Illuminate\Database\Connection         
                        /** @var \Illuminate\Database\MySqlConnection $instance */
                        return $instance->setSchemaGrammar($grammar);
        }
                    /**
         * Get the query post processor used by the connection.
         *
         * @return \Illuminate\Database\Query\Processors\Processor
         * @static
         */        public static function getPostProcessor()
        {            //Method inherited from \Illuminate\Database\Connection         
                        /** @var \Illuminate\Database\MySqlConnection $instance */
                        return $instance->getPostProcessor();
        }
                    /**
         * Set the query post processor used by the connection.
         *
         * @param \Illuminate\Database\Query\Processors\Processor $processor
         * @return \Illuminate\Database\MySqlConnection
         * @static
         */        public static function setPostProcessor($processor)
        {            //Method inherited from \Illuminate\Database\Connection         
                        /** @var \Illuminate\Database\MySqlConnection $instance */
                        return $instance->setPostProcessor($processor);
        }
                    /**
         * Get the event dispatcher used by the connection.
         *
         * @return \Illuminate\Contracts\Events\Dispatcher
         * @static
         */        public static function getEventDispatcher()
        {            //Method inherited from \Illuminate\Database\Connection         
                        /** @var \Illuminate\Database\MySqlConnection $instance */
                        return $instance->getEventDispatcher();
        }
                    /**
         * Set the event dispatcher instance on the connection.
         *
         * @param \Illuminate\Contracts\Events\Dispatcher $events
         * @return \Illuminate\Database\MySqlConnection
         * @static
         */        public static function setEventDispatcher($events)
        {            //Method inherited from \Illuminate\Database\Connection         
                        /** @var \Illuminate\Database\MySqlConnection $instance */
                        return $instance->setEventDispatcher($events);
        }
                    /**
         * Unset the event dispatcher for this connection.
         *
         * @return void
         * @static
         */        public static function unsetEventDispatcher()
        {            //Method inherited from \Illuminate\Database\Connection         
                        /** @var \Illuminate\Database\MySqlConnection $instance */
                        $instance->unsetEventDispatcher();
        }
                    /**
         * Set the transaction manager instance on the connection.
         *
         * @param \Illuminate\Database\DatabaseTransactionsManager $manager
         * @return \Illuminate\Database\MySqlConnection
         * @static
         */        public static function setTransactionManager($manager)
        {            //Method inherited from \Illuminate\Database\Connection         
                        /** @var \Illuminate\Database\MySqlConnection $instance */
                        return $instance->setTransactionManager($manager);
        }
                    /**
         * Unset the transaction manager for this connection.
         *
         * @return void
         * @static
         */        public static function unsetTransactionManager()
        {            //Method inherited from \Illuminate\Database\Connection         
                        /** @var \Illuminate\Database\MySqlConnection $instance */
                        $instance->unsetTransactionManager();
        }
                    /**
         * Determine if the connection is in a "dry run".
         *
         * @return bool
         * @static
         */        public static function pretending()
        {            //Method inherited from \Illuminate\Database\Connection         
                        /** @var \Illuminate\Database\MySqlConnection $instance */
                        return $instance->pretending();
        }
                    /**
         * Get the connection query log.
         *
         * @return array
         * @static
         */        public static function getQueryLog()
        {            //Method inherited from \Illuminate\Database\Connection         
                        /** @var \Illuminate\Database\MySqlConnection $instance */
                        return $instance->getQueryLog();
        }
                    /**
         * Clear the query log.
         *
         * @return void
         * @static
         */        public static function flushQueryLog()
        {            //Method inherited from \Illuminate\Database\Connection         
                        /** @var \Illuminate\Database\MySqlConnection $instance */
                        $instance->flushQueryLog();
        }
                    /**
         * Enable the query log on the connection.
         *
         * @return void
         * @static
         */        public static function enableQueryLog()
        {            //Method inherited from \Illuminate\Database\Connection         
                        /** @var \Illuminate\Database\MySqlConnection $instance */
                        $instance->enableQueryLog();
        }
                    /**
         * Disable the query log on the connection.
         *
         * @return void
         * @static
         */        public static function disableQueryLog()
        {            //Method inherited from \Illuminate\Database\Connection         
                        /** @var \Illuminate\Database\MySqlConnection $instance */
                        $instance->disableQueryLog();
        }
                    /**
         * Determine whether we're logging queries.
         *
         * @return bool
         * @static
         */        public static function logging()
        {            //Method inherited from \Illuminate\Database\Connection         
                        /** @var \Illuminate\Database\MySqlConnection $instance */
                        return $instance->logging();
        }
                    /**
         * Get the name of the connected database.
         *
         * @return string
         * @static
         */        public static function getDatabaseName()
        {            //Method inherited from \Illuminate\Database\Connection         
                        /** @var \Illuminate\Database\MySqlConnection $instance */
                        return $instance->getDatabaseName();
        }
                    /**
         * Set the name of the connected database.
         *
         * @param string $database
         * @return \Illuminate\Database\MySqlConnection
         * @static
         */        public static function setDatabaseName($database)
        {            //Method inherited from \Illuminate\Database\Connection         
                        /** @var \Illuminate\Database\MySqlConnection $instance */
                        return $instance->setDatabaseName($database);
        }
                    /**
         * Set the read / write type of the connection.
         *
         * @param string|null $readWriteType
         * @return \Illuminate\Database\MySqlConnection
         * @static
         */        public static function setReadWriteType($readWriteType)
        {            //Method inherited from \Illuminate\Database\Connection         
                        /** @var \Illuminate\Database\MySqlConnection $instance */
                        return $instance->setReadWriteType($readWriteType);
        }
                    /**
         * Get the table prefix for the connection.
         *
         * @return string
         * @static
         */        public static function getTablePrefix()
        {            //Method inherited from \Illuminate\Database\Connection         
                        /** @var \Illuminate\Database\MySqlConnection $instance */
                        return $instance->getTablePrefix();
        }
                    /**
         * Set the table prefix in use by the connection.
         *
         * @param string $prefix
         * @return \Illuminate\Database\MySqlConnection
         * @static
         */        public static function setTablePrefix($prefix)
        {            //Method inherited from \Illuminate\Database\Connection         
                        /** @var \Illuminate\Database\MySqlConnection $instance */
                        return $instance->setTablePrefix($prefix);
        }
                    /**
         * Set the table prefix and return the grammar.
         *
         * @param \Illuminate\Database\Grammar $grammar
         * @return \Illuminate\Database\Grammar
         * @static
         */        public static function withTablePrefix($grammar)
        {            //Method inherited from \Illuminate\Database\Connection         
                        /** @var \Illuminate\Database\MySqlConnection $instance */
                        return $instance->withTablePrefix($grammar);
        }
                    /**
         * Register a connection resolver.
         *
         * @param string $driver
         * @param \Closure $callback
         * @return void
         * @static
         */        public static function resolverFor($driver, $callback)
        {            //Method inherited from \Illuminate\Database\Connection         
                        \Illuminate\Database\MySqlConnection::resolverFor($driver, $callback);
        }
                    /**
         * Get the connection resolver for the given driver.
         *
         * @param string $driver
         * @return mixed
         * @static
         */        public static function getResolver($driver)
        {            //Method inherited from \Illuminate\Database\Connection         
                        return \Illuminate\Database\MySqlConnection::getResolver($driver);
        }
                    /**
         * Execute a Closure within a transaction.
         *
         * @param \Closure $callback
         * @param int $attempts
         * @return mixed
         * @throws \Throwable
         * @static
         */        public static function transaction($callback, $attempts = 1)
        {            //Method inherited from \Illuminate\Database\Connection         
                        /** @var \Illuminate\Database\MySqlConnection $instance */
                        return $instance->transaction($callback, $attempts);
        }
                    /**
         * Start a new database transaction.
         *
         * @return void
         * @throws \Throwable
         * @static
         */        public static function beginTransaction()
        {            //Method inherited from \Illuminate\Database\Connection         
                        /** @var \Illuminate\Database\MySqlConnection $instance */
                        $instance->beginTransaction();
        }
                    /**
         * Commit the active database transaction.
         *
         * @return void
         * @throws \Throwable
         * @static
         */        public static function commit()
        {            //Method inherited from \Illuminate\Database\Connection         
                        /** @var \Illuminate\Database\MySqlConnection $instance */
                        $instance->commit();
        }
                    /**
         * Rollback the active database transaction.
         *
         * @param int|null $toLevel
         * @return void
         * @throws \Throwable
         * @static
         */        public static function rollBack($toLevel = null)
        {            //Method inherited from \Illuminate\Database\Connection         
                        /** @var \Illuminate\Database\MySqlConnection $instance */
                        $instance->rollBack($toLevel);
        }
                    /**
         * Get the number of active transactions.
         *
         * @return int
         * @static
         */        public static function transactionLevel()
        {            //Method inherited from \Illuminate\Database\Connection         
                        /** @var \Illuminate\Database\MySqlConnection $instance */
                        return $instance->transactionLevel();
        }
                    /**
         * Execute the callback after a transaction commits.
         *
         * @param callable $callback
         * @return void
         * @throws \RuntimeException
         * @static
         */        public static function afterCommit($callback)
        {            //Method inherited from \Illuminate\Database\Connection         
                        /** @var \Illuminate\Database\MySqlConnection $instance */
                        $instance->afterCommit($callback);
        }
            }
            /**
     * @see \Illuminate\Events\Dispatcher
     * @see \Illuminate\Support\Testing\Fakes\EventFake
     */        class Event {
                    /**
         * Register an event listener with the dispatcher.
         *
         * @param \Closure|string|array $events
         * @param \Closure|string|array|null $listener
         * @return void
         * @static
         */        public static function listen($events, $listener = null)
        {
                        /** @var \Illuminate\Events\Dispatcher $instance */
                        $instance->listen($events, $listener);
        }
                    /**
         * Determine if a given event has listeners.
         *
         * @param string $eventName
         * @return bool
         * @static
         */        public static function hasListeners($eventName)
        {
                        /** @var \Illuminate\Events\Dispatcher $instance */
                        return $instance->hasListeners($eventName);
        }
                    /**
         * Determine if the given event has any wildcard listeners.
         *
         * @param string $eventName
         * @return bool
         * @static
         */        public static function hasWildcardListeners($eventName)
        {
                        /** @var \Illuminate\Events\Dispatcher $instance */
                        return $instance->hasWildcardListeners($eventName);
        }
                    /**
         * Register an event and payload to be fired later.
         *
         * @param string $event
         * @param object|array $payload
         * @return void
         * @static
         */        public static function push($event, $payload = [])
        {
                        /** @var \Illuminate\Events\Dispatcher $instance */
                        $instance->push($event, $payload);
        }
                    /**
         * Flush a set of pushed events.
         *
         * @param string $event
         * @return void
         * @static
         */        public static function flush($event)
        {
                        /** @var \Illuminate\Events\Dispatcher $instance */
                        $instance->flush($event);
        }
                    /**
         * Register an event subscriber with the dispatcher.
         *
         * @param object|string $subscriber
         * @return void
         * @static
         */        public static function subscribe($subscriber)
        {
                        /** @var \Illuminate\Events\Dispatcher $instance */
                        $instance->subscribe($subscriber);
        }
                    /**
         * Fire an event until the first non-null response is returned.
         *
         * @param string|object $event
         * @param mixed $payload
         * @return array|null
         * @static
         */        public static function until($event, $payload = [])
        {
                        /** @var \Illuminate\Events\Dispatcher $instance */
                        return $instance->until($event, $payload);
        }
                    /**
         * Fire an event and call the listeners.
         *
         * @param string|object $event
         * @param mixed $payload
         * @param bool $halt
         * @return array|null
         * @static
         */        public static function dispatch($event, $payload = [], $halt = false)
        {
                        /** @var \Illuminate\Events\Dispatcher $instance */
                        return $instance->dispatch($event, $payload, $halt);
        }
                    /**
         * Get all of the listeners for a given event name.
         *
         * @param string $eventName
         * @return array
         * @static
         */        public static function getListeners($eventName)
        {
                        /** @var \Illuminate\Events\Dispatcher $instance */
                        return $instance->getListeners($eventName);
        }
                    /**
         * Register an event listener with the dispatcher.
         *
         * @param \Closure|string|array $listener
         * @param bool $wildcard
         * @return \Closure
         * @static
         */        public static function makeListener($listener, $wildcard = false)
        {
                        /** @var \Illuminate\Events\Dispatcher $instance */
                        return $instance->makeListener($listener, $wildcard);
        }
                    /**
         * Create a class based listener using the IoC container.
         *
         * @param string $listener
         * @param bool $wildcard
         * @return \Closure
         * @static
         */        public static function createClassListener($listener, $wildcard = false)
        {
                        /** @var \Illuminate\Events\Dispatcher $instance */
                        return $instance->createClassListener($listener, $wildcard);
        }
                    /**
         * Remove a set of listeners from the dispatcher.
         *
         * @param string $event
         * @return void
         * @static
         */        public static function forget($event)
        {
                        /** @var \Illuminate\Events\Dispatcher $instance */
                        $instance->forget($event);
        }
                    /**
         * Forget all of the pushed listeners.
         *
         * @return void
         * @static
         */        public static function forgetPushed()
        {
                        /** @var \Illuminate\Events\Dispatcher $instance */
                        $instance->forgetPushed();
        }
                    /**
         * Set the queue resolver implementation.
         *
         * @param callable $resolver
         * @return \Illuminate\Events\Dispatcher
         * @static
         */        public static function setQueueResolver($resolver)
        {
                        /** @var \Illuminate\Events\Dispatcher $instance */
                        return $instance->setQueueResolver($resolver);
        }
                    /**
         * Gets the raw, unprepared listeners.
         *
         * @return array
         * @static
         */        public static function getRawListeners()
        {
                        /** @var \Illuminate\Events\Dispatcher $instance */
                        return $instance->getRawListeners();
        }
                    /**
         * Register a custom macro.
         *
         * @param string $name
         * @param object|callable $macro
         * @return void
         * @static
         */        public static function macro($name, $macro)
        {
                        \Illuminate\Events\Dispatcher::macro($name, $macro);
        }
                    /**
         * Mix another object into the class.
         *
         * @param object $mixin
         * @param bool $replace
         * @return void
         * @throws \ReflectionException
         * @static
         */        public static function mixin($mixin, $replace = true)
        {
                        \Illuminate\Events\Dispatcher::mixin($mixin, $replace);
        }
                    /**
         * Checks if macro is registered.
         *
         * @param string $name
         * @return bool
         * @static
         */        public static function hasMacro($name)
        {
                        return \Illuminate\Events\Dispatcher::hasMacro($name);
        }
                    /**
         * Flush the existing macros.
         *
         * @return void
         * @static
         */        public static function flushMacros()
        {
                        \Illuminate\Events\Dispatcher::flushMacros();
        }
                    /**
         * Specify the events that should be dispatched instead of faked.
         *
         * @param array|string $eventsToDispatch
         * @return \Illuminate\Support\Testing\Fakes\EventFake
         * @static
         */        public static function except($eventsToDispatch)
        {
                        /** @var \Illuminate\Support\Testing\Fakes\EventFake $instance */
                        return $instance->except($eventsToDispatch);
        }
                    /**
         * Assert if an event has a listener attached to it.
         *
         * @param string $expectedEvent
         * @param string|array $expectedListener
         * @return void
         * @static
         */        public static function assertListening($expectedEvent, $expectedListener)
        {
                        /** @var \Illuminate\Support\Testing\Fakes\EventFake $instance */
                        $instance->assertListening($expectedEvent, $expectedListener);
        }
                    /**
         * Assert if an event was dispatched based on a truth-test callback.
         *
         * @param string|\Closure $event
         * @param callable|int|null $callback
         * @return void
         * @static
         */        public static function assertDispatched($event, $callback = null)
        {
                        /** @var \Illuminate\Support\Testing\Fakes\EventFake $instance */
                        $instance->assertDispatched($event, $callback);
        }
                    /**
         * Assert if an event was dispatched a number of times.
         *
         * @param string $event
         * @param int $times
         * @return void
         * @static
         */        public static function assertDispatchedTimes($event, $times = 1)
        {
                        /** @var \Illuminate\Support\Testing\Fakes\EventFake $instance */
                        $instance->assertDispatchedTimes($event, $times);
        }
                    /**
         * Determine if an event was dispatched based on a truth-test callback.
         *
         * @param string|\Closure $event
         * @param callable|null $callback
         * @return void
         * @static
         */        public static function assertNotDispatched($event, $callback = null)
        {
                        /** @var \Illuminate\Support\Testing\Fakes\EventFake $instance */
                        $instance->assertNotDispatched($event, $callback);
        }
                    /**
         * Assert that no events were dispatched.
         *
         * @return void
         * @static
         */        public static function assertNothingDispatched()
        {
                        /** @var \Illuminate\Support\Testing\Fakes\EventFake $instance */
                        $instance->assertNothingDispatched();
        }
                    /**
         * Get all of the events matching a truth-test callback.
         *
         * @param string $event
         * @param callable|null $callback
         * @return \Illuminate\Support\Collection
         * @static
         */        public static function dispatched($event, $callback = null)
        {
                        /** @var \Illuminate\Support\Testing\Fakes\EventFake $instance */
                        return $instance->dispatched($event, $callback);
        }
                    /**
         * Determine if the given event has been dispatched.
         *
         * @param string $event
         * @return bool
         * @static
         */        public static function hasDispatched($event)
        {
                        /** @var \Illuminate\Support\Testing\Fakes\EventFake $instance */
                        return $instance->hasDispatched($event);
        }
            }
            /**
     * @see \Illuminate\Filesystem\Filesystem
     */        class File {
                    /**
         * Determine if a file or directory exists.
         *
         * @param string $path
         * @return bool
         * @static
         */        public static function exists($path)
        {
                        /** @var \Illuminate\Filesystem\Filesystem $instance */
                        return $instance->exists($path);
        }
                    /**
         * Determine if a file or directory is missing.
         *
         * @param string $path
         * @return bool
         * @static
         */        public static function missing($path)
        {
                        /** @var \Illuminate\Filesystem\Filesystem $instance */
                        return $instance->missing($path);
        }
                    /**
         * Get the contents of a file.
         *
         * @param string $path
         * @param bool $lock
         * @return string
         * @throws \Illuminate\Contracts\Filesystem\FileNotFoundException
         * @static
         */        public static function get($path, $lock = false)
        {
                        /** @var \Illuminate\Filesystem\Filesystem $instance */
                        return $instance->get($path, $lock);
        }
                    /**
         * Get contents of a file with shared access.
         *
         * @param string $path
         * @return string
         * @static
         */        public static function sharedGet($path)
        {
                        /** @var \Illuminate\Filesystem\Filesystem $instance */
                        return $instance->sharedGet($path);
        }
                    /**
         * Get the returned value of a file.
         *
         * @param string $path
         * @param array $data
         * @return mixed
         * @throws \Illuminate\Contracts\Filesystem\FileNotFoundException
         * @static
         */        public static function getRequire($path, $data = [])
        {
                        /** @var \Illuminate\Filesystem\Filesystem $instance */
                        return $instance->getRequire($path, $data);
        }
                    /**
         * Require the given file once.
         *
         * @param string $path
         * @param array $data
         * @return mixed
         * @throws \Illuminate\Contracts\Filesystem\FileNotFoundException
         * @static
         */        public static function requireOnce($path, $data = [])
        {
                        /** @var \Illuminate\Filesystem\Filesystem $instance */
                        return $instance->requireOnce($path, $data);
        }
                    /**
         * Get the contents of a file one line at a time.
         *
         * @param string $path
         * @return \Illuminate\Support\LazyCollection
         * @throws \Illuminate\Contracts\Filesystem\FileNotFoundException
         * @static
         */        public static function lines($path)
        {
                        /** @var \Illuminate\Filesystem\Filesystem $instance */
                        return $instance->lines($path);
        }
                    /**
         * Get the hash of the file at the given path.
         *
         * @param string $path
         * @param string $algorithm
         * @return string
         * @static
         */        public static function hash($path, $algorithm = 'md5')
        {
                        /** @var \Illuminate\Filesystem\Filesystem $instance */
                        return $instance->hash($path, $algorithm);
        }
                    /**
         * Write the contents of a file.
         *
         * @param string $path
         * @param string $contents
         * @param bool $lock
         * @return int|bool
         * @static
         */        public static function put($path, $contents, $lock = false)
        {
                        /** @var \Illuminate\Filesystem\Filesystem $instance */
                        return $instance->put($path, $contents, $lock);
        }
                    /**
         * Write the contents of a file, replacing it atomically if it already exists.
         *
         * @param string $path
         * @param string $content
         * @param int|null $mode
         * @return void
         * @static
         */        public static function replace($path, $content, $mode = null)
        {
                        /** @var \Illuminate\Filesystem\Filesystem $instance */
                        $instance->replace($path, $content, $mode);
        }
                    /**
         * Replace a given string within a given file.
         *
         * @param array|string $search
         * @param array|string $replace
         * @param string $path
         * @return void
         * @static
         */        public static function replaceInFile($search, $replace, $path)
        {
                        /** @var \Illuminate\Filesystem\Filesystem $instance */
                        $instance->replaceInFile($search, $replace, $path);
        }
                    /**
         * Prepend to a file.
         *
         * @param string $path
         * @param string $data
         * @return int
         * @static
         */        public static function prepend($path, $data)
        {
                        /** @var \Illuminate\Filesystem\Filesystem $instance */
                        return $instance->prepend($path, $data);
        }
                    /**
         * Append to a file.
         *
         * @param string $path
         * @param string $data
         * @return int
         * @static
         */        public static function append($path, $data)
        {
                        /** @var \Illuminate\Filesystem\Filesystem $instance */
                        return $instance->append($path, $data);
        }
                    /**
         * Get or set UNIX mode of a file or directory.
         *
         * @param string $path
         * @param int|null $mode
         * @return mixed
         * @static
         */        public static function chmod($path, $mode = null)
        {
                        /** @var \Illuminate\Filesystem\Filesystem $instance */
                        return $instance->chmod($path, $mode);
        }
                    /**
         * Delete the file at a given path.
         *
         * @param string|array $paths
         * @return bool
         * @static
         */        public static function delete($paths)
        {
                        /** @var \Illuminate\Filesystem\Filesystem $instance */
                        return $instance->delete($paths);
        }
                    /**
         * Move a file to a new location.
         *
         * @param string $path
         * @param string $target
         * @return bool
         * @static
         */        public static function move($path, $target)
        {
                        /** @var \Illuminate\Filesystem\Filesystem $instance */
                        return $instance->move($path, $target);
        }
                    /**
         * Copy a file to a new location.
         *
         * @param string $path
         * @param string $target
         * @return bool
         * @static
         */        public static function copy($path, $target)
        {
                        /** @var \Illuminate\Filesystem\Filesystem $instance */
                        return $instance->copy($path, $target);
        }
                    /**
         * Create a symlink to the target file or directory. On Windows, a hard link is created if the target is a file.
         *
         * @param string $target
         * @param string $link
         * @return void
         * @static
         */        public static function link($target, $link)
        {
                        /** @var \Illuminate\Filesystem\Filesystem $instance */
                        $instance->link($target, $link);
        }
                    /**
         * Create a relative symlink to the target file or directory.
         *
         * @param string $target
         * @param string $link
         * @return void
         * @throws \RuntimeException
         * @static
         */        public static function relativeLink($target, $link)
        {
                        /** @var \Illuminate\Filesystem\Filesystem $instance */
                        $instance->relativeLink($target, $link);
        }
                    /**
         * Extract the file name from a file path.
         *
         * @param string $path
         * @return string
         * @static
         */        public static function name($path)
        {
                        /** @var \Illuminate\Filesystem\Filesystem $instance */
                        return $instance->name($path);
        }
                    /**
         * Extract the trailing name component from a file path.
         *
         * @param string $path
         * @return string
         * @static
         */        public static function basename($path)
        {
                        /** @var \Illuminate\Filesystem\Filesystem $instance */
                        return $instance->basename($path);
        }
                    /**
         * Extract the parent directory from a file path.
         *
         * @param string $path
         * @return string
         * @static
         */        public static function dirname($path)
        {
                        /** @var \Illuminate\Filesystem\Filesystem $instance */
                        return $instance->dirname($path);
        }
                    /**
         * Extract the file extension from a file path.
         *
         * @param string $path
         * @return string
         * @static
         */        public static function extension($path)
        {
                        /** @var \Illuminate\Filesystem\Filesystem $instance */
                        return $instance->extension($path);
        }
                    /**
         * Guess the file extension from the mime-type of a given file.
         *
         * @param string $path
         * @return string|null
         * @throws \RuntimeException
         * @static
         */        public static function guessExtension($path)
        {
                        /** @var \Illuminate\Filesystem\Filesystem $instance */
                        return $instance->guessExtension($path);
        }
                    /**
         * Get the file type of a given file.
         *
         * @param string $path
         * @return string
         * @static
         */        public static function type($path)
        {
                        /** @var \Illuminate\Filesystem\Filesystem $instance */
                        return $instance->type($path);
        }
                    /**
         * Get the mime-type of a given file.
         *
         * @param string $path
         * @return string|false
         * @static
         */        public static function mimeType($path)
        {
                        /** @var \Illuminate\Filesystem\Filesystem $instance */
                        return $instance->mimeType($path);
        }
                    /**
         * Get the file size of a given file.
         *
         * @param string $path
         * @return int
         * @static
         */        public static function size($path)
        {
                        /** @var \Illuminate\Filesystem\Filesystem $instance */
                        return $instance->size($path);
        }
                    /**
         * Get the file's last modification time.
         *
         * @param string $path
         * @return int
         * @static
         */        public static function lastModified($path)
        {
                        /** @var \Illuminate\Filesystem\Filesystem $instance */
                        return $instance->lastModified($path);
        }
                    /**
         * Determine if the given path is a directory.
         *
         * @param string $directory
         * @return bool
         * @static
         */        public static function isDirectory($directory)
        {
                        /** @var \Illuminate\Filesystem\Filesystem $instance */
                        return $instance->isDirectory($directory);
        }
                    /**
         * Determine if the given path is a directory that does not contain any other files or directories.
         *
         * @param string $directory
         * @param bool $ignoreDotFiles
         * @return bool
         * @static
         */        public static function isEmptyDirectory($directory, $ignoreDotFiles = false)
        {
                        /** @var \Illuminate\Filesystem\Filesystem $instance */
                        return $instance->isEmptyDirectory($directory, $ignoreDotFiles);
        }
                    /**
         * Determine if the given path is readable.
         *
         * @param string $path
         * @return bool
         * @static
         */        public static function isReadable($path)
        {
                        /** @var \Illuminate\Filesystem\Filesystem $instance */
                        return $instance->isReadable($path);
        }
                    /**
         * Determine if the given path is writable.
         *
         * @param string $path
         * @return bool
         * @static
         */        public static function isWritable($path)
        {
                        /** @var \Illuminate\Filesystem\Filesystem $instance */
                        return $instance->isWritable($path);
        }
                    /**
         * Determine if two files are the same by comparing their hashes.
         *
         * @param string $firstFile
         * @param string $secondFile
         * @return bool
         * @static
         */        public static function hasSameHash($firstFile, $secondFile)
        {
                        /** @var \Illuminate\Filesystem\Filesystem $instance */
                        return $instance->hasSameHash($firstFile, $secondFile);
        }
                    /**
         * Determine if the given path is a file.
         *
         * @param string $file
         * @return bool
         * @static
         */        public static function isFile($file)
        {
                        /** @var \Illuminate\Filesystem\Filesystem $instance */
                        return $instance->isFile($file);
        }
                    /**
         * Find path names matching a given pattern.
         *
         * @param string $pattern
         * @param int $flags
         * @return array
         * @static
         */        public static function glob($pattern, $flags = 0)
        {
                        /** @var \Illuminate\Filesystem\Filesystem $instance */
                        return $instance->glob($pattern, $flags);
        }
                    /**
         * Get an array of all files in a directory.
         *
         * @param string $directory
         * @param bool $hidden
         * @return \Symfony\Component\Finder\SplFileInfo[]
         * @static
         */        public static function files($directory, $hidden = false)
        {
                        /** @var \Illuminate\Filesystem\Filesystem $instance */
                        return $instance->files($directory, $hidden);
        }
                    /**
         * Get all of the files from the given directory (recursive).
         *
         * @param string $directory
         * @param bool $hidden
         * @return \Symfony\Component\Finder\SplFileInfo[]
         * @static
         */        public static function allFiles($directory, $hidden = false)
        {
                        /** @var \Illuminate\Filesystem\Filesystem $instance */
                        return $instance->allFiles($directory, $hidden);
        }
                    /**
         * Get all of the directories within a given directory.
         *
         * @param string $directory
         * @return array
         * @static
         */        public static function directories($directory)
        {
                        /** @var \Illuminate\Filesystem\Filesystem $instance */
                        return $instance->directories($directory);
        }
                    /**
         * Ensure a directory exists.
         *
         * @param string $path
         * @param int $mode
         * @param bool $recursive
         * @return void
         * @static
         */        public static function ensureDirectoryExists($path, $mode = 493, $recursive = true)
        {
                        /** @var \Illuminate\Filesystem\Filesystem $instance */
                        $instance->ensureDirectoryExists($path, $mode, $recursive);
        }
                    /**
         * Create a directory.
         *
         * @param string $path
         * @param int $mode
         * @param bool $recursive
         * @param bool $force
         * @return bool
         * @static
         */        public static function makeDirectory($path, $mode = 493, $recursive = false, $force = false)
        {
                        /** @var \Illuminate\Filesystem\Filesystem $instance */
                        return $instance->makeDirectory($path, $mode, $recursive, $force);
        }
                    /**
         * Move a directory.
         *
         * @param string $from
         * @param string $to
         * @param bool $overwrite
         * @return bool
         * @static
         */        public static function moveDirectory($from, $to, $overwrite = false)
        {
                        /** @var \Illuminate\Filesystem\Filesystem $instance */
                        return $instance->moveDirectory($from, $to, $overwrite);
        }
                    /**
         * Copy a directory from one location to another.
         *
         * @param string $directory
         * @param string $destination
         * @param int|null $options
         * @return bool
         * @static
         */        public static function copyDirectory($directory, $destination, $options = null)
        {
                        /** @var \Illuminate\Filesystem\Filesystem $instance */
                        return $instance->copyDirectory($directory, $destination, $options);
        }
                    /**
         * Recursively delete a directory.
         * 
         * The directory itself may be optionally preserved.
         *
         * @param string $directory
         * @param bool $preserve
         * @return bool
         * @static
         */        public static function deleteDirectory($directory, $preserve = false)
        {
                        /** @var \Illuminate\Filesystem\Filesystem $instance */
                        return $instance->deleteDirectory($directory, $preserve);
        }
                    /**
         * Remove all of the directories within a given directory.
         *
         * @param string $directory
         * @return bool
         * @static
         */        public static function deleteDirectories($directory)
        {
                        /** @var \Illuminate\Filesystem\Filesystem $instance */
                        return $instance->deleteDirectories($directory);
        }
                    /**
         * Empty the specified directory of all files and folders.
         *
         * @param string $directory
         * @return bool
         * @static
         */        public static function cleanDirectory($directory)
        {
                        /** @var \Illuminate\Filesystem\Filesystem $instance */
                        return $instance->cleanDirectory($directory);
        }
                    /**
         * Apply the callback if the given "value" is (or resolves to) truthy.
         *
         * @template TWhenParameter
         * @template TWhenReturnType
         * @param (\Closure($this): TWhenParameter)|TWhenParameter|null $value
         * @param (callable($this, TWhenParameter): TWhenReturnType)|null $callback
         * @param (callable($this, TWhenParameter): TWhenReturnType)|null $default
         * @return $this|TWhenReturnType
         * @static
         */        public static function when($value = null, $callback = null, $default = null)
        {
                        /** @var \Illuminate\Filesystem\Filesystem $instance */
                        return $instance->when($value, $callback, $default);
        }
                    /**
         * Apply the callback if the given "value" is (or resolves to) falsy.
         *
         * @template TUnlessParameter
         * @template TUnlessReturnType
         * @param (\Closure($this): TUnlessParameter)|TUnlessParameter|null $value
         * @param (callable($this, TUnlessParameter): TUnlessReturnType)|null $callback
         * @param (callable($this, TUnlessParameter): TUnlessReturnType)|null $default
         * @return $this|TUnlessReturnType
         * @static
         */        public static function unless($value = null, $callback = null, $default = null)
        {
                        /** @var \Illuminate\Filesystem\Filesystem $instance */
                        return $instance->unless($value, $callback, $default);
        }
                    /**
         * Register a custom macro.
         *
         * @param string $name
         * @param object|callable $macro
         * @return void
         * @static
         */        public static function macro($name, $macro)
        {
                        \Illuminate\Filesystem\Filesystem::macro($name, $macro);
        }
                    /**
         * Mix another object into the class.
         *
         * @param object $mixin
         * @param bool $replace
         * @return void
         * @throws \ReflectionException
         * @static
         */        public static function mixin($mixin, $replace = true)
        {
                        \Illuminate\Filesystem\Filesystem::mixin($mixin, $replace);
        }
                    /**
         * Checks if macro is registered.
         *
         * @param string $name
         * @return bool
         * @static
         */        public static function hasMacro($name)
        {
                        return \Illuminate\Filesystem\Filesystem::hasMacro($name);
        }
                    /**
         * Flush the existing macros.
         *
         * @return void
         * @static
         */        public static function flushMacros()
        {
                        \Illuminate\Filesystem\Filesystem::flushMacros();
        }
            }
            /**
     * @see \Illuminate\Auth\Access\Gate
     */        class Gate {
                    /**
         * Determine if a given ability has been defined.
         *
         * @param string|array $ability
         * @return bool
         * @static
         */        public static function has($ability)
        {
                        /** @var \Illuminate\Auth\Access\Gate $instance */
                        return $instance->has($ability);
        }
                    /**
         * Perform an on-demand authorization check. Throw an authorization exception if the condition or callback is false.
         *
         * @param \Illuminate\Auth\Access\Response|\Closure|bool $condition
         * @param string|null $message
         * @param string|null $code
         * @return \Illuminate\Auth\Access\Response
         * @throws \Illuminate\Auth\Access\AuthorizationException
         * @static
         */        public static function allowIf($condition, $message = null, $code = null)
        {
                        /** @var \Illuminate\Auth\Access\Gate $instance */
                        return $instance->allowIf($condition, $message, $code);
        }
                    /**
         * Perform an on-demand authorization check. Throw an authorization exception if the condition or callback is true.
         *
         * @param \Illuminate\Auth\Access\Response|\Closure|bool $condition
         * @param string|null $message
         * @param string|null $code
         * @return \Illuminate\Auth\Access\Response
         * @throws \Illuminate\Auth\Access\AuthorizationException
         * @static
         */        public static function denyIf($condition, $message = null, $code = null)
        {
                        /** @var \Illuminate\Auth\Access\Gate $instance */
                        return $instance->denyIf($condition, $message, $code);
        }
                    /**
         * Define a new ability.
         *
         * @param string $ability
         * @param callable|array|string $callback
         * @return \Illuminate\Auth\Access\Gate
         * @throws \InvalidArgumentException
         * @static
         */        public static function define($ability, $callback)
        {
                        /** @var \Illuminate\Auth\Access\Gate $instance */
                        return $instance->define($ability, $callback);
        }
                    /**
         * Define abilities for a resource.
         *
         * @param string $name
         * @param string $class
         * @param array|null $abilities
         * @return \Illuminate\Auth\Access\Gate
         * @static
         */        public static function resource($name, $class, $abilities = null)
        {
                        /** @var \Illuminate\Auth\Access\Gate $instance */
                        return $instance->resource($name, $class, $abilities);
        }
                    /**
         * Define a policy class for a given class type.
         *
         * @param string $class
         * @param string $policy
         * @return \Illuminate\Auth\Access\Gate
         * @static
         */        public static function policy($class, $policy)
        {
                        /** @var \Illuminate\Auth\Access\Gate $instance */
                        return $instance->policy($class, $policy);
        }
                    /**
         * Register a callback to run before all Gate checks.
         *
         * @param callable $callback
         * @return \Illuminate\Auth\Access\Gate
         * @static
         */        public static function before($callback)
        {
                        /** @var \Illuminate\Auth\Access\Gate $instance */
                        return $instance->before($callback);
        }
                    /**
         * Register a callback to run after all Gate checks.
         *
         * @param callable $callback
         * @return \Illuminate\Auth\Access\Gate
         * @static
         */        public static function after($callback)
        {
                        /** @var \Illuminate\Auth\Access\Gate $instance */
                        return $instance->after($callback);
        }
                    /**
         * Determine if the given ability should be granted for the current user.
         *
         * @param string $ability
         * @param array|mixed $arguments
         * @return bool
         * @static
         */        public static function allows($ability, $arguments = [])
        {
                        /** @var \Illuminate\Auth\Access\Gate $instance */
                        return $instance->allows($ability, $arguments);
        }
                    /**
         * Determine if the given ability should be denied for the current user.
         *
         * @param string $ability
         * @param array|mixed $arguments
         * @return bool
         * @static
         */        public static function denies($ability, $arguments = [])
        {
                        /** @var \Illuminate\Auth\Access\Gate $instance */
                        return $instance->denies($ability, $arguments);
        }
                    /**
         * Determine if all of the given abilities should be granted for the current user.
         *
         * @param iterable|string $abilities
         * @param array|mixed $arguments
         * @return bool
         * @static
         */        public static function check($abilities, $arguments = [])
        {
                        /** @var \Illuminate\Auth\Access\Gate $instance */
                        return $instance->check($abilities, $arguments);
        }
                    /**
         * Determine if any one of the given abilities should be granted for the current user.
         *
         * @param iterable|string $abilities
         * @param array|mixed $arguments
         * @return bool
         * @static
         */        public static function any($abilities, $arguments = [])
        {
                        /** @var \Illuminate\Auth\Access\Gate $instance */
                        return $instance->any($abilities, $arguments);
        }
                    /**
         * Determine if all of the given abilities should be denied for the current user.
         *
         * @param iterable|string $abilities
         * @param array|mixed $arguments
         * @return bool
         * @static
         */        public static function none($abilities, $arguments = [])
        {
                        /** @var \Illuminate\Auth\Access\Gate $instance */
                        return $instance->none($abilities, $arguments);
        }
                    /**
         * Determine if the given ability should be granted for the current user.
         *
         * @param string $ability
         * @param array|mixed $arguments
         * @return \Illuminate\Auth\Access\Response
         * @throws \Illuminate\Auth\Access\AuthorizationException
         * @static
         */        public static function authorize($ability, $arguments = [])
        {
                        /** @var \Illuminate\Auth\Access\Gate $instance */
                        return $instance->authorize($ability, $arguments);
        }
                    /**
         * Inspect the user for the given ability.
         *
         * @param string $ability
         * @param array|mixed $arguments
         * @return \Illuminate\Auth\Access\Response
         * @static
         */        public static function inspect($ability, $arguments = [])
        {
                        /** @var \Illuminate\Auth\Access\Gate $instance */
                        return $instance->inspect($ability, $arguments);
        }
                    /**
         * Get the raw result from the authorization callback.
         *
         * @param string $ability
         * @param array|mixed $arguments
         * @return mixed
         * @throws \Illuminate\Auth\Access\AuthorizationException
         * @static
         */        public static function raw($ability, $arguments = [])
        {
                        /** @var \Illuminate\Auth\Access\Gate $instance */
                        return $instance->raw($ability, $arguments);
        }
                    /**
         * Get a policy instance for a given class.
         *
         * @param object|string $class
         * @return mixed
         * @static
         */        public static function getPolicyFor($class)
        {
                        /** @var \Illuminate\Auth\Access\Gate $instance */
                        return $instance->getPolicyFor($class);
        }
                    /**
         * Specify a callback to be used to guess policy names.
         *
         * @param callable $callback
         * @return \Illuminate\Auth\Access\Gate
         * @static
         */        public static function guessPolicyNamesUsing($callback)
        {
                        /** @var \Illuminate\Auth\Access\Gate $instance */
                        return $instance->guessPolicyNamesUsing($callback);
        }
                    /**
         * Build a policy class instance of the given type.
         *
         * @param object|string $class
         * @return mixed
         * @throws \Illuminate\Contracts\Container\BindingResolutionException
         * @static
         */        public static function resolvePolicy($class)
        {
                        /** @var \Illuminate\Auth\Access\Gate $instance */
                        return $instance->resolvePolicy($class);
        }
                    /**
         * Get a gate instance for the given user.
         *
         * @param \Illuminate\Contracts\Auth\Authenticatable|mixed $user
         * @return static
         * @static
         */        public static function forUser($user)
        {
                        /** @var \Illuminate\Auth\Access\Gate $instance */
                        return $instance->forUser($user);
        }
                    /**
         * Get all of the defined abilities.
         *
         * @return array
         * @static
         */        public static function abilities()
        {
                        /** @var \Illuminate\Auth\Access\Gate $instance */
                        return $instance->abilities();
        }
                    /**
         * Get all of the defined policies.
         *
         * @return array
         * @static
         */        public static function policies()
        {
                        /** @var \Illuminate\Auth\Access\Gate $instance */
                        return $instance->policies();
        }
                    /**
         * Set the container instance used by the gate.
         *
         * @param \Illuminate\Contracts\Container\Container $container
         * @return \Illuminate\Auth\Access\Gate
         * @static
         */        public static function setContainer($container)
        {
                        /** @var \Illuminate\Auth\Access\Gate $instance */
                        return $instance->setContainer($container);
        }
                    /**
         * Deny with a HTTP status code.
         *
         * @param int $status
         * @param string|null $message
         * @param int|null $code
         * @return \Illuminate\Auth\Access\Response
         * @static
         */        public static function denyWithStatus($status, $message = null, $code = null)
        {
                        /** @var \Illuminate\Auth\Access\Gate $instance */
                        return $instance->denyWithStatus($status, $message, $code);
        }
                    /**
         * Deny with a 404 HTTP status code.
         *
         * @param string|null $message
         * @param int|null $code
         * @return \Illuminate\Auth\Access\Response
         * @static
         */        public static function denyAsNotFound($message = null, $code = null)
        {
                        /** @var \Illuminate\Auth\Access\Gate $instance */
                        return $instance->denyAsNotFound($message, $code);
        }
            }
            /**
     * @see \Illuminate\Hashing\HashManager
     * @see \Illuminate\Hashing\AbstractHasher
     */        class Hash {
                    /**
         * Create an instance of the Bcrypt hash Driver.
         *
         * @return \Illuminate\Hashing\BcryptHasher
         * @static
         */        public static function createBcryptDriver()
        {
                        /** @var \Illuminate\Hashing\HashManager $instance */
                        return $instance->createBcryptDriver();
        }
                    /**
         * Create an instance of the Argon2i hash Driver.
         *
         * @return \Illuminate\Hashing\ArgonHasher
         * @static
         */        public static function createArgonDriver()
        {
                        /** @var \Illuminate\Hashing\HashManager $instance */
                        return $instance->createArgonDriver();
        }
                    /**
         * Create an instance of the Argon2id hash Driver.
         *
         * @return \Illuminate\Hashing\Argon2IdHasher
         * @static
         */        public static function createArgon2idDriver()
        {
                        /** @var \Illuminate\Hashing\HashManager $instance */
                        return $instance->createArgon2idDriver();
        }
                    /**
         * Get information about the given hashed value.
         *
         * @param string $hashedValue
         * @return array
         * @static
         */        public static function info($hashedValue)
        {
                        /** @var \Illuminate\Hashing\HashManager $instance */
                        return $instance->info($hashedValue);
        }
                    /**
         * Hash the given value.
         *
         * @param string $value
         * @param array $options
         * @return string
         * @static
         */        public static function make($value, $options = [])
        {
                        /** @var \Illuminate\Hashing\HashManager $instance */
                        return $instance->make($value, $options);
        }
                    /**
         * Check the given plain value against a hash.
         *
         * @param string $value
         * @param string $hashedValue
         * @param array $options
         * @return bool
         * @static
         */        public static function check($value, $hashedValue, $options = [])
        {
                        /** @var \Illuminate\Hashing\HashManager $instance */
                        return $instance->check($value, $hashedValue, $options);
        }
                    /**
         * Check if the given hash has been hashed using the given options.
         *
         * @param string $hashedValue
         * @param array $options
         * @return bool
         * @static
         */        public static function needsRehash($hashedValue, $options = [])
        {
                        /** @var \Illuminate\Hashing\HashManager $instance */
                        return $instance->needsRehash($hashedValue, $options);
        }
                    /**
         * Get the default driver name.
         *
         * @return string
         * @static
         */        public static function getDefaultDriver()
        {
                        /** @var \Illuminate\Hashing\HashManager $instance */
                        return $instance->getDefaultDriver();
        }
                    /**
         * Get a driver instance.
         *
         * @param string|null $driver
         * @return mixed
         * @throws \InvalidArgumentException
         * @static
         */        public static function driver($driver = null)
        {            //Method inherited from \Illuminate\Support\Manager         
                        /** @var \Illuminate\Hashing\HashManager $instance */
                        return $instance->driver($driver);
        }
                    /**
         * Register a custom driver creator Closure.
         *
         * @param string $driver
         * @param \Closure $callback
         * @return \Illuminate\Hashing\HashManager
         * @static
         */        public static function extend($driver, $callback)
        {            //Method inherited from \Illuminate\Support\Manager         
                        /** @var \Illuminate\Hashing\HashManager $instance */
                        return $instance->extend($driver, $callback);
        }
                    /**
         * Get all of the created "drivers".
         *
         * @return array
         * @static
         */        public static function getDrivers()
        {            //Method inherited from \Illuminate\Support\Manager         
                        /** @var \Illuminate\Hashing\HashManager $instance */
                        return $instance->getDrivers();
        }
                    /**
         * Get the container instance used by the manager.
         *
         * @return \Illuminate\Contracts\Container\Container
         * @static
         */        public static function getContainer()
        {            //Method inherited from \Illuminate\Support\Manager         
                        /** @var \Illuminate\Hashing\HashManager $instance */
                        return $instance->getContainer();
        }
                    /**
         * Set the container instance used by the manager.
         *
         * @param \Illuminate\Contracts\Container\Container $container
         * @return \Illuminate\Hashing\HashManager
         * @static
         */        public static function setContainer($container)
        {            //Method inherited from \Illuminate\Support\Manager         
                        /** @var \Illuminate\Hashing\HashManager $instance */
                        return $instance->setContainer($container);
        }
                    /**
         * Forget all of the resolved driver instances.
         *
         * @return \Illuminate\Hashing\HashManager
         * @static
         */        public static function forgetDrivers()
        {            //Method inherited from \Illuminate\Support\Manager         
                        /** @var \Illuminate\Hashing\HashManager $instance */
                        return $instance->forgetDrivers();
        }
            }
            /**
     * @method static \Illuminate\Http\Client\PendingRequest baseUrl(string $url)
     * @method static \Illuminate\Http\Client\PendingRequest withBody(string $content, string $contentType)
     * @method static \Illuminate\Http\Client\PendingRequest asJson()
     * @method static \Illuminate\Http\Client\PendingRequest asForm()
     * @method static \Illuminate\Http\Client\PendingRequest attach(string|array $name, string|resource $contents = '', string|null $filename = null, array $headers = [])
     * @method static \Illuminate\Http\Client\PendingRequest asMultipart()
     * @method static \Illuminate\Http\Client\PendingRequest bodyFormat(string $format)
     * @method static \Illuminate\Http\Client\PendingRequest contentType(string $contentType)
     * @method static \Illuminate\Http\Client\PendingRequest acceptJson()
     * @method static \Illuminate\Http\Client\PendingRequest accept(string $contentType)
     * @method static \Illuminate\Http\Client\PendingRequest withHeaders(array $headers)
     * @method static \Illuminate\Http\Client\PendingRequest withBasicAuth(string $username, string $password)
     * @method static \Illuminate\Http\Client\PendingRequest withDigestAuth(string $username, string $password)
     * @method static \Illuminate\Http\Client\PendingRequest withToken(string $token, string $type = 'Bearer')
     * @method static \Illuminate\Http\Client\PendingRequest withUserAgent(string $userAgent)
     * @method static \Illuminate\Http\Client\PendingRequest withUrlParameters(array $parameters = [])
     * @method static \Illuminate\Http\Client\PendingRequest withCookies(array $cookies, string $domain)
     * @method static \Illuminate\Http\Client\PendingRequest maxRedirects(int $max)
     * @method static \Illuminate\Http\Client\PendingRequest withoutRedirecting()
     * @method static \Illuminate\Http\Client\PendingRequest withoutVerifying()
     * @method static \Illuminate\Http\Client\PendingRequest sink(string|resource $to)
     * @method static \Illuminate\Http\Client\PendingRequest timeout(int $seconds)
     * @method static \Illuminate\Http\Client\PendingRequest connectTimeout(int $seconds)
     * @method static \Illuminate\Http\Client\PendingRequest retry(int $times, int $sleepMilliseconds = 0, callable|null $when = null, bool $throw = true)
     * @method static \Illuminate\Http\Client\PendingRequest withOptions(array $options)
     * @method static \Illuminate\Http\Client\PendingRequest withMiddleware(callable $middleware)
     * @method static \Illuminate\Http\Client\PendingRequest beforeSending(callable $callback)
     * @method static \Illuminate\Http\Client\PendingRequest throw(callable|null $callback = null)
     * @method static \Illuminate\Http\Client\PendingRequest throwIf(callable|bool $condition, callable|null $throwCallback = null)
     * @method static \Illuminate\Http\Client\PendingRequest throwUnless(bool $condition)
     * @method static \Illuminate\Http\Client\PendingRequest dump()
     * @method static \Illuminate\Http\Client\PendingRequest dd()
     * @method static \Illuminate\Http\Client\Response get(string $url, array|string|null $query = null)
     * @method static \Illuminate\Http\Client\Response head(string $url, array|string|null $query = null)
     * @method static \Illuminate\Http\Client\Response post(string $url, array $data = [])
     * @method static \Illuminate\Http\Client\Response patch(string $url, array $data = [])
     * @method static \Illuminate\Http\Client\Response put(string $url, array $data = [])
     * @method static \Illuminate\Http\Client\Response delete(string $url, array $data = [])
     * @method static array pool(callable $callback)
     * @method static \Illuminate\Http\Client\Response send(string $method, string $url, array $options = [])
     * @method static \GuzzleHttp\Client buildClient()
     * @method static \GuzzleHttp\Client createClient(\GuzzleHttp\HandlerStack $handlerStack)
     * @method static \GuzzleHttp\HandlerStack buildHandlerStack()
     * @method static \GuzzleHttp\HandlerStack pushHandlers(\GuzzleHttp\HandlerStack $handlerStack)
     * @method static \Closure buildBeforeSendingHandler()
     * @method static \Closure buildRecorderHandler()
     * @method static \Closure buildStubHandler()
     * @method static \GuzzleHttp\Psr7\RequestInterface runBeforeSendingCallbacks(\GuzzleHttp\Psr7\RequestInterface $request, array $options)
     * @method static array mergeOptions(array ...$options)
     * @method static \Illuminate\Http\Client\PendingRequest stub(callable $callback)
     * @method static \Illuminate\Http\Client\PendingRequest async(bool $async = true)
     * @method static \GuzzleHttp\Promise\PromiseInterface|null getPromise()
     * @method static \Illuminate\Http\Client\PendingRequest setClient(\GuzzleHttp\Client $client)
     * @method static \Illuminate\Http\Client\PendingRequest setHandler(callable $handler)
     * @method static array getOptions()
     * @method static \Illuminate\Http\Client\PendingRequest|mixed when(\Closure|mixed|null $value = null, callable|null $callback = null, callable|null $default = null)
     * @method static \Illuminate\Http\Client\PendingRequest|mixed unless(\Closure|mixed|null $value = null, callable|null $callback = null, callable|null $default = null)
     * @see \Illuminate\Http\Client\Factory
     */        class Http {
                    /**
         * Create a new response instance for use during stubbing.
         *
         * @param array|string|null $body
         * @param int $status
         * @param array $headers
         * @return \GuzzleHttp\Promise\PromiseInterface
         * @static
         */        public static function response($body = null, $status = 200, $headers = [])
        {
                        return \Illuminate\Http\Client\Factory::response($body, $status, $headers);
        }
                    /**
         * Get an invokable object that returns a sequence of responses in order for use during stubbing.
         *
         * @param array $responses
         * @return \Illuminate\Http\Client\ResponseSequence
         * @static
         */        public static function sequence($responses = [])
        {
                        /** @var \Illuminate\Http\Client\Factory $instance */
                        return $instance->sequence($responses);
        }
                    /**
         * Register a stub callable that will intercept requests and be able to return stub responses.
         *
         * @param callable|array|null $callback
         * @return \Illuminate\Http\Client\Factory
         * @static
         */        public static function fake($callback = null)
        {
                        /** @var \Illuminate\Http\Client\Factory $instance */
                        return $instance->fake($callback);
        }
                    /**
         * Register a response sequence for the given URL pattern.
         *
         * @param string $url
         * @return \Illuminate\Http\Client\ResponseSequence
         * @static
         */        public static function fakeSequence($url = '*')
        {
                        /** @var \Illuminate\Http\Client\Factory $instance */
                        return $instance->fakeSequence($url);
        }
                    /**
         * Stub the given URL using the given callback.
         *
         * @param string $url
         * @param \Illuminate\Http\Client\Response|\GuzzleHttp\Promise\PromiseInterface|callable $callback
         * @return \Illuminate\Http\Client\Factory
         * @static
         */        public static function stubUrl($url, $callback)
        {
                        /** @var \Illuminate\Http\Client\Factory $instance */
                        return $instance->stubUrl($url, $callback);
        }
                    /**
         * Indicate that an exception should be thrown if any request is not faked.
         *
         * @param bool $prevent
         * @return \Illuminate\Http\Client\Factory
         * @static
         */        public static function preventStrayRequests($prevent = true)
        {
                        /** @var \Illuminate\Http\Client\Factory $instance */
                        return $instance->preventStrayRequests($prevent);
        }
                    /**
         * Indicate that an exception should not be thrown if any request is not faked.
         *
         * @return \Illuminate\Http\Client\Factory
         * @static
         */        public static function allowStrayRequests()
        {
                        /** @var \Illuminate\Http\Client\Factory $instance */
                        return $instance->allowStrayRequests();
        }
                    /**
         * Record a request response pair.
         *
         * @param \Illuminate\Http\Client\Request $request
         * @param \Illuminate\Http\Client\Response $response
         * @return void
         * @static
         */        public static function recordRequestResponsePair($request, $response)
        {
                        /** @var \Illuminate\Http\Client\Factory $instance */
                        $instance->recordRequestResponsePair($request, $response);
        }
                    /**
         * Assert that a request / response pair was recorded matching a given truth test.
         *
         * @param callable $callback
         * @return void
         * @static
         */        public static function assertSent($callback)
        {
                        /** @var \Illuminate\Http\Client\Factory $instance */
                        $instance->assertSent($callback);
        }
                    /**
         * Assert that the given request was sent in the given order.
         *
         * @param array $callbacks
         * @return void
         * @static
         */        public static function assertSentInOrder($callbacks)
        {
                        /** @var \Illuminate\Http\Client\Factory $instance */
                        $instance->assertSentInOrder($callbacks);
        }
                    /**
         * Assert that a request / response pair was not recorded matching a given truth test.
         *
         * @param callable $callback
         * @return void
         * @static
         */        public static function assertNotSent($callback)
        {
                        /** @var \Illuminate\Http\Client\Factory $instance */
                        $instance->assertNotSent($callback);
        }
                    /**
         * Assert that no request / response pair was recorded.
         *
         * @return void
         * @static
         */        public static function assertNothingSent()
        {
                        /** @var \Illuminate\Http\Client\Factory $instance */
                        $instance->assertNothingSent();
        }
                    /**
         * Assert how many requests have been recorded.
         *
         * @param int $count
         * @return void
         * @static
         */        public static function assertSentCount($count)
        {
                        /** @var \Illuminate\Http\Client\Factory $instance */
                        $instance->assertSentCount($count);
        }
                    /**
         * Assert that every created response sequence is empty.
         *
         * @return void
         * @static
         */        public static function assertSequencesAreEmpty()
        {
                        /** @var \Illuminate\Http\Client\Factory $instance */
                        $instance->assertSequencesAreEmpty();
        }
                    /**
         * Get a collection of the request / response pairs matching the given truth test.
         *
         * @param callable $callback
         * @return \Illuminate\Support\Collection
         * @static
         */        public static function recorded($callback = null)
        {
                        /** @var \Illuminate\Http\Client\Factory $instance */
                        return $instance->recorded($callback);
        }
                    /**
         * Get the current event dispatcher implementation.
         *
         * @return \Illuminate\Contracts\Events\Dispatcher|null
         * @static
         */        public static function getDispatcher()
        {
                        /** @var \Illuminate\Http\Client\Factory $instance */
                        return $instance->getDispatcher();
        }
                    /**
         * Register a custom macro.
         *
         * @param string $name
         * @param object|callable $macro
         * @return void
         * @static
         */        public static function macro($name, $macro)
        {
                        \Illuminate\Http\Client\Factory::macro($name, $macro);
        }
                    /**
         * Mix another object into the class.
         *
         * @param object $mixin
         * @param bool $replace
         * @return void
         * @throws \ReflectionException
         * @static
         */        public static function mixin($mixin, $replace = true)
        {
                        \Illuminate\Http\Client\Factory::mixin($mixin, $replace);
        }
                    /**
         * Checks if macro is registered.
         *
         * @param string $name
         * @return bool
         * @static
         */        public static function hasMacro($name)
        {
                        return \Illuminate\Http\Client\Factory::hasMacro($name);
        }
                    /**
         * Flush the existing macros.
         *
         * @return void
         * @static
         */        public static function flushMacros()
        {
                        \Illuminate\Http\Client\Factory::flushMacros();
        }
                    /**
         * Dynamically handle calls to the class.
         *
         * @param string $method
         * @param array $parameters
         * @return mixed
         * @throws \BadMethodCallException
         * @static
         */        public static function macroCall($method, $parameters)
        {
                        /** @var \Illuminate\Http\Client\Factory $instance */
                        return $instance->macroCall($method, $parameters);
        }
            }
            /**
     * @see \Illuminate\Translation\Translator
     */        class Lang {
                    /**
         * Determine if a translation exists for a given locale.
         *
         * @param string $key
         * @param string|null $locale
         * @return bool
         * @static
         */        public static function hasForLocale($key, $locale = null)
        {
                        /** @var \Illuminate\Translation\Translator $instance */
                        return $instance->hasForLocale($key, $locale);
        }
                    /**
         * Determine if a translation exists.
         *
         * @param string $key
         * @param string|null $locale
         * @param bool $fallback
         * @return bool
         * @static
         */        public static function has($key, $locale = null, $fallback = true)
        {
                        /** @var \Illuminate\Translation\Translator $instance */
                        return $instance->has($key, $locale, $fallback);
        }
                    /**
         * Get the translation for the given key.
         *
         * @param string $key
         * @param array $replace
         * @param string|null $locale
         * @param bool $fallback
         * @return string|array
         * @static
         */        public static function get($key, $replace = [], $locale = null, $fallback = true)
        {
                        /** @var \Illuminate\Translation\Translator $instance */
                        return $instance->get($key, $replace, $locale, $fallback);
        }
                    /**
         * Get a translation according to an integer value.
         *
         * @param string $key
         * @param \Countable|int|array $number
         * @param array $replace
         * @param string|null $locale
         * @return string
         * @static
         */        public static function choice($key, $number, $replace = [], $locale = null)
        {
                        /** @var \Illuminate\Translation\Translator $instance */
                        return $instance->choice($key, $number, $replace, $locale);
        }
                    /**
         * Add translation lines to the given locale.
         *
         * @param array $lines
         * @param string $locale
         * @param string $namespace
         * @return void
         * @static
         */        public static function addLines($lines, $locale, $namespace = '*')
        {
                        /** @var \Illuminate\Translation\Translator $instance */
                        $instance->addLines($lines, $locale, $namespace);
        }
                    /**
         * Load the specified language group.
         *
         * @param string $namespace
         * @param string $group
         * @param string $locale
         * @return void
         * @static
         */        public static function load($namespace, $group, $locale)
        {
                        /** @var \Illuminate\Translation\Translator $instance */
                        $instance->load($namespace, $group, $locale);
        }
                    /**
         * Add a new namespace to the loader.
         *
         * @param string $namespace
         * @param string $hint
         * @return void
         * @static
         */        public static function addNamespace($namespace, $hint)
        {
                        /** @var \Illuminate\Translation\Translator $instance */
                        $instance->addNamespace($namespace, $hint);
        }
                    /**
         * Add a new JSON path to the loader.
         *
         * @param string $path
         * @return void
         * @static
         */        public static function addJsonPath($path)
        {
                        /** @var \Illuminate\Translation\Translator $instance */
                        $instance->addJsonPath($path);
        }
                    /**
         * Parse a key into namespace, group, and item.
         *
         * @param string $key
         * @return array
         * @static
         */        public static function parseKey($key)
        {
                        /** @var \Illuminate\Translation\Translator $instance */
                        return $instance->parseKey($key);
        }
                    /**
         * Specify a callback that should be invoked to determined the applicable locale array.
         *
         * @param callable $callback
         * @return void
         * @static
         */        public static function determineLocalesUsing($callback)
        {
                        /** @var \Illuminate\Translation\Translator $instance */
                        $instance->determineLocalesUsing($callback);
        }
                    /**
         * Get the message selector instance.
         *
         * @return \Illuminate\Translation\MessageSelector
         * @static
         */        public static function getSelector()
        {
                        /** @var \Illuminate\Translation\Translator $instance */
                        return $instance->getSelector();
        }
                    /**
         * Set the message selector instance.
         *
         * @param \Illuminate\Translation\MessageSelector $selector
         * @return void
         * @static
         */        public static function setSelector($selector)
        {
                        /** @var \Illuminate\Translation\Translator $instance */
                        $instance->setSelector($selector);
        }
                    /**
         * Get the language line loader implementation.
         *
         * @return \Illuminate\Contracts\Translation\Loader
         * @static
         */        public static function getLoader()
        {
                        /** @var \Illuminate\Translation\Translator $instance */
                        return $instance->getLoader();
        }
                    /**
         * Get the default locale being used.
         *
         * @return string
         * @static
         */        public static function locale()
        {
                        /** @var \Illuminate\Translation\Translator $instance */
                        return $instance->locale();
        }
                    /**
         * Get the default locale being used.
         *
         * @return string
         * @static
         */        public static function getLocale()
        {
                        /** @var \Illuminate\Translation\Translator $instance */
                        return $instance->getLocale();
        }
                    /**
         * Set the default locale.
         *
         * @param string $locale
         * @return void
         * @throws \InvalidArgumentException
         * @static
         */        public static function setLocale($locale)
        {
                        /** @var \Illuminate\Translation\Translator $instance */
                        $instance->setLocale($locale);
        }
                    /**
         * Get the fallback locale being used.
         *
         * @return string
         * @static
         */        public static function getFallback()
        {
                        /** @var \Illuminate\Translation\Translator $instance */
                        return $instance->getFallback();
        }
                    /**
         * Set the fallback locale being used.
         *
         * @param string $fallback
         * @return void
         * @static
         */        public static function setFallback($fallback)
        {
                        /** @var \Illuminate\Translation\Translator $instance */
                        $instance->setFallback($fallback);
        }
                    /**
         * Set the loaded translation groups.
         *
         * @param array $loaded
         * @return void
         * @static
         */        public static function setLoaded($loaded)
        {
                        /** @var \Illuminate\Translation\Translator $instance */
                        $instance->setLoaded($loaded);
        }
                    /**
         * Add a handler to be executed in order to format a given class to a string during translation replacements.
         *
         * @param callable|string $class
         * @param callable|null $handler
         * @return void
         * @static
         */        public static function stringable($class, $handler = null)
        {
                        /** @var \Illuminate\Translation\Translator $instance */
                        $instance->stringable($class, $handler);
        }
                    /**
         * Set the parsed value of a key.
         *
         * @param string $key
         * @param array $parsed
         * @return void
         * @static
         */        public static function setParsedKey($key, $parsed)
        {            //Method inherited from \Illuminate\Support\NamespacedItemResolver         
                        /** @var \Illuminate\Translation\Translator $instance */
                        $instance->setParsedKey($key, $parsed);
        }
                    /**
         * Flush the cache of parsed keys.
         *
         * @return void
         * @static
         */        public static function flushParsedKeys()
        {            //Method inherited from \Illuminate\Support\NamespacedItemResolver         
                        /** @var \Illuminate\Translation\Translator $instance */
                        $instance->flushParsedKeys();
        }
                    /**
         * Register a custom macro.
         *
         * @param string $name
         * @param object|callable $macro
         * @return void
         * @static
         */        public static function macro($name, $macro)
        {
                        \Illuminate\Translation\Translator::macro($name, $macro);
        }
                    /**
         * Mix another object into the class.
         *
         * @param object $mixin
         * @param bool $replace
         * @return void
         * @throws \ReflectionException
         * @static
         */        public static function mixin($mixin, $replace = true)
        {
                        \Illuminate\Translation\Translator::mixin($mixin, $replace);
        }
                    /**
         * Checks if macro is registered.
         *
         * @param string $name
         * @return bool
         * @static
         */        public static function hasMacro($name)
        {
                        return \Illuminate\Translation\Translator::hasMacro($name);
        }
                    /**
         * Flush the existing macros.
         *
         * @return void
         * @static
         */        public static function flushMacros()
        {
                        \Illuminate\Translation\Translator::flushMacros();
        }
            }
            /**
     * @method static void write(string $level, \Illuminate\Contracts\Support\Arrayable|\Illuminate\Contracts\Support\Jsonable|\Illuminate\Support\Stringable|array|string $message, array $context = [])
     * @method static \Illuminate\Log\Logger withContext(array $context = [])
     * @method static \Illuminate\Log\Logger withoutContext()
     * @method static void listen(\Closure $callback)
     * @method static \Psr\Log\LoggerInterface getLogger()
     * @method static \Illuminate\Contracts\Events\Dispatcher getEventDispatcher()
     * @method static void setEventDispatcher(\Illuminate\Contracts\Events\Dispatcher $dispatcher)
     * @see \Illuminate\Log\LogManager
     */        class Log {
                    /**
         * Build an on-demand log channel.
         *
         * @param array $config
         * @return \Psr\Log\LoggerInterface
         * @static
         */        public static function build($config)
        {
                        /** @var \Illuminate\Log\LogManager $instance */
                        return $instance->build($config);
        }
                    /**
         * Create a new, on-demand aggregate logger instance.
         *
         * @param array $channels
         * @param string|null $channel
         * @return \Psr\Log\LoggerInterface
         * @static
         */        public static function stack($channels, $channel = null)
        {
                        /** @var \Illuminate\Log\LogManager $instance */
                        return $instance->stack($channels, $channel);
        }
                    /**
         * Get a log channel instance.
         *
         * @param string|null $channel
         * @return \Psr\Log\LoggerInterface
         * @static
         */        public static function channel($channel = null)
        {
                        /** @var \Illuminate\Log\LogManager $instance */
                        return $instance->channel($channel);
        }
                    /**
         * Get a log driver instance.
         *
         * @param string|null $driver
         * @return \Psr\Log\LoggerInterface
         * @static
         */        public static function driver($driver = null)
        {
                        /** @var \Illuminate\Log\LogManager $instance */
                        return $instance->driver($driver);
        }
                    /**
         * Share context across channels and stacks.
         *
         * @param array $context
         * @return \Illuminate\Log\LogManager
         * @static
         */        public static function shareContext($context)
        {
                        /** @var \Illuminate\Log\LogManager $instance */
                        return $instance->shareContext($context);
        }
                    /**
         * The context shared across channels and stacks.
         *
         * @return array
         * @static
         */        public static function sharedContext()
        {
                        /** @var \Illuminate\Log\LogManager $instance */
                        return $instance->sharedContext();
        }
                    /**
         * Flush the shared context.
         *
         * @return \Illuminate\Log\LogManager
         * @static
         */        public static function flushSharedContext()
        {
                        /** @var \Illuminate\Log\LogManager $instance */
                        return $instance->flushSharedContext();
        }
                    /**
         * Get the default log driver name.
         *
         * @return string|null
         * @static
         */        public static function getDefaultDriver()
        {
                        /** @var \Illuminate\Log\LogManager $instance */
                        return $instance->getDefaultDriver();
        }
                    /**
         * Set the default log driver name.
         *
         * @param string $name
         * @return void
         * @static
         */        public static function setDefaultDriver($name)
        {
                        /** @var \Illuminate\Log\LogManager $instance */
                        $instance->setDefaultDriver($name);
        }
                    /**
         * Register a custom driver creator Closure.
         *
         * @param string $driver
         * @param \Closure $callback
         * @return \Illuminate\Log\LogManager
         * @static
         */        public static function extend($driver, $callback)
        {
                        /** @var \Illuminate\Log\LogManager $instance */
                        return $instance->extend($driver, $callback);
        }
                    /**
         * Unset the given channel instance.
         *
         * @param string|null $driver
         * @return void
         * @static
         */        public static function forgetChannel($driver = null)
        {
                        /** @var \Illuminate\Log\LogManager $instance */
                        $instance->forgetChannel($driver);
        }
                    /**
         * Get all of the resolved log channels.
         *
         * @return array
         * @static
         */        public static function getChannels()
        {
                        /** @var \Illuminate\Log\LogManager $instance */
                        return $instance->getChannels();
        }
                    /**
         * System is unusable.
         *
         * @param string $message
         * @param array $context
         * @return void
         * @static
         */        public static function emergency($message, $context = [])
        {
                        /** @var \Illuminate\Log\LogManager $instance */
                        $instance->emergency($message, $context);
        }
                    /**
         * Action must be taken immediately.
         * 
         * Example: Entire website down, database unavailable, etc. This should
         * trigger the SMS alerts and wake you up.
         *
         * @param string $message
         * @param array $context
         * @return void
         * @static
         */        public static function alert($message, $context = [])
        {
                        /** @var \Illuminate\Log\LogManager $instance */
                        $instance->alert($message, $context);
        }
                    /**
         * Critical conditions.
         * 
         * Example: Application component unavailable, unexpected exception.
         *
         * @param string $message
         * @param array $context
         * @return void
         * @static
         */        public static function critical($message, $context = [])
        {
                        /** @var \Illuminate\Log\LogManager $instance */
                        $instance->critical($message, $context);
        }
                    /**
         * Runtime errors that do not require immediate action but should typically
         * be logged and monitored.
         *
         * @param string $message
         * @param array $context
         * @return void
         * @static
         */        public static function error($message, $context = [])
        {
                        /** @var \Illuminate\Log\LogManager $instance */
                        $instance->error($message, $context);
        }
                    /**
         * Exceptional occurrences that are not errors.
         * 
         * Example: Use of deprecated APIs, poor use of an API, undesirable things
         * that are not necessarily wrong.
         *
         * @param string $message
         * @param array $context
         * @return void
         * @static
         */        public static function warning($message, $context = [])
        {
                        /** @var \Illuminate\Log\LogManager $instance */
                        $instance->warning($message, $context);
        }
                    /**
         * Normal but significant events.
         *
         * @param string $message
         * @param array $context
         * @return void
         * @static
         */        public static function notice($message, $context = [])
        {
                        /** @var \Illuminate\Log\LogManager $instance */
                        $instance->notice($message, $context);
        }
                    /**
         * Interesting events.
         * 
         * Example: User logs in, SQL logs.
         *
         * @param string $message
         * @param array $context
         * @return void
         * @static
         */        public static function info($message, $context = [])
        {
                        /** @var \Illuminate\Log\LogManager $instance */
                        $instance->info($message, $context);
        }
                    /**
         * Detailed debug information.
         *
         * @param string $message
         * @param array $context
         * @return void
         * @static
         */        public static function debug($message, $context = [])
        {
                        /** @var \Illuminate\Log\LogManager $instance */
                        $instance->debug($message, $context);
        }
                    /**
         * Logs with an arbitrary level.
         *
         * @param mixed $level
         * @param string $message
         * @param array $context
         * @return void
         * @static
         */        public static function log($level, $message, $context = [])
        {
                        /** @var \Illuminate\Log\LogManager $instance */
                        $instance->log($level, $message, $context);
        }
            }
            /**
     * @method static void alwaysFrom(string $address, string|null $name = null)
     * @method static void alwaysReplyTo(string $address, string|null $name = null)
     * @method static void alwaysReturnPath(string $address)
     * @method static void alwaysTo(string $address, string|null $name = null)
     * @method static \Illuminate\Mail\SentMessage|null html(string $html, mixed $callback)
     * @method static \Illuminate\Mail\SentMessage|null plain(string $view, array $data, mixed $callback)
     * @method static string render(string|array $view, array $data = [])
     * @method static mixed onQueue(string $queue, \Illuminate\Contracts\Mail\Mailable $view)
     * @method static mixed queueOn(string $queue, \Illuminate\Contracts\Mail\Mailable $view)
     * @method static mixed laterOn(string $queue, \DateTimeInterface|\DateInterval|int $delay, \Illuminate\Contracts\Mail\Mailable $view)
     * @method static \Symfony\Component\Mailer\Transport\TransportInterface getSymfonyTransport()
     * @method static \Illuminate\Contracts\View\Factory getViewFactory()
     * @method static void setSymfonyTransport(\Symfony\Component\Mailer\Transport\TransportInterface $transport)
     * @method static \Illuminate\Mail\Mailer setQueue(\Illuminate\Contracts\Queue\Factory $queue)
     * @method static void macro(string $name, object|callable $macro)
     * @method static void mixin(object $mixin, bool $replace = true)
     * @method static bool hasMacro(string $name)
     * @method static void flushMacros()
     * @see \Illuminate\Mail\MailManager
     * @see \Illuminate\Support\Testing\Fakes\MailFake
     */        class Mail {
                    /**
         * Get a mailer instance by name.
         *
         * @param string|null $name
         * @return \Illuminate\Contracts\Mail\Mailer
         * @static
         */        public static function mailer($name = null)
        {
                        /** @var \Illuminate\Mail\MailManager $instance */
                        return $instance->mailer($name);
        }
                    /**
         * Get a mailer driver instance.
         *
         * @param string|null $driver
         * @return \Illuminate\Mail\Mailer
         * @static
         */        public static function driver($driver = null)
        {
                        /** @var \Illuminate\Mail\MailManager $instance */
                        return $instance->driver($driver);
        }
                    /**
         * Create a new transport instance.
         *
         * @param array $config
         * @return \Symfony\Component\Mailer\Transport\TransportInterface
         * @throws \InvalidArgumentException
         * @static
         */        public static function createSymfonyTransport($config)
        {
                        /** @var \Illuminate\Mail\MailManager $instance */
                        return $instance->createSymfonyTransport($config);
        }
                    /**
         * Get the default mail driver name.
         *
         * @return string
         * @static
         */        public static function getDefaultDriver()
        {
                        /** @var \Illuminate\Mail\MailManager $instance */
                        return $instance->getDefaultDriver();
        }
                    /**
         * Set the default mail driver name.
         *
         * @param string $name
         * @return void
         * @static
         */        public static function setDefaultDriver($name)
        {
                        /** @var \Illuminate\Mail\MailManager $instance */
                        $instance->setDefaultDriver($name);
        }
                    /**
         * Disconnect the given mailer and remove from local cache.
         *
         * @param string|null $name
         * @return void
         * @static
         */        public static function purge($name = null)
        {
                        /** @var \Illuminate\Mail\MailManager $instance */
                        $instance->purge($name);
        }
                    /**
         * Register a custom transport creator Closure.
         *
         * @param string $driver
         * @param \Closure $callback
         * @return \Illuminate\Mail\MailManager
         * @static
         */        public static function extend($driver, $callback)
        {
                        /** @var \Illuminate\Mail\MailManager $instance */
                        return $instance->extend($driver, $callback);
        }
                    /**
         * Get the application instance used by the manager.
         *
         * @return \Illuminate\Contracts\Foundation\Application
         * @static
         */        public static function getApplication()
        {
                        /** @var \Illuminate\Mail\MailManager $instance */
                        return $instance->getApplication();
        }
                    /**
         * Set the application instance used by the manager.
         *
         * @param \Illuminate\Contracts\Foundation\Application $app
         * @return \Illuminate\Mail\MailManager
         * @static
         */        public static function setApplication($app)
        {
                        /** @var \Illuminate\Mail\MailManager $instance */
                        return $instance->setApplication($app);
        }
                    /**
         * Forget all of the resolved mailer instances.
         *
         * @return \Illuminate\Mail\MailManager
         * @static
         */        public static function forgetMailers()
        {
                        /** @var \Illuminate\Mail\MailManager $instance */
                        return $instance->forgetMailers();
        }
                    /**
         * Assert if a mailable was sent based on a truth-test callback.
         *
         * @param string|\Closure $mailable
         * @param callable|int|null $callback
         * @return void
         * @static
         */        public static function assertSent($mailable, $callback = null)
        {
                        /** @var \Illuminate\Support\Testing\Fakes\MailFake $instance */
                        $instance->assertSent($mailable, $callback);
        }
                    /**
         * Determine if a mailable was not sent or queued to be sent based on a truth-test callback.
         *
         * @param string|\Closure $mailable
         * @param callable|null $callback
         * @return void
         * @static
         */        public static function assertNotOutgoing($mailable, $callback = null)
        {
                        /** @var \Illuminate\Support\Testing\Fakes\MailFake $instance */
                        $instance->assertNotOutgoing($mailable, $callback);
        }
                    /**
         * Determine if a mailable was not sent based on a truth-test callback.
         *
         * @param string|\Closure $mailable
         * @param callable|null $callback
         * @return void
         * @static
         */        public static function assertNotSent($mailable, $callback = null)
        {
                        /** @var \Illuminate\Support\Testing\Fakes\MailFake $instance */
                        $instance->assertNotSent($mailable, $callback);
        }
                    /**
         * Assert that no mailables were sent or queued to be sent.
         *
         * @return void
         * @static
         */        public static function assertNothingOutgoing()
        {
                        /** @var \Illuminate\Support\Testing\Fakes\MailFake $instance */
                        $instance->assertNothingOutgoing();
        }
                    /**
         * Assert that no mailables were sent.
         *
         * @return void
         * @static
         */        public static function assertNothingSent()
        {
                        /** @var \Illuminate\Support\Testing\Fakes\MailFake $instance */
                        $instance->assertNothingSent();
        }
                    /**
         * Assert if a mailable was queued based on a truth-test callback.
         *
         * @param string|\Closure $mailable
         * @param callable|int|null $callback
         * @return void
         * @static
         */        public static function assertQueued($mailable, $callback = null)
        {
                        /** @var \Illuminate\Support\Testing\Fakes\MailFake $instance */
                        $instance->assertQueued($mailable, $callback);
        }
                    /**
         * Determine if a mailable was not queued based on a truth-test callback.
         *
         * @param string|\Closure $mailable
         * @param callable|null $callback
         * @return void
         * @static
         */        public static function assertNotQueued($mailable, $callback = null)
        {
                        /** @var \Illuminate\Support\Testing\Fakes\MailFake $instance */
                        $instance->assertNotQueued($mailable, $callback);
        }
                    /**
         * Assert that no mailables were queued.
         *
         * @return void
         * @static
         */        public static function assertNothingQueued()
        {
                        /** @var \Illuminate\Support\Testing\Fakes\MailFake $instance */
                        $instance->assertNothingQueued();
        }
                    /**
         * Get all of the mailables matching a truth-test callback.
         *
         * @param string|\Closure $mailable
         * @param callable|null $callback
         * @return \Illuminate\Support\Collection
         * @static
         */        public static function sent($mailable, $callback = null)
        {
                        /** @var \Illuminate\Support\Testing\Fakes\MailFake $instance */
                        return $instance->sent($mailable, $callback);
        }
                    /**
         * Determine if the given mailable has been sent.
         *
         * @param string $mailable
         * @return bool
         * @static
         */        public static function hasSent($mailable)
        {
                        /** @var \Illuminate\Support\Testing\Fakes\MailFake $instance */
                        return $instance->hasSent($mailable);
        }
                    /**
         * Get all of the queued mailables matching a truth-test callback.
         *
         * @param string|\Closure $mailable
         * @param callable|null $callback
         * @return \Illuminate\Support\Collection
         * @static
         */        public static function queued($mailable, $callback = null)
        {
                        /** @var \Illuminate\Support\Testing\Fakes\MailFake $instance */
                        return $instance->queued($mailable, $callback);
        }
                    /**
         * Determine if the given mailable has been queued.
         *
         * @param string $mailable
         * @return bool
         * @static
         */        public static function hasQueued($mailable)
        {
                        /** @var \Illuminate\Support\Testing\Fakes\MailFake $instance */
                        return $instance->hasQueued($mailable);
        }
                    /**
         * Begin the process of mailing a mailable class instance.
         *
         * @param mixed $users
         * @return \Illuminate\Mail\PendingMail
         * @static
         */        public static function to($users)
        {
                        /** @var \Illuminate\Support\Testing\Fakes\MailFake $instance */
                        return $instance->to($users);
        }
                    /**
         * Begin the process of mailing a mailable class instance.
         *
         * @param mixed $users
         * @return \Illuminate\Mail\PendingMail
         * @static
         */        public static function cc($users)
        {
                        /** @var \Illuminate\Support\Testing\Fakes\MailFake $instance */
                        return $instance->cc($users);
        }
                    /**
         * Begin the process of mailing a mailable class instance.
         *
         * @param mixed $users
         * @return \Illuminate\Mail\PendingMail
         * @static
         */        public static function bcc($users)
        {
                        /** @var \Illuminate\Support\Testing\Fakes\MailFake $instance */
                        return $instance->bcc($users);
        }
                    /**
         * Send a new message with only a raw text part.
         *
         * @param string $text
         * @param \Closure|string $callback
         * @return void
         * @static
         */        public static function raw($text, $callback)
        {
                        /** @var \Illuminate\Support\Testing\Fakes\MailFake $instance */
                        $instance->raw($text, $callback);
        }
                    /**
         * Send a new message using a view.
         *
         * @param \Illuminate\Contracts\Mail\Mailable|string|array $view
         * @param array $data
         * @param \Closure|string|null $callback
         * @return void
         * @static
         */        public static function send($view, $data = [], $callback = null)
        {
                        /** @var \Illuminate\Support\Testing\Fakes\MailFake $instance */
                        $instance->send($view, $data, $callback);
        }
                    /**
         * Queue a new e-mail message for sending.
         *
         * @param \Illuminate\Contracts\Mail\Mailable|string|array $view
         * @param string|null $queue
         * @return mixed
         * @static
         */        public static function queue($view, $queue = null)
        {
                        /** @var \Illuminate\Support\Testing\Fakes\MailFake $instance */
                        return $instance->queue($view, $queue);
        }
                    /**
         * Queue a new e-mail message for sending after (n) seconds.
         *
         * @param \DateTimeInterface|\DateInterval|int $delay
         * @param \Illuminate\Contracts\Mail\Mailable|string|array $view
         * @param string|null $queue
         * @return mixed
         * @static
         */        public static function later($delay, $view, $queue = null)
        {
                        /** @var \Illuminate\Support\Testing\Fakes\MailFake $instance */
                        return $instance->later($delay, $view, $queue);
        }
                    /**
         * Get the array of failed recipients.
         *
         * @return array
         * @static
         */        public static function failures()
        {
                        /** @var \Illuminate\Support\Testing\Fakes\MailFake $instance */
                        return $instance->failures();
        }
            }
            /**
     * @see \Illuminate\Notifications\ChannelManager
     * @see \Illuminate\Support\Testing\Fakes\NotificationFake
     */        class Notification {
                    /**
         * Send the given notification to the given notifiable entities.
         *
         * @param \Illuminate\Support\Collection|array|mixed $notifiables
         * @param mixed $notification
         * @return void
         * @static
         */        public static function send($notifiables, $notification)
        {
                        /** @var \Illuminate\Notifications\ChannelManager $instance */
                        $instance->send($notifiables, $notification);
        }
                    /**
         * Send the given notification immediately.
         *
         * @param \Illuminate\Support\Collection|array|mixed $notifiables
         * @param mixed $notification
         * @param array|null $channels
         * @return void
         * @static
         */        public static function sendNow($notifiables, $notification, $channels = null)
        {
                        /** @var \Illuminate\Notifications\ChannelManager $instance */
                        $instance->sendNow($notifiables, $notification, $channels);
        }
                    /**
         * Get a channel instance.
         *
         * @param string|null $name
         * @return mixed
         * @static
         */        public static function channel($name = null)
        {
                        /** @var \Illuminate\Notifications\ChannelManager $instance */
                        return $instance->channel($name);
        }
                    /**
         * Get the default channel driver name.
         *
         * @return string
         * @static
         */        public static function getDefaultDriver()
        {
                        /** @var \Illuminate\Notifications\ChannelManager $instance */
                        return $instance->getDefaultDriver();
        }
                    /**
         * Get the default channel driver name.
         *
         * @return string
         * @static
         */        public static function deliversVia()
        {
                        /** @var \Illuminate\Notifications\ChannelManager $instance */
                        return $instance->deliversVia();
        }
                    /**
         * Set the default channel driver name.
         *
         * @param string $channel
         * @return void
         * @static
         */        public static function deliverVia($channel)
        {
                        /** @var \Illuminate\Notifications\ChannelManager $instance */
                        $instance->deliverVia($channel);
        }
                    /**
         * Set the locale of notifications.
         *
         * @param string $locale
         * @return \Illuminate\Notifications\ChannelManager
         * @static
         */        public static function locale($locale)
        {
                        /** @var \Illuminate\Notifications\ChannelManager $instance */
                        return $instance->locale($locale);
        }
                    /**
         * Get a driver instance.
         *
         * @param string|null $driver
         * @return mixed
         * @throws \InvalidArgumentException
         * @static
         */        public static function driver($driver = null)
        {            //Method inherited from \Illuminate\Support\Manager         
                        /** @var \Illuminate\Notifications\ChannelManager $instance */
                        return $instance->driver($driver);
        }
                    /**
         * Register a custom driver creator Closure.
         *
         * @param string $driver
         * @param \Closure $callback
         * @return \Illuminate\Notifications\ChannelManager
         * @static
         */        public static function extend($driver, $callback)
        {            //Method inherited from \Illuminate\Support\Manager         
                        /** @var \Illuminate\Notifications\ChannelManager $instance */
                        return $instance->extend($driver, $callback);
        }
                    /**
         * Get all of the created "drivers".
         *
         * @return array
         * @static
         */        public static function getDrivers()
        {            //Method inherited from \Illuminate\Support\Manager         
                        /** @var \Illuminate\Notifications\ChannelManager $instance */
                        return $instance->getDrivers();
        }
                    /**
         * Get the container instance used by the manager.
         *
         * @return \Illuminate\Contracts\Container\Container
         * @static
         */        public static function getContainer()
        {            //Method inherited from \Illuminate\Support\Manager         
                        /** @var \Illuminate\Notifications\ChannelManager $instance */
                        return $instance->getContainer();
        }
                    /**
         * Set the container instance used by the manager.
         *
         * @param \Illuminate\Contracts\Container\Container $container
         * @return \Illuminate\Notifications\ChannelManager
         * @static
         */        public static function setContainer($container)
        {            //Method inherited from \Illuminate\Support\Manager         
                        /** @var \Illuminate\Notifications\ChannelManager $instance */
                        return $instance->setContainer($container);
        }
                    /**
         * Forget all of the resolved driver instances.
         *
         * @return \Illuminate\Notifications\ChannelManager
         * @static
         */        public static function forgetDrivers()
        {            //Method inherited from \Illuminate\Support\Manager         
                        /** @var \Illuminate\Notifications\ChannelManager $instance */
                        return $instance->forgetDrivers();
        }
                    /**
         * Assert if a notification was sent on-demand based on a truth-test callback.
         *
         * @param string|\Closure $notification
         * @param callable|null $callback
         * @return void
         * @throws \Exception
         * @static
         */        public static function assertSentOnDemand($notification, $callback = null)
        {
                        /** @var \Illuminate\Support\Testing\Fakes\NotificationFake $instance */
                        $instance->assertSentOnDemand($notification, $callback);
        }
                    /**
         * Assert if a notification was sent based on a truth-test callback.
         *
         * @param mixed $notifiable
         * @param string|\Closure $notification
         * @param callable|null $callback
         * @return void
         * @throws \Exception
         * @static
         */        public static function assertSentTo($notifiable, $notification, $callback = null)
        {
                        /** @var \Illuminate\Support\Testing\Fakes\NotificationFake $instance */
                        $instance->assertSentTo($notifiable, $notification, $callback);
        }
                    /**
         * Assert if a notification was sent on-demand a number of times.
         *
         * @param string $notification
         * @param int $times
         * @return void
         * @static
         */        public static function assertSentOnDemandTimes($notification, $times = 1)
        {
                        /** @var \Illuminate\Support\Testing\Fakes\NotificationFake $instance */
                        $instance->assertSentOnDemandTimes($notification, $times);
        }
                    /**
         * Assert if a notification was sent a number of times.
         *
         * @param mixed $notifiable
         * @param string $notification
         * @param int $times
         * @return void
         * @static
         */        public static function assertSentToTimes($notifiable, $notification, $times = 1)
        {
                        /** @var \Illuminate\Support\Testing\Fakes\NotificationFake $instance */
                        $instance->assertSentToTimes($notifiable, $notification, $times);
        }
                    /**
         * Determine if a notification was sent based on a truth-test callback.
         *
         * @param mixed $notifiable
         * @param string|\Closure $notification
         * @param callable|null $callback
         * @return void
         * @throws \Exception
         * @static
         */        public static function assertNotSentTo($notifiable, $notification, $callback = null)
        {
                        /** @var \Illuminate\Support\Testing\Fakes\NotificationFake $instance */
                        $instance->assertNotSentTo($notifiable, $notification, $callback);
        }
                    /**
         * Assert that no notifications were sent.
         *
         * @return void
         * @static
         */        public static function assertNothingSent()
        {
                        /** @var \Illuminate\Support\Testing\Fakes\NotificationFake $instance */
                        $instance->assertNothingSent();
        }
                    /**
         * Assert that no notifications were sent to the given notifiable.
         *
         * @param mixed $notifiable
         * @return void
         * @throws \Exception
         * @static
         */        public static function assertNothingSentTo($notifiable)
        {
                        /** @var \Illuminate\Support\Testing\Fakes\NotificationFake $instance */
                        $instance->assertNothingSentTo($notifiable);
        }
                    /**
         * Assert the total amount of times a notification was sent.
         *
         * @param string $notification
         * @param int $expectedCount
         * @return void
         * @static
         */        public static function assertSentTimes($notification, $expectedCount)
        {
                        /** @var \Illuminate\Support\Testing\Fakes\NotificationFake $instance */
                        $instance->assertSentTimes($notification, $expectedCount);
        }
                    /**
         * Assert the total count of notification that were sent.
         *
         * @param int $expectedCount
         * @return void
         * @static
         */        public static function assertCount($expectedCount)
        {
                        /** @var \Illuminate\Support\Testing\Fakes\NotificationFake $instance */
                        $instance->assertCount($expectedCount);
        }
                    /**
         * Assert the total amount of times a notification was sent.
         *
         * @param int $expectedCount
         * @param string $notification
         * @return void
         * @deprecated Use the assertSentTimes method instead
         * @static
         */        public static function assertTimesSent($expectedCount, $notification)
        {
                        /** @var \Illuminate\Support\Testing\Fakes\NotificationFake $instance */
                        $instance->assertTimesSent($expectedCount, $notification);
        }
                    /**
         * Get all of the notifications matching a truth-test callback.
         *
         * @param mixed $notifiable
         * @param string $notification
         * @param callable|null $callback
         * @return \Illuminate\Support\Collection
         * @static
         */        public static function sent($notifiable, $notification, $callback = null)
        {
                        /** @var \Illuminate\Support\Testing\Fakes\NotificationFake $instance */
                        return $instance->sent($notifiable, $notification, $callback);
        }
                    /**
         * Determine if there are more notifications left to inspect.
         *
         * @param mixed $notifiable
         * @param string $notification
         * @return bool
         * @static
         */        public static function hasSent($notifiable, $notification)
        {
                        /** @var \Illuminate\Support\Testing\Fakes\NotificationFake $instance */
                        return $instance->hasSent($notifiable, $notification);
        }
                    /**
         * Get the notifications that have been sent.
         *
         * @return array
         * @static
         */        public static function sentNotifications()
        {
                        /** @var \Illuminate\Support\Testing\Fakes\NotificationFake $instance */
                        return $instance->sentNotifications();
        }
                    /**
         * Register a custom macro.
         *
         * @param string $name
         * @param object|callable $macro
         * @return void
         * @static
         */        public static function macro($name, $macro)
        {
                        \Illuminate\Support\Testing\Fakes\NotificationFake::macro($name, $macro);
        }
                    /**
         * Mix another object into the class.
         *
         * @param object $mixin
         * @param bool $replace
         * @return void
         * @throws \ReflectionException
         * @static
         */        public static function mixin($mixin, $replace = true)
        {
                        \Illuminate\Support\Testing\Fakes\NotificationFake::mixin($mixin, $replace);
        }
                    /**
         * Checks if macro is registered.
         *
         * @param string $name
         * @return bool
         * @static
         */        public static function hasMacro($name)
        {
                        return \Illuminate\Support\Testing\Fakes\NotificationFake::hasMacro($name);
        }
                    /**
         * Flush the existing macros.
         *
         * @return void
         * @static
         */        public static function flushMacros()
        {
                        \Illuminate\Support\Testing\Fakes\NotificationFake::flushMacros();
        }
            }
            /**
     * @method static string sendResetLink(array $credentials, \Closure|null $callback = null)
     * @method static mixed reset(array $credentials, \Closure $callback)
     * @method static \Illuminate\Contracts\Auth\CanResetPassword|null getUser(array $credentials)
     * @method static string createToken(\Illuminate\Contracts\Auth\CanResetPassword $user)
     * @method static void deleteToken(\Illuminate\Contracts\Auth\CanResetPassword $user)
     * @method static bool tokenExists(\Illuminate\Contracts\Auth\CanResetPassword $user, string $token)
     * @method static \Illuminate\Auth\Passwords\TokenRepositoryInterface getRepository()
     * @see \Illuminate\Auth\Passwords\PasswordBrokerManager
     * @see \Illuminate\Auth\Passwords\PasswordBroker
     */        class Password {
                    /**
         * Attempt to get the broker from the local cache.
         *
         * @param string|null $name
         * @return \Illuminate\Contracts\Auth\PasswordBroker
         * @static
         */        public static function broker($name = null)
        {
                        /** @var \Illuminate\Auth\Passwords\PasswordBrokerManager $instance */
                        return $instance->broker($name);
        }
                    /**
         * Get the default password broker name.
         *
         * @return string
         * @static
         */        public static function getDefaultDriver()
        {
                        /** @var \Illuminate\Auth\Passwords\PasswordBrokerManager $instance */
                        return $instance->getDefaultDriver();
        }
                    /**
         * Set the default password broker name.
         *
         * @param string $name
         * @return void
         * @static
         */        public static function setDefaultDriver($name)
        {
                        /** @var \Illuminate\Auth\Passwords\PasswordBrokerManager $instance */
                        $instance->setDefaultDriver($name);
        }
            }
            /**
     * @see \Illuminate\Queue\QueueManager
     * @see \Illuminate\Queue\Queue
     * @see \Illuminate\Support\Testing\Fakes\QueueFake
     */        class Queue {
                    /**
         * Register an event listener for the before job event.
         *
         * @param mixed $callback
         * @return void
         * @static
         */        public static function before($callback)
        {
                        /** @var \Illuminate\Queue\QueueManager $instance */
                        $instance->before($callback);
        }
                    /**
         * Register an event listener for the after job event.
         *
         * @param mixed $callback
         * @return void
         * @static
         */        public static function after($callback)
        {
                        /** @var \Illuminate\Queue\QueueManager $instance */
                        $instance->after($callback);
        }
                    /**
         * Register an event listener for the exception occurred job event.
         *
         * @param mixed $callback
         * @return void
         * @static
         */        public static function exceptionOccurred($callback)
        {
                        /** @var \Illuminate\Queue\QueueManager $instance */
                        $instance->exceptionOccurred($callback);
        }
                    /**
         * Register an event listener for the daemon queue loop.
         *
         * @param mixed $callback
         * @return void
         * @static
         */        public static function looping($callback)
        {
                        /** @var \Illuminate\Queue\QueueManager $instance */
                        $instance->looping($callback);
        }
                    /**
         * Register an event listener for the failed job event.
         *
         * @param mixed $callback
         * @return void
         * @static
         */        public static function failing($callback)
        {
                        /** @var \Illuminate\Queue\QueueManager $instance */
                        $instance->failing($callback);
        }
                    /**
         * Register an event listener for the daemon queue stopping.
         *
         * @param mixed $callback
         * @return void
         * @static
         */        public static function stopping($callback)
        {
                        /** @var \Illuminate\Queue\QueueManager $instance */
                        $instance->stopping($callback);
        }
                    /**
         * Determine if the driver is connected.
         *
         * @param string|null $name
         * @return bool
         * @static
         */        public static function connected($name = null)
        {
                        /** @var \Illuminate\Queue\QueueManager $instance */
                        return $instance->connected($name);
        }
                    /**
         * Resolve a queue connection instance.
         *
         * @param string|null $name
         * @return \Illuminate\Contracts\Queue\Queue
         * @static
         */        public static function connection($name = null)
        {
                        /** @var \Illuminate\Queue\QueueManager $instance */
                        return $instance->connection($name);
        }
                    /**
         * Add a queue connection resolver.
         *
         * @param string $driver
         * @param \Closure $resolver
         * @return void
         * @static
         */        public static function extend($driver, $resolver)
        {
                        /** @var \Illuminate\Queue\QueueManager $instance */
                        $instance->extend($driver, $resolver);
        }
                    /**
         * Add a queue connection resolver.
         *
         * @param string $driver
         * @param \Closure $resolver
         * @return void
         * @static
         */        public static function addConnector($driver, $resolver)
        {
                        /** @var \Illuminate\Queue\QueueManager $instance */
                        $instance->addConnector($driver, $resolver);
        }
                    /**
         * Get the name of the default queue connection.
         *
         * @return string
         * @static
         */        public static function getDefaultDriver()
        {
                        /** @var \Illuminate\Queue\QueueManager $instance */
                        return $instance->getDefaultDriver();
        }
                    /**
         * Set the name of the default queue connection.
         *
         * @param string $name
         * @return void
         * @static
         */        public static function setDefaultDriver($name)
        {
                        /** @var \Illuminate\Queue\QueueManager $instance */
                        $instance->setDefaultDriver($name);
        }
                    /**
         * Get the full name for the given connection.
         *
         * @param string|null $connection
         * @return string
         * @static
         */        public static function getName($connection = null)
        {
                        /** @var \Illuminate\Queue\QueueManager $instance */
                        return $instance->getName($connection);
        }
                    /**
         * Get the application instance used by the manager.
         *
         * @return \Illuminate\Contracts\Foundation\Application
         * @static
         */        public static function getApplication()
        {
                        /** @var \Illuminate\Queue\QueueManager $instance */
                        return $instance->getApplication();
        }
                    /**
         * Set the application instance used by the manager.
         *
         * @param \Illuminate\Contracts\Foundation\Application $app
         * @return \Illuminate\Queue\QueueManager
         * @static
         */        public static function setApplication($app)
        {
                        /** @var \Illuminate\Queue\QueueManager $instance */
                        return $instance->setApplication($app);
        }
                    /**
         * Specify the jobs that should be queued instead of faked.
         *
         * @param array|string $jobsToBeQueued
         * @return \Illuminate\Support\Testing\Fakes\QueueFake
         * @static
         */        public static function except($jobsToBeQueued)
        {
                        /** @var \Illuminate\Support\Testing\Fakes\QueueFake $instance */
                        return $instance->except($jobsToBeQueued);
        }
                    /**
         * Assert if a job was pushed based on a truth-test callback.
         *
         * @param string|\Closure $job
         * @param callable|int|null $callback
         * @return void
         * @static
         */        public static function assertPushed($job, $callback = null)
        {
                        /** @var \Illuminate\Support\Testing\Fakes\QueueFake $instance */
                        $instance->assertPushed($job, $callback);
        }
                    /**
         * Assert if a job was pushed based on a truth-test callback.
         *
         * @param string $queue
         * @param string|\Closure $job
         * @param callable|null $callback
         * @return void
         * @static
         */        public static function assertPushedOn($queue, $job, $callback = null)
        {
                        /** @var \Illuminate\Support\Testing\Fakes\QueueFake $instance */
                        $instance->assertPushedOn($queue, $job, $callback);
        }
                    /**
         * Assert if a job was pushed with chained jobs based on a truth-test callback.
         *
         * @param string $job
         * @param array $expectedChain
         * @param callable|null $callback
         * @return void
         * @static
         */        public static function assertPushedWithChain($job, $expectedChain = [], $callback = null)
        {
                        /** @var \Illuminate\Support\Testing\Fakes\QueueFake $instance */
                        $instance->assertPushedWithChain($job, $expectedChain, $callback);
        }
                    /**
         * Assert if a job was pushed with an empty chain based on a truth-test callback.
         *
         * @param string $job
         * @param callable|null $callback
         * @return void
         * @static
         */        public static function assertPushedWithoutChain($job, $callback = null)
        {
                        /** @var \Illuminate\Support\Testing\Fakes\QueueFake $instance */
                        $instance->assertPushedWithoutChain($job, $callback);
        }
                    /**
         * Determine if a job was pushed based on a truth-test callback.
         *
         * @param string|\Closure $job
         * @param callable|null $callback
         * @return void
         * @static
         */        public static function assertNotPushed($job, $callback = null)
        {
                        /** @var \Illuminate\Support\Testing\Fakes\QueueFake $instance */
                        $instance->assertNotPushed($job, $callback);
        }
                    /**
         * Assert that no jobs were pushed.
         *
         * @return void
         * @static
         */        public static function assertNothingPushed()
        {
                        /** @var \Illuminate\Support\Testing\Fakes\QueueFake $instance */
                        $instance->assertNothingPushed();
        }
                    /**
         * Get all of the jobs matching a truth-test callback.
         *
         * @param string $job
         * @param callable|null $callback
         * @return \Illuminate\Support\Collection
         * @static
         */        public static function pushed($job, $callback = null)
        {
                        /** @var \Illuminate\Support\Testing\Fakes\QueueFake $instance */
                        return $instance->pushed($job, $callback);
        }
                    /**
         * Determine if there are any stored jobs for a given class.
         *
         * @param string $job
         * @return bool
         * @static
         */        public static function hasPushed($job)
        {
                        /** @var \Illuminate\Support\Testing\Fakes\QueueFake $instance */
                        return $instance->hasPushed($job);
        }
                    /**
         * Get the size of the queue.
         *
         * @param string|null $queue
         * @return int
         * @static
         */        public static function size($queue = null)
        {
                        /** @var \Illuminate\Support\Testing\Fakes\QueueFake $instance */
                        return $instance->size($queue);
        }
                    /**
         * Push a new job onto the queue.
         *
         * @param string|object $job
         * @param mixed $data
         * @param string|null $queue
         * @return mixed
         * @static
         */        public static function push($job, $data = '', $queue = null)
        {
                        /** @var \Illuminate\Support\Testing\Fakes\QueueFake $instance */
                        return $instance->push($job, $data, $queue);
        }
                    /**
         * Determine if a job should be faked or actually dispatched.
         *
         * @param object $job
         * @return bool
         * @static
         */        public static function shouldFakeJob($job)
        {
                        /** @var \Illuminate\Support\Testing\Fakes\QueueFake $instance */
                        return $instance->shouldFakeJob($job);
        }
                    /**
         * Push a raw payload onto the queue.
         *
         * @param string $payload
         * @param string|null $queue
         * @param array $options
         * @return mixed
         * @static
         */        public static function pushRaw($payload, $queue = null, $options = [])
        {
                        /** @var \Illuminate\Support\Testing\Fakes\QueueFake $instance */
                        return $instance->pushRaw($payload, $queue, $options);
        }
                    /**
         * Push a new job onto the queue after (n) seconds.
         *
         * @param \DateTimeInterface|\DateInterval|int $delay
         * @param string|object $job
         * @param mixed $data
         * @param string|null $queue
         * @return mixed
         * @static
         */        public static function later($delay, $job, $data = '', $queue = null)
        {
                        /** @var \Illuminate\Support\Testing\Fakes\QueueFake $instance */
                        return $instance->later($delay, $job, $data, $queue);
        }
                    /**
         * Push a new job onto the queue.
         *
         * @param string $queue
         * @param string|object $job
         * @param mixed $data
         * @return mixed
         * @static
         */        public static function pushOn($queue, $job, $data = '')
        {
                        /** @var \Illuminate\Support\Testing\Fakes\QueueFake $instance */
                        return $instance->pushOn($queue, $job, $data);
        }
                    /**
         * Push a new job onto a specific queue after (n) seconds.
         *
         * @param string $queue
         * @param \DateTimeInterface|\DateInterval|int $delay
         * @param string|object $job
         * @param mixed $data
         * @return mixed
         * @static
         */        public static function laterOn($queue, $delay, $job, $data = '')
        {
                        /** @var \Illuminate\Support\Testing\Fakes\QueueFake $instance */
                        return $instance->laterOn($queue, $delay, $job, $data);
        }
                    /**
         * Pop the next job off of the queue.
         *
         * @param string|null $queue
         * @return \Illuminate\Contracts\Queue\Job|null
         * @static
         */        public static function pop($queue = null)
        {
                        /** @var \Illuminate\Support\Testing\Fakes\QueueFake $instance */
                        return $instance->pop($queue);
        }
                    /**
         * Push an array of jobs onto the queue.
         *
         * @param array $jobs
         * @param mixed $data
         * @param string|null $queue
         * @return mixed
         * @static
         */        public static function bulk($jobs, $data = '', $queue = null)
        {
                        /** @var \Illuminate\Support\Testing\Fakes\QueueFake $instance */
                        return $instance->bulk($jobs, $data, $queue);
        }
                    /**
         * Get the jobs that have been pushed.
         *
         * @return array
         * @static
         */        public static function pushedJobs()
        {
                        /** @var \Illuminate\Support\Testing\Fakes\QueueFake $instance */
                        return $instance->pushedJobs();
        }
                    /**
         * Get the connection name for the queue.
         *
         * @return string
         * @static
         */        public static function getConnectionName()
        {
                        /** @var \Illuminate\Support\Testing\Fakes\QueueFake $instance */
                        return $instance->getConnectionName();
        }
                    /**
         * Set the connection name for the queue.
         *
         * @param string $name
         * @return \Illuminate\Support\Testing\Fakes\QueueFake
         * @static
         */        public static function setConnectionName($name)
        {
                        /** @var \Illuminate\Support\Testing\Fakes\QueueFake $instance */
                        return $instance->setConnectionName($name);
        }
                    /**
         * Get the backoff for an object-based queue handler.
         *
         * @param mixed $job
         * @return mixed
         * @static
         */        public static function getJobBackoff($job)
        {            //Method inherited from \Illuminate\Queue\Queue         
                        /** @var \Illuminate\Queue\SyncQueue $instance */
                        return $instance->getJobBackoff($job);
        }
                    /**
         * Get the expiration timestamp for an object-based queue handler.
         *
         * @param mixed $job
         * @return mixed
         * @static
         */        public static function getJobExpiration($job)
        {            //Method inherited from \Illuminate\Queue\Queue         
                        /** @var \Illuminate\Queue\SyncQueue $instance */
                        return $instance->getJobExpiration($job);
        }
                    /**
         * Register a callback to be executed when creating job payloads.
         *
         * @param callable|null $callback
         * @return void
         * @static
         */        public static function createPayloadUsing($callback)
        {            //Method inherited from \Illuminate\Queue\Queue         
                        \Illuminate\Queue\SyncQueue::createPayloadUsing($callback);
        }
                    /**
         * Get the container instance being used by the connection.
         *
         * @return \Illuminate\Container\Container
         * @static
         */        public static function getContainer()
        {            //Method inherited from \Illuminate\Queue\Queue         
                        /** @var \Illuminate\Queue\SyncQueue $instance */
                        return $instance->getContainer();
        }
                    /**
         * Set the IoC container instance.
         *
         * @param \Illuminate\Container\Container $container
         * @return void
         * @static
         */        public static function setContainer($container)
        {            //Method inherited from \Illuminate\Queue\Queue         
                        /** @var \Illuminate\Queue\SyncQueue $instance */
                        $instance->setContainer($container);
        }
            }
            /**
     * @see \Illuminate\Cache\RateLimiter
     */        class RateLimiter {
                    /**
         * Register a named limiter configuration.
         *
         * @param string $name
         * @param \Closure $callback
         * @return \Illuminate\Cache\RateLimiter
         * @static
         */        public static function for($name, $callback)
        {
                        /** @var \Illuminate\Cache\RateLimiter $instance */
                        return $instance->for($name, $callback);
        }
                    /**
         * Get the given named rate limiter.
         *
         * @param string $name
         * @return \Closure
         * @static
         */        public static function limiter($name)
        {
                        /** @var \Illuminate\Cache\RateLimiter $instance */
                        return $instance->limiter($name);
        }
                    /**
         * Attempts to execute a callback if it's not limited.
         *
         * @param string $key
         * @param int $maxAttempts
         * @param \Closure $callback
         * @param int $decaySeconds
         * @return mixed
         * @static
         */        public static function attempt($key, $maxAttempts, $callback, $decaySeconds = 60)
        {
                        /** @var \Illuminate\Cache\RateLimiter $instance */
                        return $instance->attempt($key, $maxAttempts, $callback, $decaySeconds);
        }
                    /**
         * Determine if the given key has been "accessed" too many times.
         *
         * @param string $key
         * @param int $maxAttempts
         * @return bool
         * @static
         */        public static function tooManyAttempts($key, $maxAttempts)
        {
                        /** @var \Illuminate\Cache\RateLimiter $instance */
                        return $instance->tooManyAttempts($key, $maxAttempts);
        }
                    /**
         * Increment the counter for a given key for a given decay time.
         *
         * @param string $key
         * @param int $decaySeconds
         * @return int
         * @static
         */        public static function hit($key, $decaySeconds = 60)
        {
                        /** @var \Illuminate\Cache\RateLimiter $instance */
                        return $instance->hit($key, $decaySeconds);
        }
                    /**
         * Get the number of attempts for the given key.
         *
         * @param string $key
         * @return mixed
         * @static
         */        public static function attempts($key)
        {
                        /** @var \Illuminate\Cache\RateLimiter $instance */
                        return $instance->attempts($key);
        }
                    /**
         * Reset the number of attempts for the given key.
         *
         * @param string $key
         * @return mixed
         * @static
         */        public static function resetAttempts($key)
        {
                        /** @var \Illuminate\Cache\RateLimiter $instance */
                        return $instance->resetAttempts($key);
        }
                    /**
         * Get the number of retries left for the given key.
         *
         * @param string $key
         * @param int $maxAttempts
         * @return int
         * @static
         */        public static function remaining($key, $maxAttempts)
        {
                        /** @var \Illuminate\Cache\RateLimiter $instance */
                        return $instance->remaining($key, $maxAttempts);
        }
                    /**
         * Get the number of retries left for the given key.
         *
         * @param string $key
         * @param int $maxAttempts
         * @return int
         * @static
         */        public static function retriesLeft($key, $maxAttempts)
        {
                        /** @var \Illuminate\Cache\RateLimiter $instance */
                        return $instance->retriesLeft($key, $maxAttempts);
        }
                    /**
         * Clear the hits and lockout timer for the given key.
         *
         * @param string $key
         * @return void
         * @static
         */        public static function clear($key)
        {
                        /** @var \Illuminate\Cache\RateLimiter $instance */
                        $instance->clear($key);
        }
                    /**
         * Get the number of seconds until the "key" is accessible again.
         *
         * @param string $key
         * @return int
         * @static
         */        public static function availableIn($key)
        {
                        /** @var \Illuminate\Cache\RateLimiter $instance */
                        return $instance->availableIn($key);
        }
                    /**
         * Clean the rate limiter key from unicode characters.
         *
         * @param string $key
         * @return string
         * @static
         */        public static function cleanRateLimiterKey($key)
        {
                        /** @var \Illuminate\Cache\RateLimiter $instance */
                        return $instance->cleanRateLimiterKey($key);
        }
            }
            /**
     * @see \Illuminate\Routing\Redirector
     */        class Redirect {
                    /**
         * Create a new redirect response to the "home" route.
         *
         * @param int $status
         * @return \Illuminate\Http\RedirectResponse
         * @deprecated Will be removed in a future Laravel version.
         * @static
         */        public static function home($status = 302)
        {
                        /** @var \Illuminate\Routing\Redirector $instance */
                        return $instance->home($status);
        }
                    /**
         * Create a new redirect response to the previous location.
         *
         * @param int $status
         * @param array $headers
         * @param mixed $fallback
         * @return \Illuminate\Http\RedirectResponse
         * @static
         */        public static function back($status = 302, $headers = [], $fallback = false)
        {
                        /** @var \Illuminate\Routing\Redirector $instance */
                        return $instance->back($status, $headers, $fallback);
        }
                    /**
         * Create a new redirect response to the current URI.
         *
         * @param int $status
         * @param array $headers
         * @return \Illuminate\Http\RedirectResponse
         * @static
         */        public static function refresh($status = 302, $headers = [])
        {
                        /** @var \Illuminate\Routing\Redirector $instance */
                        return $instance->refresh($status, $headers);
        }
                    /**
         * Create a new redirect response, while putting the current URL in the session.
         *
         * @param string $path
         * @param int $status
         * @param array $headers
         * @param bool|null $secure
         * @return \Illuminate\Http\RedirectResponse
         * @static
         */        public static function guest($path, $status = 302, $headers = [], $secure = null)
        {
                        /** @var \Illuminate\Routing\Redirector $instance */
                        return $instance->guest($path, $status, $headers, $secure);
        }
                    /**
         * Create a new redirect response to the previously intended location.
         *
         * @param mixed $default
         * @param int $status
         * @param array $headers
         * @param bool|null $secure
         * @return \Illuminate\Http\RedirectResponse
         * @static
         */        public static function intended($default = '/', $status = 302, $headers = [], $secure = null)
        {
                        /** @var \Illuminate\Routing\Redirector $instance */
                        return $instance->intended($default, $status, $headers, $secure);
        }
                    /**
         * Create a new redirect response to the given path.
         *
         * @param string $path
         * @param int $status
         * @param array $headers
         * @param bool|null $secure
         * @return \Illuminate\Http\RedirectResponse
         * @static
         */        public static function to($path, $status = 302, $headers = [], $secure = null)
        {
                        /** @var \Illuminate\Routing\Redirector $instance */
                        return $instance->to($path, $status, $headers, $secure);
        }
                    /**
         * Create a new redirect response to an external URL (no validation).
         *
         * @param string $path
         * @param int $status
         * @param array $headers
         * @return \Illuminate\Http\RedirectResponse
         * @static
         */        public static function away($path, $status = 302, $headers = [])
        {
                        /** @var \Illuminate\Routing\Redirector $instance */
                        return $instance->away($path, $status, $headers);
        }
                    /**
         * Create a new redirect response to the given HTTPS path.
         *
         * @param string $path
         * @param int $status
         * @param array $headers
         * @return \Illuminate\Http\RedirectResponse
         * @static
         */        public static function secure($path, $status = 302, $headers = [])
        {
                        /** @var \Illuminate\Routing\Redirector $instance */
                        return $instance->secure($path, $status, $headers);
        }
                    /**
         * Create a new redirect response to a named route.
         *
         * @param string $route
         * @param mixed $parameters
         * @param int $status
         * @param array $headers
         * @return \Illuminate\Http\RedirectResponse
         * @static
         */        public static function route($route, $parameters = [], $status = 302, $headers = [])
        {
                        /** @var \Illuminate\Routing\Redirector $instance */
                        return $instance->route($route, $parameters, $status, $headers);
        }
                    /**
         * Create a new redirect response to a signed named route.
         *
         * @param string $route
         * @param mixed $parameters
         * @param \DateTimeInterface|\DateInterval|int|null $expiration
         * @param int $status
         * @param array $headers
         * @return \Illuminate\Http\RedirectResponse
         * @static
         */        public static function signedRoute($route, $parameters = [], $expiration = null, $status = 302, $headers = [])
        {
                        /** @var \Illuminate\Routing\Redirector $instance */
                        return $instance->signedRoute($route, $parameters, $expiration, $status, $headers);
        }
                    /**
         * Create a new redirect response to a signed named route.
         *
         * @param string $route
         * @param \DateTimeInterface|\DateInterval|int|null $expiration
         * @param mixed $parameters
         * @param int $status
         * @param array $headers
         * @return \Illuminate\Http\RedirectResponse
         * @static
         */        public static function temporarySignedRoute($route, $expiration, $parameters = [], $status = 302, $headers = [])
        {
                        /** @var \Illuminate\Routing\Redirector $instance */
                        return $instance->temporarySignedRoute($route, $expiration, $parameters, $status, $headers);
        }
                    /**
         * Create a new redirect response to a controller action.
         *
         * @param string|array $action
         * @param mixed $parameters
         * @param int $status
         * @param array $headers
         * @return \Illuminate\Http\RedirectResponse
         * @static
         */        public static function action($action, $parameters = [], $status = 302, $headers = [])
        {
                        /** @var \Illuminate\Routing\Redirector $instance */
                        return $instance->action($action, $parameters, $status, $headers);
        }
                    /**
         * Get the URL generator instance.
         *
         * @return \Illuminate\Routing\UrlGenerator
         * @static
         */        public static function getUrlGenerator()
        {
                        /** @var \Illuminate\Routing\Redirector $instance */
                        return $instance->getUrlGenerator();
        }
                    /**
         * Set the active session store.
         *
         * @param \Illuminate\Session\Store $session
         * @return void
         * @static
         */        public static function setSession($session)
        {
                        /** @var \Illuminate\Routing\Redirector $instance */
                        $instance->setSession($session);
        }
                    /**
         * Get the "intended" URL from the session.
         *
         * @return string|null
         * @static
         */        public static function getIntendedUrl()
        {
                        /** @var \Illuminate\Routing\Redirector $instance */
                        return $instance->getIntendedUrl();
        }
                    /**
         * Set the "intended" URL in the session.
         *
         * @param string $url
         * @return \Illuminate\Routing\Redirector
         * @static
         */        public static function setIntendedUrl($url)
        {
                        /** @var \Illuminate\Routing\Redirector $instance */
                        return $instance->setIntendedUrl($url);
        }
                    /**
         * Register a custom macro.
         *
         * @param string $name
         * @param object|callable $macro
         * @return void
         * @static
         */        public static function macro($name, $macro)
        {
                        \Illuminate\Routing\Redirector::macro($name, $macro);
        }
                    /**
         * Mix another object into the class.
         *
         * @param object $mixin
         * @param bool $replace
         * @return void
         * @throws \ReflectionException
         * @static
         */        public static function mixin($mixin, $replace = true)
        {
                        \Illuminate\Routing\Redirector::mixin($mixin, $replace);
        }
                    /**
         * Checks if macro is registered.
         *
         * @param string $name
         * @return bool
         * @static
         */        public static function hasMacro($name)
        {
                        return \Illuminate\Routing\Redirector::hasMacro($name);
        }
                    /**
         * Flush the existing macros.
         *
         * @return void
         * @static
         */        public static function flushMacros()
        {
                        \Illuminate\Routing\Redirector::flushMacros();
        }
            }
            /**
     * @method static string|null getContentTypeFormat()
     * @method static \Symfony\Component\HttpFoundation\InputBag getPayload()
     * @see \Illuminate\Http\Request
     */        class Request {
                    /**
         * Create a new Illuminate HTTP request from server variables.
         *
         * @return static
         * @static
         */        public static function capture()
        {
                        return \Illuminate\Http\Request::capture();
        }
                    /**
         * Return the Request instance.
         *
         * @return \Illuminate\Http\Request
         * @static
         */        public static function instance()
        {
                        /** @var \Illuminate\Http\Request $instance */
                        return $instance->instance();
        }
                    /**
         * Get the request method.
         *
         * @return string
         * @static
         */        public static function method()
        {
                        /** @var \Illuminate\Http\Request $instance */
                        return $instance->method();
        }
                    /**
         * Get the root URL for the application.
         *
         * @return string
         * @static
         */        public static function root()
        {
                        /** @var \Illuminate\Http\Request $instance */
                        return $instance->root();
        }
                    /**
         * Get the URL (no query string) for the request.
         *
         * @return string
         * @static
         */        public static function url()
        {
                        /** @var \Illuminate\Http\Request $instance */
                        return $instance->url();
        }
                    /**
         * Get the full URL for the request.
         *
         * @return string
         * @static
         */        public static function fullUrl()
        {
                        /** @var \Illuminate\Http\Request $instance */
                        return $instance->fullUrl();
        }
                    /**
         * Get the full URL for the request with the added query string parameters.
         *
         * @param array $query
         * @return string
         * @static
         */        public static function fullUrlWithQuery($query)
        {
                        /** @var \Illuminate\Http\Request $instance */
                        return $instance->fullUrlWithQuery($query);
        }
                    /**
         * Get the full URL for the request without the given query string parameters.
         *
         * @param array|string $keys
         * @return string
         * @static
         */        public static function fullUrlWithoutQuery($keys)
        {
                        /** @var \Illuminate\Http\Request $instance */
                        return $instance->fullUrlWithoutQuery($keys);
        }
                    /**
         * Get the current path info for the request.
         *
         * @return string
         * @static
         */        public static function path()
        {
                        /** @var \Illuminate\Http\Request $instance */
                        return $instance->path();
        }
                    /**
         * Get the current decoded path info for the request.
         *
         * @return string
         * @static
         */        public static function decodedPath()
        {
                        /** @var \Illuminate\Http\Request $instance */
                        return $instance->decodedPath();
        }
                    /**
         * Get a segment from the URI (1 based index).
         *
         * @param int $index
         * @param string|null $default
         * @return string|null
         * @static
         */        public static function segment($index, $default = null)
        {
                        /** @var \Illuminate\Http\Request $instance */
                        return $instance->segment($index, $default);
        }
                    /**
         * Get all of the segments for the request path.
         *
         * @return array
         * @static
         */        public static function segments()
        {
                        /** @var \Illuminate\Http\Request $instance */
                        return $instance->segments();
        }
                    /**
         * Determine if the current request URI matches a pattern.
         *
         * @param mixed $patterns
         * @return bool
         * @static
         */        public static function is(...$patterns)
        {
                        /** @var \Illuminate\Http\Request $instance */
                        return $instance->is(...$patterns);
        }
                    /**
         * Determine if the route name matches a given pattern.
         *
         * @param mixed $patterns
         * @return bool
         * @static
         */        public static function routeIs(...$patterns)
        {
                        /** @var \Illuminate\Http\Request $instance */
                        return $instance->routeIs(...$patterns);
        }
                    /**
         * Determine if the current request URL and query string match a pattern.
         *
         * @param mixed $patterns
         * @return bool
         * @static
         */        public static function fullUrlIs(...$patterns)
        {
                        /** @var \Illuminate\Http\Request $instance */
                        return $instance->fullUrlIs(...$patterns);
        }
                    /**
         * Get the host name.
         *
         * @return string
         * @static
         */        public static function host()
        {
                        /** @var \Illuminate\Http\Request $instance */
                        return $instance->host();
        }
                    /**
         * Get the HTTP host being requested.
         *
         * @return string
         * @static
         */        public static function httpHost()
        {
                        /** @var \Illuminate\Http\Request $instance */
                        return $instance->httpHost();
        }
                    /**
         * Get the scheme and HTTP host.
         *
         * @return string
         * @static
         */        public static function schemeAndHttpHost()
        {
                        /** @var \Illuminate\Http\Request $instance */
                        return $instance->schemeAndHttpHost();
        }
                    /**
         * Determine if the request is the result of an AJAX call.
         *
         * @return bool
         * @static
         */        public static function ajax()
        {
                        /** @var \Illuminate\Http\Request $instance */
                        return $instance->ajax();
        }
                    /**
         * Determine if the request is the result of a PJAX call.
         *
         * @return bool
         * @static
         */        public static function pjax()
        {
                        /** @var \Illuminate\Http\Request $instance */
                        return $instance->pjax();
        }
                    /**
         * Determine if the request is the result of a prefetch call.
         *
         * @return bool
         * @static
         */        public static function prefetch()
        {
                        /** @var \Illuminate\Http\Request $instance */
                        return $instance->prefetch();
        }
                    /**
         * Determine if the request is over HTTPS.
         *
         * @return bool
         * @static
         */        public static function secure()
        {
                        /** @var \Illuminate\Http\Request $instance */
                        return $instance->secure();
        }
                    /**
         * Get the client IP address.
         *
         * @return string|null
         * @static
         */        public static function ip()
        {
                        /** @var \Illuminate\Http\Request $instance */
                        return $instance->ip();
        }
                    /**
         * Get the client IP addresses.
         *
         * @return array
         * @static
         */        public static function ips()
        {
                        /** @var \Illuminate\Http\Request $instance */
                        return $instance->ips();
        }
                    /**
         * Get the client user agent.
         *
         * @return string|null
         * @static
         */        public static function userAgent()
        {
                        /** @var \Illuminate\Http\Request $instance */
                        return $instance->userAgent();
        }
                    /**
         * Merge new input into the current request's input array.
         *
         * @param array $input
         * @return \Illuminate\Http\Request
         * @static
         */        public static function merge($input)
        {
                        /** @var \Illuminate\Http\Request $instance */
                        return $instance->merge($input);
        }
                    /**
         * Merge new input into the request's input, but only when that key is missing from the request.
         *
         * @param array $input
         * @return \Illuminate\Http\Request
         * @static
         */        public static function mergeIfMissing($input)
        {
                        /** @var \Illuminate\Http\Request $instance */
                        return $instance->mergeIfMissing($input);
        }
                    /**
         * Replace the input for the current request.
         *
         * @param array $input
         * @return \Illuminate\Http\Request
         * @static
         */        public static function replace($input)
        {
                        /** @var \Illuminate\Http\Request $instance */
                        return $instance->replace($input);
        }
                    /**
         * This method belongs to Symfony HttpFoundation and is not usually needed when using Laravel.
         * 
         * Instead, you may use the "input" method.
         *
         * @param string $key
         * @param mixed $default
         * @return mixed
         * @static
         */        public static function get($key, $default = null)
        {
                        /** @var \Illuminate\Http\Request $instance */
                        return $instance->get($key, $default);
        }
                    /**
         * Get the JSON payload for the request.
         *
         * @param string|null $key
         * @param mixed $default
         * @return \Symfony\Component\HttpFoundation\ParameterBag|mixed
         * @static
         */        public static function json($key = null, $default = null)
        {
                        /** @var \Illuminate\Http\Request $instance */
                        return $instance->json($key, $default);
        }
                    /**
         * Create a new request instance from the given Laravel request.
         *
         * @param \Illuminate\Http\Request $from
         * @param \Illuminate\Http\Request|null $to
         * @return static
         * @static
         */        public static function createFrom($from, $to = null)
        {
                        return \Illuminate\Http\Request::createFrom($from, $to);
        }
                    /**
         * Create an Illuminate request from a Symfony instance.
         *
         * @param \Symfony\Component\HttpFoundation\Request $request
         * @return static
         * @static
         */        public static function createFromBase($request)
        {
                        return \Illuminate\Http\Request::createFromBase($request);
        }
                    /**
         * Clones a request and overrides some of its parameters.
         *
         * @return static
         * @param array $query The GET parameters
         * @param array $request The POST parameters
         * @param array $attributes The request attributes (parameters parsed from the PATH_INFO, ...)
         * @param array $cookies The COOKIE parameters
         * @param array $files The FILES parameters
         * @param array $server The SERVER parameters
         * @static
         */        public static function duplicate($query = null, $request = null, $attributes = null, $cookies = null, $files = null, $server = null)
        {
                        /** @var \Illuminate\Http\Request $instance */
                        return $instance->duplicate($query, $request, $attributes, $cookies, $files, $server);
        }
                    /**
         * Whether the request contains a Session object.
         * 
         * This method does not give any information about the state of the session object,
         * like whether the session is started or not. It is just a way to check if this Request
         * is associated with a Session instance.
         *
         * @param bool $skipIfUninitialized When true, ignores factories injected by `setSessionFactory`
         * @static
         */        public static function hasSession($skipIfUninitialized = false)
        {
                        /** @var \Illuminate\Http\Request $instance */
                        return $instance->hasSession($skipIfUninitialized);
        }
                    /**
         * Gets the Session.
         *
         * @static
         */        public static function getSession()
        {
                        /** @var \Illuminate\Http\Request $instance */
                        return $instance->getSession();
        }
                    /**
         * Get the session associated with the request.
         *
         * @return \Illuminate\Contracts\Session\Session
         * @throws \RuntimeException
         * @static
         */        public static function session()
        {
                        /** @var \Illuminate\Http\Request $instance */
                        return $instance->session();
        }
                    /**
         * Set the session instance on the request.
         *
         * @param \Illuminate\Contracts\Session\Session $session
         * @return void
         * @static
         */        public static function setLaravelSession($session)
        {
                        /** @var \Illuminate\Http\Request $instance */
                        $instance->setLaravelSession($session);
        }
                    /**
         * Set the locale for the request instance.
         *
         * @param string $locale
         * @return void
         * @static
         */        public static function setRequestLocale($locale)
        {
                        /** @var \Illuminate\Http\Request $instance */
                        $instance->setRequestLocale($locale);
        }
                    /**
         * Set the default locale for the request instance.
         *
         * @param string $locale
         * @return void
         * @static
         */        public static function setDefaultRequestLocale($locale)
        {
                        /** @var \Illuminate\Http\Request $instance */
                        $instance->setDefaultRequestLocale($locale);
        }
                    /**
         * Get the user making the request.
         *
         * @param string|null $guard
         * @return mixed
         * @static
         */        public static function user($guard = null)
        {
                        /** @var \Illuminate\Http\Request $instance */
                        return $instance->user($guard);
        }
                    /**
         * Get the route handling the request.
         *
         * @param string|null $param
         * @param mixed $default
         * @return \Illuminate\Routing\Route|object|string|null
         * @static
         */        public static function route($param = null, $default = null)
        {
                        /** @var \Illuminate\Http\Request $instance */
                        return $instance->route($param, $default);
        }
                    /**
         * Get a unique fingerprint for the request / route / IP address.
         *
         * @return string
         * @throws \RuntimeException
         * @static
         */        public static function fingerprint()
        {
                        /** @var \Illuminate\Http\Request $instance */
                        return $instance->fingerprint();
        }
                    /**
         * Set the JSON payload for the request.
         *
         * @param \Symfony\Component\HttpFoundation\ParameterBag $json
         * @return \Illuminate\Http\Request
         * @static
         */        public static function setJson($json)
        {
                        /** @var \Illuminate\Http\Request $instance */
                        return $instance->setJson($json);
        }
                    /**
         * Get the user resolver callback.
         *
         * @return \Closure
         * @static
         */        public static function getUserResolver()
        {
                        /** @var \Illuminate\Http\Request $instance */
                        return $instance->getUserResolver();
        }
                    /**
         * Set the user resolver callback.
         *
         * @param \Closure $callback
         * @return \Illuminate\Http\Request
         * @static
         */        public static function setUserResolver($callback)
        {
                        /** @var \Illuminate\Http\Request $instance */
                        return $instance->setUserResolver($callback);
        }
                    /**
         * Get the route resolver callback.
         *
         * @return \Closure
         * @static
         */        public static function getRouteResolver()
        {
                        /** @var \Illuminate\Http\Request $instance */
                        return $instance->getRouteResolver();
        }
                    /**
         * Set the route resolver callback.
         *
         * @param \Closure $callback
         * @return \Illuminate\Http\Request
         * @static
         */        public static function setRouteResolver($callback)
        {
                        /** @var \Illuminate\Http\Request $instance */
                        return $instance->setRouteResolver($callback);
        }
                    /**
         * Get all of the input and files for the request.
         *
         * @return array
         * @static
         */        public static function toArray()
        {
                        /** @var \Illuminate\Http\Request $instance */
                        return $instance->toArray();
        }
                    /**
         * Determine if the given offset exists.
         *
         * @param string $offset
         * @return bool
         * @static
         */        public static function offsetExists($offset)
        {
                        /** @var \Illuminate\Http\Request $instance */
                        return $instance->offsetExists($offset);
        }
                    /**
         * Get the value at the given offset.
         *
         * @param string $offset
         * @return mixed
         * @static
         */        public static function offsetGet($offset)
        {
                        /** @var \Illuminate\Http\Request $instance */
                        return $instance->offsetGet($offset);
        }
                    /**
         * Set the value at the given offset.
         *
         * @param string $offset
         * @param mixed $value
         * @return void
         * @static
         */        public static function offsetSet($offset, $value)
        {
                        /** @var \Illuminate\Http\Request $instance */
                        $instance->offsetSet($offset, $value);
        }
                    /**
         * Remove the value at the given offset.
         *
         * @param string $offset
         * @return void
         * @static
         */        public static function offsetUnset($offset)
        {
                        /** @var \Illuminate\Http\Request $instance */
                        $instance->offsetUnset($offset);
        }
                    /**
         * Sets the parameters for this request.
         * 
         * This method also re-initializes all properties.
         *
         * @param array $query The GET parameters
         * @param array $request The POST parameters
         * @param array $attributes The request attributes (parameters parsed from the PATH_INFO, ...)
         * @param array $cookies The COOKIE parameters
         * @param array $files The FILES parameters
         * @param array $server The SERVER parameters
         * @param string|resource|null $content The raw body data
         * @static
         */        public static function initialize($query = [], $request = [], $attributes = [], $cookies = [], $files = [], $server = [], $content = null)
        {            //Method inherited from \Symfony\Component\HttpFoundation\Request         
                        /** @var \Illuminate\Http\Request $instance */
                        return $instance->initialize($query, $request, $attributes, $cookies, $files, $server, $content);
        }
                    /**
         * Creates a new request with values from PHP's super globals.
         *
         * @static
         */        public static function createFromGlobals()
        {            //Method inherited from \Symfony\Component\HttpFoundation\Request         
                        return \Illuminate\Http\Request::createFromGlobals();
        }
                    /**
         * Creates a Request based on a given URI and configuration.
         * 
         * The information contained in the URI always take precedence
         * over the other information (server and parameters).
         *
         * @param string $uri The URI
         * @param string $method The HTTP method
         * @param array $parameters The query (GET) or request (POST) parameters
         * @param array $cookies The request cookies ($_COOKIE)
         * @param array $files The request files ($_FILES)
         * @param array $server The server parameters ($_SERVER)
         * @param string|resource|null $content The raw body data
         * @static
         */        public static function create($uri, $method = 'GET', $parameters = [], $cookies = [], $files = [], $server = [], $content = null)
        {            //Method inherited from \Symfony\Component\HttpFoundation\Request         
                        return \Illuminate\Http\Request::create($uri, $method, $parameters, $cookies, $files, $server, $content);
        }
                    /**
         * Sets a callable able to create a Request instance.
         * 
         * This is mainly useful when you need to override the Request class
         * to keep BC with an existing system. It should not be used for any
         * other purpose.
         *
         * @static
         */        public static function setFactory($callable)
        {            //Method inherited from \Symfony\Component\HttpFoundation\Request         
                        return \Illuminate\Http\Request::setFactory($callable);
        }
                    /**
         * Overrides the PHP global variables according to this request instance.
         * 
         * It overrides $_GET, $_POST, $_REQUEST, $_SERVER, $_COOKIE.
         * $_FILES is never overridden, see rfc1867
         *
         * @static
         */        public static function overrideGlobals()
        {            //Method inherited from \Symfony\Component\HttpFoundation\Request         
                        /** @var \Illuminate\Http\Request $instance */
                        return $instance->overrideGlobals();
        }
                    /**
         * Sets a list of trusted proxies.
         * 
         * You should only list the reverse proxies that you manage directly.
         *
         * @param array $proxies A list of trusted proxies, the string 'REMOTE_ADDR' will be replaced with $_SERVER['REMOTE_ADDR']
         * @param int $trustedHeaderSet A bit field of Request::HEADER_*, to set which headers to trust from your proxies
         * @static
         */        public static function setTrustedProxies($proxies, $trustedHeaderSet)
        {            //Method inherited from \Symfony\Component\HttpFoundation\Request         
                        return \Illuminate\Http\Request::setTrustedProxies($proxies, $trustedHeaderSet);
        }
                    /**
         * Gets the list of trusted proxies.
         *
         * @static
         */        public static function getTrustedProxies()
        {            //Method inherited from \Symfony\Component\HttpFoundation\Request         
                        return \Illuminate\Http\Request::getTrustedProxies();
        }
                    /**
         * Gets the set of trusted headers from trusted proxies.
         *
         * @return int A bit field of Request::HEADER_* that defines which headers are trusted from your proxies
         * @static
         */        public static function getTrustedHeaderSet()
        {            //Method inherited from \Symfony\Component\HttpFoundation\Request         
                        return \Illuminate\Http\Request::getTrustedHeaderSet();
        }
                    /**
         * Sets a list of trusted host patterns.
         * 
         * You should only list the hosts you manage using regexs.
         *
         * @param array $hostPatterns A list of trusted host patterns
         * @static
         */        public static function setTrustedHosts($hostPatterns)
        {            //Method inherited from \Symfony\Component\HttpFoundation\Request         
                        return \Illuminate\Http\Request::setTrustedHosts($hostPatterns);
        }
                    /**
         * Gets the list of trusted host patterns.
         *
         * @static
         */        public static function getTrustedHosts()
        {            //Method inherited from \Symfony\Component\HttpFoundation\Request         
                        return \Illuminate\Http\Request::getTrustedHosts();
        }
                    /**
         * Normalizes a query string.
         * 
         * It builds a normalized query string, where keys/value pairs are alphabetized,
         * have consistent escaping and unneeded delimiters are removed.
         *
         * @static
         */        public static function normalizeQueryString($qs)
        {            //Method inherited from \Symfony\Component\HttpFoundation\Request         
                        return \Illuminate\Http\Request::normalizeQueryString($qs);
        }
                    /**
         * Enables support for the _method request parameter to determine the intended HTTP method.
         * 
         * Be warned that enabling this feature might lead to CSRF issues in your code.
         * Check that you are using CSRF tokens when required.
         * If the HTTP method parameter override is enabled, an html-form with method "POST" can be altered
         * and used to send a "PUT" or "DELETE" request via the _method request parameter.
         * If these methods are not protected against CSRF, this presents a possible vulnerability.
         * 
         * The HTTP method can only be overridden when the real HTTP method is POST.
         *
         * @static
         */        public static function enableHttpMethodParameterOverride()
        {            //Method inherited from \Symfony\Component\HttpFoundation\Request         
                        return \Illuminate\Http\Request::enableHttpMethodParameterOverride();
        }
                    /**
         * Checks whether support for the _method request parameter is enabled.
         *
         * @static
         */        public static function getHttpMethodParameterOverride()
        {            //Method inherited from \Symfony\Component\HttpFoundation\Request         
                        return \Illuminate\Http\Request::getHttpMethodParameterOverride();
        }
                    /**
         * Whether the request contains a Session which was started in one of the
         * previous requests.
         *
         * @static
         */        public static function hasPreviousSession()
        {            //Method inherited from \Symfony\Component\HttpFoundation\Request         
                        /** @var \Illuminate\Http\Request $instance */
                        return $instance->hasPreviousSession();
        }
                    /**
         * @static
         */        public static function setSession($session)
        {            //Method inherited from \Symfony\Component\HttpFoundation\Request         
                        /** @var \Illuminate\Http\Request $instance */
                        return $instance->setSession($session);
        }
                    /**
         * @internal
         * @param callable():  SessionInterface $factory
         * @static
         */        public static function setSessionFactory($factory)
        {            //Method inherited from \Symfony\Component\HttpFoundation\Request         
                        /** @var \Illuminate\Http\Request $instance */
                        return $instance->setSessionFactory($factory);
        }
                    /**
         * Returns the client IP addresses.
         * 
         * In the returned array the most trusted IP address is first, and the
         * least trusted one last. The "real" client IP address is the last one,
         * but this is also the least trusted one. Trusted proxies are stripped.
         * 
         * Use this method carefully; you should use getClientIp() instead.
         *
         * @see getClientIp()
         * @static
         */        public static function getClientIps()
        {            //Method inherited from \Symfony\Component\HttpFoundation\Request         
                        /** @var \Illuminate\Http\Request $instance */
                        return $instance->getClientIps();
        }
                    /**
         * Returns the client IP address.
         * 
         * This method can read the client IP address from the "X-Forwarded-For" header
         * when trusted proxies were set via "setTrustedProxies()". The "X-Forwarded-For"
         * header value is a comma+space separated list of IP addresses, the left-most
         * being the original client, and each successive proxy that passed the request
         * adding the IP address where it received the request from.
         * 
         * If your reverse proxy uses a different header name than "X-Forwarded-For",
         * ("Client-Ip" for instance), configure it via the $trustedHeaderSet
         * argument of the Request::setTrustedProxies() method instead.
         *
         * @see getClientIps()
         * @see https://wikipedia.org/wiki/X-Forwarded-For
         * @static
         */        public static function getClientIp()
        {            //Method inherited from \Symfony\Component\HttpFoundation\Request         
                        /** @var \Illuminate\Http\Request $instance */
                        return $instance->getClientIp();
        }
                    /**
         * Returns current script name.
         *
         * @static
         */        public static function getScriptName()
        {            //Method inherited from \Symfony\Component\HttpFoundation\Request         
                        /** @var \Illuminate\Http\Request $instance */
                        return $instance->getScriptName();
        }
                    /**
         * Returns the path being requested relative to the executed script.
         * 
         * The path info always starts with a /.
         * 
         * Suppose this request is instantiated from /mysite on localhost:
         * 
         *  * http://localhost/mysite              returns an empty string
         *  * http://localhost/mysite/about        returns '/about'
         *  * http://localhost/mysite/enco%20ded   returns '/enco%20ded'
         *  * http://localhost/mysite/about?var=1  returns '/about'
         *
         * @return string The raw path (i.e. not urldecoded)
         * @static
         */        public static function getPathInfo()
        {            //Method inherited from \Symfony\Component\HttpFoundation\Request         
                        /** @var \Illuminate\Http\Request $instance */
                        return $instance->getPathInfo();
        }
                    /**
         * Returns the root path from which this request is executed.
         * 
         * Suppose that an index.php file instantiates this request object:
         * 
         *  * http://localhost/index.php         returns an empty string
         *  * http://localhost/index.php/page    returns an empty string
         *  * http://localhost/web/index.php     returns '/web'
         *  * http://localhost/we%20b/index.php  returns '/we%20b'
         *
         * @return string The raw path (i.e. not urldecoded)
         * @static
         */        public static function getBasePath()
        {            //Method inherited from \Symfony\Component\HttpFoundation\Request         
                        /** @var \Illuminate\Http\Request $instance */
                        return $instance->getBasePath();
        }
                    /**
         * Returns the root URL from which this request is executed.
         * 
         * The base URL never ends with a /.
         * 
         * This is similar to getBasePath(), except that it also includes the
         * script filename (e.g. index.php) if one exists.
         *
         * @return string The raw URL (i.e. not urldecoded)
         * @static
         */        public static function getBaseUrl()
        {            //Method inherited from \Symfony\Component\HttpFoundation\Request         
                        /** @var \Illuminate\Http\Request $instance */
                        return $instance->getBaseUrl();
        }
                    /**
         * Gets the request's scheme.
         *
         * @static
         */        public static function getScheme()
        {            //Method inherited from \Symfony\Component\HttpFoundation\Request         
                        /** @var \Illuminate\Http\Request $instance */
                        return $instance->getScheme();
        }
                    /**
         * Returns the port on which the request is made.
         * 
         * This method can read the client port from the "X-Forwarded-Port" header
         * when trusted proxies were set via "setTrustedProxies()".
         * 
         * The "X-Forwarded-Port" header must contain the client port.
         *
         * @return int|string|null Can be a string if fetched from the server bag
         * @static
         */        public static function getPort()
        {            //Method inherited from \Symfony\Component\HttpFoundation\Request         
                        /** @var \Illuminate\Http\Request $instance */
                        return $instance->getPort();
        }
                    /**
         * Returns the user.
         *
         * @static
         */        public static function getUser()
        {            //Method inherited from \Symfony\Component\HttpFoundation\Request         
                        /** @var \Illuminate\Http\Request $instance */
                        return $instance->getUser();
        }
                    /**
         * Returns the password.
         *
         * @static
         */        public static function getPassword()
        {            //Method inherited from \Symfony\Component\HttpFoundation\Request         
                        /** @var \Illuminate\Http\Request $instance */
                        return $instance->getPassword();
        }
                    /**
         * Gets the user info.
         *
         * @return string|null A user name if any and, optionally, scheme-specific information about how to gain authorization to access the server
         * @static
         */        public static function getUserInfo()
        {            //Method inherited from \Symfony\Component\HttpFoundation\Request         
                        /** @var \Illuminate\Http\Request $instance */
                        return $instance->getUserInfo();
        }
                    /**
         * Returns the HTTP host being requested.
         * 
         * The port name will be appended to the host if it's non-standard.
         *
         * @static
         */        public static function getHttpHost()
        {            //Method inherited from \Symfony\Component\HttpFoundation\Request         
                        /** @var \Illuminate\Http\Request $instance */
                        return $instance->getHttpHost();
        }
                    /**
         * Returns the requested URI (path and query string).
         *
         * @return string The raw URI (i.e. not URI decoded)
         * @static
         */        public static function getRequestUri()
        {            //Method inherited from \Symfony\Component\HttpFoundation\Request         
                        /** @var \Illuminate\Http\Request $instance */
                        return $instance->getRequestUri();
        }
                    /**
         * Gets the scheme and HTTP host.
         * 
         * If the URL was called with basic authentication, the user
         * and the password are not added to the generated string.
         *
         * @static
         */        public static function getSchemeAndHttpHost()
        {            //Method inherited from \Symfony\Component\HttpFoundation\Request         
                        /** @var \Illuminate\Http\Request $instance */
                        return $instance->getSchemeAndHttpHost();
        }
                    /**
         * Generates a normalized URI (URL) for the Request.
         *
         * @see getQueryString()
         * @static
         */        public static function getUri()
        {            //Method inherited from \Symfony\Component\HttpFoundation\Request         
                        /** @var \Illuminate\Http\Request $instance */
                        return $instance->getUri();
        }
                    /**
         * Generates a normalized URI for the given path.
         *
         * @param string $path A path to use instead of the current one
         * @static
         */        public static function getUriForPath($path)
        {            //Method inherited from \Symfony\Component\HttpFoundation\Request         
                        /** @var \Illuminate\Http\Request $instance */
                        return $instance->getUriForPath($path);
        }
                    /**
         * Returns the path as relative reference from the current Request path.
         * 
         * Only the URIs path component (no schema, host etc.) is relevant and must be given.
         * Both paths must be absolute and not contain relative parts.
         * Relative URLs from one resource to another are useful when generating self-contained downloadable document archives.
         * Furthermore, they can be used to reduce the link size in documents.
         * 
         * Example target paths, given a base path of "/a/b/c/d":
         * - "/a/b/c/d"     -> ""
         * - "/a/b/c/"      -> "./"
         * - "/a/b/"        -> "../"
         * - "/a/b/c/other" -> "other"
         * - "/a/x/y"       -> "../../x/y"
         *
         * @static
         */        public static function getRelativeUriForPath($path)
        {            //Method inherited from \Symfony\Component\HttpFoundation\Request         
                        /** @var \Illuminate\Http\Request $instance */
                        return $instance->getRelativeUriForPath($path);
        }
                    /**
         * Generates the normalized query string for the Request.
         * 
         * It builds a normalized query string, where keys/value pairs are alphabetized
         * and have consistent escaping.
         *
         * @static
         */        public static function getQueryString()
        {            //Method inherited from \Symfony\Component\HttpFoundation\Request         
                        /** @var \Illuminate\Http\Request $instance */
                        return $instance->getQueryString();
        }
                    /**
         * Checks whether the request is secure or not.
         * 
         * This method can read the client protocol from the "X-Forwarded-Proto" header
         * when trusted proxies were set via "setTrustedProxies()".
         * 
         * The "X-Forwarded-Proto" header must contain the protocol: "https" or "http".
         *
         * @static
         */        public static function isSecure()
        {            //Method inherited from \Symfony\Component\HttpFoundation\Request         
                        /** @var \Illuminate\Http\Request $instance */
                        return $instance->isSecure();
        }
                    /**
         * Returns the host name.
         * 
         * This method can read the client host name from the "X-Forwarded-Host" header
         * when trusted proxies were set via "setTrustedProxies()".
         * 
         * The "X-Forwarded-Host" header must contain the client host name.
         *
         * @throws SuspiciousOperationException when the host name is invalid or not trusted
         * @static
         */        public static function getHost()
        {            //Method inherited from \Symfony\Component\HttpFoundation\Request         
                        /** @var \Illuminate\Http\Request $instance */
                        return $instance->getHost();
        }
                    /**
         * Sets the request method.
         *
         * @static
         */        public static function setMethod($method)
        {            //Method inherited from \Symfony\Component\HttpFoundation\Request         
                        /** @var \Illuminate\Http\Request $instance */
                        return $instance->setMethod($method);
        }
                    /**
         * Gets the request "intended" method.
         * 
         * If the X-HTTP-Method-Override header is set, and if the method is a POST,
         * then it is used to determine the "real" intended HTTP method.
         * 
         * The _method request parameter can also be used to determine the HTTP method,
         * but only if enableHttpMethodParameterOverride() has been called.
         * 
         * The method is always an uppercased string.
         *
         * @see getRealMethod()
         * @static
         */        public static function getMethod()
        {            //Method inherited from \Symfony\Component\HttpFoundation\Request         
                        /** @var \Illuminate\Http\Request $instance */
                        return $instance->getMethod();
        }
                    /**
         * Gets the "real" request method.
         *
         * @see getMethod()
         * @static
         */        public static function getRealMethod()
        {            //Method inherited from \Symfony\Component\HttpFoundation\Request         
                        /** @var \Illuminate\Http\Request $instance */
                        return $instance->getRealMethod();
        }
                    /**
         * Gets the mime type associated with the format.
         *
         * @static
         */        public static function getMimeType($format)
        {            //Method inherited from \Symfony\Component\HttpFoundation\Request         
                        /** @var \Illuminate\Http\Request $instance */
                        return $instance->getMimeType($format);
        }
                    /**
         * Gets the mime types associated with the format.
         *
         * @static
         */        public static function getMimeTypes($format)
        {            //Method inherited from \Symfony\Component\HttpFoundation\Request         
                        return \Illuminate\Http\Request::getMimeTypes($format);
        }
                    /**
         * Gets the format associated with the mime type.
         *
         * @static
         */        public static function getFormat($mimeType)
        {            //Method inherited from \Symfony\Component\HttpFoundation\Request         
                        /** @var \Illuminate\Http\Request $instance */
                        return $instance->getFormat($mimeType);
        }
                    /**
         * Associates a format with mime types.
         *
         * @param string|array $mimeTypes The associated mime types (the preferred one must be the first as it will be used as the content type)
         * @static
         */        public static function setFormat($format, $mimeTypes)
        {            //Method inherited from \Symfony\Component\HttpFoundation\Request         
                        /** @var \Illuminate\Http\Request $instance */
                        return $instance->setFormat($format, $mimeTypes);
        }
                    /**
         * Gets the request format.
         * 
         * Here is the process to determine the format:
         * 
         *  * format defined by the user (with setRequestFormat())
         *  * _format request attribute
         *  * $default
         *
         * @see getPreferredFormat
         * @static
         */        public static function getRequestFormat($default = 'html')
        {            //Method inherited from \Symfony\Component\HttpFoundation\Request         
                        /** @var \Illuminate\Http\Request $instance */
                        return $instance->getRequestFormat($default);
        }
                    /**
         * Sets the request format.
         *
         * @static
         */        public static function setRequestFormat($format)
        {            //Method inherited from \Symfony\Component\HttpFoundation\Request         
                        /** @var \Illuminate\Http\Request $instance */
                        return $instance->setRequestFormat($format);
        }
                    /**
         * Gets the format associated with the request.
         *
         * @static
         */        public static function getContentType()
        {            //Method inherited from \Symfony\Component\HttpFoundation\Request         
                        /** @var \Illuminate\Http\Request $instance */
                        return $instance->getContentType();
        }
                    /**
         * Sets the default locale.
         *
         * @static
         */        public static function setDefaultLocale($locale)
        {            //Method inherited from \Symfony\Component\HttpFoundation\Request         
                        /** @var \Illuminate\Http\Request $instance */
                        return $instance->setDefaultLocale($locale);
        }
                    /**
         * Get the default locale.
         *
         * @static
         */        public static function getDefaultLocale()
        {            //Method inherited from \Symfony\Component\HttpFoundation\Request         
                        /** @var \Illuminate\Http\Request $instance */
                        return $instance->getDefaultLocale();
        }
                    /**
         * Sets the locale.
         *
         * @static
         */        public static function setLocale($locale)
        {            //Method inherited from \Symfony\Component\HttpFoundation\Request         
                        /** @var \Illuminate\Http\Request $instance */
                        return $instance->setLocale($locale);
        }
                    /**
         * Get the locale.
         *
         * @static
         */        public static function getLocale()
        {            //Method inherited from \Symfony\Component\HttpFoundation\Request         
                        /** @var \Illuminate\Http\Request $instance */
                        return $instance->getLocale();
        }
                    /**
         * Checks if the request method is of specified type.
         *
         * @param string $method Uppercase request method (GET, POST etc)
         * @static
         */        public static function isMethod($method)
        {            //Method inherited from \Symfony\Component\HttpFoundation\Request         
                        /** @var \Illuminate\Http\Request $instance */
                        return $instance->isMethod($method);
        }
                    /**
         * Checks whether or not the method is safe.
         *
         * @see https://tools.ietf.org/html/rfc7231#section-4.2.1
         * @static
         */        public static function isMethodSafe()
        {            //Method inherited from \Symfony\Component\HttpFoundation\Request         
                        /** @var \Illuminate\Http\Request $instance */
                        return $instance->isMethodSafe();
        }
                    /**
         * Checks whether or not the method is idempotent.
         *
         * @static
         */        public static function isMethodIdempotent()
        {            //Method inherited from \Symfony\Component\HttpFoundation\Request         
                        /** @var \Illuminate\Http\Request $instance */
                        return $instance->isMethodIdempotent();
        }
                    /**
         * Checks whether the method is cacheable or not.
         *
         * @see https://tools.ietf.org/html/rfc7231#section-4.2.3
         * @static
         */        public static function isMethodCacheable()
        {            //Method inherited from \Symfony\Component\HttpFoundation\Request         
                        /** @var \Illuminate\Http\Request $instance */
                        return $instance->isMethodCacheable();
        }
                    /**
         * Returns the protocol version.
         * 
         * If the application is behind a proxy, the protocol version used in the
         * requests between the client and the proxy and between the proxy and the
         * server might be different. This returns the former (from the "Via" header)
         * if the proxy is trusted (see "setTrustedProxies()"), otherwise it returns
         * the latter (from the "SERVER_PROTOCOL" server parameter).
         *
         * @static
         */        public static function getProtocolVersion()
        {            //Method inherited from \Symfony\Component\HttpFoundation\Request         
                        /** @var \Illuminate\Http\Request $instance */
                        return $instance->getProtocolVersion();
        }
                    /**
         * Returns the request body content.
         *
         * @param bool $asResource If true, a resource will be returned
         * @return string|resource
         * @static
         */        public static function getContent($asResource = false)
        {            //Method inherited from \Symfony\Component\HttpFoundation\Request         
                        /** @var \Illuminate\Http\Request $instance */
                        return $instance->getContent($asResource);
        }
                    /**
         * Gets the Etags.
         *
         * @static
         */        public static function getETags()
        {            //Method inherited from \Symfony\Component\HttpFoundation\Request         
                        /** @var \Illuminate\Http\Request $instance */
                        return $instance->getETags();
        }
                    /**
         * @static
         */        public static function isNoCache()
        {            //Method inherited from \Symfony\Component\HttpFoundation\Request         
                        /** @var \Illuminate\Http\Request $instance */
                        return $instance->isNoCache();
        }
                    /**
         * Gets the preferred format for the response by inspecting, in the following order:
         *   * the request format set using setRequestFormat;
         *   * the values of the Accept HTTP header.
         * 
         * Note that if you use this method, you should send the "Vary: Accept" header
         * in the response to prevent any issues with intermediary HTTP caches.
         *
         * @static
         */        public static function getPreferredFormat($default = 'html')
        {            //Method inherited from \Symfony\Component\HttpFoundation\Request         
                        /** @var \Illuminate\Http\Request $instance */
                        return $instance->getPreferredFormat($default);
        }
                    /**
         * Returns the preferred language.
         *
         * @param string[] $locales An array of ordered available locales
         * @static
         */        public static function getPreferredLanguage($locales = null)
        {            //Method inherited from \Symfony\Component\HttpFoundation\Request         
                        /** @var \Illuminate\Http\Request $instance */
                        return $instance->getPreferredLanguage($locales);
        }
                    /**
         * Gets a list of languages acceptable by the client browser ordered in the user browser preferences.
         *
         * @static
         */        public static function getLanguages()
        {            //Method inherited from \Symfony\Component\HttpFoundation\Request         
                        /** @var \Illuminate\Http\Request $instance */
                        return $instance->getLanguages();
        }
                    /**
         * Gets a list of charsets acceptable by the client browser in preferable order.
         *
         * @static
         */        public static function getCharsets()
        {            //Method inherited from \Symfony\Component\HttpFoundation\Request         
                        /** @var \Illuminate\Http\Request $instance */
                        return $instance->getCharsets();
        }
                    /**
         * Gets a list of encodings acceptable by the client browser in preferable order.
         *
         * @static
         */        public static function getEncodings()
        {            //Method inherited from \Symfony\Component\HttpFoundation\Request         
                        /** @var \Illuminate\Http\Request $instance */
                        return $instance->getEncodings();
        }
                    /**
         * Gets a list of content types acceptable by the client browser in preferable order.
         *
         * @static
         */        public static function getAcceptableContentTypes()
        {            //Method inherited from \Symfony\Component\HttpFoundation\Request         
                        /** @var \Illuminate\Http\Request $instance */
                        return $instance->getAcceptableContentTypes();
        }
                    /**
         * Returns true if the request is an XMLHttpRequest.
         * 
         * It works if your JavaScript library sets an X-Requested-With HTTP header.
         * It is known to work with common JavaScript frameworks:
         *
         * @see https://wikipedia.org/wiki/List_of_Ajax_frameworks#JavaScript
         * @static
         */        public static function isXmlHttpRequest()
        {            //Method inherited from \Symfony\Component\HttpFoundation\Request         
                        /** @var \Illuminate\Http\Request $instance */
                        return $instance->isXmlHttpRequest();
        }
                    /**
         * Checks whether the client browser prefers safe content or not according to RFC8674.
         *
         * @see https://tools.ietf.org/html/rfc8674
         * @static
         */        public static function preferSafeContent()
        {            //Method inherited from \Symfony\Component\HttpFoundation\Request         
                        /** @var \Illuminate\Http\Request $instance */
                        return $instance->preferSafeContent();
        }
                    /**
         * Indicates whether this request originated from a trusted proxy.
         * 
         * This can be useful to determine whether or not to trust the
         * contents of a proxy-specific header.
         *
         * @static
         */        public static function isFromTrustedProxy()
        {            //Method inherited from \Symfony\Component\HttpFoundation\Request         
                        /** @var \Illuminate\Http\Request $instance */
                        return $instance->isFromTrustedProxy();
        }
                    /**
         * Filter the given array of rules into an array of rules that are included in precognitive headers.
         *
         * @param array $rules
         * @return array
         * @static
         */        public static function filterPrecognitiveRules($rules)
        {
                        /** @var \Illuminate\Http\Request $instance */
                        return $instance->filterPrecognitiveRules($rules);
        }
                    /**
         * Determine if the request is attempting to be precognitive.
         *
         * @return bool
         * @static
         */        public static function isAttemptingPrecognition()
        {
                        /** @var \Illuminate\Http\Request $instance */
                        return $instance->isAttemptingPrecognition();
        }
                    /**
         * Determine if the request is precognitive.
         *
         * @return bool
         * @static
         */        public static function isPrecognitive()
        {
                        /** @var \Illuminate\Http\Request $instance */
                        return $instance->isPrecognitive();
        }
                    /**
         * Determine if the request is sending JSON.
         *
         * @return bool
         * @static
         */        public static function isJson()
        {
                        /** @var \Illuminate\Http\Request $instance */
                        return $instance->isJson();
        }
                    /**
         * Determine if the current request probably expects a JSON response.
         *
         * @return bool
         * @static
         */        public static function expectsJson()
        {
                        /** @var \Illuminate\Http\Request $instance */
                        return $instance->expectsJson();
        }
                    /**
         * Determine if the current request is asking for JSON.
         *
         * @return bool
         * @static
         */        public static function wantsJson()
        {
                        /** @var \Illuminate\Http\Request $instance */
                        return $instance->wantsJson();
        }
                    /**
         * Determines whether the current requests accepts a given content type.
         *
         * @param string|array $contentTypes
         * @return bool
         * @static
         */        public static function accepts($contentTypes)
        {
                        /** @var \Illuminate\Http\Request $instance */
                        return $instance->accepts($contentTypes);
        }
                    /**
         * Return the most suitable content type from the given array based on content negotiation.
         *
         * @param string|array $contentTypes
         * @return string|null
         * @static
         */        public static function prefers($contentTypes)
        {
                        /** @var \Illuminate\Http\Request $instance */
                        return $instance->prefers($contentTypes);
        }
                    /**
         * Determine if the current request accepts any content type.
         *
         * @return bool
         * @static
         */        public static function acceptsAnyContentType()
        {
                        /** @var \Illuminate\Http\Request $instance */
                        return $instance->acceptsAnyContentType();
        }
                    /**
         * Determines whether a request accepts JSON.
         *
         * @return bool
         * @static
         */        public static function acceptsJson()
        {
                        /** @var \Illuminate\Http\Request $instance */
                        return $instance->acceptsJson();
        }
                    /**
         * Determines whether a request accepts HTML.
         *
         * @return bool
         * @static
         */        public static function acceptsHtml()
        {
                        /** @var \Illuminate\Http\Request $instance */
                        return $instance->acceptsHtml();
        }
                    /**
         * Determine if the given content types match.
         *
         * @param string $actual
         * @param string $type
         * @return bool
         * @static
         */        public static function matchesType($actual, $type)
        {
                        return \Illuminate\Http\Request::matchesType($actual, $type);
        }
                    /**
         * Get the data format expected in the response.
         *
         * @param string $default
         * @return string
         * @static
         */        public static function format($default = 'html')
        {
                        /** @var \Illuminate\Http\Request $instance */
                        return $instance->format($default);
        }
                    /**
         * Retrieve an old input item.
         *
         * @param string|null $key
         * @param \Illuminate\Database\Eloquent\Model|string|array|null $default
         * @return string|array|null
         * @static
         */        public static function old($key = null, $default = null)
        {
                        /** @var \Illuminate\Http\Request $instance */
                        return $instance->old($key, $default);
        }
                    /**
         * Flash the input for the current request to the session.
         *
         * @return void
         * @static
         */        public static function flash()
        {
                        /** @var \Illuminate\Http\Request $instance */
                        $instance->flash();
        }
                    /**
         * Flash only some of the input to the session.
         *
         * @param array|mixed $keys
         * @return void
         * @static
         */        public static function flashOnly($keys)
        {
                        /** @var \Illuminate\Http\Request $instance */
                        $instance->flashOnly($keys);
        }
                    /**
         * Flash only some of the input to the session.
         *
         * @param array|mixed $keys
         * @return void
         * @static
         */        public static function flashExcept($keys)
        {
                        /** @var \Illuminate\Http\Request $instance */
                        $instance->flashExcept($keys);
        }
                    /**
         * Flush all of the old input from the session.
         *
         * @return void
         * @static
         */        public static function flush()
        {
                        /** @var \Illuminate\Http\Request $instance */
                        $instance->flush();
        }
                    /**
         * Retrieve a server variable from the request.
         *
         * @param string|null $key
         * @param string|array|null $default
         * @return string|array|null
         * @static
         */        public static function server($key = null, $default = null)
        {
                        /** @var \Illuminate\Http\Request $instance */
                        return $instance->server($key, $default);
        }
                    /**
         * Determine if a header is set on the request.
         *
         * @param string $key
         * @return bool
         * @static
         */        public static function hasHeader($key)
        {
                        /** @var \Illuminate\Http\Request $instance */
                        return $instance->hasHeader($key);
        }
                    /**
         * Retrieve a header from the request.
         *
         * @param string|null $key
         * @param string|array|null $default
         * @return string|array|null
         * @static
         */        public static function header($key = null, $default = null)
        {
                        /** @var \Illuminate\Http\Request $instance */
                        return $instance->header($key, $default);
        }
                    /**
         * Get the bearer token from the request headers.
         *
         * @return string|null
         * @static
         */        public static function bearerToken()
        {
                        /** @var \Illuminate\Http\Request $instance */
                        return $instance->bearerToken();
        }
                    /**
         * Determine if the request contains a given input item key.
         *
         * @param string|array $key
         * @return bool
         * @static
         */        public static function exists($key)
        {
                        /** @var \Illuminate\Http\Request $instance */
                        return $instance->exists($key);
        }
                    /**
         * Determine if the request contains a given input item key.
         *
         * @param string|array $key
         * @return bool
         * @static
         */        public static function has($key)
        {
                        /** @var \Illuminate\Http\Request $instance */
                        return $instance->has($key);
        }
                    /**
         * Determine if the request contains any of the given inputs.
         *
         * @param string|array $keys
         * @return bool
         * @static
         */        public static function hasAny($keys)
        {
                        /** @var \Illuminate\Http\Request $instance */
                        return $instance->hasAny($keys);
        }
                    /**
         * Apply the callback if the request contains the given input item key.
         *
         * @param string $key
         * @param callable $callback
         * @param callable|null $default
         * @return $this|mixed
         * @static
         */        public static function whenHas($key, $callback, $default = null)
        {
                        /** @var \Illuminate\Http\Request $instance */
                        return $instance->whenHas($key, $callback, $default);
        }
                    /**
         * Determine if the request contains a non-empty value for an input item.
         *
         * @param string|array $key
         * @return bool
         * @static
         */        public static function filled($key)
        {
                        /** @var \Illuminate\Http\Request $instance */
                        return $instance->filled($key);
        }
                    /**
         * Determine if the request contains an empty value for an input item.
         *
         * @param string|array $key
         * @return bool
         * @static
         */        public static function isNotFilled($key)
        {
                        /** @var \Illuminate\Http\Request $instance */
                        return $instance->isNotFilled($key);
        }
                    /**
         * Determine if the request contains a non-empty value for any of the given inputs.
         *
         * @param string|array $keys
         * @return bool
         * @static
         */        public static function anyFilled($keys)
        {
                        /** @var \Illuminate\Http\Request $instance */
                        return $instance->anyFilled($keys);
        }
                    /**
         * Apply the callback if the request contains a non-empty value for the given input item key.
         *
         * @param string $key
         * @param callable $callback
         * @param callable|null $default
         * @return $this|mixed
         * @static
         */        public static function whenFilled($key, $callback, $default = null)
        {
                        /** @var \Illuminate\Http\Request $instance */
                        return $instance->whenFilled($key, $callback, $default);
        }
                    /**
         * Determine if the request is missing a given input item key.
         *
         * @param string|array $key
         * @return bool
         * @static
         */        public static function missing($key)
        {
                        /** @var \Illuminate\Http\Request $instance */
                        return $instance->missing($key);
        }
                    /**
         * Apply the callback if the request is missing the given input item key.
         *
         * @param string $key
         * @param callable $callback
         * @param callable|null $default
         * @return $this|mixed
         * @static
         */        public static function whenMissing($key, $callback, $default = null)
        {
                        /** @var \Illuminate\Http\Request $instance */
                        return $instance->whenMissing($key, $callback, $default);
        }
                    /**
         * Get the keys for all of the input and files.
         *
         * @return array
         * @static
         */        public static function keys()
        {
                        /** @var \Illuminate\Http\Request $instance */
                        return $instance->keys();
        }
                    /**
         * Get all of the input and files for the request.
         *
         * @param array|mixed|null $keys
         * @return array
         * @static
         */        public static function all($keys = null)
        {
                        /** @var \Illuminate\Http\Request $instance */
                        return $instance->all($keys);
        }
                    /**
         * Retrieve an input item from the request.
         *
         * @param string|null $key
         * @param mixed $default
         * @return mixed
         * @static
         */        public static function input($key = null, $default = null)
        {
                        /** @var \Illuminate\Http\Request $instance */
                        return $instance->input($key, $default);
        }
                    /**
         * Retrieve input from the request as a Stringable instance.
         *
         * @param string $key
         * @param mixed $default
         * @return \Illuminate\Support\Stringable
         * @static
         */        public static function str($key, $default = null)
        {
                        /** @var \Illuminate\Http\Request $instance */
                        return $instance->str($key, $default);
        }
                    /**
         * Retrieve input from the request as a Stringable instance.
         *
         * @param string $key
         * @param mixed $default
         * @return \Illuminate\Support\Stringable
         * @static
         */        public static function string($key, $default = null)
        {
                        /** @var \Illuminate\Http\Request $instance */
                        return $instance->string($key, $default);
        }
                    /**
         * Retrieve input as a boolean value.
         * 
         * Returns true when value is "1", "true", "on", and "yes". Otherwise, returns false.
         *
         * @param string|null $key
         * @param bool $default
         * @return bool
         * @static
         */        public static function boolean($key = null, $default = false)
        {
                        /** @var \Illuminate\Http\Request $instance */
                        return $instance->boolean($key, $default);
        }
                    /**
         * Retrieve input as an integer value.
         *
         * @param string $key
         * @param int $default
         * @return int
         * @static
         */        public static function integer($key, $default = 0)
        {
                        /** @var \Illuminate\Http\Request $instance */
                        return $instance->integer($key, $default);
        }
                    /**
         * Retrieve input as a float value.
         *
         * @param string $key
         * @param float $default
         * @return float
         * @static
         */        public static function float($key, $default = 0.0)
        {
                        /** @var \Illuminate\Http\Request $instance */
                        return $instance->float($key, $default);
        }
                    /**
         * Retrieve input from the request as a Carbon instance.
         *
         * @param string $key
         * @param string|null $format
         * @param string|null $tz
         * @return \Illuminate\Support\Carbon|null
         * @throws \Carbon\Exceptions\InvalidFormatException
         * @static
         */        public static function date($key, $format = null, $tz = null)
        {
                        /** @var \Illuminate\Http\Request $instance */
                        return $instance->date($key, $format, $tz);
        }
                    /**
         * Retrieve input from the request as an enum.
         *
         * @template TEnum
         * @param string $key
         * @param class-string<TEnum> $enumClass
         * @return TEnum|null
         * @static
         */        public static function enum($key, $enumClass)
        {
                        /** @var \Illuminate\Http\Request $instance */
                        return $instance->enum($key, $enumClass);
        }
                    /**
         * Retrieve input from the request as a collection.
         *
         * @param array|string|null $key
         * @return \Illuminate\Support\Collection
         * @static
         */        public static function collect($key = null)
        {
                        /** @var \Illuminate\Http\Request $instance */
                        return $instance->collect($key);
        }
                    /**
         * Get a subset containing the provided keys with values from the input data.
         *
         * @param array|mixed $keys
         * @return array
         * @static
         */        public static function only($keys)
        {
                        /** @var \Illuminate\Http\Request $instance */
                        return $instance->only($keys);
        }
                    /**
         * Get all of the input except for a specified array of items.
         *
         * @param array|mixed $keys
         * @return array
         * @static
         */        public static function except($keys)
        {
                        /** @var \Illuminate\Http\Request $instance */
                        return $instance->except($keys);
        }
                    /**
         * Retrieve a query string item from the request.
         *
         * @param string|null $key
         * @param string|array|null $default
         * @return string|array|null
         * @static
         */        public static function query($key = null, $default = null)
        {
                        /** @var \Illuminate\Http\Request $instance */
                        return $instance->query($key, $default);
        }
                    /**
         * Retrieve a request payload item from the request.
         *
         * @param string|null $key
         * @param string|array|null $default
         * @return string|array|null
         * @static
         */        public static function post($key = null, $default = null)
        {
                        /** @var \Illuminate\Http\Request $instance */
                        return $instance->post($key, $default);
        }
                    /**
         * Determine if a cookie is set on the request.
         *
         * @param string $key
         * @return bool
         * @static
         */        public static function hasCookie($key)
        {
                        /** @var \Illuminate\Http\Request $instance */
                        return $instance->hasCookie($key);
        }
                    /**
         * Retrieve a cookie from the request.
         *
         * @param string|null $key
         * @param string|array|null $default
         * @return string|array|null
         * @static
         */        public static function cookie($key = null, $default = null)
        {
                        /** @var \Illuminate\Http\Request $instance */
                        return $instance->cookie($key, $default);
        }
                    /**
         * Get an array of all of the files on the request.
         *
         * @return array
         * @static
         */        public static function allFiles()
        {
                        /** @var \Illuminate\Http\Request $instance */
                        return $instance->allFiles();
        }
                    /**
         * Determine if the uploaded data contains a file.
         *
         * @param string $key
         * @return bool
         * @static
         */        public static function hasFile($key)
        {
                        /** @var \Illuminate\Http\Request $instance */
                        return $instance->hasFile($key);
        }
                    /**
         * Retrieve a file from the request.
         *
         * @param string|null $key
         * @param mixed $default
         * @return \Illuminate\Http\UploadedFile|\Illuminate\Http\UploadedFile[]|array|null
         * @static
         */        public static function file($key = null, $default = null)
        {
                        /** @var \Illuminate\Http\Request $instance */
                        return $instance->file($key, $default);
        }
                    /**
         * Dump the request items and end the script.
         *
         * @param mixed $keys
         * @return never
         * @static
         */        public static function dd(...$keys)
        {
                        /** @var \Illuminate\Http\Request $instance */
                        return $instance->dd(...$keys);
        }
                    /**
         * Dump the items.
         *
         * @param mixed $keys
         * @return \Illuminate\Http\Request
         * @static
         */        public static function dump($keys = [])
        {
                        /** @var \Illuminate\Http\Request $instance */
                        return $instance->dump($keys);
        }
                    /**
         * Register a custom macro.
         *
         * @param string $name
         * @param object|callable $macro
         * @return void
         * @static
         */        public static function macro($name, $macro)
        {
                        \Illuminate\Http\Request::macro($name, $macro);
        }
                    /**
         * Mix another object into the class.
         *
         * @param object $mixin
         * @param bool $replace
         * @return void
         * @throws \ReflectionException
         * @static
         */        public static function mixin($mixin, $replace = true)
        {
                        \Illuminate\Http\Request::mixin($mixin, $replace);
        }
                    /**
         * Checks if macro is registered.
         *
         * @param string $name
         * @return bool
         * @static
         */        public static function hasMacro($name)
        {
                        return \Illuminate\Http\Request::hasMacro($name);
        }
                    /**
         * Flush the existing macros.
         *
         * @return void
         * @static
         */        public static function flushMacros()
        {
                        \Illuminate\Http\Request::flushMacros();
        }
                    /**
         * @see \Illuminate\Foundation\Providers\FoundationServiceProvider::registerRequestValidation()
         * @param array $rules
         * @param mixed $params
         * @static
         */        public static function validate($rules, ...$params)
        {
                        return \Illuminate\Http\Request::validate($rules, ...$params);
        }
                    /**
         * @see \Illuminate\Foundation\Providers\FoundationServiceProvider::registerRequestValidation()
         * @param string $errorBag
         * @param array $rules
         * @param mixed $params
         * @static
         */        public static function validateWithBag($errorBag, $rules, ...$params)
        {
                        return \Illuminate\Http\Request::validateWithBag($errorBag, $rules, ...$params);
        }
                    /**
         * @see \Illuminate\Foundation\Providers\FoundationServiceProvider::registerRequestSignatureValidation()
         * @param mixed $absolute
         * @static
         */        public static function hasValidSignature($absolute = true)
        {
                        return \Illuminate\Http\Request::hasValidSignature($absolute);
        }
                    /**
         * @see \Illuminate\Foundation\Providers\FoundationServiceProvider::registerRequestSignatureValidation()
         * @static
         */        public static function hasValidRelativeSignature()
        {
                        return \Illuminate\Http\Request::hasValidRelativeSignature();
        }
                    /**
         * @see \Illuminate\Foundation\Providers\FoundationServiceProvider::registerRequestSignatureValidation()
         * @param mixed $ignoreQuery
         * @param mixed $absolute
         * @static
         */        public static function hasValidSignatureWhileIgnoring($ignoreQuery = [], $absolute = true)
        {
                        return \Illuminate\Http\Request::hasValidSignatureWhileIgnoring($ignoreQuery, $absolute);
        }
            }
            /**
     * @see \Illuminate\Routing\ResponseFactory
     */        class Response {
                    /**
         * Create a new response instance.
         *
         * @param mixed $content
         * @param int $status
         * @param array $headers
         * @return \Illuminate\Http\Response
         * @static
         */        public static function make($content = '', $status = 200, $headers = [])
        {
                        /** @var \Illuminate\Routing\ResponseFactory $instance */
                        return $instance->make($content, $status, $headers);
        }
                    /**
         * Create a new "no content" response.
         *
         * @param int $status
         * @param array $headers
         * @return \Illuminate\Http\Response
         * @static
         */        public static function noContent($status = 204, $headers = [])
        {
                        /** @var \Illuminate\Routing\ResponseFactory $instance */
                        return $instance->noContent($status, $headers);
        }
                    /**
         * Create a new response for a given view.
         *
         * @param string|array $view
         * @param array $data
         * @param int $status
         * @param array $headers
         * @return \Illuminate\Http\Response
         * @static
         */        public static function view($view, $data = [], $status = 200, $headers = [])
        {
                        /** @var \Illuminate\Routing\ResponseFactory $instance */
                        return $instance->view($view, $data, $status, $headers);
        }
                    /**
         * Create a new JSON response instance.
         *
         * @param mixed $data
         * @param int $status
         * @param array $headers
         * @param int $options
         * @return \Illuminate\Http\JsonResponse
         * @static
         */        public static function json($data = [], $status = 200, $headers = [], $options = 0)
        {
                        /** @var \Illuminate\Routing\ResponseFactory $instance */
                        return $instance->json($data, $status, $headers, $options);
        }
                    /**
         * Create a new JSONP response instance.
         *
         * @param string $callback
         * @param mixed $data
         * @param int $status
         * @param array $headers
         * @param int $options
         * @return \Illuminate\Http\JsonResponse
         * @static
         */        public static function jsonp($callback, $data = [], $status = 200, $headers = [], $options = 0)
        {
                        /** @var \Illuminate\Routing\ResponseFactory $instance */
                        return $instance->jsonp($callback, $data, $status, $headers, $options);
        }
                    /**
         * Create a new streamed response instance.
         *
         * @param callable $callback
         * @param int $status
         * @param array $headers
         * @return \Symfony\Component\HttpFoundation\StreamedResponse
         * @static
         */        public static function stream($callback, $status = 200, $headers = [])
        {
                        /** @var \Illuminate\Routing\ResponseFactory $instance */
                        return $instance->stream($callback, $status, $headers);
        }
                    /**
         * Create a new streamed response instance as a file download.
         *
         * @param callable $callback
         * @param string|null $name
         * @param array $headers
         * @param string|null $disposition
         * @return \Symfony\Component\HttpFoundation\StreamedResponse
         * @static
         */        public static function streamDownload($callback, $name = null, $headers = [], $disposition = 'attachment')
        {
                        /** @var \Illuminate\Routing\ResponseFactory $instance */
                        return $instance->streamDownload($callback, $name, $headers, $disposition);
        }
                    /**
         * Create a new file download response.
         *
         * @param \SplFileInfo|string $file
         * @param string|null $name
         * @param array $headers
         * @param string|null $disposition
         * @return \Symfony\Component\HttpFoundation\BinaryFileResponse
         * @static
         */        public static function download($file, $name = null, $headers = [], $disposition = 'attachment')
        {
                        /** @var \Illuminate\Routing\ResponseFactory $instance */
                        return $instance->download($file, $name, $headers, $disposition);
        }
                    /**
         * Return the raw contents of a binary file.
         *
         * @param \SplFileInfo|string $file
         * @param array $headers
         * @return \Symfony\Component\HttpFoundation\BinaryFileResponse
         * @static
         */        public static function file($file, $headers = [])
        {
                        /** @var \Illuminate\Routing\ResponseFactory $instance */
                        return $instance->file($file, $headers);
        }
                    /**
         * Create a new redirect response to the given path.
         *
         * @param string $path
         * @param int $status
         * @param array $headers
         * @param bool|null $secure
         * @return \Illuminate\Http\RedirectResponse
         * @static
         */        public static function redirectTo($path, $status = 302, $headers = [], $secure = null)
        {
                        /** @var \Illuminate\Routing\ResponseFactory $instance */
                        return $instance->redirectTo($path, $status, $headers, $secure);
        }
                    /**
         * Create a new redirect response to a named route.
         *
         * @param string $route
         * @param mixed $parameters
         * @param int $status
         * @param array $headers
         * @return \Illuminate\Http\RedirectResponse
         * @static
         */        public static function redirectToRoute($route, $parameters = [], $status = 302, $headers = [])
        {
                        /** @var \Illuminate\Routing\ResponseFactory $instance */
                        return $instance->redirectToRoute($route, $parameters, $status, $headers);
        }
                    /**
         * Create a new redirect response to a controller action.
         *
         * @param string $action
         * @param mixed $parameters
         * @param int $status
         * @param array $headers
         * @return \Illuminate\Http\RedirectResponse
         * @static
         */        public static function redirectToAction($action, $parameters = [], $status = 302, $headers = [])
        {
                        /** @var \Illuminate\Routing\ResponseFactory $instance */
                        return $instance->redirectToAction($action, $parameters, $status, $headers);
        }
                    /**
         * Create a new redirect response, while putting the current URL in the session.
         *
         * @param string $path
         * @param int $status
         * @param array $headers
         * @param bool|null $secure
         * @return \Illuminate\Http\RedirectResponse
         * @static
         */        public static function redirectGuest($path, $status = 302, $headers = [], $secure = null)
        {
                        /** @var \Illuminate\Routing\ResponseFactory $instance */
                        return $instance->redirectGuest($path, $status, $headers, $secure);
        }
                    /**
         * Create a new redirect response to the previously intended location.
         *
         * @param string $default
         * @param int $status
         * @param array $headers
         * @param bool|null $secure
         * @return \Illuminate\Http\RedirectResponse
         * @static
         */        public static function redirectToIntended($default = '/', $status = 302, $headers = [], $secure = null)
        {
                        /** @var \Illuminate\Routing\ResponseFactory $instance */
                        return $instance->redirectToIntended($default, $status, $headers, $secure);
        }
                    /**
         * Register a custom macro.
         *
         * @param string $name
         * @param object|callable $macro
         * @return void
         * @static
         */        public static function macro($name, $macro)
        {
                        \Illuminate\Routing\ResponseFactory::macro($name, $macro);
        }
                    /**
         * Mix another object into the class.
         *
         * @param object $mixin
         * @param bool $replace
         * @return void
         * @throws \ReflectionException
         * @static
         */        public static function mixin($mixin, $replace = true)
        {
                        \Illuminate\Routing\ResponseFactory::mixin($mixin, $replace);
        }
                    /**
         * Checks if macro is registered.
         *
         * @param string $name
         * @return bool
         * @static
         */        public static function hasMacro($name)
        {
                        return \Illuminate\Routing\ResponseFactory::hasMacro($name);
        }
                    /**
         * Flush the existing macros.
         *
         * @return void
         * @static
         */        public static function flushMacros()
        {
                        \Illuminate\Routing\ResponseFactory::flushMacros();
        }
            }
            /**
     * @method static \Illuminate\Routing\RouteRegistrar attribute(string $key, mixed $value)
     * @method static \Illuminate\Routing\RouteRegistrar whereAlpha(array|string $parameters)
     * @method static \Illuminate\Routing\RouteRegistrar whereAlphaNumeric(array|string $parameters)
     * @method static \Illuminate\Routing\RouteRegistrar whereNumber(array|string $parameters)
     * @method static \Illuminate\Routing\RouteRegistrar whereUlid(array|string $parameters)
     * @method static \Illuminate\Routing\RouteRegistrar whereUuid(array|string $parameters)
     * @method static \Illuminate\Routing\RouteRegistrar whereIn(array|string $parameters, array $values)
     * @method static \Illuminate\Routing\RouteRegistrar as(string $value)
     * @method static \Illuminate\Routing\RouteRegistrar controller(string $controller)
     * @method static \Illuminate\Routing\RouteRegistrar domain(string $value)
     * @method static \Illuminate\Routing\RouteRegistrar middleware(array|string|null $middleware)
     * @method static \Illuminate\Routing\RouteRegistrar name(string $value)
     * @method static \Illuminate\Routing\RouteRegistrar namespace(string|null $value)
     * @method static \Illuminate\Routing\RouteRegistrar prefix(string $prefix)
     * @method static \Illuminate\Routing\RouteRegistrar scopeBindings()
     * @method static \Illuminate\Routing\RouteRegistrar where(array $where)
     * @method static \Illuminate\Routing\RouteRegistrar withoutMiddleware(array|string $middleware)
     * @method static \Illuminate\Routing\RouteRegistrar withoutScopedBindings()
     * @see \Illuminate\Routing\Router
     */        class Route {
                    /**
         * Register a new GET route with the router.
         *
         * @param string $uri
         * @param array|string|callable|null $action
         * @return \Illuminate\Routing\Route
         * @static
         */        public static function get($uri, $action = null)
        {
                        /** @var \Illuminate\Routing\Router $instance */
                        return $instance->get($uri, $action);
        }
                    /**
         * Register a new POST route with the router.
         *
         * @param string $uri
         * @param array|string|callable|null $action
         * @return \Illuminate\Routing\Route
         * @static
         */        public static function post($uri, $action = null)
        {
                        /** @var \Illuminate\Routing\Router $instance */
                        return $instance->post($uri, $action);
        }
                    /**
         * Register a new PUT route with the router.
         *
         * @param string $uri
         * @param array|string|callable|null $action
         * @return \Illuminate\Routing\Route
         * @static
         */        public static function put($uri, $action = null)
        {
                        /** @var \Illuminate\Routing\Router $instance */
                        return $instance->put($uri, $action);
        }
                    /**
         * Register a new PATCH route with the router.
         *
         * @param string $uri
         * @param array|string|callable|null $action
         * @return \Illuminate\Routing\Route
         * @static
         */        public static function patch($uri, $action = null)
        {
                        /** @var \Illuminate\Routing\Router $instance */
                        return $instance->patch($uri, $action);
        }
                    /**
         * Register a new DELETE route with the router.
         *
         * @param string $uri
         * @param array|string|callable|null $action
         * @return \Illuminate\Routing\Route
         * @static
         */        public static function delete($uri, $action = null)
        {
                        /** @var \Illuminate\Routing\Router $instance */
                        return $instance->delete($uri, $action);
        }
                    /**
         * Register a new OPTIONS route with the router.
         *
         * @param string $uri
         * @param array|string|callable|null $action
         * @return \Illuminate\Routing\Route
         * @static
         */        public static function options($uri, $action = null)
        {
                        /** @var \Illuminate\Routing\Router $instance */
                        return $instance->options($uri, $action);
        }
                    /**
         * Register a new route responding to all verbs.
         *
         * @param string $uri
         * @param array|string|callable|null $action
         * @return \Illuminate\Routing\Route
         * @static
         */        public static function any($uri, $action = null)
        {
                        /** @var \Illuminate\Routing\Router $instance */
                        return $instance->any($uri, $action);
        }
                    /**
         * Register a new Fallback route with the router.
         *
         * @param array|string|callable|null $action
         * @return \Illuminate\Routing\Route
         * @static
         */        public static function fallback($action)
        {
                        /** @var \Illuminate\Routing\Router $instance */
                        return $instance->fallback($action);
        }
                    /**
         * Create a redirect from one URI to another.
         *
         * @param string $uri
         * @param string $destination
         * @param int $status
         * @return \Illuminate\Routing\Route
         * @static
         */        public static function redirect($uri, $destination, $status = 302)
        {
                        /** @var \Illuminate\Routing\Router $instance */
                        return $instance->redirect($uri, $destination, $status);
        }
                    /**
         * Create a permanent redirect from one URI to another.
         *
         * @param string $uri
         * @param string $destination
         * @return \Illuminate\Routing\Route
         * @static
         */        public static function permanentRedirect($uri, $destination)
        {
                        /** @var \Illuminate\Routing\Router $instance */
                        return $instance->permanentRedirect($uri, $destination);
        }
                    /**
         * Register a new route that returns a view.
         *
         * @param string $uri
         * @param string $view
         * @param array $data
         * @param int|array $status
         * @param array $headers
         * @return \Illuminate\Routing\Route
         * @static
         */        public static function view($uri, $view, $data = [], $status = 200, $headers = [])
        {
                        /** @var \Illuminate\Routing\Router $instance */
                        return $instance->view($uri, $view, $data, $status, $headers);
        }
                    /**
         * Register a new route with the given verbs.
         *
         * @param array|string $methods
         * @param string $uri
         * @param array|string|callable|null $action
         * @return \Illuminate\Routing\Route
         * @static
         */        public static function match($methods, $uri, $action = null)
        {
                        /** @var \Illuminate\Routing\Router $instance */
                        return $instance->match($methods, $uri, $action);
        }
                    /**
         * Register an array of resource controllers.
         *
         * @param array $resources
         * @param array $options
         * @return void
         * @static
         */        public static function resources($resources, $options = [])
        {
                        /** @var \Illuminate\Routing\Router $instance */
                        $instance->resources($resources, $options);
        }
                    /**
         * Route a resource to a controller.
         *
         * @param string $name
         * @param string $controller
         * @param array $options
         * @return \Illuminate\Routing\PendingResourceRegistration
         * @static
         */        public static function resource($name, $controller, $options = [])
        {
                        /** @var \Illuminate\Routing\Router $instance */
                        return $instance->resource($name, $controller, $options);
        }
                    /**
         * Register an array of API resource controllers.
         *
         * @param array $resources
         * @param array $options
         * @return void
         * @static
         */        public static function apiResources($resources, $options = [])
        {
                        /** @var \Illuminate\Routing\Router $instance */
                        $instance->apiResources($resources, $options);
        }
                    /**
         * Route an API resource to a controller.
         *
         * @param string $name
         * @param string $controller
         * @param array $options
         * @return \Illuminate\Routing\PendingResourceRegistration
         * @static
         */        public static function apiResource($name, $controller, $options = [])
        {
                        /** @var \Illuminate\Routing\Router $instance */
                        return $instance->apiResource($name, $controller, $options);
        }
                    /**
         * Register an array of singleton resource controllers.
         *
         * @param array $singletons
         * @param array $options
         * @return void
         * @static
         */        public static function singletons($singletons, $options = [])
        {
                        /** @var \Illuminate\Routing\Router $instance */
                        $instance->singletons($singletons, $options);
        }
                    /**
         * Route a singleton resource to a controller.
         *
         * @param string $name
         * @param string $controller
         * @param array $options
         * @return \Illuminate\Routing\PendingSingletonResourceRegistration
         * @static
         */        public static function singleton($name, $controller, $options = [])
        {
                        /** @var \Illuminate\Routing\Router $instance */
                        return $instance->singleton($name, $controller, $options);
        }
                    /**
         * Register an array of API singleton resource controllers.
         *
         * @param array $singletons
         * @param array $options
         * @return void
         * @static
         */        public static function apiSingletons($singletons, $options = [])
        {
                        /** @var \Illuminate\Routing\Router $instance */
                        $instance->apiSingletons($singletons, $options);
        }
                    /**
         * Route an API singleton resource to a controller.
         *
         * @param string $name
         * @param string $controller
         * @param array $options
         * @return \Illuminate\Routing\PendingSingletonResourceRegistration
         * @static
         */        public static function apiSingleton($name, $controller, $options = [])
        {
                        /** @var \Illuminate\Routing\Router $instance */
                        return $instance->apiSingleton($name, $controller, $options);
        }
                    /**
         * Create a route group with shared attributes.
         *
         * @param array $attributes
         * @param \Closure|array|string $routes
         * @return \Illuminate\Routing\Router
         * @static
         */        public static function group($attributes, $routes)
        {
                        /** @var \Illuminate\Routing\Router $instance */
                        return $instance->group($attributes, $routes);
        }
                    /**
         * Merge the given array with the last group stack.
         *
         * @param array $new
         * @param bool $prependExistingPrefix
         * @return array
         * @static
         */        public static function mergeWithLastGroup($new, $prependExistingPrefix = true)
        {
                        /** @var \Illuminate\Routing\Router $instance */
                        return $instance->mergeWithLastGroup($new, $prependExistingPrefix);
        }
                    /**
         * Get the prefix from the last group on the stack.
         *
         * @return string
         * @static
         */        public static function getLastGroupPrefix()
        {
                        /** @var \Illuminate\Routing\Router $instance */
                        return $instance->getLastGroupPrefix();
        }
                    /**
         * Add a route to the underlying route collection.
         *
         * @param array|string $methods
         * @param string $uri
         * @param array|string|callable|null $action
         * @return \Illuminate\Routing\Route
         * @static
         */        public static function addRoute($methods, $uri, $action)
        {
                        /** @var \Illuminate\Routing\Router $instance */
                        return $instance->addRoute($methods, $uri, $action);
        }
                    /**
         * Create a new Route object.
         *
         * @param array|string $methods
         * @param string $uri
         * @param mixed $action
         * @return \Illuminate\Routing\Route
         * @static
         */        public static function newRoute($methods, $uri, $action)
        {
                        /** @var \Illuminate\Routing\Router $instance */
                        return $instance->newRoute($methods, $uri, $action);
        }
                    /**
         * Return the response returned by the given route.
         *
         * @param string $name
         * @return \Symfony\Component\HttpFoundation\Response
         * @static
         */        public static function respondWithRoute($name)
        {
                        /** @var \Illuminate\Routing\Router $instance */
                        return $instance->respondWithRoute($name);
        }
                    /**
         * Dispatch the request to the application.
         *
         * @param \Illuminate\Http\Request $request
         * @return \Symfony\Component\HttpFoundation\Response
         * @static
         */        public static function dispatch($request)
        {
                        /** @var \Illuminate\Routing\Router $instance */
                        return $instance->dispatch($request);
        }
                    /**
         * Dispatch the request to a route and return the response.
         *
         * @param \Illuminate\Http\Request $request
         * @return \Symfony\Component\HttpFoundation\Response
         * @static
         */        public static function dispatchToRoute($request)
        {
                        /** @var \Illuminate\Routing\Router $instance */
                        return $instance->dispatchToRoute($request);
        }
                    /**
         * Gather the middleware for the given route with resolved class names.
         *
         * @param \Illuminate\Routing\Route $route
         * @return array
         * @static
         */        public static function gatherRouteMiddleware($route)
        {
                        /** @var \Illuminate\Routing\Router $instance */
                        return $instance->gatherRouteMiddleware($route);
        }
                    /**
         * Resolve a flat array of middleware classes from the provided array.
         *
         * @param array $middleware
         * @param array $excluded
         * @return array
         * @static
         */        public static function resolveMiddleware($middleware, $excluded = [])
        {
                        /** @var \Illuminate\Routing\Router $instance */
                        return $instance->resolveMiddleware($middleware, $excluded);
        }
                    /**
         * Create a response instance from the given value.
         *
         * @param \Symfony\Component\HttpFoundation\Request $request
         * @param mixed $response
         * @return \Symfony\Component\HttpFoundation\Response
         * @static
         */        public static function prepareResponse($request, $response)
        {
                        /** @var \Illuminate\Routing\Router $instance */
                        return $instance->prepareResponse($request, $response);
        }
                    /**
         * Static version of prepareResponse.
         *
         * @param \Symfony\Component\HttpFoundation\Request $request
         * @param mixed $response
         * @return \Symfony\Component\HttpFoundation\Response
         * @static
         */        public static function toResponse($request, $response)
        {
                        return \Illuminate\Routing\Router::toResponse($request, $response);
        }
                    /**
         * Substitute the route bindings onto the route.
         *
         * @param \Illuminate\Routing\Route $route
         * @return \Illuminate\Routing\Route
         * @throws \Illuminate\Database\Eloquent\ModelNotFoundException<\Illuminate\Database\Eloquent\Model>
         * @throws \Illuminate\Routing\Exceptions\BackedEnumCaseNotFoundException
         * @static
         */        public static function substituteBindings($route)
        {
                        /** @var \Illuminate\Routing\Router $instance */
                        return $instance->substituteBindings($route);
        }
                    /**
         * Substitute the implicit route bindings for the given route.
         *
         * @param \Illuminate\Routing\Route $route
         * @return void
         * @throws \Illuminate\Database\Eloquent\ModelNotFoundException<\Illuminate\Database\Eloquent\Model>
         * @throws \Illuminate\Routing\Exceptions\BackedEnumCaseNotFoundException
         * @static
         */        public static function substituteImplicitBindings($route)
        {
                        /** @var \Illuminate\Routing\Router $instance */
                        $instance->substituteImplicitBindings($route);
        }
                    /**
         * Register a route matched event listener.
         *
         * @param string|callable $callback
         * @return void
         * @static
         */        public static function matched($callback)
        {
                        /** @var \Illuminate\Routing\Router $instance */
                        $instance->matched($callback);
        }
                    /**
         * Get all of the defined middleware short-hand names.
         *
         * @return array
         * @static
         */        public static function getMiddleware()
        {
                        /** @var \Illuminate\Routing\Router $instance */
                        return $instance->getMiddleware();
        }
                    /**
         * Register a short-hand name for a middleware.
         *
         * @param string $name
         * @param string $class
         * @return \Illuminate\Routing\Router
         * @static
         */        public static function aliasMiddleware($name, $class)
        {
                        /** @var \Illuminate\Routing\Router $instance */
                        return $instance->aliasMiddleware($name, $class);
        }
                    /**
         * Check if a middlewareGroup with the given name exists.
         *
         * @param string $name
         * @return bool
         * @static
         */        public static function hasMiddlewareGroup($name)
        {
                        /** @var \Illuminate\Routing\Router $instance */
                        return $instance->hasMiddlewareGroup($name);
        }
                    /**
         * Get all of the defined middleware groups.
         *
         * @return array
         * @static
         */        public static function getMiddlewareGroups()
        {
                        /** @var \Illuminate\Routing\Router $instance */
                        return $instance->getMiddlewareGroups();
        }
                    /**
         * Register a group of middleware.
         *
         * @param string $name
         * @param array $middleware
         * @return \Illuminate\Routing\Router
         * @static
         */        public static function middlewareGroup($name, $middleware)
        {
                        /** @var \Illuminate\Routing\Router $instance */
                        return $instance->middlewareGroup($name, $middleware);
        }
                    /**
         * Add a middleware to the beginning of a middleware group.
         * 
         * If the middleware is already in the group, it will not be added again.
         *
         * @param string $group
         * @param string $middleware
         * @return \Illuminate\Routing\Router
         * @static
         */        public static function prependMiddlewareToGroup($group, $middleware)
        {
                        /** @var \Illuminate\Routing\Router $instance */
                        return $instance->prependMiddlewareToGroup($group, $middleware);
        }
                    /**
         * Add a middleware to the end of a middleware group.
         * 
         * If the middleware is already in the group, it will not be added again.
         *
         * @param string $group
         * @param string $middleware
         * @return \Illuminate\Routing\Router
         * @static
         */        public static function pushMiddlewareToGroup($group, $middleware)
        {
                        /** @var \Illuminate\Routing\Router $instance */
                        return $instance->pushMiddlewareToGroup($group, $middleware);
        }
                    /**
         * Remove the given middleware from the specified group.
         *
         * @param string $group
         * @param string $middleware
         * @return \Illuminate\Routing\Router
         * @static
         */        public static function removeMiddlewareFromGroup($group, $middleware)
        {
                        /** @var \Illuminate\Routing\Router $instance */
                        return $instance->removeMiddlewareFromGroup($group, $middleware);
        }
                    /**
         * Flush the router's middleware groups.
         *
         * @return \Illuminate\Routing\Router
         * @static
         */        public static function flushMiddlewareGroups()
        {
                        /** @var \Illuminate\Routing\Router $instance */
                        return $instance->flushMiddlewareGroups();
        }
                    /**
         * Add a new route parameter binder.
         *
         * @param string $key
         * @param string|callable $binder
         * @return void
         * @static
         */        public static function bind($key, $binder)
        {
                        /** @var \Illuminate\Routing\Router $instance */
                        $instance->bind($key, $binder);
        }
                    /**
         * Register a model binder for a wildcard.
         *
         * @param string $key
         * @param string $class
         * @param \Closure|null $callback
         * @return void
         * @static
         */        public static function model($key, $class, $callback = null)
        {
                        /** @var \Illuminate\Routing\Router $instance */
                        $instance->model($key, $class, $callback);
        }
                    /**
         * Get the binding callback for a given binding.
         *
         * @param string $key
         * @return \Closure|null
         * @static
         */        public static function getBindingCallback($key)
        {
                        /** @var \Illuminate\Routing\Router $instance */
                        return $instance->getBindingCallback($key);
        }
                    /**
         * Get the global "where" patterns.
         *
         * @return array
         * @static
         */        public static function getPatterns()
        {
                        /** @var \Illuminate\Routing\Router $instance */
                        return $instance->getPatterns();
        }
                    /**
         * Set a global where pattern on all routes.
         *
         * @param string $key
         * @param string $pattern
         * @return void
         * @static
         */        public static function pattern($key, $pattern)
        {
                        /** @var \Illuminate\Routing\Router $instance */
                        $instance->pattern($key, $pattern);
        }
                    /**
         * Set a group of global where patterns on all routes.
         *
         * @param array $patterns
         * @return void
         * @static
         */        public static function patterns($patterns)
        {
                        /** @var \Illuminate\Routing\Router $instance */
                        $instance->patterns($patterns);
        }
                    /**
         * Determine if the router currently has a group stack.
         *
         * @return bool
         * @static
         */        public static function hasGroupStack()
        {
                        /** @var \Illuminate\Routing\Router $instance */
                        return $instance->hasGroupStack();
        }
                    /**
         * Get the current group stack for the router.
         *
         * @return array
         * @static
         */        public static function getGroupStack()
        {
                        /** @var \Illuminate\Routing\Router $instance */
                        return $instance->getGroupStack();
        }
                    /**
         * Get a route parameter for the current route.
         *
         * @param string $key
         * @param string|null $default
         * @return mixed
         * @static
         */        public static function input($key, $default = null)
        {
                        /** @var \Illuminate\Routing\Router $instance */
                        return $instance->input($key, $default);
        }
                    /**
         * Get the request currently being dispatched.
         *
         * @return \Illuminate\Http\Request
         * @static
         */        public static function getCurrentRequest()
        {
                        /** @var \Illuminate\Routing\Router $instance */
                        return $instance->getCurrentRequest();
        }
                    /**
         * Get the currently dispatched route instance.
         *
         * @return \Illuminate\Routing\Route|null
         * @static
         */        public static function getCurrentRoute()
        {
                        /** @var \Illuminate\Routing\Router $instance */
                        return $instance->getCurrentRoute();
        }
                    /**
         * Get the currently dispatched route instance.
         *
         * @return \Illuminate\Routing\Route|null
         * @static
         */        public static function current()
        {
                        /** @var \Illuminate\Routing\Router $instance */
                        return $instance->current();
        }
                    /**
         * Check if a route with the given name exists.
         *
         * @param string|array $name
         * @return bool
         * @static
         */        public static function has($name)
        {
                        /** @var \Illuminate\Routing\Router $instance */
                        return $instance->has($name);
        }
                    /**
         * Get the current route name.
         *
         * @return string|null
         * @static
         */        public static function currentRouteName()
        {
                        /** @var \Illuminate\Routing\Router $instance */
                        return $instance->currentRouteName();
        }
                    /**
         * Alias for the "currentRouteNamed" method.
         *
         * @param mixed $patterns
         * @return bool
         * @static
         */        public static function is(...$patterns)
        {
                        /** @var \Illuminate\Routing\Router $instance */
                        return $instance->is(...$patterns);
        }
                    /**
         * Determine if the current route matches a pattern.
         *
         * @param mixed $patterns
         * @return bool
         * @static
         */        public static function currentRouteNamed(...$patterns)
        {
                        /** @var \Illuminate\Routing\Router $instance */
                        return $instance->currentRouteNamed(...$patterns);
        }
                    /**
         * Get the current route action.
         *
         * @return string|null
         * @static
         */        public static function currentRouteAction()
        {
                        /** @var \Illuminate\Routing\Router $instance */
                        return $instance->currentRouteAction();
        }
                    /**
         * Alias for the "currentRouteUses" method.
         *
         * @param array $patterns
         * @return bool
         * @static
         */        public static function uses(...$patterns)
        {
                        /** @var \Illuminate\Routing\Router $instance */
                        return $instance->uses(...$patterns);
        }
                    /**
         * Determine if the current route action matches a given action.
         *
         * @param string $action
         * @return bool
         * @static
         */        public static function currentRouteUses($action)
        {
                        /** @var \Illuminate\Routing\Router $instance */
                        return $instance->currentRouteUses($action);
        }
                    /**
         * Set the unmapped global resource parameters to singular.
         *
         * @param bool $singular
         * @return void
         * @static
         */        public static function singularResourceParameters($singular = true)
        {
                        /** @var \Illuminate\Routing\Router $instance */
                        $instance->singularResourceParameters($singular);
        }
                    /**
         * Set the global resource parameter mapping.
         *
         * @param array $parameters
         * @return void
         * @static
         */        public static function resourceParameters($parameters = [])
        {
                        /** @var \Illuminate\Routing\Router $instance */
                        $instance->resourceParameters($parameters);
        }
                    /**
         * Get or set the verbs used in the resource URIs.
         *
         * @param array $verbs
         * @return array|null
         * @static
         */        public static function resourceVerbs($verbs = [])
        {
                        /** @var \Illuminate\Routing\Router $instance */
                        return $instance->resourceVerbs($verbs);
        }
                    /**
         * Get the underlying route collection.
         *
         * @return \Illuminate\Routing\RouteCollectionInterface
         * @static
         */        public static function getRoutes()
        {
                        /** @var \Illuminate\Routing\Router $instance */
                        return $instance->getRoutes();
        }
                    /**
         * Set the route collection instance.
         *
         * @param \Illuminate\Routing\RouteCollection $routes
         * @return void
         * @static
         */        public static function setRoutes($routes)
        {
                        /** @var \Illuminate\Routing\Router $instance */
                        $instance->setRoutes($routes);
        }
                    /**
         * Set the compiled route collection instance.
         *
         * @param array $routes
         * @return void
         * @static
         */        public static function setCompiledRoutes($routes)
        {
                        /** @var \Illuminate\Routing\Router $instance */
                        $instance->setCompiledRoutes($routes);
        }
                    /**
         * Remove any duplicate middleware from the given array.
         *
         * @param array $middleware
         * @return array
         * @static
         */        public static function uniqueMiddleware($middleware)
        {
                        return \Illuminate\Routing\Router::uniqueMiddleware($middleware);
        }
                    /**
         * Set the container instance used by the router.
         *
         * @param \Illuminate\Container\Container $container
         * @return \Illuminate\Routing\Router
         * @static
         */        public static function setContainer($container)
        {
                        /** @var \Illuminate\Routing\Router $instance */
                        return $instance->setContainer($container);
        }
                    /**
         * Register a custom macro.
         *
         * @param string $name
         * @param object|callable $macro
         * @return void
         * @static
         */        public static function macro($name, $macro)
        {
                        \Illuminate\Routing\Router::macro($name, $macro);
        }
                    /**
         * Mix another object into the class.
         *
         * @param object $mixin
         * @param bool $replace
         * @return void
         * @throws \ReflectionException
         * @static
         */        public static function mixin($mixin, $replace = true)
        {
                        \Illuminate\Routing\Router::mixin($mixin, $replace);
        }
                    /**
         * Checks if macro is registered.
         *
         * @param string $name
         * @return bool
         * @static
         */        public static function hasMacro($name)
        {
                        return \Illuminate\Routing\Router::hasMacro($name);
        }
                    /**
         * Flush the existing macros.
         *
         * @return void
         * @static
         */        public static function flushMacros()
        {
                        \Illuminate\Routing\Router::flushMacros();
        }
                    /**
         * Dynamically handle calls to the class.
         *
         * @param string $method
         * @param array $parameters
         * @return mixed
         * @throws \BadMethodCallException
         * @static
         */        public static function macroCall($method, $parameters)
        {
                        /** @var \Illuminate\Routing\Router $instance */
                        return $instance->macroCall($method, $parameters);
        }
                    /**
         * @see \Laravel\Ui\AuthRouteMethods::auth()
         * @param mixed $options
         * @static
         */        public static function auth($options = [])
        {
                        return \Illuminate\Routing\Router::auth($options);
        }
                    /**
         * @see \Laravel\Ui\AuthRouteMethods::resetPassword()
         * @static
         */        public static function resetPassword()
        {
                        return \Illuminate\Routing\Router::resetPassword();
        }
                    /**
         * @see \Laravel\Ui\AuthRouteMethods::confirmPassword()
         * @static
         */        public static function confirmPassword()
        {
                        return \Illuminate\Routing\Router::confirmPassword();
        }
                    /**
         * @see \Laravel\Ui\AuthRouteMethods::emailVerification()
         * @static
         */        public static function emailVerification()
        {
                        return \Illuminate\Routing\Router::emailVerification();
        }
            }
            /**
     * @see \Illuminate\Database\Schema\Builder
     */        class Schema {
                    /**
         * Create a database in the schema.
         *
         * @param string $name
         * @return bool
         * @static
         */        public static function createDatabase($name)
        {
                        /** @var \Illuminate\Database\Schema\MySqlBuilder $instance */
                        return $instance->createDatabase($name);
        }
                    /**
         * Drop a database from the schema if the database exists.
         *
         * @param string $name
         * @return bool
         * @static
         */        public static function dropDatabaseIfExists($name)
        {
                        /** @var \Illuminate\Database\Schema\MySqlBuilder $instance */
                        return $instance->dropDatabaseIfExists($name);
        }
                    /**
         * Determine if the given table exists.
         *
         * @param string $table
         * @return bool
         * @static
         */        public static function hasTable($table)
        {
                        /** @var \Illuminate\Database\Schema\MySqlBuilder $instance */
                        return $instance->hasTable($table);
        }
                    /**
         * Get the column listing for a given table.
         *
         * @param string $table
         * @return array
         * @static
         */        public static function getColumnListing($table)
        {
                        /** @var \Illuminate\Database\Schema\MySqlBuilder $instance */
                        return $instance->getColumnListing($table);
        }
                    /**
         * Drop all tables from the database.
         *
         * @return void
         * @static
         */        public static function dropAllTables()
        {
                        /** @var \Illuminate\Database\Schema\MySqlBuilder $instance */
                        $instance->dropAllTables();
        }
                    /**
         * Drop all views from the database.
         *
         * @return void
         * @static
         */        public static function dropAllViews()
        {
                        /** @var \Illuminate\Database\Schema\MySqlBuilder $instance */
                        $instance->dropAllViews();
        }
                    /**
         * Get all of the table names for the database.
         *
         * @return array
         * @static
         */        public static function getAllTables()
        {
                        /** @var \Illuminate\Database\Schema\MySqlBuilder $instance */
                        return $instance->getAllTables();
        }
                    /**
         * Get all of the view names for the database.
         *
         * @return array
         * @static
         */        public static function getAllViews()
        {
                        /** @var \Illuminate\Database\Schema\MySqlBuilder $instance */
                        return $instance->getAllViews();
        }
                    /**
         * Set the default string length for migrations.
         *
         * @param int $length
         * @return void
         * @static
         */        public static function defaultStringLength($length)
        {            //Method inherited from \Illuminate\Database\Schema\Builder         
                        \Illuminate\Database\Schema\MySqlBuilder::defaultStringLength($length);
        }
                    /**
         * Set the default morph key type for migrations.
         *
         * @param string $type
         * @return void
         * @throws \InvalidArgumentException
         * @static
         */        public static function defaultMorphKeyType($type)
        {            //Method inherited from \Illuminate\Database\Schema\Builder         
                        \Illuminate\Database\Schema\MySqlBuilder::defaultMorphKeyType($type);
        }
                    /**
         * Set the default morph key type for migrations to UUIDs.
         *
         * @return void
         * @static
         */        public static function morphUsingUuids()
        {            //Method inherited from \Illuminate\Database\Schema\Builder         
                        \Illuminate\Database\Schema\MySqlBuilder::morphUsingUuids();
        }
                    /**
         * Set the default morph key type for migrations to ULIDs.
         *
         * @return void
         * @static
         */        public static function morphUsingUlids()
        {            //Method inherited from \Illuminate\Database\Schema\Builder         
                        \Illuminate\Database\Schema\MySqlBuilder::morphUsingUlids();
        }
                    /**
         * Attempt to use native schema operations for dropping and renaming columns, even if Doctrine DBAL is installed.
         *
         * @param bool $value
         * @return void
         * @static
         */        public static function useNativeSchemaOperationsIfPossible($value = true)
        {            //Method inherited from \Illuminate\Database\Schema\Builder         
                        \Illuminate\Database\Schema\MySqlBuilder::useNativeSchemaOperationsIfPossible($value);
        }
                    /**
         * Determine if the given table has a given column.
         *
         * @param string $table
         * @param string $column
         * @return bool
         * @static
         */        public static function hasColumn($table, $column)
        {            //Method inherited from \Illuminate\Database\Schema\Builder         
                        /** @var \Illuminate\Database\Schema\MySqlBuilder $instance */
                        return $instance->hasColumn($table, $column);
        }
                    /**
         * Determine if the given table has given columns.
         *
         * @param string $table
         * @param array $columns
         * @return bool
         * @static
         */        public static function hasColumns($table, $columns)
        {            //Method inherited from \Illuminate\Database\Schema\Builder         
                        /** @var \Illuminate\Database\Schema\MySqlBuilder $instance */
                        return $instance->hasColumns($table, $columns);
        }
                    /**
         * Execute a table builder callback if the given table has a given column.
         *
         * @param string $table
         * @param string $column
         * @param \Closure $callback
         * @return void
         * @static
         */        public static function whenTableHasColumn($table, $column, $callback)
        {            //Method inherited from \Illuminate\Database\Schema\Builder         
                        /** @var \Illuminate\Database\Schema\MySqlBuilder $instance */
                        $instance->whenTableHasColumn($table, $column, $callback);
        }
                    /**
         * Execute a table builder callback if the given table doesn't have a given column.
         *
         * @param string $table
         * @param string $column
         * @param \Closure $callback
         * @return void
         * @static
         */        public static function whenTableDoesntHaveColumn($table, $column, $callback)
        {            //Method inherited from \Illuminate\Database\Schema\Builder         
                        /** @var \Illuminate\Database\Schema\MySqlBuilder $instance */
                        $instance->whenTableDoesntHaveColumn($table, $column, $callback);
        }
                    /**
         * Get the data type for the given column name.
         *
         * @param string $table
         * @param string $column
         * @return string
         * @static
         */        public static function getColumnType($table, $column)
        {            //Method inherited from \Illuminate\Database\Schema\Builder         
                        /** @var \Illuminate\Database\Schema\MySqlBuilder $instance */
                        return $instance->getColumnType($table, $column);
        }
                    /**
         * Modify a table on the schema.
         *
         * @param string $table
         * @param \Closure $callback
         * @return void
         * @static
         */        public static function table($table, $callback)
        {            //Method inherited from \Illuminate\Database\Schema\Builder         
                        /** @var \Illuminate\Database\Schema\MySqlBuilder $instance */
                        $instance->table($table, $callback);
        }
                    /**
         * Create a new table on the schema.
         *
         * @param string $table
         * @param \Closure $callback
         * @return void
         * @static
         */        public static function create($table, $callback)
        {            //Method inherited from \Illuminate\Database\Schema\Builder         
                        /** @var \Illuminate\Database\Schema\MySqlBuilder $instance */
                        $instance->create($table, $callback);
        }
                    /**
         * Drop a table from the schema.
         *
         * @param string $table
         * @return void
         * @static
         */        public static function drop($table)
        {            //Method inherited from \Illuminate\Database\Schema\Builder         
                        /** @var \Illuminate\Database\Schema\MySqlBuilder $instance */
                        $instance->drop($table);
        }
                    /**
         * Drop a table from the schema if it exists.
         *
         * @param string $table
         * @return void
         * @static
         */        public static function dropIfExists($table)
        {            //Method inherited from \Illuminate\Database\Schema\Builder         
                        /** @var \Illuminate\Database\Schema\MySqlBuilder $instance */
                        $instance->dropIfExists($table);
        }
                    /**
         * Drop columns from a table schema.
         *
         * @param string $table
         * @param string|array $columns
         * @return void
         * @static
         */        public static function dropColumns($table, $columns)
        {            //Method inherited from \Illuminate\Database\Schema\Builder         
                        /** @var \Illuminate\Database\Schema\MySqlBuilder $instance */
                        $instance->dropColumns($table, $columns);
        }
                    /**
         * Drop all types from the database.
         *
         * @return void
         * @throws \LogicException
         * @static
         */        public static function dropAllTypes()
        {            //Method inherited from \Illuminate\Database\Schema\Builder         
                        /** @var \Illuminate\Database\Schema\MySqlBuilder $instance */
                        $instance->dropAllTypes();
        }
                    /**
         * Rename a table on the schema.
         *
         * @param string $from
         * @param string $to
         * @return void
         * @static
         */        public static function rename($from, $to)
        {            //Method inherited from \Illuminate\Database\Schema\Builder         
                        /** @var \Illuminate\Database\Schema\MySqlBuilder $instance */
                        $instance->rename($from, $to);
        }
                    /**
         * Enable foreign key constraints.
         *
         * @return bool
         * @static
         */        public static function enableForeignKeyConstraints()
        {            //Method inherited from \Illuminate\Database\Schema\Builder         
                        /** @var \Illuminate\Database\Schema\MySqlBuilder $instance */
                        return $instance->enableForeignKeyConstraints();
        }
                    /**
         * Disable foreign key constraints.
         *
         * @return bool
         * @static
         */        public static function disableForeignKeyConstraints()
        {            //Method inherited from \Illuminate\Database\Schema\Builder         
                        /** @var \Illuminate\Database\Schema\MySqlBuilder $instance */
                        return $instance->disableForeignKeyConstraints();
        }
                    /**
         * Disable foreign key constraints during the execution of a callback.
         *
         * @param \Closure $callback
         * @return mixed
         * @static
         */        public static function withoutForeignKeyConstraints($callback)
        {            //Method inherited from \Illuminate\Database\Schema\Builder         
                        /** @var \Illuminate\Database\Schema\MySqlBuilder $instance */
                        return $instance->withoutForeignKeyConstraints($callback);
        }
                    /**
         * Get the database connection instance.
         *
         * @return \Illuminate\Database\Connection
         * @static
         */        public static function getConnection()
        {            //Method inherited from \Illuminate\Database\Schema\Builder         
                        /** @var \Illuminate\Database\Schema\MySqlBuilder $instance */
                        return $instance->getConnection();
        }
                    /**
         * Set the database connection instance.
         *
         * @param \Illuminate\Database\Connection $connection
         * @return \Illuminate\Database\Schema\MySqlBuilder
         * @static
         */        public static function setConnection($connection)
        {            //Method inherited from \Illuminate\Database\Schema\Builder         
                        /** @var \Illuminate\Database\Schema\MySqlBuilder $instance */
                        return $instance->setConnection($connection);
        }
                    /**
         * Set the Schema Blueprint resolver callback.
         *
         * @param \Closure $resolver
         * @return void
         * @static
         */        public static function blueprintResolver($resolver)
        {            //Method inherited from \Illuminate\Database\Schema\Builder         
                        /** @var \Illuminate\Database\Schema\MySqlBuilder $instance */
                        $instance->blueprintResolver($resolver);
        }
            }
            /**
     * @see \Illuminate\Session\SessionManager
     */        class Session {
                    /**
         * Determine if requests for the same session should wait for each to finish before executing.
         *
         * @return bool
         * @static
         */        public static function shouldBlock()
        {
                        /** @var \Illuminate\Session\SessionManager $instance */
                        return $instance->shouldBlock();
        }
                    /**
         * Get the name of the cache store / driver that should be used to acquire session locks.
         *
         * @return string|null
         * @static
         */        public static function blockDriver()
        {
                        /** @var \Illuminate\Session\SessionManager $instance */
                        return $instance->blockDriver();
        }
                    /**
         * Get the session configuration.
         *
         * @return array
         * @static
         */        public static function getSessionConfig()
        {
                        /** @var \Illuminate\Session\SessionManager $instance */
                        return $instance->getSessionConfig();
        }
                    /**
         * Get the default session driver name.
         *
         * @return string
         * @static
         */        public static function getDefaultDriver()
        {
                        /** @var \Illuminate\Session\SessionManager $instance */
                        return $instance->getDefaultDriver();
        }
                    /**
         * Set the default session driver name.
         *
         * @param string $name
         * @return void
         * @static
         */        public static function setDefaultDriver($name)
        {
                        /** @var \Illuminate\Session\SessionManager $instance */
                        $instance->setDefaultDriver($name);
        }
                    /**
         * Get a driver instance.
         *
         * @param string|null $driver
         * @return mixed
         * @throws \InvalidArgumentException
         * @static
         */        public static function driver($driver = null)
        {            //Method inherited from \Illuminate\Support\Manager         
                        /** @var \Illuminate\Session\SessionManager $instance */
                        return $instance->driver($driver);
        }
                    /**
         * Register a custom driver creator Closure.
         *
         * @param string $driver
         * @param \Closure $callback
         * @return \Illuminate\Session\SessionManager
         * @static
         */        public static function extend($driver, $callback)
        {            //Method inherited from \Illuminate\Support\Manager         
                        /** @var \Illuminate\Session\SessionManager $instance */
                        return $instance->extend($driver, $callback);
        }
                    /**
         * Get all of the created "drivers".
         *
         * @return array
         * @static
         */        public static function getDrivers()
        {            //Method inherited from \Illuminate\Support\Manager         
                        /** @var \Illuminate\Session\SessionManager $instance */
                        return $instance->getDrivers();
        }
                    /**
         * Get the container instance used by the manager.
         *
         * @return \Illuminate\Contracts\Container\Container
         * @static
         */        public static function getContainer()
        {            //Method inherited from \Illuminate\Support\Manager         
                        /** @var \Illuminate\Session\SessionManager $instance */
                        return $instance->getContainer();
        }
                    /**
         * Set the container instance used by the manager.
         *
         * @param \Illuminate\Contracts\Container\Container $container
         * @return \Illuminate\Session\SessionManager
         * @static
         */        public static function setContainer($container)
        {            //Method inherited from \Illuminate\Support\Manager         
                        /** @var \Illuminate\Session\SessionManager $instance */
                        return $instance->setContainer($container);
        }
                    /**
         * Forget all of the resolved driver instances.
         *
         * @return \Illuminate\Session\SessionManager
         * @static
         */        public static function forgetDrivers()
        {            //Method inherited from \Illuminate\Support\Manager         
                        /** @var \Illuminate\Session\SessionManager $instance */
                        return $instance->forgetDrivers();
        }
                    /**
         * Start the session, reading the data from a handler.
         *
         * @return bool
         * @static
         */        public static function start()
        {
                        /** @var \Illuminate\Session\Store $instance */
                        return $instance->start();
        }
                    /**
         * Save the session data to storage.
         *
         * @return void
         * @static
         */        public static function save()
        {
                        /** @var \Illuminate\Session\Store $instance */
                        $instance->save();
        }
                    /**
         * Age the flash data for the session.
         *
         * @return void
         * @static
         */        public static function ageFlashData()
        {
                        /** @var \Illuminate\Session\Store $instance */
                        $instance->ageFlashData();
        }
                    /**
         * Get all of the session data.
         *
         * @return array
         * @static
         */        public static function all()
        {
                        /** @var \Illuminate\Session\Store $instance */
                        return $instance->all();
        }
                    /**
         * Get a subset of the session data.
         *
         * @param array $keys
         * @return array
         * @static
         */        public static function only($keys)
        {
                        /** @var \Illuminate\Session\Store $instance */
                        return $instance->only($keys);
        }
                    /**
         * Checks if a key exists.
         *
         * @param string|array $key
         * @return bool
         * @static
         */        public static function exists($key)
        {
                        /** @var \Illuminate\Session\Store $instance */
                        return $instance->exists($key);
        }
                    /**
         * Determine if the given key is missing from the session data.
         *
         * @param string|array $key
         * @return bool
         * @static
         */        public static function missing($key)
        {
                        /** @var \Illuminate\Session\Store $instance */
                        return $instance->missing($key);
        }
                    /**
         * Checks if a key is present and not null.
         *
         * @param string|array $key
         * @return bool
         * @static
         */        public static function has($key)
        {
                        /** @var \Illuminate\Session\Store $instance */
                        return $instance->has($key);
        }
                    /**
         * Get an item from the session.
         *
         * @param string $key
         * @param mixed $default
         * @return mixed
         * @static
         */        public static function get($key, $default = null)
        {
                        /** @var \Illuminate\Session\Store $instance */
                        return $instance->get($key, $default);
        }
                    /**
         * Get the value of a given key and then forget it.
         *
         * @param string $key
         * @param mixed $default
         * @return mixed
         * @static
         */        public static function pull($key, $default = null)
        {
                        /** @var \Illuminate\Session\Store $instance */
                        return $instance->pull($key, $default);
        }
                    /**
         * Determine if the session contains old input.
         *
         * @param string|null $key
         * @return bool
         * @static
         */        public static function hasOldInput($key = null)
        {
                        /** @var \Illuminate\Session\Store $instance */
                        return $instance->hasOldInput($key);
        }
                    /**
         * Get the requested item from the flashed input array.
         *
         * @param string|null $key
         * @param mixed $default
         * @return mixed
         * @static
         */        public static function getOldInput($key = null, $default = null)
        {
                        /** @var \Illuminate\Session\Store $instance */
                        return $instance->getOldInput($key, $default);
        }
                    /**
         * Replace the given session attributes entirely.
         *
         * @param array $attributes
         * @return void
         * @static
         */        public static function replace($attributes)
        {
                        /** @var \Illuminate\Session\Store $instance */
                        $instance->replace($attributes);
        }
                    /**
         * Put a key / value pair or array of key / value pairs in the session.
         *
         * @param string|array $key
         * @param mixed $value
         * @return void
         * @static
         */        public static function put($key, $value = null)
        {
                        /** @var \Illuminate\Session\Store $instance */
                        $instance->put($key, $value);
        }
                    /**
         * Get an item from the session, or store the default value.
         *
         * @param string $key
         * @param \Closure $callback
         * @return mixed
         * @static
         */        public static function remember($key, $callback)
        {
                        /** @var \Illuminate\Session\Store $instance */
                        return $instance->remember($key, $callback);
        }
                    /**
         * Push a value onto a session array.
         *
         * @param string $key
         * @param mixed $value
         * @return void
         * @static
         */        public static function push($key, $value)
        {
                        /** @var \Illuminate\Session\Store $instance */
                        $instance->push($key, $value);
        }
                    /**
         * Increment the value of an item in the session.
         *
         * @param string $key
         * @param int $amount
         * @return mixed
         * @static
         */        public static function increment($key, $amount = 1)
        {
                        /** @var \Illuminate\Session\Store $instance */
                        return $instance->increment($key, $amount);
        }
                    /**
         * Decrement the value of an item in the session.
         *
         * @param string $key
         * @param int $amount
         * @return int
         * @static
         */        public static function decrement($key, $amount = 1)
        {
                        /** @var \Illuminate\Session\Store $instance */
                        return $instance->decrement($key, $amount);
        }
                    /**
         * Flash a key / value pair to the session.
         *
         * @param string $key
         * @param mixed $value
         * @return void
         * @static
         */        public static function flash($key, $value = true)
        {
                        /** @var \Illuminate\Session\Store $instance */
                        $instance->flash($key, $value);
        }
                    /**
         * Flash a key / value pair to the session for immediate use.
         *
         * @param string $key
         * @param mixed $value
         * @return void
         * @static
         */        public static function now($key, $value)
        {
                        /** @var \Illuminate\Session\Store $instance */
                        $instance->now($key, $value);
        }
                    /**
         * Reflash all of the session flash data.
         *
         * @return void
         * @static
         */        public static function reflash()
        {
                        /** @var \Illuminate\Session\Store $instance */
                        $instance->reflash();
        }
                    /**
         * Reflash a subset of the current flash data.
         *
         * @param array|mixed $keys
         * @return void
         * @static
         */        public static function keep($keys = null)
        {
                        /** @var \Illuminate\Session\Store $instance */
                        $instance->keep($keys);
        }
                    /**
         * Flash an input array to the session.
         *
         * @param array $value
         * @return void
         * @static
         */        public static function flashInput($value)
        {
                        /** @var \Illuminate\Session\Store $instance */
                        $instance->flashInput($value);
        }
                    /**
         * Remove an item from the session, returning its value.
         *
         * @param string $key
         * @return mixed
         * @static
         */        public static function remove($key)
        {
                        /** @var \Illuminate\Session\Store $instance */
                        return $instance->remove($key);
        }
                    /**
         * Remove one or many items from the session.
         *
         * @param string|array $keys
         * @return void
         * @static
         */        public static function forget($keys)
        {
                        /** @var \Illuminate\Session\Store $instance */
                        $instance->forget($keys);
        }
                    /**
         * Remove all of the items from the session.
         *
         * @return void
         * @static
         */        public static function flush()
        {
                        /** @var \Illuminate\Session\Store $instance */
                        $instance->flush();
        }
                    /**
         * Flush the session data and regenerate the ID.
         *
         * @return bool
         * @static
         */        public static function invalidate()
        {
                        /** @var \Illuminate\Session\Store $instance */
                        return $instance->invalidate();
        }
                    /**
         * Generate a new session identifier.
         *
         * @param bool $destroy
         * @return bool
         * @static
         */        public static function regenerate($destroy = false)
        {
                        /** @var \Illuminate\Session\Store $instance */
                        return $instance->regenerate($destroy);
        }
                    /**
         * Generate a new session ID for the session.
         *
         * @param bool $destroy
         * @return bool
         * @static
         */        public static function migrate($destroy = false)
        {
                        /** @var \Illuminate\Session\Store $instance */
                        return $instance->migrate($destroy);
        }
                    /**
         * Determine if the session has been started.
         *
         * @return bool
         * @static
         */        public static function isStarted()
        {
                        /** @var \Illuminate\Session\Store $instance */
                        return $instance->isStarted();
        }
                    /**
         * Get the name of the session.
         *
         * @return string
         * @static
         */        public static function getName()
        {
                        /** @var \Illuminate\Session\Store $instance */
                        return $instance->getName();
        }
                    /**
         * Set the name of the session.
         *
         * @param string $name
         * @return void
         * @static
         */        public static function setName($name)
        {
                        /** @var \Illuminate\Session\Store $instance */
                        $instance->setName($name);
        }
                    /**
         * Get the current session ID.
         *
         * @return string
         * @static
         */        public static function getId()
        {
                        /** @var \Illuminate\Session\Store $instance */
                        return $instance->getId();
        }
                    /**
         * Set the session ID.
         *
         * @param string|null $id
         * @return void
         * @static
         */        public static function setId($id)
        {
                        /** @var \Illuminate\Session\Store $instance */
                        $instance->setId($id);
        }
                    /**
         * Determine if this is a valid session ID.
         *
         * @param string|null $id
         * @return bool
         * @static
         */        public static function isValidId($id)
        {
                        /** @var \Illuminate\Session\Store $instance */
                        return $instance->isValidId($id);
        }
                    /**
         * Set the existence of the session on the handler if applicable.
         *
         * @param bool $value
         * @return void
         * @static
         */        public static function setExists($value)
        {
                        /** @var \Illuminate\Session\Store $instance */
                        $instance->setExists($value);
        }
                    /**
         * Get the CSRF token value.
         *
         * @return string
         * @static
         */        public static function token()
        {
                        /** @var \Illuminate\Session\Store $instance */
                        return $instance->token();
        }
                    /**
         * Regenerate the CSRF token value.
         *
         * @return void
         * @static
         */        public static function regenerateToken()
        {
                        /** @var \Illuminate\Session\Store $instance */
                        $instance->regenerateToken();
        }
                    /**
         * Get the previous URL from the session.
         *
         * @return string|null
         * @static
         */        public static function previousUrl()
        {
                        /** @var \Illuminate\Session\Store $instance */
                        return $instance->previousUrl();
        }
                    /**
         * Set the "previous" URL in the session.
         *
         * @param string $url
         * @return void
         * @static
         */        public static function setPreviousUrl($url)
        {
                        /** @var \Illuminate\Session\Store $instance */
                        $instance->setPreviousUrl($url);
        }
                    /**
         * Specify that the user has confirmed their password.
         *
         * @return void
         * @static
         */        public static function passwordConfirmed()
        {
                        /** @var \Illuminate\Session\Store $instance */
                        $instance->passwordConfirmed();
        }
                    /**
         * Get the underlying session handler implementation.
         *
         * @return \SessionHandlerInterface
         * @static
         */        public static function getHandler()
        {
                        /** @var \Illuminate\Session\Store $instance */
                        return $instance->getHandler();
        }
                    /**
         * Set the underlying session handler implementation.
         *
         * @param \SessionHandlerInterface $handler
         * @return \SessionHandlerInterface
         * @static
         */        public static function setHandler($handler)
        {
                        /** @var \Illuminate\Session\Store $instance */
                        return $instance->setHandler($handler);
        }
                    /**
         * Determine if the session handler needs a request.
         *
         * @return bool
         * @static
         */        public static function handlerNeedsRequest()
        {
                        /** @var \Illuminate\Session\Store $instance */
                        return $instance->handlerNeedsRequest();
        }
                    /**
         * Set the request on the handler instance.
         *
         * @param \Illuminate\Http\Request $request
         * @return void
         * @static
         */        public static function setRequestOnHandler($request)
        {
                        /** @var \Illuminate\Session\Store $instance */
                        $instance->setRequestOnHandler($request);
        }
                    /**
         * Register a custom macro.
         *
         * @param string $name
         * @param object|callable $macro
         * @return void
         * @static
         */        public static function macro($name, $macro)
        {
                        \Illuminate\Session\Store::macro($name, $macro);
        }
                    /**
         * Mix another object into the class.
         *
         * @param object $mixin
         * @param bool $replace
         * @return void
         * @throws \ReflectionException
         * @static
         */        public static function mixin($mixin, $replace = true)
        {
                        \Illuminate\Session\Store::mixin($mixin, $replace);
        }
                    /**
         * Checks if macro is registered.
         *
         * @param string $name
         * @return bool
         * @static
         */        public static function hasMacro($name)
        {
                        return \Illuminate\Session\Store::hasMacro($name);
        }
                    /**
         * Flush the existing macros.
         *
         * @return void
         * @static
         */        public static function flushMacros()
        {
                        \Illuminate\Session\Store::flushMacros();
        }
            }
            /**
     * @method static bool has(string $location)
     * @method static string read(string $location)
     * @method static \League\Flysystem\DirectoryListing listContents(string $location, bool $deep = false)
     * @method static int fileSize(string $path)
     * @method static string visibility(string $path)
     * @method static void write(string $location, string $contents, array $config = [])
     * @method static void createDirectory(string $location, array $config = [])
     * @see \Illuminate\Filesystem\FilesystemManager
     */        class Storage {
                    /**
         * Get a filesystem instance.
         *
         * @param string|null $name
         * @return \Illuminate\Filesystem\FilesystemAdapter
         * @static
         */        public static function drive($name = null)
        {
                        /** @var \Illuminate\Filesystem\FilesystemManager $instance */
                        return $instance->drive($name);
        }
                    /**
         * Get a filesystem instance.
         *
         * @param string|null $name
         * @return \Illuminate\Filesystem\FilesystemAdapter
         * @static
         */        public static function disk($name = null)
        {
                        /** @var \Illuminate\Filesystem\FilesystemManager $instance */
                        return $instance->disk($name);
        }
                    /**
         * Get a default cloud filesystem instance.
         *
         * @return \Illuminate\Filesystem\FilesystemAdapter
         * @static
         */        public static function cloud()
        {
                        /** @var \Illuminate\Filesystem\FilesystemManager $instance */
                        return $instance->cloud();
        }
                    /**
         * Build an on-demand disk.
         *
         * @param string|array $config
         * @return \Illuminate\Filesystem\FilesystemAdapter
         * @static
         */        public static function build($config)
        {
                        /** @var \Illuminate\Filesystem\FilesystemManager $instance */
                        return $instance->build($config);
        }
                    /**
         * Create an instance of the local driver.
         *
         * @param array $config
         * @return \Illuminate\Filesystem\FilesystemAdapter
         * @static
         */        public static function createLocalDriver($config)
        {
                        /** @var \Illuminate\Filesystem\FilesystemManager $instance */
                        return $instance->createLocalDriver($config);
        }
                    /**
         * Create an instance of the ftp driver.
         *
         * @param array $config
         * @return \Illuminate\Filesystem\FilesystemAdapter
         * @static
         */        public static function createFtpDriver($config)
        {
                        /** @var \Illuminate\Filesystem\FilesystemManager $instance */
                        return $instance->createFtpDriver($config);
        }
                    /**
         * Create an instance of the sftp driver.
         *
         * @param array $config
         * @return \Illuminate\Filesystem\FilesystemAdapter
         * @static
         */        public static function createSftpDriver($config)
        {
                        /** @var \Illuminate\Filesystem\FilesystemManager $instance */
                        return $instance->createSftpDriver($config);
        }
                    /**
         * Create an instance of the Amazon S3 driver.
         *
         * @param array $config
         * @return \Illuminate\Contracts\Filesystem\Cloud
         * @static
         */        public static function createS3Driver($config)
        {
                        /** @var \Illuminate\Filesystem\FilesystemManager $instance */
                        return $instance->createS3Driver($config);
        }
                    /**
         * Create a scoped driver.
         *
         * @param array $config
         * @return \Illuminate\Filesystem\FilesystemAdapter
         * @static
         */        public static function createScopedDriver($config)
        {
                        /** @var \Illuminate\Filesystem\FilesystemManager $instance */
                        return $instance->createScopedDriver($config);
        }
                    /**
         * Set the given disk instance.
         *
         * @param string $name
         * @param mixed $disk
         * @return \Illuminate\Filesystem\FilesystemManager
         * @static
         */        public static function set($name, $disk)
        {
                        /** @var \Illuminate\Filesystem\FilesystemManager $instance */
                        return $instance->set($name, $disk);
        }
                    /**
         * Get the default driver name.
         *
         * @return string
         * @static
         */        public static function getDefaultDriver()
        {
                        /** @var \Illuminate\Filesystem\FilesystemManager $instance */
                        return $instance->getDefaultDriver();
        }
                    /**
         * Get the default cloud driver name.
         *
         * @return string
         * @static
         */        public static function getDefaultCloudDriver()
        {
                        /** @var \Illuminate\Filesystem\FilesystemManager $instance */
                        return $instance->getDefaultCloudDriver();
        }
                    /**
         * Unset the given disk instances.
         *
         * @param array|string $disk
         * @return \Illuminate\Filesystem\FilesystemManager
         * @static
         */        public static function forgetDisk($disk)
        {
                        /** @var \Illuminate\Filesystem\FilesystemManager $instance */
                        return $instance->forgetDisk($disk);
        }
                    /**
         * Disconnect the given disk and remove from local cache.
         *
         * @param string|null $name
         * @return void
         * @static
         */        public static function purge($name = null)
        {
                        /** @var \Illuminate\Filesystem\FilesystemManager $instance */
                        $instance->purge($name);
        }
                    /**
         * Register a custom driver creator Closure.
         *
         * @param string $driver
         * @param \Closure $callback
         * @return \Illuminate\Filesystem\FilesystemManager
         * @static
         */        public static function extend($driver, $callback)
        {
                        /** @var \Illuminate\Filesystem\FilesystemManager $instance */
                        return $instance->extend($driver, $callback);
        }
                    /**
         * Set the application instance used by the manager.
         *
         * @param \Illuminate\Contracts\Foundation\Application $app
         * @return \Illuminate\Filesystem\FilesystemManager
         * @static
         */        public static function setApplication($app)
        {
                        /** @var \Illuminate\Filesystem\FilesystemManager $instance */
                        return $instance->setApplication($app);
        }
                    /**
         * Assert that the given file or directory exists.
         *
         * @param string|array $path
         * @param string|null $content
         * @return \Illuminate\Filesystem\FilesystemAdapter
         * @static
         */        public static function assertExists($path, $content = null)
        {
                        /** @var \Illuminate\Filesystem\FilesystemAdapter $instance */
                        return $instance->assertExists($path, $content);
        }
                    /**
         * Assert that the given file or directory does not exist.
         *
         * @param string|array $path
         * @return \Illuminate\Filesystem\FilesystemAdapter
         * @static
         */        public static function assertMissing($path)
        {
                        /** @var \Illuminate\Filesystem\FilesystemAdapter $instance */
                        return $instance->assertMissing($path);
        }
                    /**
         * Assert that the given directory is empty.
         *
         * @param string $path
         * @return \Illuminate\Filesystem\FilesystemAdapter
         * @static
         */        public static function assertDirectoryEmpty($path)
        {
                        /** @var \Illuminate\Filesystem\FilesystemAdapter $instance */
                        return $instance->assertDirectoryEmpty($path);
        }
                    /**
         * Determine if a file or directory exists.
         *
         * @param string $path
         * @return bool
         * @static
         */        public static function exists($path)
        {
                        /** @var \Illuminate\Filesystem\FilesystemAdapter $instance */
                        return $instance->exists($path);
        }
                    /**
         * Determine if a file or directory is missing.
         *
         * @param string $path
         * @return bool
         * @static
         */        public static function missing($path)
        {
                        /** @var \Illuminate\Filesystem\FilesystemAdapter $instance */
                        return $instance->missing($path);
        }
                    /**
         * Determine if a file exists.
         *
         * @param string $path
         * @return bool
         * @static
         */        public static function fileExists($path)
        {
                        /** @var \Illuminate\Filesystem\FilesystemAdapter $instance */
                        return $instance->fileExists($path);
        }
                    /**
         * Determine if a file is missing.
         *
         * @param string $path
         * @return bool
         * @static
         */        public static function fileMissing($path)
        {
                        /** @var \Illuminate\Filesystem\FilesystemAdapter $instance */
                        return $instance->fileMissing($path);
        }
                    /**
         * Determine if a directory exists.
         *
         * @param string $path
         * @return bool
         * @static
         */        public static function directoryExists($path)
        {
                        /** @var \Illuminate\Filesystem\FilesystemAdapter $instance */
                        return $instance->directoryExists($path);
        }
                    /**
         * Determine if a directory is missing.
         *
         * @param string $path
         * @return bool
         * @static
         */        public static function directoryMissing($path)
        {
                        /** @var \Illuminate\Filesystem\FilesystemAdapter $instance */
                        return $instance->directoryMissing($path);
        }
                    /**
         * Get the full path for the file at the given "short" path.
         *
         * @param string $path
         * @return string
         * @static
         */        public static function path($path)
        {
                        /** @var \Illuminate\Filesystem\FilesystemAdapter $instance */
                        return $instance->path($path);
        }
                    /**
         * Get the contents of a file.
         *
         * @param string $path
         * @return string|null
         * @static
         */        public static function get($path)
        {
                        /** @var \Illuminate\Filesystem\FilesystemAdapter $instance */
                        return $instance->get($path);
        }
                    /**
         * Create a streamed response for a given file.
         *
         * @param string $path
         * @param string|null $name
         * @param array $headers
         * @param string|null $disposition
         * @return \Symfony\Component\HttpFoundation\StreamedResponse
         * @static
         */        public static function response($path, $name = null, $headers = [], $disposition = 'inline')
        {
                        /** @var \Illuminate\Filesystem\FilesystemAdapter $instance */
                        return $instance->response($path, $name, $headers, $disposition);
        }
                    /**
         * Create a streamed download response for a given file.
         *
         * @param string $path
         * @param string|null $name
         * @return \Symfony\Component\HttpFoundation\StreamedResponse
         * @static
         */        public static function download($path, $name = null, $headers = [])
        {
                        /** @var \Illuminate\Filesystem\FilesystemAdapter $instance */
                        return $instance->download($path, $name, $headers);
        }
                    /**
         * Write the contents of a file.
         *
         * @param string $path
         * @param \Psr\Http\Message\StreamInterface|\Illuminate\Http\File|\Illuminate\Http\UploadedFile|string|resource $contents
         * @param mixed $options
         * @return string|bool
         * @static
         */        public static function put($path, $contents, $options = [])
        {
                        /** @var \Illuminate\Filesystem\FilesystemAdapter $instance */
                        return $instance->put($path, $contents, $options);
        }
                    /**
         * Store the uploaded file on the disk.
         *
         * @param string $path
         * @param \Illuminate\Http\File|\Illuminate\Http\UploadedFile|string $file
         * @param mixed $options
         * @return string|false
         * @static
         */        public static function putFile($path, $file, $options = [])
        {
                        /** @var \Illuminate\Filesystem\FilesystemAdapter $instance */
                        return $instance->putFile($path, $file, $options);
        }
                    /**
         * Store the uploaded file on the disk with a given name.
         *
         * @param string $path
         * @param \Illuminate\Http\File|\Illuminate\Http\UploadedFile|string $file
         * @param string $name
         * @param mixed $options
         * @return string|false
         * @static
         */        public static function putFileAs($path, $file, $name, $options = [])
        {
                        /** @var \Illuminate\Filesystem\FilesystemAdapter $instance */
                        return $instance->putFileAs($path, $file, $name, $options);
        }
                    /**
         * Get the visibility for the given path.
         *
         * @param string $path
         * @return string
         * @static
         */        public static function getVisibility($path)
        {
                        /** @var \Illuminate\Filesystem\FilesystemAdapter $instance */
                        return $instance->getVisibility($path);
        }
                    /**
         * Set the visibility for the given path.
         *
         * @param string $path
         * @param string $visibility
         * @return bool
         * @static
         */        public static function setVisibility($path, $visibility)
        {
                        /** @var \Illuminate\Filesystem\FilesystemAdapter $instance */
                        return $instance->setVisibility($path, $visibility);
        }
                    /**
         * Prepend to a file.
         *
         * @param string $path
         * @param string $data
         * @param string $separator
         * @return bool
         * @static
         */        public static function prepend($path, $data, $separator = '
')
        {
                        /** @var \Illuminate\Filesystem\FilesystemAdapter $instance */
                        return $instance->prepend($path, $data, $separator);
        }
                    /**
         * Append to a file.
         *
         * @param string $path
         * @param string $data
         * @param string $separator
         * @return bool
         * @static
         */        public static function append($path, $data, $separator = '
')
        {
                        /** @var \Illuminate\Filesystem\FilesystemAdapter $instance */
                        return $instance->append($path, $data, $separator);
        }
                    /**
         * Delete the file at a given path.
         *
         * @param string|array $paths
         * @return bool
         * @static
         */        public static function delete($paths)
        {
                        /** @var \Illuminate\Filesystem\FilesystemAdapter $instance */
                        return $instance->delete($paths);
        }
                    /**
         * Copy a file to a new location.
         *
         * @param string $from
         * @param string $to
         * @return bool
         * @static
         */        public static function copy($from, $to)
        {
                        /** @var \Illuminate\Filesystem\FilesystemAdapter $instance */
                        return $instance->copy($from, $to);
        }
                    /**
         * Move a file to a new location.
         *
         * @param string $from
         * @param string $to
         * @return bool
         * @static
         */        public static function move($from, $to)
        {
                        /** @var \Illuminate\Filesystem\FilesystemAdapter $instance */
                        return $instance->move($from, $to);
        }
                    /**
         * Get the file size of a given file.
         *
         * @param string $path
         * @return int
         * @static
         */        public static function size($path)
        {
                        /** @var \Illuminate\Filesystem\FilesystemAdapter $instance */
                        return $instance->size($path);
        }
                    /**
         * Get the checksum for a file.
         *
         * @return string|false
         * @throws UnableToProvideChecksum
         * @static
         */        public static function checksum($path, $options = [])
        {
                        /** @var \Illuminate\Filesystem\FilesystemAdapter $instance */
                        return $instance->checksum($path, $options);
        }
                    /**
         * Get the mime-type of a given file.
         *
         * @param string $path
         * @return string|false
         * @static
         */        public static function mimeType($path)
        {
                        /** @var \Illuminate\Filesystem\FilesystemAdapter $instance */
                        return $instance->mimeType($path);
        }
                    /**
         * Get the file's last modification time.
         *
         * @param string $path
         * @return int
         * @static
         */        public static function lastModified($path)
        {
                        /** @var \Illuminate\Filesystem\FilesystemAdapter $instance */
                        return $instance->lastModified($path);
        }
                    /**
         * Get a resource to read the file.
         *
         * @param string $path
         * @return resource|null The path resource or null on failure.
         * @static
         */        public static function readStream($path)
        {
                        /** @var \Illuminate\Filesystem\FilesystemAdapter $instance */
                        return $instance->readStream($path);
        }
                    /**
         * Write a new file using a stream.
         *
         * @param string $path
         * @param resource $resource
         * @param array $options
         * @return bool
         * @static
         */        public static function writeStream($path, $resource, $options = [])
        {
                        /** @var \Illuminate\Filesystem\FilesystemAdapter $instance */
                        return $instance->writeStream($path, $resource, $options);
        }
                    /**
         * Get the URL for the file at the given path.
         *
         * @param string $path
         * @return string
         * @throws \RuntimeException
         * @static
         */        public static function url($path)
        {
                        /** @var \Illuminate\Filesystem\FilesystemAdapter $instance */
                        return $instance->url($path);
        }
                    /**
         * Determine if temporary URLs can be generated.
         *
         * @return bool
         * @static
         */        public static function providesTemporaryUrls()
        {
                        /** @var \Illuminate\Filesystem\FilesystemAdapter $instance */
                        return $instance->providesTemporaryUrls();
        }
                    /**
         * Get a temporary URL for the file at the given path.
         *
         * @param string $path
         * @param \DateTimeInterface $expiration
         * @param array $options
         * @return string
         * @throws \RuntimeException
         * @static
         */        public static function temporaryUrl($path, $expiration, $options = [])
        {
                        /** @var \Illuminate\Filesystem\FilesystemAdapter $instance */
                        return $instance->temporaryUrl($path, $expiration, $options);
        }
                    /**
         * Get a temporary upload URL for the file at the given path.
         *
         * @param string $path
         * @param \DateTimeInterface $expiration
         * @param array $options
         * @return array
         * @throws \RuntimeException
         * @static
         */        public static function temporaryUploadUrl($path, $expiration, $options = [])
        {
                        /** @var \Illuminate\Filesystem\FilesystemAdapter $instance */
                        return $instance->temporaryUploadUrl($path, $expiration, $options);
        }
                    /**
         * Get an array of all files in a directory.
         *
         * @param string|null $directory
         * @param bool $recursive
         * @return array
         * @static
         */        public static function files($directory = null, $recursive = false)
        {
                        /** @var \Illuminate\Filesystem\FilesystemAdapter $instance */
                        return $instance->files($directory, $recursive);
        }
                    /**
         * Get all of the files from the given directory (recursive).
         *
         * @param string|null $directory
         * @return array
         * @static
         */        public static function allFiles($directory = null)
        {
                        /** @var \Illuminate\Filesystem\FilesystemAdapter $instance */
                        return $instance->allFiles($directory);
        }
                    /**
         * Get all of the directories within a given directory.
         *
         * @param string|null $directory
         * @param bool $recursive
         * @return array
         * @static
         */        public static function directories($directory = null, $recursive = false)
        {
                        /** @var \Illuminate\Filesystem\FilesystemAdapter $instance */
                        return $instance->directories($directory, $recursive);
        }
                    /**
         * Get all the directories within a given directory (recursive).
         *
         * @param string|null $directory
         * @return array
         * @static
         */        public static function allDirectories($directory = null)
        {
                        /** @var \Illuminate\Filesystem\FilesystemAdapter $instance */
                        return $instance->allDirectories($directory);
        }
                    /**
         * Create a directory.
         *
         * @param string $path
         * @return bool
         * @static
         */        public static function makeDirectory($path)
        {
                        /** @var \Illuminate\Filesystem\FilesystemAdapter $instance */
                        return $instance->makeDirectory($path);
        }
                    /**
         * Recursively delete a directory.
         *
         * @param string $directory
         * @return bool
         * @static
         */        public static function deleteDirectory($directory)
        {
                        /** @var \Illuminate\Filesystem\FilesystemAdapter $instance */
                        return $instance->deleteDirectory($directory);
        }
                    /**
         * Get the Flysystem driver.
         *
         * @return \League\Flysystem\FilesystemOperator
         * @static
         */        public static function getDriver()
        {
                        /** @var \Illuminate\Filesystem\FilesystemAdapter $instance */
                        return $instance->getDriver();
        }
                    /**
         * Get the Flysystem adapter.
         *
         * @return \League\Flysystem\FilesystemAdapter
         * @static
         */        public static function getAdapter()
        {
                        /** @var \Illuminate\Filesystem\FilesystemAdapter $instance */
                        return $instance->getAdapter();
        }
                    /**
         * Get the configuration values.
         *
         * @return array
         * @static
         */        public static function getConfig()
        {
                        /** @var \Illuminate\Filesystem\FilesystemAdapter $instance */
                        return $instance->getConfig();
        }
                    /**
         * Define a custom temporary URL builder callback.
         *
         * @param \Closure $callback
         * @return void
         * @static
         */        public static function buildTemporaryUrlsUsing($callback)
        {
                        /** @var \Illuminate\Filesystem\FilesystemAdapter $instance */
                        $instance->buildTemporaryUrlsUsing($callback);
        }
                    /**
         * Apply the callback if the given "value" is (or resolves to) truthy.
         *
         * @template TWhenParameter
         * @template TWhenReturnType
         * @param (\Closure($this): TWhenParameter)|TWhenParameter|null $value
         * @param (callable($this, TWhenParameter): TWhenReturnType)|null $callback
         * @param (callable($this, TWhenParameter): TWhenReturnType)|null $default
         * @return $this|TWhenReturnType
         * @static
         */        public static function when($value = null, $callback = null, $default = null)
        {
                        /** @var \Illuminate\Filesystem\FilesystemAdapter $instance */
                        return $instance->when($value, $callback, $default);
        }
                    /**
         * Apply the callback if the given "value" is (or resolves to) falsy.
         *
         * @template TUnlessParameter
         * @template TUnlessReturnType
         * @param (\Closure($this): TUnlessParameter)|TUnlessParameter|null $value
         * @param (callable($this, TUnlessParameter): TUnlessReturnType)|null $callback
         * @param (callable($this, TUnlessParameter): TUnlessReturnType)|null $default
         * @return $this|TUnlessReturnType
         * @static
         */        public static function unless($value = null, $callback = null, $default = null)
        {
                        /** @var \Illuminate\Filesystem\FilesystemAdapter $instance */
                        return $instance->unless($value, $callback, $default);
        }
                    /**
         * Register a custom macro.
         *
         * @param string $name
         * @param object|callable $macro
         * @return void
         * @static
         */        public static function macro($name, $macro)
        {
                        \Illuminate\Filesystem\FilesystemAdapter::macro($name, $macro);
        }
                    /**
         * Mix another object into the class.
         *
         * @param object $mixin
         * @param bool $replace
         * @return void
         * @throws \ReflectionException
         * @static
         */        public static function mixin($mixin, $replace = true)
        {
                        \Illuminate\Filesystem\FilesystemAdapter::mixin($mixin, $replace);
        }
                    /**
         * Checks if macro is registered.
         *
         * @param string $name
         * @return bool
         * @static
         */        public static function hasMacro($name)
        {
                        return \Illuminate\Filesystem\FilesystemAdapter::hasMacro($name);
        }
                    /**
         * Flush the existing macros.
         *
         * @return void
         * @static
         */        public static function flushMacros()
        {
                        \Illuminate\Filesystem\FilesystemAdapter::flushMacros();
        }
                    /**
         * Dynamically handle calls to the class.
         *
         * @param string $method
         * @param array $parameters
         * @return mixed
         * @throws \BadMethodCallException
         * @static
         */        public static function macroCall($method, $parameters)
        {
                        /** @var \Illuminate\Filesystem\FilesystemAdapter $instance */
                        return $instance->macroCall($method, $parameters);
        }
            }
            /**
     * @see \Illuminate\Routing\UrlGenerator
     */        class URL {
                    /**
         * Get the full URL for the current request.
         *
         * @return string
         * @static
         */        public static function full()
        {
                        /** @var \Illuminate\Routing\UrlGenerator $instance */
                        return $instance->full();
        }
                    /**
         * Get the current URL for the request.
         *
         * @return string
         * @static
         */        public static function current()
        {
                        /** @var \Illuminate\Routing\UrlGenerator $instance */
                        return $instance->current();
        }
                    /**
         * Get the URL for the previous request.
         *
         * @param mixed $fallback
         * @return string
         * @static
         */        public static function previous($fallback = false)
        {
                        /** @var \Illuminate\Routing\UrlGenerator $instance */
                        return $instance->previous($fallback);
        }
                    /**
         * Get the previous path info for the request.
         *
         * @param mixed $fallback
         * @return string
         * @static
         */        public static function previousPath($fallback = false)
        {
                        /** @var \Illuminate\Routing\UrlGenerator $instance */
                        return $instance->previousPath($fallback);
        }
                    /**
         * Generate an absolute URL to the given path.
         *
         * @param string $path
         * @param mixed $extra
         * @param bool|null $secure
         * @return string
         * @static
         */        public static function to($path, $extra = [], $secure = null)
        {
                        /** @var \Illuminate\Routing\UrlGenerator $instance */
                        return $instance->to($path, $extra, $secure);
        }
                    /**
         * Generate a secure, absolute URL to the given path.
         *
         * @param string $path
         * @param array $parameters
         * @return string
         * @static
         */        public static function secure($path, $parameters = [])
        {
                        /** @var \Illuminate\Routing\UrlGenerator $instance */
                        return $instance->secure($path, $parameters);
        }
                    /**
         * Generate the URL to an application asset.
         *
         * @param string $path
         * @param bool|null $secure
         * @return string
         * @static
         */        public static function asset($path, $secure = null)
        {
                        /** @var \Illuminate\Routing\UrlGenerator $instance */
                        return $instance->asset($path, $secure);
        }
                    /**
         * Generate the URL to a secure asset.
         *
         * @param string $path
         * @return string
         * @static
         */        public static function secureAsset($path)
        {
                        /** @var \Illuminate\Routing\UrlGenerator $instance */
                        return $instance->secureAsset($path);
        }
                    /**
         * Generate the URL to an asset from a custom root domain such as CDN, etc.
         *
         * @param string $root
         * @param string $path
         * @param bool|null $secure
         * @return string
         * @static
         */        public static function assetFrom($root, $path, $secure = null)
        {
                        /** @var \Illuminate\Routing\UrlGenerator $instance */
                        return $instance->assetFrom($root, $path, $secure);
        }
                    /**
         * Get the default scheme for a raw URL.
         *
         * @param bool|null $secure
         * @return string
         * @static
         */        public static function formatScheme($secure = null)
        {
                        /** @var \Illuminate\Routing\UrlGenerator $instance */
                        return $instance->formatScheme($secure);
        }
                    /**
         * Create a signed route URL for a named route.
         *
         * @param string $name
         * @param mixed $parameters
         * @param \DateTimeInterface|\DateInterval|int|null $expiration
         * @param bool $absolute
         * @return string
         * @throws \InvalidArgumentException
         * @static
         */        public static function signedRoute($name, $parameters = [], $expiration = null, $absolute = true)
        {
                        /** @var \Illuminate\Routing\UrlGenerator $instance */
                        return $instance->signedRoute($name, $parameters, $expiration, $absolute);
        }
                    /**
         * Create a temporary signed route URL for a named route.
         *
         * @param string $name
         * @param \DateTimeInterface|\DateInterval|int $expiration
         * @param array $parameters
         * @param bool $absolute
         * @return string
         * @static
         */        public static function temporarySignedRoute($name, $expiration, $parameters = [], $absolute = true)
        {
                        /** @var \Illuminate\Routing\UrlGenerator $instance */
                        return $instance->temporarySignedRoute($name, $expiration, $parameters, $absolute);
        }
                    /**
         * Determine if the given request has a valid signature.
         *
         * @param \Illuminate\Http\Request $request
         * @param bool $absolute
         * @param array $ignoreQuery
         * @return bool
         * @static
         */        public static function hasValidSignature($request, $absolute = true, $ignoreQuery = [])
        {
                        /** @var \Illuminate\Routing\UrlGenerator $instance */
                        return $instance->hasValidSignature($request, $absolute, $ignoreQuery);
        }
                    /**
         * Determine if the given request has a valid signature for a relative URL.
         *
         * @param \Illuminate\Http\Request $request
         * @param array $ignoreQuery
         * @return bool
         * @static
         */        public static function hasValidRelativeSignature($request, $ignoreQuery = [])
        {
                        /** @var \Illuminate\Routing\UrlGenerator $instance */
                        return $instance->hasValidRelativeSignature($request, $ignoreQuery);
        }
                    /**
         * Determine if the signature from the given request matches the URL.
         *
         * @param \Illuminate\Http\Request $request
         * @param bool $absolute
         * @param array $ignoreQuery
         * @return bool
         * @static
         */        public static function hasCorrectSignature($request, $absolute = true, $ignoreQuery = [])
        {
                        /** @var \Illuminate\Routing\UrlGenerator $instance */
                        return $instance->hasCorrectSignature($request, $absolute, $ignoreQuery);
        }
                    /**
         * Determine if the expires timestamp from the given request is not from the past.
         *
         * @param \Illuminate\Http\Request $request
         * @return bool
         * @static
         */        public static function signatureHasNotExpired($request)
        {
                        /** @var \Illuminate\Routing\UrlGenerator $instance */
                        return $instance->signatureHasNotExpired($request);
        }
                    /**
         * Get the URL to a named route.
         *
         * @param string $name
         * @param mixed $parameters
         * @param bool $absolute
         * @return string
         * @throws \Symfony\Component\Routing\Exception\RouteNotFoundException
         * @static
         */        public static function route($name, $parameters = [], $absolute = true)
        {
                        /** @var \Illuminate\Routing\UrlGenerator $instance */
                        return $instance->route($name, $parameters, $absolute);
        }
                    /**
         * Get the URL for a given route instance.
         *
         * @param \Illuminate\Routing\Route $route
         * @param mixed $parameters
         * @param bool $absolute
         * @return string
         * @throws \Illuminate\Routing\Exceptions\UrlGenerationException
         * @static
         */        public static function toRoute($route, $parameters, $absolute)
        {
                        /** @var \Illuminate\Routing\UrlGenerator $instance */
                        return $instance->toRoute($route, $parameters, $absolute);
        }
                    /**
         * Get the URL to a controller action.
         *
         * @param string|array $action
         * @param mixed $parameters
         * @param bool $absolute
         * @return string
         * @throws \InvalidArgumentException
         * @static
         */        public static function action($action, $parameters = [], $absolute = true)
        {
                        /** @var \Illuminate\Routing\UrlGenerator $instance */
                        return $instance->action($action, $parameters, $absolute);
        }
                    /**
         * Format the array of URL parameters.
         *
         * @param mixed|array $parameters
         * @return array
         * @static
         */        public static function formatParameters($parameters)
        {
                        /** @var \Illuminate\Routing\UrlGenerator $instance */
                        return $instance->formatParameters($parameters);
        }
                    /**
         * Get the base URL for the request.
         *
         * @param string $scheme
         * @param string|null $root
         * @return string
         * @static
         */        public static function formatRoot($scheme, $root = null)
        {
                        /** @var \Illuminate\Routing\UrlGenerator $instance */
                        return $instance->formatRoot($scheme, $root);
        }
                    /**
         * Format the given URL segments into a single URL.
         *
         * @param string $root
         * @param string $path
         * @param \Illuminate\Routing\Route|null $route
         * @return string
         * @static
         */        public static function format($root, $path, $route = null)
        {
                        /** @var \Illuminate\Routing\UrlGenerator $instance */
                        return $instance->format($root, $path, $route);
        }
                    /**
         * Determine if the given path is a valid URL.
         *
         * @param string $path
         * @return bool
         * @static
         */        public static function isValidUrl($path)
        {
                        /** @var \Illuminate\Routing\UrlGenerator $instance */
                        return $instance->isValidUrl($path);
        }
                    /**
         * Set the default named parameters used by the URL generator.
         *
         * @param array $defaults
         * @return void
         * @static
         */        public static function defaults($defaults)
        {
                        /** @var \Illuminate\Routing\UrlGenerator $instance */
                        $instance->defaults($defaults);
        }
                    /**
         * Get the default named parameters used by the URL generator.
         *
         * @return array
         * @static
         */        public static function getDefaultParameters()
        {
                        /** @var \Illuminate\Routing\UrlGenerator $instance */
                        return $instance->getDefaultParameters();
        }
                    /**
         * Force the scheme for URLs.
         *
         * @param string|null $scheme
         * @return void
         * @static
         */        public static function forceScheme($scheme)
        {
                        /** @var \Illuminate\Routing\UrlGenerator $instance */
                        $instance->forceScheme($scheme);
        }
                    /**
         * Set the forced root URL.
         *
         * @param string|null $root
         * @return void
         * @static
         */        public static function forceRootUrl($root)
        {
                        /** @var \Illuminate\Routing\UrlGenerator $instance */
                        $instance->forceRootUrl($root);
        }
                    /**
         * Set a callback to be used to format the host of generated URLs.
         *
         * @param \Closure $callback
         * @return \Illuminate\Routing\UrlGenerator
         * @static
         */        public static function formatHostUsing($callback)
        {
                        /** @var \Illuminate\Routing\UrlGenerator $instance */
                        return $instance->formatHostUsing($callback);
        }
                    /**
         * Set a callback to be used to format the path of generated URLs.
         *
         * @param \Closure $callback
         * @return \Illuminate\Routing\UrlGenerator
         * @static
         */        public static function formatPathUsing($callback)
        {
                        /** @var \Illuminate\Routing\UrlGenerator $instance */
                        return $instance->formatPathUsing($callback);
        }
                    /**
         * Get the path formatter being used by the URL generator.
         *
         * @return \Closure
         * @static
         */        public static function pathFormatter()
        {
                        /** @var \Illuminate\Routing\UrlGenerator $instance */
                        return $instance->pathFormatter();
        }
                    /**
         * Get the request instance.
         *
         * @return \Illuminate\Http\Request
         * @static
         */        public static function getRequest()
        {
                        /** @var \Illuminate\Routing\UrlGenerator $instance */
                        return $instance->getRequest();
        }
                    /**
         * Set the current request instance.
         *
         * @param \Illuminate\Http\Request $request
         * @return void
         * @static
         */        public static function setRequest($request)
        {
                        /** @var \Illuminate\Routing\UrlGenerator $instance */
                        $instance->setRequest($request);
        }
                    /**
         * Set the route collection.
         *
         * @param \Illuminate\Routing\RouteCollectionInterface $routes
         * @return \Illuminate\Routing\UrlGenerator
         * @static
         */        public static function setRoutes($routes)
        {
                        /** @var \Illuminate\Routing\UrlGenerator $instance */
                        return $instance->setRoutes($routes);
        }
                    /**
         * Set the session resolver for the generator.
         *
         * @param callable $sessionResolver
         * @return \Illuminate\Routing\UrlGenerator
         * @static
         */        public static function setSessionResolver($sessionResolver)
        {
                        /** @var \Illuminate\Routing\UrlGenerator $instance */
                        return $instance->setSessionResolver($sessionResolver);
        }
                    /**
         * Set the encryption key resolver.
         *
         * @param callable $keyResolver
         * @return \Illuminate\Routing\UrlGenerator
         * @static
         */        public static function setKeyResolver($keyResolver)
        {
                        /** @var \Illuminate\Routing\UrlGenerator $instance */
                        return $instance->setKeyResolver($keyResolver);
        }
                    /**
         * Clone a new instance of the URL generator with a different encryption key resolver.
         *
         * @param callable $keyResolver
         * @return \Illuminate\Routing\UrlGenerator
         * @static
         */        public static function withKeyResolver($keyResolver)
        {
                        /** @var \Illuminate\Routing\UrlGenerator $instance */
                        return $instance->withKeyResolver($keyResolver);
        }
                    /**
         * Get the root controller namespace.
         *
         * @return string
         * @static
         */        public static function getRootControllerNamespace()
        {
                        /** @var \Illuminate\Routing\UrlGenerator $instance */
                        return $instance->getRootControllerNamespace();
        }
                    /**
         * Set the root controller namespace.
         *
         * @param string $rootNamespace
         * @return \Illuminate\Routing\UrlGenerator
         * @static
         */        public static function setRootControllerNamespace($rootNamespace)
        {
                        /** @var \Illuminate\Routing\UrlGenerator $instance */
                        return $instance->setRootControllerNamespace($rootNamespace);
        }
                    /**
         * Register a custom macro.
         *
         * @param string $name
         * @param object|callable $macro
         * @return void
         * @static
         */        public static function macro($name, $macro)
        {
                        \Illuminate\Routing\UrlGenerator::macro($name, $macro);
        }
                    /**
         * Mix another object into the class.
         *
         * @param object $mixin
         * @param bool $replace
         * @return void
         * @throws \ReflectionException
         * @static
         */        public static function mixin($mixin, $replace = true)
        {
                        \Illuminate\Routing\UrlGenerator::mixin($mixin, $replace);
        }
                    /**
         * Checks if macro is registered.
         *
         * @param string $name
         * @return bool
         * @static
         */        public static function hasMacro($name)
        {
                        return \Illuminate\Routing\UrlGenerator::hasMacro($name);
        }
                    /**
         * Flush the existing macros.
         *
         * @return void
         * @static
         */        public static function flushMacros()
        {
                        \Illuminate\Routing\UrlGenerator::flushMacros();
        }
            }
            /**
     * @see \Illuminate\Validation\Factory
     */        class Validator {
                    /**
         * Create a new Validator instance.
         *
         * @param array $data
         * @param array $rules
         * @param array $messages
         * @param array $customAttributes
         * @return \Illuminate\Validation\Validator
         * @static
         */        public static function make($data, $rules, $messages = [], $customAttributes = [])
        {
                        /** @var \Illuminate\Validation\Factory $instance */
                        return $instance->make($data, $rules, $messages, $customAttributes);
        }
                    /**
         * Validate the given data against the provided rules.
         *
         * @param array $data
         * @param array $rules
         * @param array $messages
         * @param array $customAttributes
         * @return array
         * @throws \Illuminate\Validation\ValidationException
         * @static
         */        public static function validate($data, $rules, $messages = [], $customAttributes = [])
        {
                        /** @var \Illuminate\Validation\Factory $instance */
                        return $instance->validate($data, $rules, $messages, $customAttributes);
        }
                    /**
         * Register a custom validator extension.
         *
         * @param string $rule
         * @param \Closure|string $extension
         * @param string|null $message
         * @return void
         * @static
         */        public static function extend($rule, $extension, $message = null)
        {
                        /** @var \Illuminate\Validation\Factory $instance */
                        $instance->extend($rule, $extension, $message);
        }
                    /**
         * Register a custom implicit validator extension.
         *
         * @param string $rule
         * @param \Closure|string $extension
         * @param string|null $message
         * @return void
         * @static
         */        public static function extendImplicit($rule, $extension, $message = null)
        {
                        /** @var \Illuminate\Validation\Factory $instance */
                        $instance->extendImplicit($rule, $extension, $message);
        }
                    /**
         * Register a custom dependent validator extension.
         *
         * @param string $rule
         * @param \Closure|string $extension
         * @param string|null $message
         * @return void
         * @static
         */        public static function extendDependent($rule, $extension, $message = null)
        {
                        /** @var \Illuminate\Validation\Factory $instance */
                        $instance->extendDependent($rule, $extension, $message);
        }
                    /**
         * Register a custom validator message replacer.
         *
         * @param string $rule
         * @param \Closure|string $replacer
         * @return void
         * @static
         */        public static function replacer($rule, $replacer)
        {
                        /** @var \Illuminate\Validation\Factory $instance */
                        $instance->replacer($rule, $replacer);
        }
                    /**
         * Indicate that unvalidated array keys should be included in validated data when the parent array is validated.
         *
         * @return void
         * @static
         */        public static function includeUnvalidatedArrayKeys()
        {
                        /** @var \Illuminate\Validation\Factory $instance */
                        $instance->includeUnvalidatedArrayKeys();
        }
                    /**
         * Indicate that unvalidated array keys should be excluded from the validated data, even if the parent array was validated.
         *
         * @return void
         * @static
         */        public static function excludeUnvalidatedArrayKeys()
        {
                        /** @var \Illuminate\Validation\Factory $instance */
                        $instance->excludeUnvalidatedArrayKeys();
        }
                    /**
         * Set the Validator instance resolver.
         *
         * @param \Closure $resolver
         * @return void
         * @static
         */        public static function resolver($resolver)
        {
                        /** @var \Illuminate\Validation\Factory $instance */
                        $instance->resolver($resolver);
        }
                    /**
         * Get the Translator implementation.
         *
         * @return \Illuminate\Contracts\Translation\Translator
         * @static
         */        public static function getTranslator()
        {
                        /** @var \Illuminate\Validation\Factory $instance */
                        return $instance->getTranslator();
        }
                    /**
         * Get the Presence Verifier implementation.
         *
         * @return \Illuminate\Validation\PresenceVerifierInterface
         * @static
         */        public static function getPresenceVerifier()
        {
                        /** @var \Illuminate\Validation\Factory $instance */
                        return $instance->getPresenceVerifier();
        }
                    /**
         * Set the Presence Verifier implementation.
         *
         * @param \Illuminate\Validation\PresenceVerifierInterface $presenceVerifier
         * @return void
         * @static
         */        public static function setPresenceVerifier($presenceVerifier)
        {
                        /** @var \Illuminate\Validation\Factory $instance */
                        $instance->setPresenceVerifier($presenceVerifier);
        }
                    /**
         * Get the container instance used by the validation factory.
         *
         * @return \Illuminate\Contracts\Container\Container|null
         * @static
         */        public static function getContainer()
        {
                        /** @var \Illuminate\Validation\Factory $instance */
                        return $instance->getContainer();
        }
                    /**
         * Set the container instance used by the validation factory.
         *
         * @param \Illuminate\Contracts\Container\Container $container
         * @return \Illuminate\Validation\Factory
         * @static
         */        public static function setContainer($container)
        {
                        /** @var \Illuminate\Validation\Factory $instance */
                        return $instance->setContainer($container);
        }
            }
            /**
     * @see \Illuminate\View\Factory
     */        class View {
                    /**
         * Get the evaluated view contents for the given view.
         *
         * @param string $path
         * @param \Illuminate\Contracts\Support\Arrayable|array $data
         * @param array $mergeData
         * @return \Illuminate\Contracts\View\View
         * @static
         */        public static function file($path, $data = [], $mergeData = [])
        {
                        /** @var \Illuminate\View\Factory $instance */
                        return $instance->file($path, $data, $mergeData);
        }
                    /**
         * Get the evaluated view contents for the given view.
         *
         * @param string $view
         * @param \Illuminate\Contracts\Support\Arrayable|array $data
         * @param array $mergeData
         * @return \Illuminate\Contracts\View\View
         * @static
         */        public static function make($view, $data = [], $mergeData = [])
        {
                        /** @var \Illuminate\View\Factory $instance */
                        return $instance->make($view, $data, $mergeData);
        }
                    /**
         * Get the first view that actually exists from the given list.
         *
         * @param array $views
         * @param \Illuminate\Contracts\Support\Arrayable|array $data
         * @param array $mergeData
         * @return \Illuminate\Contracts\View\View
         * @throws \InvalidArgumentException
         * @static
         */        public static function first($views, $data = [], $mergeData = [])
        {
                        /** @var \Illuminate\View\Factory $instance */
                        return $instance->first($views, $data, $mergeData);
        }
                    /**
         * Get the rendered content of the view based on a given condition.
         *
         * @param bool $condition
         * @param string $view
         * @param \Illuminate\Contracts\Support\Arrayable|array $data
         * @param array $mergeData
         * @return string
         * @static
         */        public static function renderWhen($condition, $view, $data = [], $mergeData = [])
        {
                        /** @var \Illuminate\View\Factory $instance */
                        return $instance->renderWhen($condition, $view, $data, $mergeData);
        }
                    /**
         * Get the rendered content of the view based on the negation of a given condition.
         *
         * @param bool $condition
         * @param string $view
         * @param \Illuminate\Contracts\Support\Arrayable|array $data
         * @param array $mergeData
         * @return string
         * @static
         */        public static function renderUnless($condition, $view, $data = [], $mergeData = [])
        {
                        /** @var \Illuminate\View\Factory $instance */
                        return $instance->renderUnless($condition, $view, $data, $mergeData);
        }
                    /**
         * Get the rendered contents of a partial from a loop.
         *
         * @param string $view
         * @param array $data
         * @param string $iterator
         * @param string $empty
         * @return string
         * @static
         */        public static function renderEach($view, $data, $iterator, $empty = 'raw|')
        {
                        /** @var \Illuminate\View\Factory $instance */
                        return $instance->renderEach($view, $data, $iterator, $empty);
        }
                    /**
         * Determine if a given view exists.
         *
         * @param string $view
         * @return bool
         * @static
         */        public static function exists($view)
        {
                        /** @var \Illuminate\View\Factory $instance */
                        return $instance->exists($view);
        }
                    /**
         * Get the appropriate view engine for the given path.
         *
         * @param string $path
         * @return \Illuminate\Contracts\View\Engine
         * @throws \InvalidArgumentException
         * @static
         */        public static function getEngineFromPath($path)
        {
                        /** @var \Illuminate\View\Factory $instance */
                        return $instance->getEngineFromPath($path);
        }
                    /**
         * Add a piece of shared data to the environment.
         *
         * @param array|string $key
         * @param mixed|null $value
         * @return mixed
         * @static
         */        public static function share($key, $value = null)
        {
                        /** @var \Illuminate\View\Factory $instance */
                        return $instance->share($key, $value);
        }
                    /**
         * Increment the rendering counter.
         *
         * @return void
         * @static
         */        public static function incrementRender()
        {
                        /** @var \Illuminate\View\Factory $instance */
                        $instance->incrementRender();
        }
                    /**
         * Decrement the rendering counter.
         *
         * @return void
         * @static
         */        public static function decrementRender()
        {
                        /** @var \Illuminate\View\Factory $instance */
                        $instance->decrementRender();
        }
                    /**
         * Check if there are no active render operations.
         *
         * @return bool
         * @static
         */        public static function doneRendering()
        {
                        /** @var \Illuminate\View\Factory $instance */
                        return $instance->doneRendering();
        }
                    /**
         * Determine if the given once token has been rendered.
         *
         * @param string $id
         * @return bool
         * @static
         */        public static function hasRenderedOnce($id)
        {
                        /** @var \Illuminate\View\Factory $instance */
                        return $instance->hasRenderedOnce($id);
        }
                    /**
         * Mark the given once token as having been rendered.
         *
         * @param string $id
         * @return void
         * @static
         */        public static function markAsRenderedOnce($id)
        {
                        /** @var \Illuminate\View\Factory $instance */
                        $instance->markAsRenderedOnce($id);
        }
                    /**
         * Add a location to the array of view locations.
         *
         * @param string $location
         * @return void
         * @static
         */        public static function addLocation($location)
        {
                        /** @var \Illuminate\View\Factory $instance */
                        $instance->addLocation($location);
        }
                    /**
         * Add a new namespace to the loader.
         *
         * @param string $namespace
         * @param string|array $hints
         * @return \Illuminate\View\Factory
         * @static
         */        public static function addNamespace($namespace, $hints)
        {
                        /** @var \Illuminate\View\Factory $instance */
                        return $instance->addNamespace($namespace, $hints);
        }
                    /**
         * Prepend a new namespace to the loader.
         *
         * @param string $namespace
         * @param string|array $hints
         * @return \Illuminate\View\Factory
         * @static
         */        public static function prependNamespace($namespace, $hints)
        {
                        /** @var \Illuminate\View\Factory $instance */
                        return $instance->prependNamespace($namespace, $hints);
        }
                    /**
         * Replace the namespace hints for the given namespace.
         *
         * @param string $namespace
         * @param string|array $hints
         * @return \Illuminate\View\Factory
         * @static
         */        public static function replaceNamespace($namespace, $hints)
        {
                        /** @var \Illuminate\View\Factory $instance */
                        return $instance->replaceNamespace($namespace, $hints);
        }
                    /**
         * Register a valid view extension and its engine.
         *
         * @param string $extension
         * @param string $engine
         * @param \Closure|null $resolver
         * @return void
         * @static
         */        public static function addExtension($extension, $engine, $resolver = null)
        {
                        /** @var \Illuminate\View\Factory $instance */
                        $instance->addExtension($extension, $engine, $resolver);
        }
                    /**
         * Flush all of the factory state like sections and stacks.
         *
         * @return void
         * @static
         */        public static function flushState()
        {
                        /** @var \Illuminate\View\Factory $instance */
                        $instance->flushState();
        }
                    /**
         * Flush all of the section contents if done rendering.
         *
         * @return void
         * @static
         */        public static function flushStateIfDoneRendering()
        {
                        /** @var \Illuminate\View\Factory $instance */
                        $instance->flushStateIfDoneRendering();
        }
                    /**
         * Get the extension to engine bindings.
         *
         * @return array
         * @static
         */        public static function getExtensions()
        {
                        /** @var \Illuminate\View\Factory $instance */
                        return $instance->getExtensions();
        }
                    /**
         * Get the engine resolver instance.
         *
         * @return \Illuminate\View\Engines\EngineResolver
         * @static
         */        public static function getEngineResolver()
        {
                        /** @var \Illuminate\View\Factory $instance */
                        return $instance->getEngineResolver();
        }
                    /**
         * Get the view finder instance.
         *
         * @return \Illuminate\View\ViewFinderInterface
         * @static
         */        public static function getFinder()
        {
                        /** @var \Illuminate\View\Factory $instance */
                        return $instance->getFinder();
        }
                    /**
         * Set the view finder instance.
         *
         * @param \Illuminate\View\ViewFinderInterface $finder
         * @return void
         * @static
         */        public static function setFinder($finder)
        {
                        /** @var \Illuminate\View\Factory $instance */
                        $instance->setFinder($finder);
        }
                    /**
         * Flush the cache of views located by the finder.
         *
         * @return void
         * @static
         */        public static function flushFinderCache()
        {
                        /** @var \Illuminate\View\Factory $instance */
                        $instance->flushFinderCache();
        }
                    /**
         * Get the event dispatcher instance.
         *
         * @return \Illuminate\Contracts\Events\Dispatcher
         * @static
         */        public static function getDispatcher()
        {
                        /** @var \Illuminate\View\Factory $instance */
                        return $instance->getDispatcher();
        }
                    /**
         * Set the event dispatcher instance.
         *
         * @param \Illuminate\Contracts\Events\Dispatcher $events
         * @return void
         * @static
         */        public static function setDispatcher($events)
        {
                        /** @var \Illuminate\View\Factory $instance */
                        $instance->setDispatcher($events);
        }
                    /**
         * Get the IoC container instance.
         *
         * @return \Illuminate\Contracts\Container\Container
         * @static
         */        public static function getContainer()
        {
                        /** @var \Illuminate\View\Factory $instance */
                        return $instance->getContainer();
        }
                    /**
         * Set the IoC container instance.
         *
         * @param \Illuminate\Contracts\Container\Container $container
         * @return void
         * @static
         */        public static function setContainer($container)
        {
                        /** @var \Illuminate\View\Factory $instance */
                        $instance->setContainer($container);
        }
                    /**
         * Get an item from the shared data.
         *
         * @param string $key
         * @param mixed $default
         * @return mixed
         * @static
         */        public static function shared($key, $default = null)
        {
                        /** @var \Illuminate\View\Factory $instance */
                        return $instance->shared($key, $default);
        }
                    /**
         * Get all of the shared data for the environment.
         *
         * @return array
         * @static
         */        public static function getShared()
        {
                        /** @var \Illuminate\View\Factory $instance */
                        return $instance->getShared();
        }
                    /**
         * Register a custom macro.
         *
         * @param string $name
         * @param object|callable $macro
         * @return void
         * @static
         */        public static function macro($name, $macro)
        {
                        \Illuminate\View\Factory::macro($name, $macro);
        }
                    /**
         * Mix another object into the class.
         *
         * @param object $mixin
         * @param bool $replace
         * @return void
         * @throws \ReflectionException
         * @static
         */        public static function mixin($mixin, $replace = true)
        {
                        \Illuminate\View\Factory::mixin($mixin, $replace);
        }
                    /**
         * Checks if macro is registered.
         *
         * @param string $name
         * @return bool
         * @static
         */        public static function hasMacro($name)
        {
                        return \Illuminate\View\Factory::hasMacro($name);
        }
                    /**
         * Flush the existing macros.
         *
         * @return void
         * @static
         */        public static function flushMacros()
        {
                        \Illuminate\View\Factory::flushMacros();
        }
                    /**
         * Start a component rendering process.
         *
         * @param \Illuminate\Contracts\View\View|\Illuminate\Contracts\Support\Htmlable|\Closure|string $view
         * @param array $data
         * @return void
         * @static
         */        public static function startComponent($view, $data = [])
        {
                        /** @var \Illuminate\View\Factory $instance */
                        $instance->startComponent($view, $data);
        }
                    /**
         * Get the first view that actually exists from the given list, and start a component.
         *
         * @param array $names
         * @param array $data
         * @return void
         * @static
         */        public static function startComponentFirst($names, $data = [])
        {
                        /** @var \Illuminate\View\Factory $instance */
                        $instance->startComponentFirst($names, $data);
        }
                    /**
         * Render the current component.
         *
         * @return string
         * @static
         */        public static function renderComponent()
        {
                        /** @var \Illuminate\View\Factory $instance */
                        return $instance->renderComponent();
        }
                    /**
         * Get an item from the component data that exists above the current component.
         *
         * @param string $key
         * @param mixed $default
         * @return mixed|null
         * @static
         */        public static function getConsumableComponentData($key, $default = null)
        {
                        /** @var \Illuminate\View\Factory $instance */
                        return $instance->getConsumableComponentData($key, $default);
        }
                    /**
         * Start the slot rendering process.
         *
         * @param string $name
         * @param string|null $content
         * @param array $attributes
         * @return void
         * @static
         */        public static function slot($name, $content = null, $attributes = [])
        {
                        /** @var \Illuminate\View\Factory $instance */
                        $instance->slot($name, $content, $attributes);
        }
                    /**
         * Save the slot content for rendering.
         *
         * @return void
         * @static
         */        public static function endSlot()
        {
                        /** @var \Illuminate\View\Factory $instance */
                        $instance->endSlot();
        }
                    /**
         * Register a view creator event.
         *
         * @param array|string $views
         * @param \Closure|string $callback
         * @return array
         * @static
         */        public static function creator($views, $callback)
        {
                        /** @var \Illuminate\View\Factory $instance */
                        return $instance->creator($views, $callback);
        }
                    /**
         * Register multiple view composers via an array.
         *
         * @param array $composers
         * @return array
         * @static
         */        public static function composers($composers)
        {
                        /** @var \Illuminate\View\Factory $instance */
                        return $instance->composers($composers);
        }
                    /**
         * Register a view composer event.
         *
         * @param array|string $views
         * @param \Closure|string $callback
         * @return array
         * @static
         */        public static function composer($views, $callback)
        {
                        /** @var \Illuminate\View\Factory $instance */
                        return $instance->composer($views, $callback);
        }
                    /**
         * Call the composer for a given view.
         *
         * @param \Illuminate\Contracts\View\View $view
         * @return void
         * @static
         */        public static function callComposer($view)
        {
                        /** @var \Illuminate\View\Factory $instance */
                        $instance->callComposer($view);
        }
                    /**
         * Call the creator for a given view.
         *
         * @param \Illuminate\Contracts\View\View $view
         * @return void
         * @static
         */        public static function callCreator($view)
        {
                        /** @var \Illuminate\View\Factory $instance */
                        $instance->callCreator($view);
        }
                    /**
         * Start injecting content into a fragment.
         *
         * @param string $fragment
         * @return void
         * @static
         */        public static function startFragment($fragment)
        {
                        /** @var \Illuminate\View\Factory $instance */
                        $instance->startFragment($fragment);
        }
                    /**
         * Stop injecting content into a fragment.
         *
         * @return string
         * @throws \InvalidArgumentException
         * @static
         */        public static function stopFragment()
        {
                        /** @var \Illuminate\View\Factory $instance */
                        return $instance->stopFragment();
        }
                    /**
         * Get the contents of a fragment.
         *
         * @param string $name
         * @param string|null $default
         * @return mixed
         * @static
         */        public static function getFragment($name, $default = null)
        {
                        /** @var \Illuminate\View\Factory $instance */
                        return $instance->getFragment($name, $default);
        }
                    /**
         * Get the entire array of rendered fragments.
         *
         * @return array
         * @static
         */        public static function getFragments()
        {
                        /** @var \Illuminate\View\Factory $instance */
                        return $instance->getFragments();
        }
                    /**
         * Flush all of the fragments.
         *
         * @return void
         * @static
         */        public static function flushFragments()
        {
                        /** @var \Illuminate\View\Factory $instance */
                        $instance->flushFragments();
        }
                    /**
         * Start injecting content into a section.
         *
         * @param string $section
         * @param string|null $content
         * @return void
         * @static
         */        public static function startSection($section, $content = null)
        {
                        /** @var \Illuminate\View\Factory $instance */
                        $instance->startSection($section, $content);
        }
                    /**
         * Inject inline content into a section.
         *
         * @param string $section
         * @param string $content
         * @return void
         * @static
         */        public static function inject($section, $content)
        {
                        /** @var \Illuminate\View\Factory $instance */
                        $instance->inject($section, $content);
        }
                    /**
         * Stop injecting content into a section and return its contents.
         *
         * @return string
         * @static
         */        public static function yieldSection()
        {
                        /** @var \Illuminate\View\Factory $instance */
                        return $instance->yieldSection();
        }
                    /**
         * Stop injecting content into a section.
         *
         * @param bool $overwrite
         * @return string
         * @throws \InvalidArgumentException
         * @static
         */        public static function stopSection($overwrite = false)
        {
                        /** @var \Illuminate\View\Factory $instance */
                        return $instance->stopSection($overwrite);
        }
                    /**
         * Stop injecting content into a section and append it.
         *
         * @return string
         * @throws \InvalidArgumentException
         * @static
         */        public static function appendSection()
        {
                        /** @var \Illuminate\View\Factory $instance */
                        return $instance->appendSection();
        }
                    /**
         * Get the string contents of a section.
         *
         * @param string $section
         * @param string $default
         * @return string
         * @static
         */        public static function yieldContent($section, $default = '')
        {
                        /** @var \Illuminate\View\Factory $instance */
                        return $instance->yieldContent($section, $default);
        }
                    /**
         * Get the parent placeholder for the current request.
         *
         * @param string $section
         * @return string
         * @static
         */        public static function parentPlaceholder($section = '')
        {
                        return \Illuminate\View\Factory::parentPlaceholder($section);
        }
                    /**
         * Check if section exists.
         *
         * @param string $name
         * @return bool
         * @static
         */        public static function hasSection($name)
        {
                        /** @var \Illuminate\View\Factory $instance */
                        return $instance->hasSection($name);
        }
                    /**
         * Check if section does not exist.
         *
         * @param string $name
         * @return bool
         * @static
         */        public static function sectionMissing($name)
        {
                        /** @var \Illuminate\View\Factory $instance */
                        return $instance->sectionMissing($name);
        }
                    /**
         * Get the contents of a section.
         *
         * @param string $name
         * @param string|null $default
         * @return mixed
         * @static
         */        public static function getSection($name, $default = null)
        {
                        /** @var \Illuminate\View\Factory $instance */
                        return $instance->getSection($name, $default);
        }
                    /**
         * Get the entire array of sections.
         *
         * @return array
         * @static
         */        public static function getSections()
        {
                        /** @var \Illuminate\View\Factory $instance */
                        return $instance->getSections();
        }
                    /**
         * Flush all of the sections.
         *
         * @return void
         * @static
         */        public static function flushSections()
        {
                        /** @var \Illuminate\View\Factory $instance */
                        $instance->flushSections();
        }
                    /**
         * Add new loop to the stack.
         *
         * @param \Countable|array $data
         * @return void
         * @static
         */        public static function addLoop($data)
        {
                        /** @var \Illuminate\View\Factory $instance */
                        $instance->addLoop($data);
        }
                    /**
         * Increment the top loop's indices.
         *
         * @return void
         * @static
         */        public static function incrementLoopIndices()
        {
                        /** @var \Illuminate\View\Factory $instance */
                        $instance->incrementLoopIndices();
        }
                    /**
         * Pop a loop from the top of the loop stack.
         *
         * @return void
         * @static
         */        public static function popLoop()
        {
                        /** @var \Illuminate\View\Factory $instance */
                        $instance->popLoop();
        }
                    /**
         * Get an instance of the last loop in the stack.
         *
         * @return \stdClass|null
         * @static
         */        public static function getLastLoop()
        {
                        /** @var \Illuminate\View\Factory $instance */
                        return $instance->getLastLoop();
        }
                    /**
         * Get the entire loop stack.
         *
         * @return array
         * @static
         */        public static function getLoopStack()
        {
                        /** @var \Illuminate\View\Factory $instance */
                        return $instance->getLoopStack();
        }
                    /**
         * Start injecting content into a push section.
         *
         * @param string $section
         * @param string $content
         * @return void
         * @static
         */        public static function startPush($section, $content = '')
        {
                        /** @var \Illuminate\View\Factory $instance */
                        $instance->startPush($section, $content);
        }
                    /**
         * Stop injecting content into a push section.
         *
         * @return string
         * @throws \InvalidArgumentException
         * @static
         */        public static function stopPush()
        {
                        /** @var \Illuminate\View\Factory $instance */
                        return $instance->stopPush();
        }
                    /**
         * Start prepending content into a push section.
         *
         * @param string $section
         * @param string $content
         * @return void
         * @static
         */        public static function startPrepend($section, $content = '')
        {
                        /** @var \Illuminate\View\Factory $instance */
                        $instance->startPrepend($section, $content);
        }
                    /**
         * Stop prepending content into a push section.
         *
         * @return string
         * @throws \InvalidArgumentException
         * @static
         */        public static function stopPrepend()
        {
                        /** @var \Illuminate\View\Factory $instance */
                        return $instance->stopPrepend();
        }
                    /**
         * Get the string contents of a push section.
         *
         * @param string $section
         * @param string $default
         * @return string
         * @static
         */        public static function yieldPushContent($section, $default = '')
        {
                        /** @var \Illuminate\View\Factory $instance */
                        return $instance->yieldPushContent($section, $default);
        }
                    /**
         * Flush all of the stacks.
         *
         * @return void
         * @static
         */        public static function flushStacks()
        {
                        /** @var \Illuminate\View\Factory $instance */
                        $instance->flushStacks();
        }
                    /**
         * Start a translation block.
         *
         * @param array $replacements
         * @return void
         * @static
         */        public static function startTranslation($replacements = [])
        {
                        /** @var \Illuminate\View\Factory $instance */
                        $instance->startTranslation($replacements);
        }
                    /**
         * Render the current translation.
         *
         * @return string
         * @static
         */        public static function renderTranslation()
        {
                        /** @var \Illuminate\View\Factory $instance */
                        return $instance->renderTranslation();
        }
            }
            /**
     * @see \Illuminate\Foundation\Vite
     */        class Vite {
                    /**
         * Get the preloaded assets.
         *
         * @return array
         * @static
         */        public static function preloadedAssets()
        {
                        /** @var \Illuminate\Foundation\Vite $instance */
                        return $instance->preloadedAssets();
        }
                    /**
         * Get the Content Security Policy nonce applied to all generated tags.
         *
         * @return string|null
         * @static
         */        public static function cspNonce()
        {
                        /** @var \Illuminate\Foundation\Vite $instance */
                        return $instance->cspNonce();
        }
                    /**
         * Generate or set a Content Security Policy nonce to apply to all generated tags.
         *
         * @param string|null $nonce
         * @return string
         * @static
         */        public static function useCspNonce($nonce = null)
        {
                        /** @var \Illuminate\Foundation\Vite $instance */
                        return $instance->useCspNonce($nonce);
        }
                    /**
         * Use the given key to detect integrity hashes in the manifest.
         *
         * @param string|false $key
         * @return \Illuminate\Foundation\Vite
         * @static
         */        public static function useIntegrityKey($key)
        {
                        /** @var \Illuminate\Foundation\Vite $instance */
                        return $instance->useIntegrityKey($key);
        }
                    /**
         * Set the Vite entry points.
         *
         * @param array $entryPoints
         * @return \Illuminate\Foundation\Vite
         * @static
         */        public static function withEntryPoints($entryPoints)
        {
                        /** @var \Illuminate\Foundation\Vite $instance */
                        return $instance->withEntryPoints($entryPoints);
        }
                    /**
         * Set the filename for the manifest file.
         *
         * @param string $filename
         * @return \Illuminate\Foundation\Vite
         * @static
         */        public static function useManifestFilename($filename)
        {
                        /** @var \Illuminate\Foundation\Vite $instance */
                        return $instance->useManifestFilename($filename);
        }
                    /**
         * Get the Vite "hot" file path.
         *
         * @return string
         * @static
         */        public static function hotFile()
        {
                        /** @var \Illuminate\Foundation\Vite $instance */
                        return $instance->hotFile();
        }
                    /**
         * Set the Vite "hot" file path.
         *
         * @param string $path
         * @return \Illuminate\Foundation\Vite
         * @static
         */        public static function useHotFile($path)
        {
                        /** @var \Illuminate\Foundation\Vite $instance */
                        return $instance->useHotFile($path);
        }
                    /**
         * Set the Vite build directory.
         *
         * @param string $path
         * @return \Illuminate\Foundation\Vite
         * @static
         */        public static function useBuildDirectory($path)
        {
                        /** @var \Illuminate\Foundation\Vite $instance */
                        return $instance->useBuildDirectory($path);
        }
                    /**
         * Use the given callback to resolve attributes for script tags.
         *
         * @param (callable(string, string, ?array, ?array): array)|array $attributes
         * @return \Illuminate\Foundation\Vite
         * @static
         */        public static function useScriptTagAttributes($attributes)
        {
                        /** @var \Illuminate\Foundation\Vite $instance */
                        return $instance->useScriptTagAttributes($attributes);
        }
                    /**
         * Use the given callback to resolve attributes for style tags.
         *
         * @param (callable(string, string, ?array, ?array): array)|array $attributes
         * @return \Illuminate\Foundation\Vite
         * @static
         */        public static function useStyleTagAttributes($attributes)
        {
                        /** @var \Illuminate\Foundation\Vite $instance */
                        return $instance->useStyleTagAttributes($attributes);
        }
                    /**
         * Use the given callback to resolve attributes for preload tags.
         *
         * @param (callable(string, string, ?array, ?array): (array|false))|array|false $attributes
         * @return \Illuminate\Foundation\Vite
         * @static
         */        public static function usePreloadTagAttributes($attributes)
        {
                        /** @var \Illuminate\Foundation\Vite $instance */
                        return $instance->usePreloadTagAttributes($attributes);
        }
                    /**
         * Generate React refresh runtime script.
         *
         * @return \Illuminate\Support\HtmlString|void
         * @static
         */        public static function reactRefresh()
        {
                        /** @var \Illuminate\Foundation\Vite $instance */
                        return $instance->reactRefresh();
        }
                    /**
         * Get the URL for an asset.
         *
         * @param string $asset
         * @param string|null $buildDirectory
         * @return string
         * @static
         */        public static function asset($asset, $buildDirectory = null)
        {
                        /** @var \Illuminate\Foundation\Vite $instance */
                        return $instance->asset($asset, $buildDirectory);
        }
                    /**
         * Get a unique hash representing the current manifest, or null if there is no manifest.
         *
         * @param string|null $buildDirectory
         * @return string|null
         * @static
         */        public static function manifestHash($buildDirectory = null)
        {
                        /** @var \Illuminate\Foundation\Vite $instance */
                        return $instance->manifestHash($buildDirectory);
        }
                    /**
         * Determine if the HMR server is running.
         *
         * @return bool
         * @static
         */        public static function isRunningHot()
        {
                        /** @var \Illuminate\Foundation\Vite $instance */
                        return $instance->isRunningHot();
        }
                    /**
         * Get the Vite tag content as a string of HTML.
         *
         * @return string
         * @static
         */        public static function toHtml()
        {
                        /** @var \Illuminate\Foundation\Vite $instance */
                        return $instance->toHtml();
        }
                    /**
         * Register a custom macro.
         *
         * @param string $name
         * @param object|callable $macro
         * @return void
         * @static
         */        public static function macro($name, $macro)
        {
                        \Illuminate\Foundation\Vite::macro($name, $macro);
        }
                    /**
         * Mix another object into the class.
         *
         * @param object $mixin
         * @param bool $replace
         * @return void
         * @throws \ReflectionException
         * @static
         */        public static function mixin($mixin, $replace = true)
        {
                        \Illuminate\Foundation\Vite::mixin($mixin, $replace);
        }
                    /**
         * Checks if macro is registered.
         *
         * @param string $name
         * @return bool
         * @static
         */        public static function hasMacro($name)
        {
                        return \Illuminate\Foundation\Vite::hasMacro($name);
        }
                    /**
         * Flush the existing macros.
         *
         * @return void
         * @static
         */        public static function flushMacros()
        {
                        \Illuminate\Foundation\Vite::flushMacros();
        }
            }
    }

namespace Biscolab\ReCaptcha\Facades {
            /**
     * Class ReCaptcha
     *
     * @package Biscolab\ReCaptcha\Facades
     * @method static string htmlFormButton(?string $button_label = '', ?array $properties = [])
     * @method static string getFormId()
     */        class ReCaptcha {
                    /**
         * Write ReCAPTCHA HTML tag in your FORM
         * Insert before </form> tag
         *
         * @param null|array $attributes
         * @return string
         * @static
         */        public static function htmlFormSnippet($attributes = [])
        {
                        /** @var \Biscolab\ReCaptcha\ReCaptchaBuilderV2 $instance */
                        return $instance->htmlFormSnippet($attributes);
        }
                    /**
         * @return array
         * @throws InvalidConfigurationException
         * @static
         */        public static function getTagAttributes()
        {
                        /** @var \Biscolab\ReCaptcha\ReCaptchaBuilderV2 $instance */
                        return $instance->getTagAttributes();
        }
                    /**
         * @return string
         * @static
         */        public static function getOnLoadCallback()
        {
                        /** @var \Biscolab\ReCaptcha\ReCaptchaBuilderV2 $instance */
                        return $instance->getOnLoadCallback();
        }
                    /**
         * Compare given attributes with allowed attributes
         *
         * @param array|null $attributes
         * @return array
         * @static
         */        public static function cleanAttributes($attributes = [])
        {
                        return \Biscolab\ReCaptcha\ReCaptchaBuilderV2::cleanAttributes($attributes);
        }
                    /**
         * @param string $api_site_key
         * @return \Biscolab\ReCaptcha\ReCaptchaBuilder
         * @static
         */        public static function setApiSiteKey($api_site_key)
        {            //Method inherited from \Biscolab\ReCaptcha\ReCaptchaBuilder         
                        /** @var \Biscolab\ReCaptcha\ReCaptchaBuilderV2 $instance */
                        return $instance->setApiSiteKey($api_site_key);
        }
                    /**
         * @param string $api_secret_key
         * @return \Biscolab\ReCaptcha\ReCaptchaBuilder
         * @static
         */        public static function setApiSecretKey($api_secret_key)
        {            //Method inherited from \Biscolab\ReCaptcha\ReCaptchaBuilder         
                        /** @var \Biscolab\ReCaptcha\ReCaptchaBuilderV2 $instance */
                        return $instance->setApiSecretKey($api_secret_key);
        }
                    /**
         * @return int
         * @static
         */        public static function getCurlTimeout()
        {            //Method inherited from \Biscolab\ReCaptcha\ReCaptchaBuilder         
                        /** @var \Biscolab\ReCaptcha\ReCaptchaBuilderV2 $instance */
                        return $instance->getCurlTimeout();
        }
                    /**
         * @param string $version
         * @return \Biscolab\ReCaptcha\ReCaptchaBuilder
         * @static
         */        public static function setVersion($version)
        {            //Method inherited from \Biscolab\ReCaptcha\ReCaptchaBuilder         
                        /** @var \Biscolab\ReCaptcha\ReCaptchaBuilderV2 $instance */
                        return $instance->setVersion($version);
        }
                    /**
         * @return string
         * @static
         */        public static function getVersion()
        {            //Method inherited from \Biscolab\ReCaptcha\ReCaptchaBuilder         
                        /** @var \Biscolab\ReCaptcha\ReCaptchaBuilderV2 $instance */
                        return $instance->getVersion();
        }
                    /**
         * @param bool $skip_by_ip
         * @return \Biscolab\ReCaptcha\ReCaptchaBuilder
         * @static
         */        public static function setSkipByIp($skip_by_ip)
        {            //Method inherited from \Biscolab\ReCaptcha\ReCaptchaBuilder         
                        /** @var \Biscolab\ReCaptcha\ReCaptchaBuilderV2 $instance */
                        return $instance->setSkipByIp($skip_by_ip);
        }
                    /**
         * @param null|string $api_domain
         * @return \Biscolab\ReCaptcha\ReCaptchaBuilder
         * @static
         */        public static function setApiDomain($api_domain = null)
        {            //Method inherited from \Biscolab\ReCaptcha\ReCaptchaBuilder         
                        /** @var \Biscolab\ReCaptcha\ReCaptchaBuilderV2 $instance */
                        return $instance->setApiDomain($api_domain);
        }
                    /**
         * @return string
         * @static
         */        public static function getApiDomain()
        {            //Method inherited from \Biscolab\ReCaptcha\ReCaptchaBuilder         
                        /** @var \Biscolab\ReCaptcha\ReCaptchaBuilderV2 $instance */
                        return $instance->getApiDomain();
        }
                    /**
         * @return \Biscolab\ReCaptcha\ReCaptchaBuilder
         * @static
         */        public static function setApiUrls()
        {            //Method inherited from \Biscolab\ReCaptcha\ReCaptchaBuilder         
                        /** @var \Biscolab\ReCaptcha\ReCaptchaBuilderV2 $instance */
                        return $instance->setApiUrls();
        }
                    /**
         * @return array|mixed
         * @static
         */        public static function getIpWhitelist()
        {            //Method inherited from \Biscolab\ReCaptcha\ReCaptchaBuilder         
                        /** @var \Biscolab\ReCaptcha\ReCaptchaBuilderV2 $instance */
                        return $instance->getIpWhitelist();
        }
                    /**
         * Checks whether the user IP address is among IPs "to be skipped"
         *
         * @return boolean
         * @static
         */        public static function skipByIp()
        {            //Method inherited from \Biscolab\ReCaptcha\ReCaptchaBuilder         
                        /** @var \Biscolab\ReCaptcha\ReCaptchaBuilderV2 $instance */
                        return $instance->skipByIp();
        }
                    /**
         * Write script HTML tag in you HTML code
         * Insert before </head> tag
         *
         * @param array|null $configuration
         * @return string
         * @throws \Exception
         * @static
         */        public static function htmlScriptTagJsApi($configuration = [])
        {            //Method inherited from \Biscolab\ReCaptcha\ReCaptchaBuilder         
                        /** @var \Biscolab\ReCaptcha\ReCaptchaBuilderV2 $instance */
                        return $instance->htmlScriptTagJsApi($configuration);
        }
                    /**
         * Call out to reCAPTCHA and process the response
         *
         * @param string $response
         * @return boolean|array
         * @static
         */        public static function validate($response)
        {            //Method inherited from \Biscolab\ReCaptcha\ReCaptchaBuilder         
                        /** @var \Biscolab\ReCaptcha\ReCaptchaBuilderV2 $instance */
                        return $instance->validate($response);
        }
                    /**
         * @return string
         * @static
         */        public static function getApiSiteKey()
        {            //Method inherited from \Biscolab\ReCaptcha\ReCaptchaBuilder         
                        /** @var \Biscolab\ReCaptcha\ReCaptchaBuilderV2 $instance */
                        return $instance->getApiSiteKey();
        }
                    /**
         * @return string
         * @static
         */        public static function getApiSecretKey()
        {            //Method inherited from \Biscolab\ReCaptcha\ReCaptchaBuilder         
                        /** @var \Biscolab\ReCaptcha\ReCaptchaBuilderV2 $instance */
                        return $instance->getApiSecretKey();
        }
            }
    }

namespace Intervention\Image\Facades {
            /**
     */        class Image {
                    /**
         * Overrides configuration settings
         *
         * @param array $config
         * @return self
         * @static
         */        public static function configure($config = [])
        {
                        /** @var \Intervention\Image\ImageManager $instance */
                        return $instance->configure($config);
        }
                    /**
         * Initiates an Image instance from different input types
         *
         * @param mixed $data
         * @return \Intervention\Image\Image
         * @static
         */        public static function make($data)
        {
                        /** @var \Intervention\Image\ImageManager $instance */
                        return $instance->make($data);
        }
                    /**
         * Creates an empty image canvas
         *
         * @param int $width
         * @param int $height
         * @param mixed $background
         * @return \Intervention\Image\Image
         * @static
         */        public static function canvas($width, $height, $background = null)
        {
                        /** @var \Intervention\Image\ImageManager $instance */
                        return $instance->canvas($width, $height, $background);
        }
                    /**
         * Create new cached image and run callback
         * (requires additional package intervention/imagecache)
         *
         * @param \Closure $callback
         * @param int $lifetime
         * @param boolean $returnObj
         * @return \Image
         * @static
         */        public static function cache($callback, $lifetime = null, $returnObj = false)
        {
                        /** @var \Intervention\Image\ImageManager $instance */
                        return $instance->cache($callback, $lifetime, $returnObj);
        }
            }
    }

namespace Spatie\LaravelIgnition\Facades {
            /**
     * @see \Spatie\FlareClient\Flare
     */        class Flare {
                    /**
         * @static
         */        public static function make($apiKey = null, $contextDetector = null)
        {
                        return \Spatie\FlareClient\Flare::make($apiKey, $contextDetector);
        }
                    /**
         * @static
         */        public static function setApiToken($apiToken)
        {
                        /** @var \Spatie\FlareClient\Flare $instance */
                        return $instance->setApiToken($apiToken);
        }
                    /**
         * @static
         */        public static function apiTokenSet()
        {
                        /** @var \Spatie\FlareClient\Flare $instance */
                        return $instance->apiTokenSet();
        }
                    /**
         * @static
         */        public static function setBaseUrl($baseUrl)
        {
                        /** @var \Spatie\FlareClient\Flare $instance */
                        return $instance->setBaseUrl($baseUrl);
        }
                    /**
         * @static
         */        public static function setStage($stage)
        {
                        /** @var \Spatie\FlareClient\Flare $instance */
                        return $instance->setStage($stage);
        }
                    /**
         * @static
         */        public static function sendReportsImmediately()
        {
                        /** @var \Spatie\FlareClient\Flare $instance */
                        return $instance->sendReportsImmediately();
        }
                    /**
         * @static
         */        public static function determineVersionUsing($determineVersionCallable)
        {
                        /** @var \Spatie\FlareClient\Flare $instance */
                        return $instance->determineVersionUsing($determineVersionCallable);
        }
                    /**
         * @static
         */        public static function reportErrorLevels($reportErrorLevels)
        {
                        /** @var \Spatie\FlareClient\Flare $instance */
                        return $instance->reportErrorLevels($reportErrorLevels);
        }
                    /**
         * @static
         */        public static function filterExceptionsUsing($filterExceptionsCallable)
        {
                        /** @var \Spatie\FlareClient\Flare $instance */
                        return $instance->filterExceptionsUsing($filterExceptionsCallable);
        }
                    /**
         * @static
         */        public static function filterReportsUsing($filterReportsCallable)
        {
                        /** @var \Spatie\FlareClient\Flare $instance */
                        return $instance->filterReportsUsing($filterReportsCallable);
        }
                    /**
         * @param array<class-string<ArgumentReducer>|ArgumentReducer>|\Spatie\Backtrace\Arguments\ArgumentReducers|null $argumentReducers
         * @static
         */        public static function argumentReducers($argumentReducers)
        {
                        /** @var \Spatie\FlareClient\Flare $instance */
                        return $instance->argumentReducers($argumentReducers);
        }
                    /**
         * @static
         */        public static function withStackFrameArguments($withStackFrameArguments = true, $forcePHPIniSetting = false)
        {
                        /** @var \Spatie\FlareClient\Flare $instance */
                        return $instance->withStackFrameArguments($withStackFrameArguments, $forcePHPIniSetting);
        }
                    /**
         * @param class-string $exceptionClass
         * @static
         */        public static function overrideGrouping($exceptionClass, $type = 'exception_message_and_class')
        {
                        /** @var \Spatie\FlareClient\Flare $instance */
                        return $instance->overrideGrouping($exceptionClass, $type);
        }
                    /**
         * @static
         */        public static function version()
        {
                        /** @var \Spatie\FlareClient\Flare $instance */
                        return $instance->version();
        }
                    /**
         * @return array<int, FlareMiddleware|class-string<FlareMiddleware>>
         * @static
         */        public static function getMiddleware()
        {
                        /** @var \Spatie\FlareClient\Flare $instance */
                        return $instance->getMiddleware();
        }
                    /**
         * @static
         */        public static function setContextProviderDetector($contextDetector)
        {
                        /** @var \Spatie\FlareClient\Flare $instance */
                        return $instance->setContextProviderDetector($contextDetector);
        }
                    /**
         * @static
         */        public static function setContainer($container)
        {
                        /** @var \Spatie\FlareClient\Flare $instance */
                        return $instance->setContainer($container);
        }
                    /**
         * @static
         */        public static function registerFlareHandlers()
        {
                        /** @var \Spatie\FlareClient\Flare $instance */
                        return $instance->registerFlareHandlers();
        }
                    /**
         * @static
         */        public static function registerExceptionHandler()
        {
                        /** @var \Spatie\FlareClient\Flare $instance */
                        return $instance->registerExceptionHandler();
        }
                    /**
         * @static
         */        public static function registerErrorHandler($errorLevels = null)
        {
                        /** @var \Spatie\FlareClient\Flare $instance */
                        return $instance->registerErrorHandler($errorLevels);
        }
                    /**
         * @param \Spatie\FlareClient\FlareMiddleware\FlareMiddleware|array<FlareMiddleware>|class-string<FlareMiddleware>|callable $middleware
         * @return \Spatie\FlareClient\Flare
         * @static
         */        public static function registerMiddleware($middleware)
        {
                        /** @var \Spatie\FlareClient\Flare $instance */
                        return $instance->registerMiddleware($middleware);
        }
                    /**
         * @return array<int,FlareMiddleware|class-string<FlareMiddleware>>
         * @static
         */        public static function getMiddlewares()
        {
                        /** @var \Spatie\FlareClient\Flare $instance */
                        return $instance->getMiddlewares();
        }
                    /**
         * @param string $name
         * @param string $messageLevel
         * @param array<int, mixed> $metaData
         * @return \Spatie\FlareClient\Flare
         * @static
         */        public static function glow($name, $messageLevel = 'info', $metaData = [])
        {
                        /** @var \Spatie\FlareClient\Flare $instance */
                        return $instance->glow($name, $messageLevel, $metaData);
        }
                    /**
         * @static
         */        public static function handleException($throwable)
        {
                        /** @var \Spatie\FlareClient\Flare $instance */
                        return $instance->handleException($throwable);
        }
                    /**
         * @return mixed
         * @static
         */        public static function handleError($code, $message, $file = '', $line = 0)
        {
                        /** @var \Spatie\FlareClient\Flare $instance */
                        return $instance->handleError($code, $message, $file, $line);
        }
                    /**
         * @static
         */        public static function applicationPath($applicationPath)
        {
                        /** @var \Spatie\FlareClient\Flare $instance */
                        return $instance->applicationPath($applicationPath);
        }
                    /**
         * @static
         */        public static function report($throwable, $callback = null, $report = null, $handled = null)
        {
                        /** @var \Spatie\FlareClient\Flare $instance */
                        return $instance->report($throwable, $callback, $report, $handled);
        }
                    /**
         * @static
         */        public static function reportHandled($throwable)
        {
                        /** @var \Spatie\FlareClient\Flare $instance */
                        return $instance->reportHandled($throwable);
        }
                    /**
         * @static
         */        public static function reportMessage($message, $logLevel, $callback = null)
        {
                        /** @var \Spatie\FlareClient\Flare $instance */
                        return $instance->reportMessage($message, $logLevel, $callback);
        }
                    /**
         * @static
         */        public static function sendTestReport($throwable)
        {
                        /** @var \Spatie\FlareClient\Flare $instance */
                        return $instance->sendTestReport($throwable);
        }
                    /**
         * @static
         */        public static function reset()
        {
                        /** @var \Spatie\FlareClient\Flare $instance */
                        return $instance->reset();
        }
                    /**
         * @static
         */        public static function anonymizeIp()
        {
                        /** @var \Spatie\FlareClient\Flare $instance */
                        return $instance->anonymizeIp();
        }
                    /**
         * @param array<int, string> $fieldNames
         * @return \Spatie\FlareClient\Flare
         * @static
         */        public static function censorRequestBodyFields($fieldNames)
        {
                        /** @var \Spatie\FlareClient\Flare $instance */
                        return $instance->censorRequestBodyFields($fieldNames);
        }
                    /**
         * @static
         */        public static function createReport($throwable)
        {
                        /** @var \Spatie\FlareClient\Flare $instance */
                        return $instance->createReport($throwable);
        }
                    /**
         * @static
         */        public static function createReportFromMessage($message, $logLevel)
        {
                        /** @var \Spatie\FlareClient\Flare $instance */
                        return $instance->createReportFromMessage($message, $logLevel);
        }
                    /**
         * @static
         */        public static function stage($stage)
        {
                        /** @var \Spatie\FlareClient\Flare $instance */
                        return $instance->stage($stage);
        }
                    /**
         * @static
         */        public static function messageLevel($messageLevel)
        {
                        /** @var \Spatie\FlareClient\Flare $instance */
                        return $instance->messageLevel($messageLevel);
        }
                    /**
         * @param string $groupName
         * @param mixed $default
         * @return array<int, mixed>
         * @static
         */        public static function getGroup($groupName = 'context', $default = [])
        {
                        /** @var \Spatie\FlareClient\Flare $instance */
                        return $instance->getGroup($groupName, $default);
        }
                    /**
         * @static
         */        public static function context($key, $value)
        {
                        /** @var \Spatie\FlareClient\Flare $instance */
                        return $instance->context($key, $value);
        }
                    /**
         * @param string $groupName
         * @param array<string, mixed> $properties
         * @return \Spatie\FlareClient\Flare
         * @static
         */        public static function group($groupName, $properties)
        {
                        /** @var \Spatie\FlareClient\Flare $instance */
                        return $instance->group($groupName, $properties);
        }
            }
    }

namespace Illuminate\Http {
            /**
     */        class Request {
                    /**
         * @see \Illuminate\Foundation\Providers\FoundationServiceProvider::registerRequestValidation()
         * @param array $rules
         * @param mixed $params
         * @static
         */        public static function validate($rules, ...$params)
        {
                        return \Illuminate\Http\Request::validate($rules, ...$params);
        }
                    /**
         * @see \Illuminate\Foundation\Providers\FoundationServiceProvider::registerRequestValidation()
         * @param string $errorBag
         * @param array $rules
         * @param mixed $params
         * @static
         */        public static function validateWithBag($errorBag, $rules, ...$params)
        {
                        return \Illuminate\Http\Request::validateWithBag($errorBag, $rules, ...$params);
        }
                    /**
         * @see \Illuminate\Foundation\Providers\FoundationServiceProvider::registerRequestSignatureValidation()
         * @param mixed $absolute
         * @static
         */        public static function hasValidSignature($absolute = true)
        {
                        return \Illuminate\Http\Request::hasValidSignature($absolute);
        }
                    /**
         * @see \Illuminate\Foundation\Providers\FoundationServiceProvider::registerRequestSignatureValidation()
         * @static
         */        public static function hasValidRelativeSignature()
        {
                        return \Illuminate\Http\Request::hasValidRelativeSignature();
        }
                    /**
         * @see \Illuminate\Foundation\Providers\FoundationServiceProvider::registerRequestSignatureValidation()
         * @param mixed $ignoreQuery
         * @param mixed $absolute
         * @static
         */        public static function hasValidSignatureWhileIgnoring($ignoreQuery = [], $absolute = true)
        {
                        return \Illuminate\Http\Request::hasValidSignatureWhileIgnoring($ignoreQuery, $absolute);
        }
            }
    }

namespace Illuminate\Routing {
            /**
     * @mixin \Illuminate\Routing\RouteRegistrar
     */        class Router {
                    /**
         * @see \Laravel\Ui\AuthRouteMethods::auth()
         * @param mixed $options
         * @static
         */        public static function auth($options = [])
        {
                        return \Illuminate\Routing\Router::auth($options);
        }
                    /**
         * @see \Laravel\Ui\AuthRouteMethods::resetPassword()
         * @static
         */        public static function resetPassword()
        {
                        return \Illuminate\Routing\Router::resetPassword();
        }
                    /**
         * @see \Laravel\Ui\AuthRouteMethods::confirmPassword()
         * @static
         */        public static function confirmPassword()
        {
                        return \Illuminate\Routing\Router::confirmPassword();
        }
                    /**
         * @see \Laravel\Ui\AuthRouteMethods::emailVerification()
         * @static
         */        public static function emailVerification()
        {
                        return \Illuminate\Routing\Router::emailVerification();
        }
            }
    }


namespace  {
            class App extends \Illuminate\Support\Facades\App {}
            class Arr extends \Illuminate\Support\Arr {}
            class Artisan extends \Illuminate\Support\Facades\Artisan {}
            class Auth extends \Illuminate\Support\Facades\Auth {}
            class Blade extends \Illuminate\Support\Facades\Blade {}
            class Broadcast extends \Illuminate\Support\Facades\Broadcast {}
            class Bus extends \Illuminate\Support\Facades\Bus {}
            class Cache extends \Illuminate\Support\Facades\Cache {}
            class Config extends \Illuminate\Support\Facades\Config {}
            class Cookie extends \Illuminate\Support\Facades\Cookie {}
            class Crypt extends \Illuminate\Support\Facades\Crypt {}
            class Date extends \Illuminate\Support\Facades\Date {}
            class DB extends \Illuminate\Support\Facades\DB {}
            class Eloquent extends \Illuminate\Database\Eloquent\Model {                            /**
             * Create and return an un-saved model instance.
             *
             * @param array $attributes
             * @return \Illuminate\Database\Eloquent\Model|static
             * @static
             */            public static function make($attributes = [])
            {
                                /** @var \Illuminate\Database\Eloquent\Builder $instance */
                                return $instance->make($attributes);
            }
                            /**
             * Register a new global scope.
             *
             * @param string $identifier
             * @param \Illuminate\Database\Eloquent\Scope|\Closure $scope
             * @return \Illuminate\Database\Eloquent\Builder|static
             * @static
             */            public static function withGlobalScope($identifier, $scope)
            {
                                /** @var \Illuminate\Database\Eloquent\Builder $instance */
                                return $instance->withGlobalScope($identifier, $scope);
            }
                            /**
             * Remove a registered global scope.
             *
             * @param \Illuminate\Database\Eloquent\Scope|string $scope
             * @return \Illuminate\Database\Eloquent\Builder|static
             * @static
             */            public static function withoutGlobalScope($scope)
            {
                                /** @var \Illuminate\Database\Eloquent\Builder $instance */
                                return $instance->withoutGlobalScope($scope);
            }
                            /**
             * Remove all or passed registered global scopes.
             *
             * @param array|null $scopes
             * @return \Illuminate\Database\Eloquent\Builder|static
             * @static
             */            public static function withoutGlobalScopes($scopes = null)
            {
                                /** @var \Illuminate\Database\Eloquent\Builder $instance */
                                return $instance->withoutGlobalScopes($scopes);
            }
                            /**
             * Get an array of global scopes that were removed from the query.
             *
             * @return array
             * @static
             */            public static function removedScopes()
            {
                                /** @var \Illuminate\Database\Eloquent\Builder $instance */
                                return $instance->removedScopes();
            }
                            /**
             * Add a where clause on the primary key to the query.
             *
             * @param mixed $id
             * @return \Illuminate\Database\Eloquent\Builder|static
             * @static
             */            public static function whereKey($id)
            {
                                /** @var \Illuminate\Database\Eloquent\Builder $instance */
                                return $instance->whereKey($id);
            }
                            /**
             * Add a where clause on the primary key to the query.
             *
             * @param mixed $id
             * @return \Illuminate\Database\Eloquent\Builder|static
             * @static
             */            public static function whereKeyNot($id)
            {
                                /** @var \Illuminate\Database\Eloquent\Builder $instance */
                                return $instance->whereKeyNot($id);
            }
                            /**
             * Add a basic where clause to the query.
             *
             * @param \Closure|string|array|\Illuminate\Database\Query\Expression $column
             * @param mixed $operator
             * @param mixed $value
             * @param string $boolean
             * @return \Illuminate\Database\Eloquent\Builder|static
             * @static
             */            public static function where($column, $operator = null, $value = null, $boolean = 'and')
            {
                                /** @var \Illuminate\Database\Eloquent\Builder $instance */
                                return $instance->where($column, $operator, $value, $boolean);
            }
                            /**
             * Add a basic where clause to the query, and return the first result.
             *
             * @param \Closure|string|array|\Illuminate\Database\Query\Expression $column
             * @param mixed $operator
             * @param mixed $value
             * @param string $boolean
             * @return \Illuminate\Database\Eloquent\Model|static|null
             * @static
             */            public static function firstWhere($column, $operator = null, $value = null, $boolean = 'and')
            {
                                /** @var \Illuminate\Database\Eloquent\Builder $instance */
                                return $instance->firstWhere($column, $operator, $value, $boolean);
            }
                            /**
             * Add an "or where" clause to the query.
             *
             * @param \Closure|array|string|\Illuminate\Database\Query\Expression $column
             * @param mixed $operator
             * @param mixed $value
             * @return \Illuminate\Database\Eloquent\Builder|static
             * @static
             */            public static function orWhere($column, $operator = null, $value = null)
            {
                                /** @var \Illuminate\Database\Eloquent\Builder $instance */
                                return $instance->orWhere($column, $operator, $value);
            }
                            /**
             * Add a basic "where not" clause to the query.
             *
             * @param \Closure|string|array|\Illuminate\Database\Query\Expression $column
             * @param mixed $operator
             * @param mixed $value
             * @param string $boolean
             * @return \Illuminate\Database\Eloquent\Builder|static
             * @static
             */            public static function whereNot($column, $operator = null, $value = null, $boolean = 'and')
            {
                                /** @var \Illuminate\Database\Eloquent\Builder $instance */
                                return $instance->whereNot($column, $operator, $value, $boolean);
            }
                            /**
             * Add an "or where not" clause to the query.
             *
             * @param \Closure|array|string|\Illuminate\Database\Query\Expression $column
             * @param mixed $operator
             * @param mixed $value
             * @return \Illuminate\Database\Eloquent\Builder|static
             * @static
             */            public static function orWhereNot($column, $operator = null, $value = null)
            {
                                /** @var \Illuminate\Database\Eloquent\Builder $instance */
                                return $instance->orWhereNot($column, $operator, $value);
            }
                            /**
             * Add an "order by" clause for a timestamp to the query.
             *
             * @param string|\Illuminate\Database\Query\Expression $column
             * @return \Illuminate\Database\Eloquent\Builder|static
             * @static
             */            public static function latest($column = null)
            {
                                /** @var \Illuminate\Database\Eloquent\Builder $instance */
                                return $instance->latest($column);
            }
                            /**
             * Add an "order by" clause for a timestamp to the query.
             *
             * @param string|\Illuminate\Database\Query\Expression $column
             * @return \Illuminate\Database\Eloquent\Builder|static
             * @static
             */            public static function oldest($column = null)
            {
                                /** @var \Illuminate\Database\Eloquent\Builder $instance */
                                return $instance->oldest($column);
            }
                            /**
             * Create a collection of models from plain arrays.
             *
             * @param array $items
             * @return \Illuminate\Database\Eloquent\Collection
             * @static
             */            public static function hydrate($items)
            {
                                /** @var \Illuminate\Database\Eloquent\Builder $instance */
                                return $instance->hydrate($items);
            }
                            /**
             * Create a collection of models from a raw query.
             *
             * @param string $query
             * @param array $bindings
             * @return \Illuminate\Database\Eloquent\Collection
             * @static
             */            public static function fromQuery($query, $bindings = [])
            {
                                /** @var \Illuminate\Database\Eloquent\Builder $instance */
                                return $instance->fromQuery($query, $bindings);
            }
                            /**
             * Find a model by its primary key.
             *
             * @param mixed $id
             * @param array|string $columns
             * @return \Illuminate\Database\Eloquent\Model|\Illuminate\Database\Eloquent\Collection|static[]|static|null
             * @static
             */            public static function find($id, $columns = [])
            {
                                /** @var \Illuminate\Database\Eloquent\Builder $instance */
                                return $instance->find($id, $columns);
            }
                            /**
             * Find multiple models by their primary keys.
             *
             * @param \Illuminate\Contracts\Support\Arrayable|array $ids
             * @param array|string $columns
             * @return \Illuminate\Database\Eloquent\Collection
             * @static
             */            public static function findMany($ids, $columns = [])
            {
                                /** @var \Illuminate\Database\Eloquent\Builder $instance */
                                return $instance->findMany($ids, $columns);
            }
                            /**
             * Find a model by its primary key or throw an exception.
             *
             * @param mixed $id
             * @param array|string $columns
             * @return \Illuminate\Database\Eloquent\Model|\Illuminate\Database\Eloquent\Collection|static|static[]
             * @throws \Illuminate\Database\Eloquent\ModelNotFoundException<\Illuminate\Database\Eloquent\Model>
             * @static
             */            public static function findOrFail($id, $columns = [])
            {
                                /** @var \Illuminate\Database\Eloquent\Builder $instance */
                                return $instance->findOrFail($id, $columns);
            }
                            /**
             * Find a model by its primary key or return fresh model instance.
             *
             * @param mixed $id
             * @param array|string $columns
             * @return \Illuminate\Database\Eloquent\Model|static
             * @static
             */            public static function findOrNew($id, $columns = [])
            {
                                /** @var \Illuminate\Database\Eloquent\Builder $instance */
                                return $instance->findOrNew($id, $columns);
            }
                            /**
             * Find a model by its primary key or call a callback.
             *
             * @param mixed $id
             * @param \Closure|array|string $columns
             * @param \Closure|null $callback
             * @return \Illuminate\Database\Eloquent\Model|\Illuminate\Database\Eloquent\Collection|static[]|static|mixed
             * @static
             */            public static function findOr($id, $columns = [], $callback = null)
            {
                                /** @var \Illuminate\Database\Eloquent\Builder $instance */
                                return $instance->findOr($id, $columns, $callback);
            }
                            /**
             * Get the first record matching the attributes or instantiate it.
             *
             * @param array $attributes
             * @param array $values
             * @return \Illuminate\Database\Eloquent\Model|static
             * @static
             */            public static function firstOrNew($attributes = [], $values = [])
            {
                                /** @var \Illuminate\Database\Eloquent\Builder $instance */
                                return $instance->firstOrNew($attributes, $values);
            }
                            /**
             * Get the first record matching the attributes or create it.
             *
             * @param array $attributes
             * @param array $values
             * @return \Illuminate\Database\Eloquent\Model|static
             * @static
             */            public static function firstOrCreate($attributes = [], $values = [])
            {
                                /** @var \Illuminate\Database\Eloquent\Builder $instance */
                                return $instance->firstOrCreate($attributes, $values);
            }
                            /**
             * Create or update a record matching the attributes, and fill it with values.
             *
             * @param array $attributes
             * @param array $values
             * @return \Illuminate\Database\Eloquent\Model|static
             * @static
             */            public static function updateOrCreate($attributes, $values = [])
            {
                                /** @var \Illuminate\Database\Eloquent\Builder $instance */
                                return $instance->updateOrCreate($attributes, $values);
            }
                            /**
             * Execute the query and get the first result or throw an exception.
             *
             * @param array|string $columns
             * @return \Illuminate\Database\Eloquent\Model|static
             * @throws \Illuminate\Database\Eloquent\ModelNotFoundException<\Illuminate\Database\Eloquent\Model>
             * @static
             */            public static function firstOrFail($columns = [])
            {
                                /** @var \Illuminate\Database\Eloquent\Builder $instance */
                                return $instance->firstOrFail($columns);
            }
                            /**
             * Execute the query and get the first result or call a callback.
             *
             * @param \Closure|array|string $columns
             * @param \Closure|null $callback
             * @return \Illuminate\Database\Eloquent\Model|static|mixed
             * @static
             */            public static function firstOr($columns = [], $callback = null)
            {
                                /** @var \Illuminate\Database\Eloquent\Builder $instance */
                                return $instance->firstOr($columns, $callback);
            }
                            /**
             * Execute the query and get the first result if it's the sole matching record.
             *
             * @param array|string $columns
             * @return \Illuminate\Database\Eloquent\Model
             * @throws \Illuminate\Database\Eloquent\ModelNotFoundException<\Illuminate\Database\Eloquent\Model>
             * @throws \Illuminate\Database\MultipleRecordsFoundException
             * @static
             */            public static function sole($columns = [])
            {
                                /** @var \Illuminate\Database\Eloquent\Builder $instance */
                                return $instance->sole($columns);
            }
                            /**
             * Get a single column's value from the first result of a query.
             *
             * @param string|\Illuminate\Database\Query\Expression $column
             * @return mixed
             * @static
             */            public static function value($column)
            {
                                /** @var \Illuminate\Database\Eloquent\Builder $instance */
                                return $instance->value($column);
            }
                            /**
             * Get a single column's value from the first result of a query if it's the sole matching record.
             *
             * @param string|\Illuminate\Database\Query\Expression $column
             * @return mixed
             * @throws \Illuminate\Database\Eloquent\ModelNotFoundException<\Illuminate\Database\Eloquent\Model>
             * @throws \Illuminate\Database\MultipleRecordsFoundException
             * @static
             */            public static function soleValue($column)
            {
                                /** @var \Illuminate\Database\Eloquent\Builder $instance */
                                return $instance->soleValue($column);
            }
                            /**
             * Get a single column's value from the first result of the query or throw an exception.
             *
             * @param string|\Illuminate\Database\Query\Expression $column
             * @return mixed
             * @throws \Illuminate\Database\Eloquent\ModelNotFoundException<\Illuminate\Database\Eloquent\Model>
             * @static
             */            public static function valueOrFail($column)
            {
                                /** @var \Illuminate\Database\Eloquent\Builder $instance */
                                return $instance->valueOrFail($column);
            }
                            /**
             * Execute the query as a "select" statement.
             *
             * @param array|string $columns
             * @return \Illuminate\Database\Eloquent\Collection|static[]
             * @static
             */            public static function get($columns = [])
            {
                                /** @var \Illuminate\Database\Eloquent\Builder $instance */
                                return $instance->get($columns);
            }
                            /**
             * Get the hydrated models without eager loading.
             *
             * @param array|string $columns
             * @return \Illuminate\Database\Eloquent\Model[]|static[]
             * @static
             */            public static function getModels($columns = [])
            {
                                /** @var \Illuminate\Database\Eloquent\Builder $instance */
                                return $instance->getModels($columns);
            }
                            /**
             * Eager load the relationships for the models.
             *
             * @param array $models
             * @return array
             * @static
             */            public static function eagerLoadRelations($models)
            {
                                /** @var \Illuminate\Database\Eloquent\Builder $instance */
                                return $instance->eagerLoadRelations($models);
            }
                            /**
             * Get a lazy collection for the given query.
             *
             * @return \Illuminate\Support\LazyCollection
             * @static
             */            public static function cursor()
            {
                                /** @var \Illuminate\Database\Eloquent\Builder $instance */
                                return $instance->cursor();
            }
                            /**
             * Get a collection with the values of a given column.
             *
             * @param string|\Illuminate\Database\Query\Expression $column
             * @param string|null $key
             * @return \Illuminate\Support\Collection
             * @static
             */            public static function pluck($column, $key = null)
            {
                                /** @var \Illuminate\Database\Eloquent\Builder $instance */
                                return $instance->pluck($column, $key);
            }
                            /**
             * Paginate the given query.
             *
             * @param int|null|\Closure $perPage
             * @param array|string $columns
             * @param string $pageName
             * @param int|null $page
             * @return \Illuminate\Contracts\Pagination\LengthAwarePaginator
             * @throws \InvalidArgumentException
             * @static
             */            public static function paginate($perPage = null, $columns = [], $pageName = 'page', $page = null)
            {
                                /** @var \Illuminate\Database\Eloquent\Builder $instance */
                                return $instance->paginate($perPage, $columns, $pageName, $page);
            }
                            /**
             * Paginate the given query into a simple paginator.
             *
             * @param int|null $perPage
             * @param array|string $columns
             * @param string $pageName
             * @param int|null $page
             * @return \Illuminate\Contracts\Pagination\Paginator
             * @static
             */            public static function simplePaginate($perPage = null, $columns = [], $pageName = 'page', $page = null)
            {
                                /** @var \Illuminate\Database\Eloquent\Builder $instance */
                                return $instance->simplePaginate($perPage, $columns, $pageName, $page);
            }
                            /**
             * Paginate the given query into a cursor paginator.
             *
             * @param int|null $perPage
             * @param array|string $columns
             * @param string $cursorName
             * @param \Illuminate\Pagination\Cursor|string|null $cursor
             * @return \Illuminate\Contracts\Pagination\CursorPaginator
             * @static
             */            public static function cursorPaginate($perPage = null, $columns = [], $cursorName = 'cursor', $cursor = null)
            {
                                /** @var \Illuminate\Database\Eloquent\Builder $instance */
                                return $instance->cursorPaginate($perPage, $columns, $cursorName, $cursor);
            }
                            /**
             * Save a new model and return the instance.
             *
             * @param array $attributes
             * @return \Illuminate\Database\Eloquent\Model|$this
             * @static
             */            public static function create($attributes = [])
            {
                                /** @var \Illuminate\Database\Eloquent\Builder $instance */
                                return $instance->create($attributes);
            }
                            /**
             * Save a new model and return the instance. Allow mass-assignment.
             *
             * @param array $attributes
             * @return \Illuminate\Database\Eloquent\Model|$this
             * @static
             */            public static function forceCreate($attributes)
            {
                                /** @var \Illuminate\Database\Eloquent\Builder $instance */
                                return $instance->forceCreate($attributes);
            }
                            /**
             * Insert new records or update the existing ones.
             *
             * @param array $values
             * @param array|string $uniqueBy
             * @param array|null $update
             * @return int
             * @static
             */            public static function upsert($values, $uniqueBy, $update = null)
            {
                                /** @var \Illuminate\Database\Eloquent\Builder $instance */
                                return $instance->upsert($values, $uniqueBy, $update);
            }
                            /**
             * Register a replacement for the default delete function.
             *
             * @param \Closure $callback
             * @return void
             * @static
             */            public static function onDelete($callback)
            {
                                /** @var \Illuminate\Database\Eloquent\Builder $instance */
                                $instance->onDelete($callback);
            }
                            /**
             * Call the given local model scopes.
             *
             * @param array|string $scopes
             * @return static|mixed
             * @static
             */            public static function scopes($scopes)
            {
                                /** @var \Illuminate\Database\Eloquent\Builder $instance */
                                return $instance->scopes($scopes);
            }
                            /**
             * Apply the scopes to the Eloquent builder instance and return it.
             *
             * @return static
             * @static
             */            public static function applyScopes()
            {
                                /** @var \Illuminate\Database\Eloquent\Builder $instance */
                                return $instance->applyScopes();
            }
                            /**
             * Prevent the specified relations from being eager loaded.
             *
             * @param mixed $relations
             * @return \Illuminate\Database\Eloquent\Builder|static
             * @static
             */            public static function without($relations)
            {
                                /** @var \Illuminate\Database\Eloquent\Builder $instance */
                                return $instance->without($relations);
            }
                            /**
             * Set the relationships that should be eager loaded while removing any previously added eager loading specifications.
             *
             * @param mixed $relations
             * @return \Illuminate\Database\Eloquent\Builder|static
             * @static
             */            public static function withOnly($relations)
            {
                                /** @var \Illuminate\Database\Eloquent\Builder $instance */
                                return $instance->withOnly($relations);
            }
                            /**
             * Create a new instance of the model being queried.
             *
             * @param array $attributes
             * @return \Illuminate\Database\Eloquent\Model|static
             * @static
             */            public static function newModelInstance($attributes = [])
            {
                                /** @var \Illuminate\Database\Eloquent\Builder $instance */
                                return $instance->newModelInstance($attributes);
            }
                            /**
             * Apply query-time casts to the model instance.
             *
             * @param array $casts
             * @return \Illuminate\Database\Eloquent\Builder|static
             * @static
             */            public static function withCasts($casts)
            {
                                /** @var \Illuminate\Database\Eloquent\Builder $instance */
                                return $instance->withCasts($casts);
            }
                            /**
             * Get the underlying query builder instance.
             *
             * @return \Illuminate\Database\Query\Builder
             * @static
             */            public static function getQuery()
            {
                                /** @var \Illuminate\Database\Eloquent\Builder $instance */
                                return $instance->getQuery();
            }
                            /**
             * Set the underlying query builder instance.
             *
             * @param \Illuminate\Database\Query\Builder $query
             * @return \Illuminate\Database\Eloquent\Builder|static
             * @static
             */            public static function setQuery($query)
            {
                                /** @var \Illuminate\Database\Eloquent\Builder $instance */
                                return $instance->setQuery($query);
            }
                            /**
             * Get a base query builder instance.
             *
             * @return \Illuminate\Database\Query\Builder
             * @static
             */            public static function toBase()
            {
                                /** @var \Illuminate\Database\Eloquent\Builder $instance */
                                return $instance->toBase();
            }
                            /**
             * Get the relationships being eagerly loaded.
             *
             * @return array
             * @static
             */            public static function getEagerLoads()
            {
                                /** @var \Illuminate\Database\Eloquent\Builder $instance */
                                return $instance->getEagerLoads();
            }
                            /**
             * Set the relationships being eagerly loaded.
             *
             * @param array $eagerLoad
             * @return \Illuminate\Database\Eloquent\Builder|static
             * @static
             */            public static function setEagerLoads($eagerLoad)
            {
                                /** @var \Illuminate\Database\Eloquent\Builder $instance */
                                return $instance->setEagerLoads($eagerLoad);
            }
                            /**
             * Indicate that the given relationships should not be eagerly loaded.
             *
             * @param array $relations
             * @return \Illuminate\Database\Eloquent\Builder|static
             * @static
             */            public static function withoutEagerLoad($relations)
            {
                                /** @var \Illuminate\Database\Eloquent\Builder $instance */
                                return $instance->withoutEagerLoad($relations);
            }
                            /**
             * Flush the relationships being eagerly loaded.
             *
             * @return \Illuminate\Database\Eloquent\Builder|static
             * @static
             */            public static function withoutEagerLoads()
            {
                                /** @var \Illuminate\Database\Eloquent\Builder $instance */
                                return $instance->withoutEagerLoads();
            }
                            /**
             * Get the model instance being queried.
             *
             * @return \Illuminate\Database\Eloquent\Model|static
             * @static
             */            public static function getModel()
            {
                                /** @var \Illuminate\Database\Eloquent\Builder $instance */
                                return $instance->getModel();
            }
                            /**
             * Set a model instance for the model being queried.
             *
             * @param \Illuminate\Database\Eloquent\Model $model
             * @return \Illuminate\Database\Eloquent\Builder|static
             * @static
             */            public static function setModel($model)
            {
                                /** @var \Illuminate\Database\Eloquent\Builder $instance */
                                return $instance->setModel($model);
            }
                            /**
             * Get the given macro by name.
             *
             * @param string $name
             * @return \Closure
             * @static
             */            public static function getMacro($name)
            {
                                /** @var \Illuminate\Database\Eloquent\Builder $instance */
                                return $instance->getMacro($name);
            }
                            /**
             * Checks if a macro is registered.
             *
             * @param string $name
             * @return bool
             * @static
             */            public static function hasMacro($name)
            {
                                /** @var \Illuminate\Database\Eloquent\Builder $instance */
                                return $instance->hasMacro($name);
            }
                            /**
             * Get the given global macro by name.
             *
             * @param string $name
             * @return \Closure
             * @static
             */            public static function getGlobalMacro($name)
            {
                                return \Illuminate\Database\Eloquent\Builder::getGlobalMacro($name);
            }
                            /**
             * Checks if a global macro is registered.
             *
             * @param string $name
             * @return bool
             * @static
             */            public static function hasGlobalMacro($name)
            {
                                return \Illuminate\Database\Eloquent\Builder::hasGlobalMacro($name);
            }
                            /**
             * Clone the Eloquent query builder.
             *
             * @return static
             * @static
             */            public static function clone()
            {
                                /** @var \Illuminate\Database\Eloquent\Builder $instance */
                                return $instance->clone();
            }
                            /**
             * Chunk the results of the query.
             *
             * @param int $count
             * @param callable $callback
             * @return bool
             * @static
             */            public static function chunk($count, $callback)
            {
                                /** @var \Illuminate\Database\Eloquent\Builder $instance */
                                return $instance->chunk($count, $callback);
            }
                            /**
             * Run a map over each item while chunking.
             *
             * @param callable $callback
             * @param int $count
             * @return \Illuminate\Support\Collection
             * @static
             */            public static function chunkMap($callback, $count = 1000)
            {
                                /** @var \Illuminate\Database\Eloquent\Builder $instance */
                                return $instance->chunkMap($callback, $count);
            }
                            /**
             * Execute a callback over each item while chunking.
             *
             * @param callable $callback
             * @param int $count
             * @return bool
             * @throws \RuntimeException
             * @static
             */            public static function each($callback, $count = 1000)
            {
                                /** @var \Illuminate\Database\Eloquent\Builder $instance */
                                return $instance->each($callback, $count);
            }
                            /**
             * Chunk the results of a query by comparing IDs.
             *
             * @param int $count
             * @param callable $callback
             * @param string|null $column
             * @param string|null $alias
             * @return bool
             * @static
             */            public static function chunkById($count, $callback, $column = null, $alias = null)
            {
                                /** @var \Illuminate\Database\Eloquent\Builder $instance */
                                return $instance->chunkById($count, $callback, $column, $alias);
            }
                            /**
             * Execute a callback over each item while chunking by ID.
             *
             * @param callable $callback
             * @param int $count
             * @param string|null $column
             * @param string|null $alias
             * @return bool
             * @static
             */            public static function eachById($callback, $count = 1000, $column = null, $alias = null)
            {
                                /** @var \Illuminate\Database\Eloquent\Builder $instance */
                                return $instance->eachById($callback, $count, $column, $alias);
            }
                            /**
             * Query lazily, by chunks of the given size.
             *
             * @param int $chunkSize
             * @return \Illuminate\Support\LazyCollection
             * @throws \InvalidArgumentException
             * @static
             */            public static function lazy($chunkSize = 1000)
            {
                                /** @var \Illuminate\Database\Eloquent\Builder $instance */
                                return $instance->lazy($chunkSize);
            }
                            /**
             * Query lazily, by chunking the results of a query by comparing IDs.
             *
             * @param int $chunkSize
             * @param string|null $column
             * @param string|null $alias
             * @return \Illuminate\Support\LazyCollection
             * @throws \InvalidArgumentException
             * @static
             */            public static function lazyById($chunkSize = 1000, $column = null, $alias = null)
            {
                                /** @var \Illuminate\Database\Eloquent\Builder $instance */
                                return $instance->lazyById($chunkSize, $column, $alias);
            }
                            /**
             * Query lazily, by chunking the results of a query by comparing IDs in descending order.
             *
             * @param int $chunkSize
             * @param string|null $column
             * @param string|null $alias
             * @return \Illuminate\Support\LazyCollection
             * @throws \InvalidArgumentException
             * @static
             */            public static function lazyByIdDesc($chunkSize = 1000, $column = null, $alias = null)
            {
                                /** @var \Illuminate\Database\Eloquent\Builder $instance */
                                return $instance->lazyByIdDesc($chunkSize, $column, $alias);
            }
                            /**
             * Execute the query and get the first result.
             *
             * @param array|string $columns
             * @return \Illuminate\Database\Eloquent\Model|object|static|null
             * @static
             */            public static function first($columns = [])
            {
                                /** @var \Illuminate\Database\Eloquent\Builder $instance */
                                return $instance->first($columns);
            }
                            /**
             * Execute the query and get the first result if it's the sole matching record.
             *
             * @param array|string $columns
             * @return \Illuminate\Database\Eloquent\Model|object|static|null
             * @throws \Illuminate\Database\RecordsNotFoundException
             * @throws \Illuminate\Database\MultipleRecordsFoundException
             * @static
             */            public static function baseSole($columns = [])
            {
                                /** @var \Illuminate\Database\Eloquent\Builder $instance */
                                return $instance->baseSole($columns);
            }
                            /**
             * Pass the query to a given callback.
             *
             * @param callable $callback
             * @return \Illuminate\Database\Eloquent\Builder|static
             * @static
             */            public static function tap($callback)
            {
                                /** @var \Illuminate\Database\Eloquent\Builder $instance */
                                return $instance->tap($callback);
            }
                            /**
             * Apply the callback if the given "value" is (or resolves to) truthy.
             *
             * @template TWhenParameter
             * @template TWhenReturnType
             * @param (\Closure($this): TWhenParameter)|TWhenParameter|null $value
             * @param (callable($this, TWhenParameter): TWhenReturnType)|null $callback
             * @param (callable($this, TWhenParameter): TWhenReturnType)|null $default
             * @return $this|TWhenReturnType
             * @static
             */            public static function when($value = null, $callback = null, $default = null)
            {
                                /** @var \Illuminate\Database\Eloquent\Builder $instance */
                                return $instance->when($value, $callback, $default);
            }
                            /**
             * Apply the callback if the given "value" is (or resolves to) falsy.
             *
             * @template TUnlessParameter
             * @template TUnlessReturnType
             * @param (\Closure($this): TUnlessParameter)|TUnlessParameter|null $value
             * @param (callable($this, TUnlessParameter): TUnlessReturnType)|null $callback
             * @param (callable($this, TUnlessParameter): TUnlessReturnType)|null $default
             * @return $this|TUnlessReturnType
             * @static
             */            public static function unless($value = null, $callback = null, $default = null)
            {
                                /** @var \Illuminate\Database\Eloquent\Builder $instance */
                                return $instance->unless($value, $callback, $default);
            }
                            /**
             * Add a relationship count / exists condition to the query.
             *
             * @param \Illuminate\Database\Eloquent\Relations\Relation|string $relation
             * @param string $operator
             * @param int $count
             * @param string $boolean
             * @param \Closure|null $callback
             * @return \Illuminate\Database\Eloquent\Builder|static
             * @throws \RuntimeException
             * @static
             */            public static function has($relation, $operator = '>=', $count = 1, $boolean = 'and', $callback = null)
            {
                                /** @var \Illuminate\Database\Eloquent\Builder $instance */
                                return $instance->has($relation, $operator, $count, $boolean, $callback);
            }
                            /**
             * Add a relationship count / exists condition to the query with an "or".
             *
             * @param string $relation
             * @param string $operator
             * @param int $count
             * @return \Illuminate\Database\Eloquent\Builder|static
             * @static
             */            public static function orHas($relation, $operator = '>=', $count = 1)
            {
                                /** @var \Illuminate\Database\Eloquent\Builder $instance */
                                return $instance->orHas($relation, $operator, $count);
            }
                            /**
             * Add a relationship count / exists condition to the query.
             *
             * @param string $relation
             * @param string $boolean
             * @param \Closure|null $callback
             * @return \Illuminate\Database\Eloquent\Builder|static
             * @static
             */            public static function doesntHave($relation, $boolean = 'and', $callback = null)
            {
                                /** @var \Illuminate\Database\Eloquent\Builder $instance */
                                return $instance->doesntHave($relation, $boolean, $callback);
            }
                            /**
             * Add a relationship count / exists condition to the query with an "or".
             *
             * @param string $relation
             * @return \Illuminate\Database\Eloquent\Builder|static
             * @static
             */            public static function orDoesntHave($relation)
            {
                                /** @var \Illuminate\Database\Eloquent\Builder $instance */
                                return $instance->orDoesntHave($relation);
            }
                            /**
             * Add a relationship count / exists condition to the query with where clauses.
             *
             * @param string $relation
             * @param \Closure|null $callback
             * @param string $operator
             * @param int $count
             * @return \Illuminate\Database\Eloquent\Builder|static
             * @static
             */            public static function whereHas($relation, $callback = null, $operator = '>=', $count = 1)
            {
                                /** @var \Illuminate\Database\Eloquent\Builder $instance */
                                return $instance->whereHas($relation, $callback, $operator, $count);
            }
                            /**
             * Add a relationship count / exists condition to the query with where clauses.
             * 
             * Also load the relationship with same condition.
             *
             * @param string $relation
             * @param \Closure|null $callback
             * @param string $operator
             * @param int $count
             * @return \Illuminate\Database\Eloquent\Builder|static
             * @static
             */            public static function withWhereHas($relation, $callback = null, $operator = '>=', $count = 1)
            {
                                /** @var \Illuminate\Database\Eloquent\Builder $instance */
                                return $instance->withWhereHas($relation, $callback, $operator, $count);
            }
                            /**
             * Add a relationship count / exists condition to the query with where clauses and an "or".
             *
             * @param string $relation
             * @param \Closure|null $callback
             * @param string $operator
             * @param int $count
             * @return \Illuminate\Database\Eloquent\Builder|static
             * @static
             */            public static function orWhereHas($relation, $callback = null, $operator = '>=', $count = 1)
            {
                                /** @var \Illuminate\Database\Eloquent\Builder $instance */
                                return $instance->orWhereHas($relation, $callback, $operator, $count);
            }
                            /**
             * Add a relationship count / exists condition to the query with where clauses.
             *
             * @param string $relation
             * @param \Closure|null $callback
             * @return \Illuminate\Database\Eloquent\Builder|static
             * @static
             */            public static function whereDoesntHave($relation, $callback = null)
            {
                                /** @var \Illuminate\Database\Eloquent\Builder $instance */
                                return $instance->whereDoesntHave($relation, $callback);
            }
                            /**
             * Add a relationship count / exists condition to the query with where clauses and an "or".
             *
             * @param string $relation
             * @param \Closure|null $callback
             * @return \Illuminate\Database\Eloquent\Builder|static
             * @static
             */            public static function orWhereDoesntHave($relation, $callback = null)
            {
                                /** @var \Illuminate\Database\Eloquent\Builder $instance */
                                return $instance->orWhereDoesntHave($relation, $callback);
            }
                            /**
             * Add a polymorphic relationship count / exists condition to the query.
             *
             * @param \Illuminate\Database\Eloquent\Relations\MorphTo|string $relation
             * @param string|array $types
             * @param string $operator
             * @param int $count
             * @param string $boolean
             * @param \Closure|null $callback
             * @return \Illuminate\Database\Eloquent\Builder|static
             * @static
             */            public static function hasMorph($relation, $types, $operator = '>=', $count = 1, $boolean = 'and', $callback = null)
            {
                                /** @var \Illuminate\Database\Eloquent\Builder $instance */
                                return $instance->hasMorph($relation, $types, $operator, $count, $boolean, $callback);
            }
                            /**
             * Add a polymorphic relationship count / exists condition to the query with an "or".
             *
             * @param \Illuminate\Database\Eloquent\Relations\MorphTo|string $relation
             * @param string|array $types
             * @param string $operator
             * @param int $count
             * @return \Illuminate\Database\Eloquent\Builder|static
             * @static
             */            public static function orHasMorph($relation, $types, $operator = '>=', $count = 1)
            {
                                /** @var \Illuminate\Database\Eloquent\Builder $instance */
                                return $instance->orHasMorph($relation, $types, $operator, $count);
            }
                            /**
             * Add a polymorphic relationship count / exists condition to the query.
             *
             * @param \Illuminate\Database\Eloquent\Relations\MorphTo|string $relation
             * @param string|array $types
             * @param string $boolean
             * @param \Closure|null $callback
             * @return \Illuminate\Database\Eloquent\Builder|static
             * @static
             */            public static function doesntHaveMorph($relation, $types, $boolean = 'and', $callback = null)
            {
                                /** @var \Illuminate\Database\Eloquent\Builder $instance */
                                return $instance->doesntHaveMorph($relation, $types, $boolean, $callback);
            }
                            /**
             * Add a polymorphic relationship count / exists condition to the query with an "or".
             *
             * @param \Illuminate\Database\Eloquent\Relations\MorphTo|string $relation
             * @param string|array $types
             * @return \Illuminate\Database\Eloquent\Builder|static
             * @static
             */            public static function orDoesntHaveMorph($relation, $types)
            {
                                /** @var \Illuminate\Database\Eloquent\Builder $instance */
                                return $instance->orDoesntHaveMorph($relation, $types);
            }
                            /**
             * Add a polymorphic relationship count / exists condition to the query with where clauses.
             *
             * @param \Illuminate\Database\Eloquent\Relations\MorphTo|string $relation
             * @param string|array $types
             * @param \Closure|null $callback
             * @param string $operator
             * @param int $count
             * @return \Illuminate\Database\Eloquent\Builder|static
             * @static
             */            public static function whereHasMorph($relation, $types, $callback = null, $operator = '>=', $count = 1)
            {
                                /** @var \Illuminate\Database\Eloquent\Builder $instance */
                                return $instance->whereHasMorph($relation, $types, $callback, $operator, $count);
            }
                            /**
             * Add a polymorphic relationship count / exists condition to the query with where clauses and an "or".
             *
             * @param \Illuminate\Database\Eloquent\Relations\MorphTo|string $relation
             * @param string|array $types
             * @param \Closure|null $callback
             * @param string $operator
             * @param int $count
             * @return \Illuminate\Database\Eloquent\Builder|static
             * @static
             */            public static function orWhereHasMorph($relation, $types, $callback = null, $operator = '>=', $count = 1)
            {
                                /** @var \Illuminate\Database\Eloquent\Builder $instance */
                                return $instance->orWhereHasMorph($relation, $types, $callback, $operator, $count);
            }
                            /**
             * Add a polymorphic relationship count / exists condition to the query with where clauses.
             *
             * @param \Illuminate\Database\Eloquent\Relations\MorphTo|string $relation
             * @param string|array $types
             * @param \Closure|null $callback
             * @return \Illuminate\Database\Eloquent\Builder|static
             * @static
             */            public static function whereDoesntHaveMorph($relation, $types, $callback = null)
            {
                                /** @var \Illuminate\Database\Eloquent\Builder $instance */
                                return $instance->whereDoesntHaveMorph($relation, $types, $callback);
            }
                            /**
             * Add a polymorphic relationship count / exists condition to the query with where clauses and an "or".
             *
             * @param \Illuminate\Database\Eloquent\Relations\MorphTo|string $relation
             * @param string|array $types
             * @param \Closure|null $callback
             * @return \Illuminate\Database\Eloquent\Builder|static
             * @static
             */            public static function orWhereDoesntHaveMorph($relation, $types, $callback = null)
            {
                                /** @var \Illuminate\Database\Eloquent\Builder $instance */
                                return $instance->orWhereDoesntHaveMorph($relation, $types, $callback);
            }
                            /**
             * Add a basic where clause to a relationship query.
             *
             * @param string $relation
             * @param \Closure|string|array|\Illuminate\Database\Query\Expression $column
             * @param mixed $operator
             * @param mixed $value
             * @return \Illuminate\Database\Eloquent\Builder|static
             * @static
             */            public static function whereRelation($relation, $column, $operator = null, $value = null)
            {
                                /** @var \Illuminate\Database\Eloquent\Builder $instance */
                                return $instance->whereRelation($relation, $column, $operator, $value);
            }
                            /**
             * Add an "or where" clause to a relationship query.
             *
             * @param string $relation
             * @param \Closure|string|array|\Illuminate\Database\Query\Expression $column
             * @param mixed $operator
             * @param mixed $value
             * @return \Illuminate\Database\Eloquent\Builder|static
             * @static
             */            public static function orWhereRelation($relation, $column, $operator = null, $value = null)
            {
                                /** @var \Illuminate\Database\Eloquent\Builder $instance */
                                return $instance->orWhereRelation($relation, $column, $operator, $value);
            }
                            /**
             * Add a polymorphic relationship condition to the query with a where clause.
             *
             * @param \Illuminate\Database\Eloquent\Relations\MorphTo|string $relation
             * @param string|array $types
             * @param \Closure|string|array|\Illuminate\Database\Query\Expression $column
             * @param mixed $operator
             * @param mixed $value
             * @return \Illuminate\Database\Eloquent\Builder|static
             * @static
             */            public static function whereMorphRelation($relation, $types, $column, $operator = null, $value = null)
            {
                                /** @var \Illuminate\Database\Eloquent\Builder $instance */
                                return $instance->whereMorphRelation($relation, $types, $column, $operator, $value);
            }
                            /**
             * Add a polymorphic relationship condition to the query with an "or where" clause.
             *
             * @param \Illuminate\Database\Eloquent\Relations\MorphTo|string $relation
             * @param string|array $types
             * @param \Closure|string|array|\Illuminate\Database\Query\Expression $column
             * @param mixed $operator
             * @param mixed $value
             * @return \Illuminate\Database\Eloquent\Builder|static
             * @static
             */            public static function orWhereMorphRelation($relation, $types, $column, $operator = null, $value = null)
            {
                                /** @var \Illuminate\Database\Eloquent\Builder $instance */
                                return $instance->orWhereMorphRelation($relation, $types, $column, $operator, $value);
            }
                            /**
             * Add a morph-to relationship condition to the query.
             *
             * @param \Illuminate\Database\Eloquent\Relations\MorphTo|string $relation
             * @param \Illuminate\Database\Eloquent\Model|string $model
             * @return \Illuminate\Database\Eloquent\Builder|static
             * @static
             */            public static function whereMorphedTo($relation, $model, $boolean = 'and')
            {
                                /** @var \Illuminate\Database\Eloquent\Builder $instance */
                                return $instance->whereMorphedTo($relation, $model, $boolean);
            }
                            /**
             * Add a not morph-to relationship condition to the query.
             *
             * @param \Illuminate\Database\Eloquent\Relations\MorphTo|string $relation
             * @param \Illuminate\Database\Eloquent\Model|string $model
             * @return \Illuminate\Database\Eloquent\Builder|static
             * @static
             */            public static function whereNotMorphedTo($relation, $model, $boolean = 'and')
            {
                                /** @var \Illuminate\Database\Eloquent\Builder $instance */
                                return $instance->whereNotMorphedTo($relation, $model, $boolean);
            }
                            /**
             * Add a morph-to relationship condition to the query with an "or where" clause.
             *
             * @param \Illuminate\Database\Eloquent\Relations\MorphTo|string $relation
             * @param \Illuminate\Database\Eloquent\Model|string $model
             * @return \Illuminate\Database\Eloquent\Builder|static
             * @static
             */            public static function orWhereMorphedTo($relation, $model)
            {
                                /** @var \Illuminate\Database\Eloquent\Builder $instance */
                                return $instance->orWhereMorphedTo($relation, $model);
            }
                            /**
             * Add a not morph-to relationship condition to the query with an "or where" clause.
             *
             * @param \Illuminate\Database\Eloquent\Relations\MorphTo|string $relation
             * @param \Illuminate\Database\Eloquent\Model|string $model
             * @return \Illuminate\Database\Eloquent\Builder|static
             * @static
             */            public static function orWhereNotMorphedTo($relation, $model)
            {
                                /** @var \Illuminate\Database\Eloquent\Builder $instance */
                                return $instance->orWhereNotMorphedTo($relation, $model);
            }
                            /**
             * Add a "belongs to" relationship where clause to the query.
             *
             * @param \Illuminate\Database\Eloquent\Model|\Illuminate\Database\Eloquent\Collection<\Illuminate\Database\Eloquent\Model> $related
             * @param string|null $relationshipName
             * @param string $boolean
             * @return \Illuminate\Database\Eloquent\Builder|static
             * @throws \Illuminate\Database\Eloquent\RelationNotFoundException
             * @static
             */            public static function whereBelongsTo($related, $relationshipName = null, $boolean = 'and')
            {
                                /** @var \Illuminate\Database\Eloquent\Builder $instance */
                                return $instance->whereBelongsTo($related, $relationshipName, $boolean);
            }
                            /**
             * Add an "BelongsTo" relationship with an "or where" clause to the query.
             *
             * @param \Illuminate\Database\Eloquent\Model $related
             * @param string|null $relationshipName
             * @return \Illuminate\Database\Eloquent\Builder|static
             * @throws \RuntimeException
             * @static
             */            public static function orWhereBelongsTo($related, $relationshipName = null)
            {
                                /** @var \Illuminate\Database\Eloquent\Builder $instance */
                                return $instance->orWhereBelongsTo($related, $relationshipName);
            }
                            /**
             * Add subselect queries to include an aggregate value for a relationship.
             *
             * @param mixed $relations
             * @param string $column
             * @param string $function
             * @return \Illuminate\Database\Eloquent\Builder|static
             * @static
             */            public static function withAggregate($relations, $column, $function = null)
            {
                                /** @var \Illuminate\Database\Eloquent\Builder $instance */
                                return $instance->withAggregate($relations, $column, $function);
            }
                            /**
             * Add subselect queries to count the relations.
             *
             * @param mixed $relations
             * @return \Illuminate\Database\Eloquent\Builder|static
             * @static
             */            public static function withCount($relations)
            {
                                /** @var \Illuminate\Database\Eloquent\Builder $instance */
                                return $instance->withCount($relations);
            }
                            /**
             * Add subselect queries to include the max of the relation's column.
             *
             * @param string|array $relation
             * @param string $column
             * @return \Illuminate\Database\Eloquent\Builder|static
             * @static
             */            public static function withMax($relation, $column)
            {
                                /** @var \Illuminate\Database\Eloquent\Builder $instance */
                                return $instance->withMax($relation, $column);
            }
                            /**
             * Add subselect queries to include the min of the relation's column.
             *
             * @param string|array $relation
             * @param string $column
             * @return \Illuminate\Database\Eloquent\Builder|static
             * @static
             */            public static function withMin($relation, $column)
            {
                                /** @var \Illuminate\Database\Eloquent\Builder $instance */
                                return $instance->withMin($relation, $column);
            }
                            /**
             * Add subselect queries to include the sum of the relation's column.
             *
             * @param string|array $relation
             * @param string $column
             * @return \Illuminate\Database\Eloquent\Builder|static
             * @static
             */            public static function withSum($relation, $column)
            {
                                /** @var \Illuminate\Database\Eloquent\Builder $instance */
                                return $instance->withSum($relation, $column);
            }
                            /**
             * Add subselect queries to include the average of the relation's column.
             *
             * @param string|array $relation
             * @param string $column
             * @return \Illuminate\Database\Eloquent\Builder|static
             * @static
             */            public static function withAvg($relation, $column)
            {
                                /** @var \Illuminate\Database\Eloquent\Builder $instance */
                                return $instance->withAvg($relation, $column);
            }
                            /**
             * Add subselect queries to include the existence of related models.
             *
             * @param string|array $relation
             * @return \Illuminate\Database\Eloquent\Builder|static
             * @static
             */            public static function withExists($relation)
            {
                                /** @var \Illuminate\Database\Eloquent\Builder $instance */
                                return $instance->withExists($relation);
            }
                            /**
             * Merge the where constraints from another query to the current query.
             *
             * @param \Illuminate\Database\Eloquent\Builder $from
             * @return \Illuminate\Database\Eloquent\Builder|static
             * @static
             */            public static function mergeConstraintsFrom($from)
            {
                                /** @var \Illuminate\Database\Eloquent\Builder $instance */
                                return $instance->mergeConstraintsFrom($from);
            }
                            /**
             * Set the columns to be selected.
             *
             * @param array|mixed $columns
             * @return \Illuminate\Database\Query\Builder
             * @static
             */            public static function select($columns = [])
            {
                                /** @var \Illuminate\Database\Query\Builder $instance */
                                return $instance->select($columns);
            }
                            /**
             * Add a subselect expression to the query.
             *
             * @param \Closure|\Illuminate\Database\Query\Builder|\Illuminate\Database\Eloquent\Builder|string $query
             * @param string $as
             * @return \Illuminate\Database\Query\Builder
             * @throws \InvalidArgumentException
             * @static
             */            public static function selectSub($query, $as)
            {
                                /** @var \Illuminate\Database\Query\Builder $instance */
                                return $instance->selectSub($query, $as);
            }
                            /**
             * Add a new "raw" select expression to the query.
             *
             * @param string $expression
             * @param array $bindings
             * @return \Illuminate\Database\Query\Builder
             * @static
             */            public static function selectRaw($expression, $bindings = [])
            {
                                /** @var \Illuminate\Database\Query\Builder $instance */
                                return $instance->selectRaw($expression, $bindings);
            }
                            /**
             * Makes "from" fetch from a subquery.
             *
             * @param \Closure|\Illuminate\Database\Query\Builder|\Illuminate\Database\Eloquent\Builder|string $query
             * @param string $as
             * @return \Illuminate\Database\Query\Builder
             * @throws \InvalidArgumentException
             * @static
             */            public static function fromSub($query, $as)
            {
                                /** @var \Illuminate\Database\Query\Builder $instance */
                                return $instance->fromSub($query, $as);
            }
                            /**
             * Add a raw from clause to the query.
             *
             * @param string $expression
             * @param mixed $bindings
             * @return \Illuminate\Database\Query\Builder
             * @static
             */            public static function fromRaw($expression, $bindings = [])
            {
                                /** @var \Illuminate\Database\Query\Builder $instance */
                                return $instance->fromRaw($expression, $bindings);
            }
                            /**
             * Add a new select column to the query.
             *
             * @param array|mixed $column
             * @return \Illuminate\Database\Query\Builder
             * @static
             */            public static function addSelect($column)
            {
                                /** @var \Illuminate\Database\Query\Builder $instance */
                                return $instance->addSelect($column);
            }
                            /**
             * Force the query to only return distinct results.
             *
             * @return \Illuminate\Database\Query\Builder
             * @static
             */            public static function distinct()
            {
                                /** @var \Illuminate\Database\Query\Builder $instance */
                                return $instance->distinct();
            }
                            /**
             * Set the table which the query is targeting.
             *
             * @param \Closure|\Illuminate\Database\Query\Builder|\Illuminate\Database\Eloquent\Builder|string $table
             * @param string|null $as
             * @return \Illuminate\Database\Query\Builder
             * @static
             */            public static function from($table, $as = null)
            {
                                /** @var \Illuminate\Database\Query\Builder $instance */
                                return $instance->from($table, $as);
            }
                            /**
             * Add an index hint to suggest a query index.
             *
             * @param string $index
             * @return \Illuminate\Database\Query\Builder
             * @static
             */            public static function useIndex($index)
            {
                                /** @var \Illuminate\Database\Query\Builder $instance */
                                return $instance->useIndex($index);
            }
                            /**
             * Add an index hint to force a query index.
             *
             * @param string $index
             * @return \Illuminate\Database\Query\Builder
             * @static
             */            public static function forceIndex($index)
            {
                                /** @var \Illuminate\Database\Query\Builder $instance */
                                return $instance->forceIndex($index);
            }
                            /**
             * Add an index hint to ignore a query index.
             *
             * @param string $index
             * @return \Illuminate\Database\Query\Builder
             * @static
             */            public static function ignoreIndex($index)
            {
                                /** @var \Illuminate\Database\Query\Builder $instance */
                                return $instance->ignoreIndex($index);
            }
                            /**
             * Add a join clause to the query.
             *
             * @param string $table
             * @param \Closure|string $first
             * @param string|null $operator
             * @param string|null $second
             * @param string $type
             * @param bool $where
             * @return \Illuminate\Database\Query\Builder
             * @static
             */            public static function join($table, $first, $operator = null, $second = null, $type = 'inner', $where = false)
            {
                                /** @var \Illuminate\Database\Query\Builder $instance */
                                return $instance->join($table, $first, $operator, $second, $type, $where);
            }
                            /**
             * Add a "join where" clause to the query.
             *
             * @param string $table
             * @param \Closure|string $first
             * @param string $operator
             * @param string $second
             * @param string $type
             * @return \Illuminate\Database\Query\Builder
             * @static
             */            public static function joinWhere($table, $first, $operator, $second, $type = 'inner')
            {
                                /** @var \Illuminate\Database\Query\Builder $instance */
                                return $instance->joinWhere($table, $first, $operator, $second, $type);
            }
                            /**
             * Add a subquery join clause to the query.
             *
             * @param \Closure|\Illuminate\Database\Query\Builder|\Illuminate\Database\Eloquent\Builder|string $query
             * @param string $as
             * @param \Closure|string $first
             * @param string|null $operator
             * @param string|null $second
             * @param string $type
             * @param bool $where
             * @return \Illuminate\Database\Query\Builder
             * @throws \InvalidArgumentException
             * @static
             */            public static function joinSub($query, $as, $first, $operator = null, $second = null, $type = 'inner', $where = false)
            {
                                /** @var \Illuminate\Database\Query\Builder $instance */
                                return $instance->joinSub($query, $as, $first, $operator, $second, $type, $where);
            }
                            /**
             * Add a left join to the query.
             *
             * @param string $table
             * @param \Closure|string $first
             * @param string|null $operator
             * @param string|null $second
             * @return \Illuminate\Database\Query\Builder
             * @static
             */            public static function leftJoin($table, $first, $operator = null, $second = null)
            {
                                /** @var \Illuminate\Database\Query\Builder $instance */
                                return $instance->leftJoin($table, $first, $operator, $second);
            }
                            /**
             * Add a "join where" clause to the query.
             *
             * @param string $table
             * @param \Closure|string $first
             * @param string $operator
             * @param string $second
             * @return \Illuminate\Database\Query\Builder
             * @static
             */            public static function leftJoinWhere($table, $first, $operator, $second)
            {
                                /** @var \Illuminate\Database\Query\Builder $instance */
                                return $instance->leftJoinWhere($table, $first, $operator, $second);
            }
                            /**
             * Add a subquery left join to the query.
             *
             * @param \Closure|\Illuminate\Database\Query\Builder|\Illuminate\Database\Eloquent\Builder|string $query
             * @param string $as
             * @param \Closure|string $first
             * @param string|null $operator
             * @param string|null $second
             * @return \Illuminate\Database\Query\Builder
             * @static
             */            public static function leftJoinSub($query, $as, $first, $operator = null, $second = null)
            {
                                /** @var \Illuminate\Database\Query\Builder $instance */
                                return $instance->leftJoinSub($query, $as, $first, $operator, $second);
            }
                            /**
             * Add a right join to the query.
             *
             * @param string $table
             * @param \Closure|string $first
             * @param string|null $operator
             * @param string|null $second
             * @return \Illuminate\Database\Query\Builder
             * @static
             */            public static function rightJoin($table, $first, $operator = null, $second = null)
            {
                                /** @var \Illuminate\Database\Query\Builder $instance */
                                return $instance->rightJoin($table, $first, $operator, $second);
            }
                            /**
             * Add a "right join where" clause to the query.
             *
             * @param string $table
             * @param \Closure|string $first
             * @param string $operator
             * @param string $second
             * @return \Illuminate\Database\Query\Builder
             * @static
             */            public static function rightJoinWhere($table, $first, $operator, $second)
            {
                                /** @var \Illuminate\Database\Query\Builder $instance */
                                return $instance->rightJoinWhere($table, $first, $operator, $second);
            }
                            /**
             * Add a subquery right join to the query.
             *
             * @param \Closure|\Illuminate\Database\Query\Builder|\Illuminate\Database\Eloquent\Builder|string $query
             * @param string $as
             * @param \Closure|string $first
             * @param string|null $operator
             * @param string|null $second
             * @return \Illuminate\Database\Query\Builder
             * @static
             */            public static function rightJoinSub($query, $as, $first, $operator = null, $second = null)
            {
                                /** @var \Illuminate\Database\Query\Builder $instance */
                                return $instance->rightJoinSub($query, $as, $first, $operator, $second);
            }
                            /**
             * Add a "cross join" clause to the query.
             *
             * @param string $table
             * @param \Closure|string|null $first
             * @param string|null $operator
             * @param string|null $second
             * @return \Illuminate\Database\Query\Builder
             * @static
             */            public static function crossJoin($table, $first = null, $operator = null, $second = null)
            {
                                /** @var \Illuminate\Database\Query\Builder $instance */
                                return $instance->crossJoin($table, $first, $operator, $second);
            }
                            /**
             * Add a subquery cross join to the query.
             *
             * @param \Closure|\Illuminate\Database\Query\Builder|\Illuminate\Database\Eloquent\Builder|string $query
             * @param string $as
             * @return \Illuminate\Database\Query\Builder
             * @static
             */            public static function crossJoinSub($query, $as)
            {
                                /** @var \Illuminate\Database\Query\Builder $instance */
                                return $instance->crossJoinSub($query, $as);
            }
                            /**
             * Merge an array of where clauses and bindings.
             *
             * @param array $wheres
             * @param array $bindings
             * @return \Illuminate\Database\Query\Builder
             * @static
             */            public static function mergeWheres($wheres, $bindings)
            {
                                /** @var \Illuminate\Database\Query\Builder $instance */
                                return $instance->mergeWheres($wheres, $bindings);
            }
                            /**
             * Prepare the value and operator for a where clause.
             *
             * @param string $value
             * @param string $operator
             * @param bool $useDefault
             * @return array
             * @throws \InvalidArgumentException
             * @static
             */            public static function prepareValueAndOperator($value, $operator, $useDefault = false)
            {
                                /** @var \Illuminate\Database\Query\Builder $instance */
                                return $instance->prepareValueAndOperator($value, $operator, $useDefault);
            }
                            /**
             * Add a "where" clause comparing two columns to the query.
             *
             * @param string|array $first
             * @param string|null $operator
             * @param string|null $second
             * @param string|null $boolean
             * @return \Illuminate\Database\Query\Builder
             * @static
             */            public static function whereColumn($first, $operator = null, $second = null, $boolean = 'and')
            {
                                /** @var \Illuminate\Database\Query\Builder $instance */
                                return $instance->whereColumn($first, $operator, $second, $boolean);
            }
                            /**
             * Add an "or where" clause comparing two columns to the query.
             *
             * @param string|array $first
             * @param string|null $operator
             * @param string|null $second
             * @return \Illuminate\Database\Query\Builder
             * @static
             */            public static function orWhereColumn($first, $operator = null, $second = null)
            {
                                /** @var \Illuminate\Database\Query\Builder $instance */
                                return $instance->orWhereColumn($first, $operator, $second);
            }
                            /**
             * Add a raw where clause to the query.
             *
             * @param string $sql
             * @param mixed $bindings
             * @param string $boolean
             * @return \Illuminate\Database\Query\Builder
             * @static
             */            public static function whereRaw($sql, $bindings = [], $boolean = 'and')
            {
                                /** @var \Illuminate\Database\Query\Builder $instance */
                                return $instance->whereRaw($sql, $bindings, $boolean);
            }
                            /**
             * Add a raw or where clause to the query.
             *
             * @param string $sql
             * @param mixed $bindings
             * @return \Illuminate\Database\Query\Builder
             * @static
             */            public static function orWhereRaw($sql, $bindings = [])
            {
                                /** @var \Illuminate\Database\Query\Builder $instance */
                                return $instance->orWhereRaw($sql, $bindings);
            }
                            /**
             * Add a "where in" clause to the query.
             *
             * @param string $column
             * @param mixed $values
             * @param string $boolean
             * @param bool $not
             * @return \Illuminate\Database\Query\Builder
             * @static
             */            public static function whereIn($column, $values, $boolean = 'and', $not = false)
            {
                                /** @var \Illuminate\Database\Query\Builder $instance */
                                return $instance->whereIn($column, $values, $boolean, $not);
            }
                            /**
             * Add an "or where in" clause to the query.
             *
             * @param string $column
             * @param mixed $values
             * @return \Illuminate\Database\Query\Builder
             * @static
             */            public static function orWhereIn($column, $values)
            {
                                /** @var \Illuminate\Database\Query\Builder $instance */
                                return $instance->orWhereIn($column, $values);
            }
                            /**
             * Add a "where not in" clause to the query.
             *
             * @param string $column
             * @param mixed $values
             * @param string $boolean
             * @return \Illuminate\Database\Query\Builder
             * @static
             */            public static function whereNotIn($column, $values, $boolean = 'and')
            {
                                /** @var \Illuminate\Database\Query\Builder $instance */
                                return $instance->whereNotIn($column, $values, $boolean);
            }
                            /**
             * Add an "or where not in" clause to the query.
             *
             * @param string $column
             * @param mixed $values
             * @return \Illuminate\Database\Query\Builder
             * @static
             */            public static function orWhereNotIn($column, $values)
            {
                                /** @var \Illuminate\Database\Query\Builder $instance */
                                return $instance->orWhereNotIn($column, $values);
            }
                            /**
             * Add a "where in raw" clause for integer values to the query.
             *
             * @param string $column
             * @param \Illuminate\Contracts\Support\Arrayable|array $values
             * @param string $boolean
             * @param bool $not
             * @return \Illuminate\Database\Query\Builder
             * @static
             */            public static function whereIntegerInRaw($column, $values, $boolean = 'and', $not = false)
            {
                                /** @var \Illuminate\Database\Query\Builder $instance */
                                return $instance->whereIntegerInRaw($column, $values, $boolean, $not);
            }
                            /**
             * Add an "or where in raw" clause for integer values to the query.
             *
             * @param string $column
             * @param \Illuminate\Contracts\Support\Arrayable|array $values
             * @return \Illuminate\Database\Query\Builder
             * @static
             */            public static function orWhereIntegerInRaw($column, $values)
            {
                                /** @var \Illuminate\Database\Query\Builder $instance */
                                return $instance->orWhereIntegerInRaw($column, $values);
            }
                            /**
             * Add a "where not in raw" clause for integer values to the query.
             *
             * @param string $column
             * @param \Illuminate\Contracts\Support\Arrayable|array $values
             * @param string $boolean
             * @return \Illuminate\Database\Query\Builder
             * @static
             */            public static function whereIntegerNotInRaw($column, $values, $boolean = 'and')
            {
                                /** @var \Illuminate\Database\Query\Builder $instance */
                                return $instance->whereIntegerNotInRaw($column, $values, $boolean);
            }
                            /**
             * Add an "or where not in raw" clause for integer values to the query.
             *
             * @param string $column
             * @param \Illuminate\Contracts\Support\Arrayable|array $values
             * @return \Illuminate\Database\Query\Builder
             * @static
             */            public static function orWhereIntegerNotInRaw($column, $values)
            {
                                /** @var \Illuminate\Database\Query\Builder $instance */
                                return $instance->orWhereIntegerNotInRaw($column, $values);
            }
                            /**
             * Add a "where null" clause to the query.
             *
             * @param string|array $columns
             * @param string $boolean
             * @param bool $not
             * @return \Illuminate\Database\Query\Builder
             * @static
             */            public static function whereNull($columns, $boolean = 'and', $not = false)
            {
                                /** @var \Illuminate\Database\Query\Builder $instance */
                                return $instance->whereNull($columns, $boolean, $not);
            }
                            /**
             * Add an "or where null" clause to the query.
             *
             * @param string|array $column
             * @return \Illuminate\Database\Query\Builder
             * @static
             */            public static function orWhereNull($column)
            {
                                /** @var \Illuminate\Database\Query\Builder $instance */
                                return $instance->orWhereNull($column);
            }
                            /**
             * Add a "where not null" clause to the query.
             *
             * @param string|array $columns
             * @param string $boolean
             * @return \Illuminate\Database\Query\Builder
             * @static
             */            public static function whereNotNull($columns, $boolean = 'and')
            {
                                /** @var \Illuminate\Database\Query\Builder $instance */
                                return $instance->whereNotNull($columns, $boolean);
            }
                            /**
             * Add a where between statement to the query.
             *
             * @param string|\Illuminate\Database\Query\Expression $column
             * @param iterable $values
             * @param string $boolean
             * @param bool $not
             * @return \Illuminate\Database\Query\Builder
             * @static
             */            public static function whereBetween($column, $values, $boolean = 'and', $not = false)
            {
                                /** @var \Illuminate\Database\Query\Builder $instance */
                                return $instance->whereBetween($column, $values, $boolean, $not);
            }
                            /**
             * Add a where between statement using columns to the query.
             *
             * @param string $column
             * @param array $values
             * @param string $boolean
             * @param bool $not
             * @return \Illuminate\Database\Query\Builder
             * @static
             */            public static function whereBetweenColumns($column, $values, $boolean = 'and', $not = false)
            {
                                /** @var \Illuminate\Database\Query\Builder $instance */
                                return $instance->whereBetweenColumns($column, $values, $boolean, $not);
            }
                            /**
             * Add an or where between statement to the query.
             *
             * @param string $column
             * @param iterable $values
             * @return \Illuminate\Database\Query\Builder
             * @static
             */            public static function orWhereBetween($column, $values)
            {
                                /** @var \Illuminate\Database\Query\Builder $instance */
                                return $instance->orWhereBetween($column, $values);
            }
                            /**
             * Add an or where between statement using columns to the query.
             *
             * @param string $column
             * @param array $values
             * @return \Illuminate\Database\Query\Builder
             * @static
             */            public static function orWhereBetweenColumns($column, $values)
            {
                                /** @var \Illuminate\Database\Query\Builder $instance */
                                return $instance->orWhereBetweenColumns($column, $values);
            }
                            /**
             * Add a where not between statement to the query.
             *
             * @param string $column
             * @param iterable $values
             * @param string $boolean
             * @return \Illuminate\Database\Query\Builder
             * @static
             */            public static function whereNotBetween($column, $values, $boolean = 'and')
            {
                                /** @var \Illuminate\Database\Query\Builder $instance */
                                return $instance->whereNotBetween($column, $values, $boolean);
            }
                            /**
             * Add a where not between statement using columns to the query.
             *
             * @param string $column
             * @param array $values
             * @param string $boolean
             * @return \Illuminate\Database\Query\Builder
             * @static
             */            public static function whereNotBetweenColumns($column, $values, $boolean = 'and')
            {
                                /** @var \Illuminate\Database\Query\Builder $instance */
                                return $instance->whereNotBetweenColumns($column, $values, $boolean);
            }
                            /**
             * Add an or where not between statement to the query.
             *
             * @param string $column
             * @param iterable $values
             * @return \Illuminate\Database\Query\Builder
             * @static
             */            public static function orWhereNotBetween($column, $values)
            {
                                /** @var \Illuminate\Database\Query\Builder $instance */
                                return $instance->orWhereNotBetween($column, $values);
            }
                            /**
             * Add an or where not between statement using columns to the query.
             *
             * @param string $column
             * @param array $values
             * @return \Illuminate\Database\Query\Builder
             * @static
             */            public static function orWhereNotBetweenColumns($column, $values)
            {
                                /** @var \Illuminate\Database\Query\Builder $instance */
                                return $instance->orWhereNotBetweenColumns($column, $values);
            }
                            /**
             * Add an "or where not null" clause to the query.
             *
             * @param string $column
             * @return \Illuminate\Database\Query\Builder
             * @static
             */            public static function orWhereNotNull($column)
            {
                                /** @var \Illuminate\Database\Query\Builder $instance */
                                return $instance->orWhereNotNull($column);
            }
                            /**
             * Add a "where date" statement to the query.
             *
             * @param string $column
             * @param string $operator
             * @param \DateTimeInterface|string|null $value
             * @param string $boolean
             * @return \Illuminate\Database\Query\Builder
             * @static
             */            public static function whereDate($column, $operator, $value = null, $boolean = 'and')
            {
                                /** @var \Illuminate\Database\Query\Builder $instance */
                                return $instance->whereDate($column, $operator, $value, $boolean);
            }
                            /**
             * Add an "or where date" statement to the query.
             *
             * @param string $column
             * @param string $operator
             * @param \DateTimeInterface|string|null $value
             * @return \Illuminate\Database\Query\Builder
             * @static
             */            public static function orWhereDate($column, $operator, $value = null)
            {
                                /** @var \Illuminate\Database\Query\Builder $instance */
                                return $instance->orWhereDate($column, $operator, $value);
            }
                            /**
             * Add a "where time" statement to the query.
             *
             * @param string $column
             * @param string $operator
             * @param \DateTimeInterface|string|null $value
             * @param string $boolean
             * @return \Illuminate\Database\Query\Builder
             * @static
             */            public static function whereTime($column, $operator, $value = null, $boolean = 'and')
            {
                                /** @var \Illuminate\Database\Query\Builder $instance */
                                return $instance->whereTime($column, $operator, $value, $boolean);
            }
                            /**
             * Add an "or where time" statement to the query.
             *
             * @param string $column
             * @param string $operator
             * @param \DateTimeInterface|string|null $value
             * @return \Illuminate\Database\Query\Builder
             * @static
             */            public static function orWhereTime($column, $operator, $value = null)
            {
                                /** @var \Illuminate\Database\Query\Builder $instance */
                                return $instance->orWhereTime($column, $operator, $value);
            }
                            /**
             * Add a "where day" statement to the query.
             *
             * @param string $column
             * @param string $operator
             * @param \DateTimeInterface|string|int|null $value
             * @param string $boolean
             * @return \Illuminate\Database\Query\Builder
             * @static
             */            public static function whereDay($column, $operator, $value = null, $boolean = 'and')
            {
                                /** @var \Illuminate\Database\Query\Builder $instance */
                                return $instance->whereDay($column, $operator, $value, $boolean);
            }
                            /**
             * Add an "or where day" statement to the query.
             *
             * @param string $column
             * @param string $operator
             * @param \DateTimeInterface|string|int|null $value
             * @return \Illuminate\Database\Query\Builder
             * @static
             */            public static function orWhereDay($column, $operator, $value = null)
            {
                                /** @var \Illuminate\Database\Query\Builder $instance */
                                return $instance->orWhereDay($column, $operator, $value);
            }
                            /**
             * Add a "where month" statement to the query.
             *
             * @param string $column
             * @param string $operator
             * @param \DateTimeInterface|string|int|null $value
             * @param string $boolean
             * @return \Illuminate\Database\Query\Builder
             * @static
             */            public static function whereMonth($column, $operator, $value = null, $boolean = 'and')
            {
                                /** @var \Illuminate\Database\Query\Builder $instance */
                                return $instance->whereMonth($column, $operator, $value, $boolean);
            }
                            /**
             * Add an "or where month" statement to the query.
             *
             * @param string $column
             * @param string $operator
             * @param \DateTimeInterface|string|int|null $value
             * @return \Illuminate\Database\Query\Builder
             * @static
             */            public static function orWhereMonth($column, $operator, $value = null)
            {
                                /** @var \Illuminate\Database\Query\Builder $instance */
                                return $instance->orWhereMonth($column, $operator, $value);
            }
                            /**
             * Add a "where year" statement to the query.
             *
             * @param string $column
             * @param string $operator
             * @param \DateTimeInterface|string|int|null $value
             * @param string $boolean
             * @return \Illuminate\Database\Query\Builder
             * @static
             */            public static function whereYear($column, $operator, $value = null, $boolean = 'and')
            {
                                /** @var \Illuminate\Database\Query\Builder $instance */
                                return $instance->whereYear($column, $operator, $value, $boolean);
            }
                            /**
             * Add an "or where year" statement to the query.
             *
             * @param string $column
             * @param string $operator
             * @param \DateTimeInterface|string|int|null $value
             * @return \Illuminate\Database\Query\Builder
             * @static
             */            public static function orWhereYear($column, $operator, $value = null)
            {
                                /** @var \Illuminate\Database\Query\Builder $instance */
                                return $instance->orWhereYear($column, $operator, $value);
            }
                            /**
             * Add a nested where statement to the query.
             *
             * @param \Closure $callback
             * @param string $boolean
             * @return \Illuminate\Database\Query\Builder
             * @static
             */            public static function whereNested($callback, $boolean = 'and')
            {
                                /** @var \Illuminate\Database\Query\Builder $instance */
                                return $instance->whereNested($callback, $boolean);
            }
                            /**
             * Create a new query instance for nested where condition.
             *
             * @return \Illuminate\Database\Query\Builder
             * @static
             */            public static function forNestedWhere()
            {
                                /** @var \Illuminate\Database\Query\Builder $instance */
                                return $instance->forNestedWhere();
            }
                            /**
             * Add another query builder as a nested where to the query builder.
             *
             * @param \Illuminate\Database\Query\Builder $query
             * @param string $boolean
             * @return \Illuminate\Database\Query\Builder
             * @static
             */            public static function addNestedWhereQuery($query, $boolean = 'and')
            {
                                /** @var \Illuminate\Database\Query\Builder $instance */
                                return $instance->addNestedWhereQuery($query, $boolean);
            }
                            /**
             * Add an exists clause to the query.
             *
             * @param \Closure $callback
             * @param string $boolean
             * @param bool $not
             * @return \Illuminate\Database\Query\Builder
             * @static
             */            public static function whereExists($callback, $boolean = 'and', $not = false)
            {
                                /** @var \Illuminate\Database\Query\Builder $instance */
                                return $instance->whereExists($callback, $boolean, $not);
            }
                            /**
             * Add an or exists clause to the query.
             *
             * @param \Closure $callback
             * @param bool $not
             * @return \Illuminate\Database\Query\Builder
             * @static
             */            public static function orWhereExists($callback, $not = false)
            {
                                /** @var \Illuminate\Database\Query\Builder $instance */
                                return $instance->orWhereExists($callback, $not);
            }
                            /**
             * Add a where not exists clause to the query.
             *
             * @param \Closure $callback
             * @param string $boolean
             * @return \Illuminate\Database\Query\Builder
             * @static
             */            public static function whereNotExists($callback, $boolean = 'and')
            {
                                /** @var \Illuminate\Database\Query\Builder $instance */
                                return $instance->whereNotExists($callback, $boolean);
            }
                            /**
             * Add a where not exists clause to the query.
             *
             * @param \Closure $callback
             * @return \Illuminate\Database\Query\Builder
             * @static
             */            public static function orWhereNotExists($callback)
            {
                                /** @var \Illuminate\Database\Query\Builder $instance */
                                return $instance->orWhereNotExists($callback);
            }
                            /**
             * Add an exists clause to the query.
             *
             * @param \Illuminate\Database\Query\Builder $query
             * @param string $boolean
             * @param bool $not
             * @return \Illuminate\Database\Query\Builder
             * @static
             */            public static function addWhereExistsQuery($query, $boolean = 'and', $not = false)
            {
                                /** @var \Illuminate\Database\Query\Builder $instance */
                                return $instance->addWhereExistsQuery($query, $boolean, $not);
            }
                            /**
             * Adds a where condition using row values.
             *
             * @param array $columns
             * @param string $operator
             * @param array $values
             * @param string $boolean
             * @return \Illuminate\Database\Query\Builder
             * @throws \InvalidArgumentException
             * @static
             */            public static function whereRowValues($columns, $operator, $values, $boolean = 'and')
            {
                                /** @var \Illuminate\Database\Query\Builder $instance */
                                return $instance->whereRowValues($columns, $operator, $values, $boolean);
            }
                            /**
             * Adds an or where condition using row values.
             *
             * @param array $columns
             * @param string $operator
             * @param array $values
             * @return \Illuminate\Database\Query\Builder
             * @static
             */            public static function orWhereRowValues($columns, $operator, $values)
            {
                                /** @var \Illuminate\Database\Query\Builder $instance */
                                return $instance->orWhereRowValues($columns, $operator, $values);
            }
                            /**
             * Add a "where JSON contains" clause to the query.
             *
             * @param string $column
             * @param mixed $value
             * @param string $boolean
             * @param bool $not
             * @return \Illuminate\Database\Query\Builder
             * @static
             */            public static function whereJsonContains($column, $value, $boolean = 'and', $not = false)
            {
                                /** @var \Illuminate\Database\Query\Builder $instance */
                                return $instance->whereJsonContains($column, $value, $boolean, $not);
            }
                            /**
             * Add an "or where JSON contains" clause to the query.
             *
             * @param string $column
             * @param mixed $value
             * @return \Illuminate\Database\Query\Builder
             * @static
             */            public static function orWhereJsonContains($column, $value)
            {
                                /** @var \Illuminate\Database\Query\Builder $instance */
                                return $instance->orWhereJsonContains($column, $value);
            }
                            /**
             * Add a "where JSON not contains" clause to the query.
             *
             * @param string $column
             * @param mixed $value
             * @param string $boolean
             * @return \Illuminate\Database\Query\Builder
             * @static
             */            public static function whereJsonDoesntContain($column, $value, $boolean = 'and')
            {
                                /** @var \Illuminate\Database\Query\Builder $instance */
                                return $instance->whereJsonDoesntContain($column, $value, $boolean);
            }
                            /**
             * Add an "or where JSON not contains" clause to the query.
             *
             * @param string $column
             * @param mixed $value
             * @return \Illuminate\Database\Query\Builder
             * @static
             */            public static function orWhereJsonDoesntContain($column, $value)
            {
                                /** @var \Illuminate\Database\Query\Builder $instance */
                                return $instance->orWhereJsonDoesntContain($column, $value);
            }
                            /**
             * Add a clause that determines if a JSON path exists to the query.
             *
             * @param string $column
             * @param string $boolean
             * @param bool $not
             * @return \Illuminate\Database\Query\Builder
             * @static
             */            public static function whereJsonContainsKey($column, $boolean = 'and', $not = false)
            {
                                /** @var \Illuminate\Database\Query\Builder $instance */
                                return $instance->whereJsonContainsKey($column, $boolean, $not);
            }
                            /**
             * Add an "or" clause that determines if a JSON path exists to the query.
             *
             * @param string $column
             * @return \Illuminate\Database\Query\Builder
             * @static
             */            public static function orWhereJsonContainsKey($column)
            {
                                /** @var \Illuminate\Database\Query\Builder $instance */
                                return $instance->orWhereJsonContainsKey($column);
            }
                            /**
             * Add a clause that determines if a JSON path does not exist to the query.
             *
             * @param string $column
             * @param string $boolean
             * @return \Illuminate\Database\Query\Builder
             * @static
             */            public static function whereJsonDoesntContainKey($column, $boolean = 'and')
            {
                                /** @var \Illuminate\Database\Query\Builder $instance */
                                return $instance->whereJsonDoesntContainKey($column, $boolean);
            }
                            /**
             * Add an "or" clause that determines if a JSON path does not exist to the query.
             *
             * @param string $column
             * @return \Illuminate\Database\Query\Builder
             * @static
             */            public static function orWhereJsonDoesntContainKey($column)
            {
                                /** @var \Illuminate\Database\Query\Builder $instance */
                                return $instance->orWhereJsonDoesntContainKey($column);
            }
                            /**
             * Add a "where JSON length" clause to the query.
             *
             * @param string $column
             * @param mixed $operator
             * @param mixed $value
             * @param string $boolean
             * @return \Illuminate\Database\Query\Builder
             * @static
             */            public static function whereJsonLength($column, $operator, $value = null, $boolean = 'and')
            {
                                /** @var \Illuminate\Database\Query\Builder $instance */
                                return $instance->whereJsonLength($column, $operator, $value, $boolean);
            }
                            /**
             * Add an "or where JSON length" clause to the query.
             *
             * @param string $column
             * @param mixed $operator
             * @param mixed $value
             * @return \Illuminate\Database\Query\Builder
             * @static
             */            public static function orWhereJsonLength($column, $operator, $value = null)
            {
                                /** @var \Illuminate\Database\Query\Builder $instance */
                                return $instance->orWhereJsonLength($column, $operator, $value);
            }
                            /**
             * Handles dynamic "where" clauses to the query.
             *
             * @param string $method
             * @param array $parameters
             * @return \Illuminate\Database\Query\Builder
             * @static
             */            public static function dynamicWhere($method, $parameters)
            {
                                /** @var \Illuminate\Database\Query\Builder $instance */
                                return $instance->dynamicWhere($method, $parameters);
            }
                            /**
             * Add a "where fulltext" clause to the query.
             *
             * @param string|string[] $columns
             * @param string $value
             * @param string $boolean
             * @return \Illuminate\Database\Query\Builder
             * @static
             */            public static function whereFullText($columns, $value, $options = [], $boolean = 'and')
            {
                                /** @var \Illuminate\Database\Query\Builder $instance */
                                return $instance->whereFullText($columns, $value, $options, $boolean);
            }
                            /**
             * Add a "or where fulltext" clause to the query.
             *
             * @param string|string[] $columns
             * @param string $value
             * @return \Illuminate\Database\Query\Builder
             * @static
             */            public static function orWhereFullText($columns, $value, $options = [])
            {
                                /** @var \Illuminate\Database\Query\Builder $instance */
                                return $instance->orWhereFullText($columns, $value, $options);
            }
                            /**
             * Add a "group by" clause to the query.
             *
             * @param array|string $groups
             * @return \Illuminate\Database\Query\Builder
             * @static
             */            public static function groupBy(...$groups)
            {
                                /** @var \Illuminate\Database\Query\Builder $instance */
                                return $instance->groupBy(...$groups);
            }
                            /**
             * Add a raw groupBy clause to the query.
             *
             * @param string $sql
             * @param array $bindings
             * @return \Illuminate\Database\Query\Builder
             * @static
             */            public static function groupByRaw($sql, $bindings = [])
            {
                                /** @var \Illuminate\Database\Query\Builder $instance */
                                return $instance->groupByRaw($sql, $bindings);
            }
                            /**
             * Add a "having" clause to the query.
             *
             * @param \Closure|string $column
             * @param string|int|float|null $operator
             * @param string|int|float|null $value
             * @param string $boolean
             * @return \Illuminate\Database\Query\Builder
             * @static
             */            public static function having($column, $operator = null, $value = null, $boolean = 'and')
            {
                                /** @var \Illuminate\Database\Query\Builder $instance */
                                return $instance->having($column, $operator, $value, $boolean);
            }
                            /**
             * Add an "or having" clause to the query.
             *
             * @param \Closure|string $column
             * @param string|int|float|null $operator
             * @param string|int|float|null $value
             * @return \Illuminate\Database\Query\Builder
             * @static
             */            public static function orHaving($column, $operator = null, $value = null)
            {
                                /** @var \Illuminate\Database\Query\Builder $instance */
                                return $instance->orHaving($column, $operator, $value);
            }
                            /**
             * Add a nested having statement to the query.
             *
             * @param \Closure $callback
             * @param string $boolean
             * @return \Illuminate\Database\Query\Builder
             * @static
             */            public static function havingNested($callback, $boolean = 'and')
            {
                                /** @var \Illuminate\Database\Query\Builder $instance */
                                return $instance->havingNested($callback, $boolean);
            }
                            /**
             * Add another query builder as a nested having to the query builder.
             *
             * @param \Illuminate\Database\Query\Builder $query
             * @param string $boolean
             * @return \Illuminate\Database\Query\Builder
             * @static
             */            public static function addNestedHavingQuery($query, $boolean = 'and')
            {
                                /** @var \Illuminate\Database\Query\Builder $instance */
                                return $instance->addNestedHavingQuery($query, $boolean);
            }
                            /**
             * Add a "having null" clause to the query.
             *
             * @param string|array $columns
             * @param string $boolean
             * @param bool $not
             * @return \Illuminate\Database\Query\Builder
             * @static
             */            public static function havingNull($columns, $boolean = 'and', $not = false)
            {
                                /** @var \Illuminate\Database\Query\Builder $instance */
                                return $instance->havingNull($columns, $boolean, $not);
            }
                            /**
             * Add an "or having null" clause to the query.
             *
             * @param string $column
             * @return \Illuminate\Database\Query\Builder
             * @static
             */            public static function orHavingNull($column)
            {
                                /** @var \Illuminate\Database\Query\Builder $instance */
                                return $instance->orHavingNull($column);
            }
                            /**
             * Add a "having not null" clause to the query.
             *
             * @param string|array $columns
             * @param string $boolean
             * @return \Illuminate\Database\Query\Builder
             * @static
             */            public static function havingNotNull($columns, $boolean = 'and')
            {
                                /** @var \Illuminate\Database\Query\Builder $instance */
                                return $instance->havingNotNull($columns, $boolean);
            }
                            /**
             * Add an "or having not null" clause to the query.
             *
             * @param string $column
             * @return \Illuminate\Database\Query\Builder
             * @static
             */            public static function orHavingNotNull($column)
            {
                                /** @var \Illuminate\Database\Query\Builder $instance */
                                return $instance->orHavingNotNull($column);
            }
                            /**
             * Add a "having between " clause to the query.
             *
             * @param string $column
             * @param array $values
             * @param string $boolean
             * @param bool $not
             * @return \Illuminate\Database\Query\Builder
             * @static
             */            public static function havingBetween($column, $values, $boolean = 'and', $not = false)
            {
                                /** @var \Illuminate\Database\Query\Builder $instance */
                                return $instance->havingBetween($column, $values, $boolean, $not);
            }
                            /**
             * Add a raw having clause to the query.
             *
             * @param string $sql
             * @param array $bindings
             * @param string $boolean
             * @return \Illuminate\Database\Query\Builder
             * @static
             */            public static function havingRaw($sql, $bindings = [], $boolean = 'and')
            {
                                /** @var \Illuminate\Database\Query\Builder $instance */
                                return $instance->havingRaw($sql, $bindings, $boolean);
            }
                            /**
             * Add a raw or having clause to the query.
             *
             * @param string $sql
             * @param array $bindings
             * @return \Illuminate\Database\Query\Builder
             * @static
             */            public static function orHavingRaw($sql, $bindings = [])
            {
                                /** @var \Illuminate\Database\Query\Builder $instance */
                                return $instance->orHavingRaw($sql, $bindings);
            }
                            /**
             * Add an "order by" clause to the query.
             *
             * @param \Closure|\Illuminate\Database\Query\Builder|\Illuminate\Database\Eloquent\Builder|\Illuminate\Database\Query\Expression|string $column
             * @param string $direction
             * @return \Illuminate\Database\Query\Builder
             * @throws \InvalidArgumentException
             * @static
             */            public static function orderBy($column, $direction = 'asc')
            {
                                /** @var \Illuminate\Database\Query\Builder $instance */
                                return $instance->orderBy($column, $direction);
            }
                            /**
             * Add a descending "order by" clause to the query.
             *
             * @param \Closure|\Illuminate\Database\Query\Builder|\Illuminate\Database\Eloquent\Builder|\Illuminate\Database\Query\Expression|string $column
             * @return \Illuminate\Database\Query\Builder
             * @static
             */            public static function orderByDesc($column)
            {
                                /** @var \Illuminate\Database\Query\Builder $instance */
                                return $instance->orderByDesc($column);
            }
                            /**
             * Put the query's results in random order.
             *
             * @param string|int $seed
             * @return \Illuminate\Database\Query\Builder
             * @static
             */            public static function inRandomOrder($seed = '')
            {
                                /** @var \Illuminate\Database\Query\Builder $instance */
                                return $instance->inRandomOrder($seed);
            }
                            /**
             * Add a raw "order by" clause to the query.
             *
             * @param string $sql
             * @param array $bindings
             * @return \Illuminate\Database\Query\Builder
             * @static
             */            public static function orderByRaw($sql, $bindings = [])
            {
                                /** @var \Illuminate\Database\Query\Builder $instance */
                                return $instance->orderByRaw($sql, $bindings);
            }
                            /**
             * Alias to set the "offset" value of the query.
             *
             * @param int $value
             * @return \Illuminate\Database\Query\Builder
             * @static
             */            public static function skip($value)
            {
                                /** @var \Illuminate\Database\Query\Builder $instance */
                                return $instance->skip($value);
            }
                            /**
             * Set the "offset" value of the query.
             *
             * @param int $value
             * @return \Illuminate\Database\Query\Builder
             * @static
             */            public static function offset($value)
            {
                                /** @var \Illuminate\Database\Query\Builder $instance */
                                return $instance->offset($value);
            }
                            /**
             * Alias to set the "limit" value of the query.
             *
             * @param int $value
             * @return \Illuminate\Database\Query\Builder
             * @static
             */            public static function take($value)
            {
                                /** @var \Illuminate\Database\Query\Builder $instance */
                                return $instance->take($value);
            }
                            /**
             * Set the "limit" value of the query.
             *
             * @param int $value
             * @return \Illuminate\Database\Query\Builder
             * @static
             */            public static function limit($value)
            {
                                /** @var \Illuminate\Database\Query\Builder $instance */
                                return $instance->limit($value);
            }
                            /**
             * Set the limit and offset for a given page.
             *
             * @param int $page
             * @param int $perPage
             * @return \Illuminate\Database\Query\Builder
             * @static
             */            public static function forPage($page, $perPage = 15)
            {
                                /** @var \Illuminate\Database\Query\Builder $instance */
                                return $instance->forPage($page, $perPage);
            }
                            /**
             * Constrain the query to the previous "page" of results before a given ID.
             *
             * @param int $perPage
             * @param int|null $lastId
             * @param string $column
             * @return \Illuminate\Database\Query\Builder
             * @static
             */            public static function forPageBeforeId($perPage = 15, $lastId = 0, $column = 'id')
            {
                                /** @var \Illuminate\Database\Query\Builder $instance */
                                return $instance->forPageBeforeId($perPage, $lastId, $column);
            }
                            /**
             * Constrain the query to the next "page" of results after a given ID.
             *
             * @param int $perPage
             * @param int|null $lastId
             * @param string $column
             * @return \Illuminate\Database\Query\Builder
             * @static
             */            public static function forPageAfterId($perPage = 15, $lastId = 0, $column = 'id')
            {
                                /** @var \Illuminate\Database\Query\Builder $instance */
                                return $instance->forPageAfterId($perPage, $lastId, $column);
            }
                            /**
             * Remove all existing orders and optionally add a new order.
             *
             * @param \Closure|\Illuminate\Database\Query\Builder|\Illuminate\Database\Query\Expression|string|null $column
             * @param string $direction
             * @return \Illuminate\Database\Query\Builder
             * @static
             */            public static function reorder($column = null, $direction = 'asc')
            {
                                /** @var \Illuminate\Database\Query\Builder $instance */
                                return $instance->reorder($column, $direction);
            }
                            /**
             * Add a union statement to the query.
             *
             * @param \Closure|\Illuminate\Database\Query\Builder|\Illuminate\Database\Eloquent\Builder $query
             * @param bool $all
             * @return \Illuminate\Database\Query\Builder
             * @static
             */            public static function union($query, $all = false)
            {
                                /** @var \Illuminate\Database\Query\Builder $instance */
                                return $instance->union($query, $all);
            }
                            /**
             * Add a union all statement to the query.
             *
             * @param \Closure|\Illuminate\Database\Query\Builder|\Illuminate\Database\Eloquent\Builder $query
             * @return \Illuminate\Database\Query\Builder
             * @static
             */            public static function unionAll($query)
            {
                                /** @var \Illuminate\Database\Query\Builder $instance */
                                return $instance->unionAll($query);
            }
                            /**
             * Lock the selected rows in the table.
             *
             * @param string|bool $value
             * @return \Illuminate\Database\Query\Builder
             * @static
             */            public static function lock($value = true)
            {
                                /** @var \Illuminate\Database\Query\Builder $instance */
                                return $instance->lock($value);
            }
                            /**
             * Lock the selected rows in the table for updating.
             *
             * @return \Illuminate\Database\Query\Builder
             * @static
             */            public static function lockForUpdate()
            {
                                /** @var \Illuminate\Database\Query\Builder $instance */
                                return $instance->lockForUpdate();
            }
                            /**
             * Share lock the selected rows in the table.
             *
             * @return \Illuminate\Database\Query\Builder
             * @static
             */            public static function sharedLock()
            {
                                /** @var \Illuminate\Database\Query\Builder $instance */
                                return $instance->sharedLock();
            }
                            /**
             * Register a closure to be invoked before the query is executed.
             *
             * @param callable $callback
             * @return \Illuminate\Database\Query\Builder
             * @static
             */            public static function beforeQuery($callback)
            {
                                /** @var \Illuminate\Database\Query\Builder $instance */
                                return $instance->beforeQuery($callback);
            }
                            /**
             * Invoke the "before query" modification callbacks.
             *
             * @return void
             * @static
             */            public static function applyBeforeQueryCallbacks()
            {
                                /** @var \Illuminate\Database\Query\Builder $instance */
                                $instance->applyBeforeQueryCallbacks();
            }
                            /**
             * Get the SQL representation of the query.
             *
             * @return string
             * @static
             */            public static function toSql()
            {
                                /** @var \Illuminate\Database\Query\Builder $instance */
                                return $instance->toSql();
            }
                            /**
             * Get a single expression value from the first result of a query.
             *
             * @param string $expression
             * @param array $bindings
             * @return mixed
             * @static
             */            public static function rawValue($expression, $bindings = [])
            {
                                /** @var \Illuminate\Database\Query\Builder $instance */
                                return $instance->rawValue($expression, $bindings);
            }
                            /**
             * Get the count of the total records for the paginator.
             *
             * @param array $columns
             * @return int
             * @static
             */            public static function getCountForPagination($columns = [])
            {
                                /** @var \Illuminate\Database\Query\Builder $instance */
                                return $instance->getCountForPagination($columns);
            }
                            /**
             * Concatenate values of a given column as a string.
             *
             * @param string $column
             * @param string $glue
             * @return string
             * @static
             */            public static function implode($column, $glue = '')
            {
                                /** @var \Illuminate\Database\Query\Builder $instance */
                                return $instance->implode($column, $glue);
            }
                            /**
             * Determine if any rows exist for the current query.
             *
             * @return bool
             * @static
             */            public static function exists()
            {
                                /** @var \Illuminate\Database\Query\Builder $instance */
                                return $instance->exists();
            }
                            /**
             * Determine if no rows exist for the current query.
             *
             * @return bool
             * @static
             */            public static function doesntExist()
            {
                                /** @var \Illuminate\Database\Query\Builder $instance */
                                return $instance->doesntExist();
            }
                            /**
             * Execute the given callback if no rows exist for the current query.
             *
             * @param \Closure $callback
             * @return mixed
             * @static
             */            public static function existsOr($callback)
            {
                                /** @var \Illuminate\Database\Query\Builder $instance */
                                return $instance->existsOr($callback);
            }
                            /**
             * Execute the given callback if rows exist for the current query.
             *
             * @param \Closure $callback
             * @return mixed
             * @static
             */            public static function doesntExistOr($callback)
            {
                                /** @var \Illuminate\Database\Query\Builder $instance */
                                return $instance->doesntExistOr($callback);
            }
                            /**
             * Retrieve the "count" result of the query.
             *
             * @param string $columns
             * @return int
             * @static
             */            public static function count($columns = '*')
            {
                                /** @var \Illuminate\Database\Query\Builder $instance */
                                return $instance->count($columns);
            }
                            /**
             * Retrieve the minimum value of a given column.
             *
             * @param string $column
             * @return mixed
             * @static
             */            public static function min($column)
            {
                                /** @var \Illuminate\Database\Query\Builder $instance */
                                return $instance->min($column);
            }
                            /**
             * Retrieve the maximum value of a given column.
             *
             * @param string $column
             * @return mixed
             * @static
             */            public static function max($column)
            {
                                /** @var \Illuminate\Database\Query\Builder $instance */
                                return $instance->max($column);
            }
                            /**
             * Retrieve the sum of the values of a given column.
             *
             * @param string $column
             * @return mixed
             * @static
             */            public static function sum($column)
            {
                                /** @var \Illuminate\Database\Query\Builder $instance */
                                return $instance->sum($column);
            }
                            /**
             * Retrieve the average of the values of a given column.
             *
             * @param string $column
             * @return mixed
             * @static
             */            public static function avg($column)
            {
                                /** @var \Illuminate\Database\Query\Builder $instance */
                                return $instance->avg($column);
            }
                            /**
             * Alias for the "avg" method.
             *
             * @param string $column
             * @return mixed
             * @static
             */            public static function average($column)
            {
                                /** @var \Illuminate\Database\Query\Builder $instance */
                                return $instance->average($column);
            }
                            /**
             * Execute an aggregate function on the database.
             *
             * @param string $function
             * @param array $columns
             * @return mixed
             * @static
             */            public static function aggregate($function, $columns = [])
            {
                                /** @var \Illuminate\Database\Query\Builder $instance */
                                return $instance->aggregate($function, $columns);
            }
                            /**
             * Execute a numeric aggregate function on the database.
             *
             * @param string $function
             * @param array $columns
             * @return float|int
             * @static
             */            public static function numericAggregate($function, $columns = [])
            {
                                /** @var \Illuminate\Database\Query\Builder $instance */
                                return $instance->numericAggregate($function, $columns);
            }
                            /**
             * Insert new records into the database.
             *
             * @param array $values
             * @return bool
             * @static
             */            public static function insert($values)
            {
                                /** @var \Illuminate\Database\Query\Builder $instance */
                                return $instance->insert($values);
            }
                            /**
             * Insert new records into the database while ignoring errors.
             *
             * @param array $values
             * @return int
             * @static
             */            public static function insertOrIgnore($values)
            {
                                /** @var \Illuminate\Database\Query\Builder $instance */
                                return $instance->insertOrIgnore($values);
            }
                            /**
             * Insert a new record and get the value of the primary key.
             *
             * @param array $values
             * @param string|null $sequence
             * @return int
             * @static
             */            public static function insertGetId($values, $sequence = null)
            {
                                /** @var \Illuminate\Database\Query\Builder $instance */
                                return $instance->insertGetId($values, $sequence);
            }
                            /**
             * Insert new records into the table using a subquery.
             *
             * @param array $columns
             * @param \Closure|\Illuminate\Database\Query\Builder|\Illuminate\Database\Eloquent\Builder|string $query
             * @return int
             * @static
             */            public static function insertUsing($columns, $query)
            {
                                /** @var \Illuminate\Database\Query\Builder $instance */
                                return $instance->insertUsing($columns, $query);
            }
                            /**
             * Update records in a PostgreSQL database using the update from syntax.
             *
             * @param array $values
             * @return int
             * @static
             */            public static function updateFrom($values)
            {
                                /** @var \Illuminate\Database\Query\Builder $instance */
                                return $instance->updateFrom($values);
            }
                            /**
             * Insert or update a record matching the attributes, and fill it with values.
             *
             * @param array $attributes
             * @param array $values
             * @return bool
             * @static
             */            public static function updateOrInsert($attributes, $values = [])
            {
                                /** @var \Illuminate\Database\Query\Builder $instance */
                                return $instance->updateOrInsert($attributes, $values);
            }
                            /**
             * Increment the given column's values by the given amounts.
             *
             * @param array<string, float|int|numeric-string> $columns
             * @param array<string, mixed> $extra
             * @return int
             * @throws \InvalidArgumentException
             * @static
             */            public static function incrementEach($columns, $extra = [])
            {
                                /** @var \Illuminate\Database\Query\Builder $instance */
                                return $instance->incrementEach($columns, $extra);
            }
                            /**
             * Decrement the given column's values by the given amounts.
             *
             * @param array<string, float|int|numeric-string> $columns
             * @param array<string, mixed> $extra
             * @return int
             * @throws \InvalidArgumentException
             * @static
             */            public static function decrementEach($columns, $extra = [])
            {
                                /** @var \Illuminate\Database\Query\Builder $instance */
                                return $instance->decrementEach($columns, $extra);
            }
                            /**
             * Run a truncate statement on the table.
             *
             * @return void
             * @static
             */            public static function truncate()
            {
                                /** @var \Illuminate\Database\Query\Builder $instance */
                                $instance->truncate();
            }
                            /**
             * Create a raw database expression.
             *
             * @param mixed $value
             * @return \Illuminate\Database\Query\Expression
             * @static
             */            public static function raw($value)
            {
                                /** @var \Illuminate\Database\Query\Builder $instance */
                                return $instance->raw($value);
            }
                            /**
             * Get the current query value bindings in a flattened array.
             *
             * @return array
             * @static
             */            public static function getBindings()
            {
                                /** @var \Illuminate\Database\Query\Builder $instance */
                                return $instance->getBindings();
            }
                            /**
             * Get the raw array of bindings.
             *
             * @return array
             * @static
             */            public static function getRawBindings()
            {
                                /** @var \Illuminate\Database\Query\Builder $instance */
                                return $instance->getRawBindings();
            }
                            /**
             * Set the bindings on the query builder.
             *
             * @param array $bindings
             * @param string $type
             * @return \Illuminate\Database\Query\Builder
             * @throws \InvalidArgumentException
             * @static
             */            public static function setBindings($bindings, $type = 'where')
            {
                                /** @var \Illuminate\Database\Query\Builder $instance */
                                return $instance->setBindings($bindings, $type);
            }
                            /**
             * Add a binding to the query.
             *
             * @param mixed $value
             * @param string $type
             * @return \Illuminate\Database\Query\Builder
             * @throws \InvalidArgumentException
             * @static
             */            public static function addBinding($value, $type = 'where')
            {
                                /** @var \Illuminate\Database\Query\Builder $instance */
                                return $instance->addBinding($value, $type);
            }
                            /**
             * Cast the given binding value.
             *
             * @param mixed $value
             * @return mixed
             * @static
             */            public static function castBinding($value)
            {
                                /** @var \Illuminate\Database\Query\Builder $instance */
                                return $instance->castBinding($value);
            }
                            /**
             * Merge an array of bindings into our bindings.
             *
             * @param \Illuminate\Database\Query\Builder $query
             * @return \Illuminate\Database\Query\Builder
             * @static
             */            public static function mergeBindings($query)
            {
                                /** @var \Illuminate\Database\Query\Builder $instance */
                                return $instance->mergeBindings($query);
            }
                            /**
             * Remove all of the expressions from a list of bindings.
             *
             * @param array $bindings
             * @return array
             * @static
             */            public static function cleanBindings($bindings)
            {
                                /** @var \Illuminate\Database\Query\Builder $instance */
                                return $instance->cleanBindings($bindings);
            }
                            /**
             * Get the database query processor instance.
             *
             * @return \Illuminate\Database\Query\Processors\Processor
             * @static
             */            public static function getProcessor()
            {
                                /** @var \Illuminate\Database\Query\Builder $instance */
                                return $instance->getProcessor();
            }
                            /**
             * Get the query grammar instance.
             *
             * @return \Illuminate\Database\Query\Grammars\Grammar
             * @static
             */            public static function getGrammar()
            {
                                /** @var \Illuminate\Database\Query\Builder $instance */
                                return $instance->getGrammar();
            }
                            /**
             * Use the "write" PDO connection when executing the query.
             *
             * @return \Illuminate\Database\Query\Builder
             * @static
             */            public static function useWritePdo()
            {
                                /** @var \Illuminate\Database\Query\Builder $instance */
                                return $instance->useWritePdo();
            }
                            /**
             * Clone the query without the given properties.
             *
             * @param array $properties
             * @return static
             * @static
             */            public static function cloneWithout($properties)
            {
                                /** @var \Illuminate\Database\Query\Builder $instance */
                                return $instance->cloneWithout($properties);
            }
                            /**
             * Clone the query without the given bindings.
             *
             * @param array $except
             * @return static
             * @static
             */            public static function cloneWithoutBindings($except)
            {
                                /** @var \Illuminate\Database\Query\Builder $instance */
                                return $instance->cloneWithoutBindings($except);
            }
                            /**
             * Dump the current SQL and bindings.
             *
             * @return \Illuminate\Database\Query\Builder
             * @static
             */            public static function dump()
            {
                                /** @var \Illuminate\Database\Query\Builder $instance */
                                return $instance->dump();
            }
                            /**
             * Die and dump the current SQL and bindings.
             *
             * @return never
             * @static
             */            public static function dd()
            {
                                /** @var \Illuminate\Database\Query\Builder $instance */
                                return $instance->dd();
            }
                            /**
             * Explains the query.
             *
             * @return \Illuminate\Support\Collection
             * @static
             */            public static function explain()
            {
                                /** @var \Illuminate\Database\Query\Builder $instance */
                                return $instance->explain();
            }
                            /**
             * Register a custom macro.
             *
             * @param string $name
             * @param object|callable $macro
             * @return void
             * @static
             */            public static function macro($name, $macro)
            {
                                \Illuminate\Database\Query\Builder::macro($name, $macro);
            }
                            /**
             * Mix another object into the class.
             *
             * @param object $mixin
             * @param bool $replace
             * @return void
             * @throws \ReflectionException
             * @static
             */            public static function mixin($mixin, $replace = true)
            {
                                \Illuminate\Database\Query\Builder::mixin($mixin, $replace);
            }
                            /**
             * Flush the existing macros.
             *
             * @return void
             * @static
             */            public static function flushMacros()
            {
                                \Illuminate\Database\Query\Builder::flushMacros();
            }
                            /**
             * Dynamically handle calls to the class.
             *
             * @param string $method
             * @param array $parameters
             * @return mixed
             * @throws \BadMethodCallException
             * @static
             */            public static function macroCall($method, $parameters)
            {
                                /** @var \Illuminate\Database\Query\Builder $instance */
                                return $instance->macroCall($method, $parameters);
            }
                    }
            class Event extends \Illuminate\Support\Facades\Event {}
            class File extends \Illuminate\Support\Facades\File {}
            class Gate extends \Illuminate\Support\Facades\Gate {}
            class Hash extends \Illuminate\Support\Facades\Hash {}
            class Http extends \Illuminate\Support\Facades\Http {}
            class Js extends \Illuminate\Support\Js {}
            class Lang extends \Illuminate\Support\Facades\Lang {}
            class Log extends \Illuminate\Support\Facades\Log {}
            class Mail extends \Illuminate\Support\Facades\Mail {}
            class Notification extends \Illuminate\Support\Facades\Notification {}
            class Password extends \Illuminate\Support\Facades\Password {}
            class Queue extends \Illuminate\Support\Facades\Queue {}
            class RateLimiter extends \Illuminate\Support\Facades\RateLimiter {}
            class Redirect extends \Illuminate\Support\Facades\Redirect {}
            class Request extends \Illuminate\Support\Facades\Request {}
            class Response extends \Illuminate\Support\Facades\Response {}
            class Route extends \Illuminate\Support\Facades\Route {}
            class Schema extends \Illuminate\Support\Facades\Schema {}
            class Session extends \Illuminate\Support\Facades\Session {}
            class Storage extends \Illuminate\Support\Facades\Storage {}
            class Str extends \Illuminate\Support\Str {}
            class URL extends \Illuminate\Support\Facades\URL {}
            class Validator extends \Illuminate\Support\Facades\Validator {}
            class View extends \Illuminate\Support\Facades\View {}
            class Vite extends \Illuminate\Support\Facades\Vite {}
            class ReCaptcha extends \Biscolab\ReCaptcha\Facades\ReCaptcha {}
            class Image extends \Intervention\Image\Facades\Image {}
            class Flare extends \Spatie\LaravelIgnition\Facades\Flare {}
    }







----------------------------------------
DOSYA YOLU: _ide_helper_models.php
----------------------------------------

<?php

// @formatter:off
// phpcs:ignoreFile
/**
 * A helper file for your Eloquent Models
 * Copy the phpDocs from this file to the correct Model,
 * And remove them from this file, to prevent double declarations.
 *
 * @author Barry vd. Heuvel <barryvdh@gmail.com>
 */


namespace App\Models{
/**
 * App\Models\Birim
 *
 * @property int $id
 * @property string $ad
 * @property \Illuminate\Support\Carbon|null $created_at
 * @property \Illuminate\Support\Carbon|null $updated_at
 * @property \Illuminate\Support\Carbon|null $deleted_at
 * @property-read \Illuminate\Database\Eloquent\Collection<int, \Spatie\Activitylog\Models\Activity> $activities
 * @property-read int|null $activities_count
 * @method static \Illuminate\Database\Eloquent\Builder|Birim newModelQuery()
 * @method static \Illuminate\Database\Eloquent\Builder|Birim newQuery()
 * @method static \Illuminate\Database\Eloquent\Builder|Birim onlyTrashed()
 * @method static \Illuminate\Database\Eloquent\Builder|Birim query()
 * @method static \Illuminate\Database\Eloquent\Builder|Birim whereAd($value)
 * @method static \Illuminate\Database\Eloquent\Builder|Birim whereCreatedAt($value)
 * @method static \Illuminate\Database\Eloquent\Builder|Birim whereDeletedAt($value)
 * @method static \Illuminate\Database\Eloquent\Builder|Birim whereId($value)
 * @method static \Illuminate\Database\Eloquent\Builder|Birim whereUpdatedAt($value)
 * @method static \Illuminate\Database\Eloquent\Builder|Birim withTrashed()
 * @method static \Illuminate\Database\Eloquent\Builder|Birim withoutTrashed()
 * @mixin \Eloquent
 */
	#[\AllowDynamicProperties]
	class IdeHelperBirim {}
}

namespace App\Models{
/**
 * App\Models\Booking
 *
 * @property int $id
 * @property int $travel_id
 * @property int $user_id
 * @property string $type
 * @property string|null $provider_name
 * @property string|null $confirmation_code
 * @property string|null $cost
 * @property string|null $start_datetime
 * @property string|null $end_datetime
 * @property string|null $notes
 * @property \Illuminate\Support\Carbon|null $created_at
 * @property \Illuminate\Support\Carbon|null $updated_at
 * @property-read \Illuminate\Database\Eloquent\Collection<int, \Spatie\Activitylog\Models\Activity> $activities
 * @property-read int|null $activities_count
 * @property-read \Spatie\MediaLibrary\MediaCollections\Models\Collections\MediaCollection<int, \Spatie\MediaLibrary\MediaCollections\Models\Media> $media
 * @property-read int|null $media_count
 * @property-read \App\Models\Travel $travel
 * @property-read \App\Models\User $user
 * @method static \Illuminate\Database\Eloquent\Builder|Booking newModelQuery()
 * @method static \Illuminate\Database\Eloquent\Builder|Booking newQuery()
 * @method static \Illuminate\Database\Eloquent\Builder|Booking query()
 * @method static \Illuminate\Database\Eloquent\Builder|Booking whereConfirmationCode($value)
 * @method static \Illuminate\Database\Eloquent\Builder|Booking whereCost($value)
 * @method static \Illuminate\Database\Eloquent\Builder|Booking whereCreatedAt($value)
 * @method static \Illuminate\Database\Eloquent\Builder|Booking whereEndDatetime($value)
 * @method static \Illuminate\Database\Eloquent\Builder|Booking whereId($value)
 * @method static \Illuminate\Database\Eloquent\Builder|Booking whereNotes($value)
 * @method static \Illuminate\Database\Eloquent\Builder|Booking whereProviderName($value)
 * @method static \Illuminate\Database\Eloquent\Builder|Booking whereStartDatetime($value)
 * @method static \Illuminate\Database\Eloquent\Builder|Booking whereTravelId($value)
 * @method static \Illuminate\Database\Eloquent\Builder|Booking whereType($value)
 * @method static \Illuminate\Database\Eloquent\Builder|Booking whereUpdatedAt($value)
 * @method static \Illuminate\Database\Eloquent\Builder|Booking whereUserId($value)
 * @mixin \Eloquent
 */
	#[\AllowDynamicProperties]
	class IdeHelperBooking {}
}

namespace App\Models{
/**
 * App\Models\Complaint
 *
 * @property int $id
 * @property int $customer_id
 * @property int $user_id
 * @property int|null $customer_machine_id
 * @property string $title
 * @property string $description
 * @property string $status
 * @property \Illuminate\Support\Carbon|null $created_at
 * @property \Illuminate\Support\Carbon|null $updated_at
 * @property-read \Illuminate\Database\Eloquent\Collection<int, \Spatie\Activitylog\Models\Activity> $activities
 * @property-read int|null $activities_count
 * @property-read \App\Models\Customer $customer
 * @property-read \Spatie\MediaLibrary\MediaCollections\Models\Collections\MediaCollection<int, \Spatie\MediaLibrary\MediaCollections\Models\Media> $media
 * @property-read int|null $media_count
 * @method static \Illuminate\Database\Eloquent\Builder|Complaint newModelQuery()
 * @method static \Illuminate\Database\Eloquent\Builder|Complaint newQuery()
 * @method static \Illuminate\Database\Eloquent\Builder|Complaint query()
 * @method static \Illuminate\Database\Eloquent\Builder|Complaint whereCreatedAt($value)
 * @method static \Illuminate\Database\Eloquent\Builder|Complaint whereCustomerId($value)
 * @method static \Illuminate\Database\Eloquent\Builder|Complaint whereCustomerMachineId($value)
 * @method static \Illuminate\Database\Eloquent\Builder|Complaint whereDescription($value)
 * @method static \Illuminate\Database\Eloquent\Builder|Complaint whereId($value)
 * @method static \Illuminate\Database\Eloquent\Builder|Complaint whereStatus($value)
 * @method static \Illuminate\Database\Eloquent\Builder|Complaint whereTitle($value)
 * @method static \Illuminate\Database\Eloquent\Builder|Complaint whereUpdatedAt($value)
 * @method static \Illuminate\Database\Eloquent\Builder|Complaint whereUserId($value)
 * @mixin \Eloquent
 */
	#[\AllowDynamicProperties]
	class IdeHelperComplaint {}
}

namespace App\Models{
/**
 * App\Models\Customer
 *
 * @property int $id
 * @property string $name
 * @property string|null $contact_person
 * @property string|null $email
 * @property string|null $phone
 * @property string|null $address
 * @property \Illuminate\Support\Carbon|null $created_at
 * @property \Illuminate\Support\Carbon|null $updated_at
 * @property \Illuminate\Support\Carbon|null $deleted_at
 * @property-read \Illuminate\Database\Eloquent\Collection<int, \Spatie\Activitylog\Models\Activity> $activities
 * @property-read int|null $activities_count
 * @property-read \Illuminate\Database\Eloquent\Collection<int, \App\Models\Complaint> $complaints
 * @property-read int|null $complaints_count
 * @property-read \Illuminate\Database\Eloquent\Collection<int, \App\Models\CustomerMachine> $machines
 * @property-read int|null $machines_count
 * @property-read \Illuminate\Database\Eloquent\Collection<int, \App\Models\TestResult> $testResults
 * @property-read int|null $test_results_count
 * @property-read \Illuminate\Database\Eloquent\Collection<int, \App\Models\CustomerVisit> $visits
 * @property-read int|null $visits_count
 * @method static \Illuminate\Database\Eloquent\Builder|Customer newModelQuery()
 * @method static \Illuminate\Database\Eloquent\Builder|Customer newQuery()
 * @method static \Illuminate\Database\Eloquent\Builder|Customer onlyTrashed()
 * @method static \Illuminate\Database\Eloquent\Builder|Customer query()
 * @method static \Illuminate\Database\Eloquent\Builder|Customer whereAddress($value)
 * @method static \Illuminate\Database\Eloquent\Builder|Customer whereContactPerson($value)
 * @method static \Illuminate\Database\Eloquent\Builder|Customer whereCreatedAt($value)
 * @method static \Illuminate\Database\Eloquent\Builder|Customer whereDeletedAt($value)
 * @method static \Illuminate\Database\Eloquent\Builder|Customer whereEmail($value)
 * @method static \Illuminate\Database\Eloquent\Builder|Customer whereId($value)
 * @method static \Illuminate\Database\Eloquent\Builder|Customer whereName($value)
 * @method static \Illuminate\Database\Eloquent\Builder|Customer wherePhone($value)
 * @method static \Illuminate\Database\Eloquent\Builder|Customer whereUpdatedAt($value)
 * @method static \Illuminate\Database\Eloquent\Builder|Customer withTrashed()
 * @method static \Illuminate\Database\Eloquent\Builder|Customer withoutTrashed()
 * @mixin \Eloquent
 */
	#[\AllowDynamicProperties]
	class IdeHelperCustomer {}
}

namespace App\Models{
/**
 * App\Models\CustomerActivityLog
 *
 * @property int $id
 * @property int|null $user_id
 * @property string $model_type
 * @property int $model_id
 * @property string $action
 * @property array|null $changes
 * @property \Illuminate\Support\Carbon|null $created_at
 * @property \Illuminate\Support\Carbon|null $updated_at
 * @property-read \Illuminate\Database\Eloquent\Collection<int, \Spatie\Activitylog\Models\Activity> $activities
 * @property-read int|null $activities_count
 * @method static \Illuminate\Database\Eloquent\Builder|CustomerActivityLog newModelQuery()
 * @method static \Illuminate\Database\Eloquent\Builder|CustomerActivityLog newQuery()
 * @method static \Illuminate\Database\Eloquent\Builder|CustomerActivityLog query()
 * @method static \Illuminate\Database\Eloquent\Builder|CustomerActivityLog whereAction($value)
 * @method static \Illuminate\Database\Eloquent\Builder|CustomerActivityLog whereChanges($value)
 * @method static \Illuminate\Database\Eloquent\Builder|CustomerActivityLog whereCreatedAt($value)
 * @method static \Illuminate\Database\Eloquent\Builder|CustomerActivityLog whereId($value)
 * @method static \Illuminate\Database\Eloquent\Builder|CustomerActivityLog whereModelId($value)
 * @method static \Illuminate\Database\Eloquent\Builder|CustomerActivityLog whereModelType($value)
 * @method static \Illuminate\Database\Eloquent\Builder|CustomerActivityLog whereUpdatedAt($value)
 * @method static \Illuminate\Database\Eloquent\Builder|CustomerActivityLog whereUserId($value)
 * @mixin \Eloquent
 */
	#[\AllowDynamicProperties]
	class IdeHelperCustomerActivityLog {}
}

namespace App\Models{
/**
 * App\Models\CustomerMachine
 *
 * @property int $id
 * @property int $customer_id
 * @property string $model
 * @property string|null $serial_number
 * @property string|null $installation_date
 * @property \Illuminate\Support\Carbon|null $created_at
 * @property \Illuminate\Support\Carbon|null $updated_at
 * @property-read \Illuminate\Database\Eloquent\Collection<int, \Spatie\Activitylog\Models\Activity> $activities
 * @property-read int|null $activities_count
 * @property-read \App\Models\Customer $customer
 * @method static \Illuminate\Database\Eloquent\Builder|CustomerMachine newModelQuery()
 * @method static \Illuminate\Database\Eloquent\Builder|CustomerMachine newQuery()
 * @method static \Illuminate\Database\Eloquent\Builder|CustomerMachine query()
 * @method static \Illuminate\Database\Eloquent\Builder|CustomerMachine whereCreatedAt($value)
 * @method static \Illuminate\Database\Eloquent\Builder|CustomerMachine whereCustomerId($value)
 * @method static \Illuminate\Database\Eloquent\Builder|CustomerMachine whereId($value)
 * @method static \Illuminate\Database\Eloquent\Builder|CustomerMachine whereInstallationDate($value)
 * @method static \Illuminate\Database\Eloquent\Builder|CustomerMachine whereModel($value)
 * @method static \Illuminate\Database\Eloquent\Builder|CustomerMachine whereSerialNumber($value)
 * @method static \Illuminate\Database\Eloquent\Builder|CustomerMachine whereUpdatedAt($value)
 * @mixin \Eloquent
 */
	#[\AllowDynamicProperties]
	class IdeHelperCustomerMachine {}
}

namespace App\Models{
/**
 * App\Models\CustomerVisit
 *
 * @property int $id
 * @property int $event_id
 * @property int $customer_id
 * @property int|null $travel_id
 * @property int|null $customer_machine_id
 * @property string $visit_purpose
 * @property string|null $after_sales_notes
 * @property \Illuminate\Support\Carbon|null $created_at
 * @property \Illuminate\Support\Carbon|null $updated_at
 * @property-read \Illuminate\Database\Eloquent\Collection<int, \Spatie\Activitylog\Models\Activity> $activities
 * @property-read int|null $activities_count
 * @property-read \App\Models\Customer $customer
 * @property-read \App\Models\Event $event
 * @property-read \App\Models\Travel|null $travel
 * @method static \Illuminate\Database\Eloquent\Builder|CustomerVisit newModelQuery()
 * @method static \Illuminate\Database\Eloquent\Builder|CustomerVisit newQuery()
 * @method static \Illuminate\Database\Eloquent\Builder|CustomerVisit query()
 * @method static \Illuminate\Database\Eloquent\Builder|CustomerVisit whereAfterSalesNotes($value)
 * @method static \Illuminate\Database\Eloquent\Builder|CustomerVisit whereCreatedAt($value)
 * @method static \Illuminate\Database\Eloquent\Builder|CustomerVisit whereCustomerId($value)
 * @method static \Illuminate\Database\Eloquent\Builder|CustomerVisit whereCustomerMachineId($value)
 * @method static \Illuminate\Database\Eloquent\Builder|CustomerVisit whereEventId($value)
 * @method static \Illuminate\Database\Eloquent\Builder|CustomerVisit whereId($value)
 * @method static \Illuminate\Database\Eloquent\Builder|CustomerVisit whereTravelId($value)
 * @method static \Illuminate\Database\Eloquent\Builder|CustomerVisit whereUpdatedAt($value)
 * @method static \Illuminate\Database\Eloquent\Builder|CustomerVisit whereVisitPurpose($value)
 * @mixin \Eloquent
 */
	#[\AllowDynamicProperties]
	class IdeHelperCustomerVisit {}
}

namespace App\Models{
/**
 * App\Models\Department
 *
 * @property int $id
 * @property string $name
 * @property string $slug
 * @property \Illuminate\Support\Carbon|null $created_at
 * @property \Illuminate\Support\Carbon|null $updated_at
 * @property \Illuminate\Support\Carbon|null $deleted_at
 * @property-read \Illuminate\Database\Eloquent\Collection<int, \Spatie\Activitylog\Models\Activity> $activities
 * @property-read int|null $activities_count
 * @property-read \Illuminate\Database\Eloquent\Collection<int, \App\Models\User> $users
 * @property-read int|null $users_count
 * @method static \Illuminate\Database\Eloquent\Builder|Department newModelQuery()
 * @method static \Illuminate\Database\Eloquent\Builder|Department newQuery()
 * @method static \Illuminate\Database\Eloquent\Builder|Department onlyTrashed()
 * @method static \Illuminate\Database\Eloquent\Builder|Department query()
 * @method static \Illuminate\Database\Eloquent\Builder|Department whereCreatedAt($value)
 * @method static \Illuminate\Database\Eloquent\Builder|Department whereDeletedAt($value)
 * @method static \Illuminate\Database\Eloquent\Builder|Department whereId($value)
 * @method static \Illuminate\Database\Eloquent\Builder|Department whereName($value)
 * @method static \Illuminate\Database\Eloquent\Builder|Department whereSlug($value)
 * @method static \Illuminate\Database\Eloquent\Builder|Department whereUpdatedAt($value)
 * @method static \Illuminate\Database\Eloquent\Builder|Department withTrashed()
 * @method static \Illuminate\Database\Eloquent\Builder|Department withoutTrashed()
 * @mixin \Eloquent
 */
	#[\AllowDynamicProperties]
	class IdeHelperDepartment {}
}

namespace App\Models{
/**
 * App\Models\Event
 *
 * @property int $id
 * @property int $user_id
 * @property bool $is_important
 * @property string $title
 * @property string|null $description
 * @property \Illuminate\Support\Carbon $start_datetime
 * @property \Illuminate\Support\Carbon $end_datetime
 * @property string|null $location
 * @property string $event_type
 * @property \Illuminate\Support\Carbon|null $created_at
 * @property \Illuminate\Support\Carbon|null $updated_at
 * @property \Illuminate\Support\Carbon|null $deleted_at
 * @property-read \Illuminate\Database\Eloquent\Collection<int, \Spatie\Activitylog\Models\Activity> $activities
 * @property-read int|null $activities_count
 * @property-read \App\Models\CustomerVisit|null $customerVisit
 * @property-read \App\Models\User $user
 * @method static \Illuminate\Database\Eloquent\Builder|Event newModelQuery()
 * @method static \Illuminate\Database\Eloquent\Builder|Event newQuery()
 * @method static \Illuminate\Database\Eloquent\Builder|Event onlyTrashed()
 * @method static \Illuminate\Database\Eloquent\Builder|Event query()
 * @method static \Illuminate\Database\Eloquent\Builder|Event whereCreatedAt($value)
 * @method static \Illuminate\Database\Eloquent\Builder|Event whereDeletedAt($value)
 * @method static \Illuminate\Database\Eloquent\Builder|Event whereDescription($value)
 * @method static \Illuminate\Database\Eloquent\Builder|Event whereEndDatetime($value)
 * @method static \Illuminate\Database\Eloquent\Builder|Event whereEventType($value)
 * @method static \Illuminate\Database\Eloquent\Builder|Event whereId($value)
 * @method static \Illuminate\Database\Eloquent\Builder|Event whereIsImportant($value)
 * @method static \Illuminate\Database\Eloquent\Builder|Event whereLocation($value)
 * @method static \Illuminate\Database\Eloquent\Builder|Event whereStartDatetime($value)
 * @method static \Illuminate\Database\Eloquent\Builder|Event whereTitle($value)
 * @method static \Illuminate\Database\Eloquent\Builder|Event whereUpdatedAt($value)
 * @method static \Illuminate\Database\Eloquent\Builder|Event whereUserId($value)
 * @method static \Illuminate\Database\Eloquent\Builder|Event withTrashed()
 * @method static \Illuminate\Database\Eloquent\Builder|Event withoutTrashed()
 * @property string $visit_status
 * @property string|null $cancellation_reason
 * @property int|null $customer_id
 * @property int|null $customer_machine_id
 * @property string|null $visit_purpose
 * @property string|null $after_sales_notes
 * @property-read \App\Models\Customer|null $customer
 * @property-read \App\Models\CustomerMachine|null $machine
 * @method static \Illuminate\Database\Eloquent\Builder|Event whereAfterSalesNotes($value)
 * @method static \Illuminate\Database\Eloquent\Builder|Event whereCancellationReason($value)
 * @method static \Illuminate\Database\Eloquent\Builder|Event whereCustomerId($value)
 * @method static \Illuminate\Database\Eloquent\Builder|Event whereCustomerMachineId($value)
 * @method static \Illuminate\Database\Eloquent\Builder|Event whereVisitPurpose($value)
 * @method static \Illuminate\Database\Eloquent\Builder|Event whereVisitStatus($value)
 * @mixin \Eloquent
 */
	#[\AllowDynamicProperties]
	class IdeHelperEvent {}
}

namespace App\Models{
/**
 * App\Models\ProductionPlan
 *
 * @property int $id
 * @property int $user_id
 * @property bool $is_important
 * @property string $plan_title
 * @property \Illuminate\Support\Carbon $week_start_date
 * @property array|null $plan_details
 * @property \Illuminate\Support\Carbon|null $created_at
 * @property \Illuminate\Support\Carbon|null $updated_at
 * @property \Illuminate\Support\Carbon|null $deleted_at
 * @property-read \Illuminate\Database\Eloquent\Collection<int, \Spatie\Activitylog\Models\Activity> $activities
 * @property-read int|null $activities_count
 * @property-read \App\Models\User $user
 * @method static \Illuminate\Database\Eloquent\Builder|ProductionPlan newModelQuery()
 * @method static \Illuminate\Database\Eloquent\Builder|ProductionPlan newQuery()
 * @method static \Illuminate\Database\Eloquent\Builder|ProductionPlan onlyTrashed()
 * @method static \Illuminate\Database\Eloquent\Builder|ProductionPlan query()
 * @method static \Illuminate\Database\Eloquent\Builder|ProductionPlan whereCreatedAt($value)
 * @method static \Illuminate\Database\Eloquent\Builder|ProductionPlan whereDeletedAt($value)
 * @method static \Illuminate\Database\Eloquent\Builder|ProductionPlan whereId($value)
 * @method static \Illuminate\Database\Eloquent\Builder|ProductionPlan whereIsImportant($value)
 * @method static \Illuminate\Database\Eloquent\Builder|ProductionPlan wherePlanDetails($value)
 * @method static \Illuminate\Database\Eloquent\Builder|ProductionPlan wherePlanTitle($value)
 * @method static \Illuminate\Database\Eloquent\Builder|ProductionPlan whereUpdatedAt($value)
 * @method static \Illuminate\Database\Eloquent\Builder|ProductionPlan whereUserId($value)
 * @method static \Illuminate\Database\Eloquent\Builder|ProductionPlan whereWeekStartDate($value)
 * @method static \Illuminate\Database\Eloquent\Builder|ProductionPlan withTrashed()
 * @method static \Illuminate\Database\Eloquent\Builder|ProductionPlan withoutTrashed()
 * @mixin \Eloquent
 */
	#[\AllowDynamicProperties]
	class IdeHelperProductionPlan {}
}

namespace App\Models{
/**
 * App\Models\ServiceSchedule
 *
 * @property int $id
 * @property string $name
 * @property string $departure_time
 * @property int $cutoff_minutes
 * @property int|null $default_vehicle_id
 * @property int $is_active
 * @property \Illuminate\Support\Carbon|null $created_at
 * @property \Illuminate\Support\Carbon|null $updated_at
 * @property \Illuminate\Support\Carbon|null $deleted_at
 * @property-read \Illuminate\Database\Eloquent\Collection<int, \Spatie\Activitylog\Models\Activity> $activities
 * @property-read int|null $activities_count
 * @property-read \App\Models\Vehicle|null $defaultVehicle
 * @method static \Illuminate\Database\Eloquent\Builder|ServiceSchedule newModelQuery()
 * @method static \Illuminate\Database\Eloquent\Builder|ServiceSchedule newQuery()
 * @method static \Illuminate\Database\Eloquent\Builder|ServiceSchedule onlyTrashed()
 * @method static \Illuminate\Database\Eloquent\Builder|ServiceSchedule query()
 * @method static \Illuminate\Database\Eloquent\Builder|ServiceSchedule whereCreatedAt($value)
 * @method static \Illuminate\Database\Eloquent\Builder|ServiceSchedule whereCutoffMinutes($value)
 * @method static \Illuminate\Database\Eloquent\Builder|ServiceSchedule whereDefaultVehicleId($value)
 * @method static \Illuminate\Database\Eloquent\Builder|ServiceSchedule whereDeletedAt($value)
 * @method static \Illuminate\Database\Eloquent\Builder|ServiceSchedule whereDepartureTime($value)
 * @method static \Illuminate\Database\Eloquent\Builder|ServiceSchedule whereId($value)
 * @method static \Illuminate\Database\Eloquent\Builder|ServiceSchedule whereIsActive($value)
 * @method static \Illuminate\Database\Eloquent\Builder|ServiceSchedule whereName($value)
 * @method static \Illuminate\Database\Eloquent\Builder|ServiceSchedule whereUpdatedAt($value)
 * @method static \Illuminate\Database\Eloquent\Builder|ServiceSchedule withTrashed()
 * @method static \Illuminate\Database\Eloquent\Builder|ServiceSchedule withoutTrashed()
 * @mixin \Eloquent
 */
	#[\AllowDynamicProperties]
	class IdeHelperServiceSchedule {}
}

namespace App\Models{
/**
 * App\Models\Shipment
 *
 * @property int $id
 * @property string|null $shipment_type
 * @property int $user_id
 * @property bool $is_important
 * @property string $arac_tipi
 * @property string|null $plaka
 * @property string|null $dorse_plakasi
 * @property string|null $sofor_adi
 * @property string|null $imo_numarasi
 * @property string|null $gemi_adi
 * @property string|null $kalkis_limani
 * @property string|null $varis_limani
 * @property string|null $kalkis_noktasi
 * @property string|null $varis_noktasi
 * @property \Illuminate\Support\Carbon|null $onaylanma_tarihi
 * @property int|null $onaylayan_user_id
 * @property string $kargo_icerigi
 * @property string $kargo_tipi
 * @property string $kargo_miktari
 * @property \Illuminate\Support\Carbon $cikis_tarihi
 * @property \Illuminate\Support\Carbon $tahmini_varis_tarihi
 * @property mixed|null $ekstra_bilgiler
 * @property string|null $aciklamalar
 * @property string|null $dosya_yolu
 * @property \Illuminate\Support\Carbon|null $created_at
 * @property \Illuminate\Support\Carbon|null $updated_at
 * @property \Illuminate\Support\Carbon|null $deleted_at
 * @property-read \Illuminate\Database\Eloquent\Collection<int, \Spatie\Activitylog\Models\Activity> $activities
 * @property-read int|null $activities_count
 * @property-read \App\Models\User|null $onaylayanKullanici
 * @property-read \App\Models\User $user
 * @method static \Illuminate\Database\Eloquent\Builder|Shipment newModelQuery()
 * @method static \Illuminate\Database\Eloquent\Builder|Shipment newQuery()
 * @method static \Illuminate\Database\Eloquent\Builder|Shipment onlyTrashed()
 * @method static \Illuminate\Database\Eloquent\Builder|Shipment query()
 * @method static \Illuminate\Database\Eloquent\Builder|Shipment whereAciklamalar($value)
 * @method static \Illuminate\Database\Eloquent\Builder|Shipment whereAracTipi($value)
 * @method static \Illuminate\Database\Eloquent\Builder|Shipment whereCikisTarihi($value)
 * @method static \Illuminate\Database\Eloquent\Builder|Shipment whereCreatedAt($value)
 * @method static \Illuminate\Database\Eloquent\Builder|Shipment whereDeletedAt($value)
 * @method static \Illuminate\Database\Eloquent\Builder|Shipment whereDorsePlakasi($value)
 * @method static \Illuminate\Database\Eloquent\Builder|Shipment whereDosyaYolu($value)
 * @method static \Illuminate\Database\Eloquent\Builder|Shipment whereEkstraBilgiler($value)
 * @method static \Illuminate\Database\Eloquent\Builder|Shipment whereGemiAdi($value)
 * @method static \Illuminate\Database\Eloquent\Builder|Shipment whereId($value)
 * @method static \Illuminate\Database\Eloquent\Builder|Shipment whereImoNumarasi($value)
 * @method static \Illuminate\Database\Eloquent\Builder|Shipment whereIsImportant($value)
 * @method static \Illuminate\Database\Eloquent\Builder|Shipment whereKalkisLimani($value)
 * @method static \Illuminate\Database\Eloquent\Builder|Shipment whereKalkisNoktasi($value)
 * @method static \Illuminate\Database\Eloquent\Builder|Shipment whereKargoIcerigi($value)
 * @method static \Illuminate\Database\Eloquent\Builder|Shipment whereKargoMiktari($value)
 * @method static \Illuminate\Database\Eloquent\Builder|Shipment whereKargoTipi($value)
 * @method static \Illuminate\Database\Eloquent\Builder|Shipment whereOnaylanmaTarihi($value)
 * @method static \Illuminate\Database\Eloquent\Builder|Shipment whereOnaylayanUserId($value)
 * @method static \Illuminate\Database\Eloquent\Builder|Shipment wherePlaka($value)
 * @method static \Illuminate\Database\Eloquent\Builder|Shipment whereShipmentType($value)
 * @method static \Illuminate\Database\Eloquent\Builder|Shipment whereSoforAdi($value)
 * @method static \Illuminate\Database\Eloquent\Builder|Shipment whereTahminiVarisTarihi($value)
 * @method static \Illuminate\Database\Eloquent\Builder|Shipment whereUpdatedAt($value)
 * @method static \Illuminate\Database\Eloquent\Builder|Shipment whereUserId($value)
 * @method static \Illuminate\Database\Eloquent\Builder|Shipment whereVarisLimani($value)
 * @method static \Illuminate\Database\Eloquent\Builder|Shipment whereVarisNoktasi($value)
 * @method static \Illuminate\Database\Eloquent\Builder|Shipment withTrashed()
 * @method static \Illuminate\Database\Eloquent\Builder|Shipment withoutTrashed()
 * @mixin \Eloquent
 */
	#[\AllowDynamicProperties]
	class IdeHelperShipment {}
}

namespace App\Models{
/**
 * App\Models\TestResult
 *
 * @property int $id
 * @property int $customer_id
 * @property int $user_id
 * @property int|null $customer_machine_id
 * @property string $test_name
 * @property string $test_date
 * @property string|null $summary
 * @property \Illuminate\Support\Carbon|null $created_at
 * @property \Illuminate\Support\Carbon|null $updated_at
 * @property-read \Illuminate\Database\Eloquent\Collection<int, \Spatie\Activitylog\Models\Activity> $activities
 * @property-read int|null $activities_count
 * @property-read \App\Models\Customer $customer
 * @property-read \Spatie\MediaLibrary\MediaCollections\Models\Collections\MediaCollection<int, \Spatie\MediaLibrary\MediaCollections\Models\Media> $media
 * @property-read int|null $media_count
 * @method static \Illuminate\Database\Eloquent\Builder|TestResult newModelQuery()
 * @method static \Illuminate\Database\Eloquent\Builder|TestResult newQuery()
 * @method static \Illuminate\Database\Eloquent\Builder|TestResult query()
 * @method static \Illuminate\Database\Eloquent\Builder|TestResult whereCreatedAt($value)
 * @method static \Illuminate\Database\Eloquent\Builder|TestResult whereCustomerId($value)
 * @method static \Illuminate\Database\Eloquent\Builder|TestResult whereCustomerMachineId($value)
 * @method static \Illuminate\Database\Eloquent\Builder|TestResult whereId($value)
 * @method static \Illuminate\Database\Eloquent\Builder|TestResult whereSummary($value)
 * @method static \Illuminate\Database\Eloquent\Builder|TestResult whereTestDate($value)
 * @method static \Illuminate\Database\Eloquent\Builder|TestResult whereTestName($value)
 * @method static \Illuminate\Database\Eloquent\Builder|TestResult whereUpdatedAt($value)
 * @method static \Illuminate\Database\Eloquent\Builder|TestResult whereUserId($value)
 * @mixin \Eloquent
 */
	#[\AllowDynamicProperties]
	class IdeHelperTestResult {}
}

namespace App\Models{
/**
 * App\Models\Travel
 *
 * @property int $id
 * @property int $user_id
 * @property string $name
 * @property \Illuminate\Support\Carbon $start_date
 * @property \Illuminate\Support\Carbon $end_date
 * @property string $status
 * @property int $is_important
 * @property \Illuminate\Support\Carbon|null $created_at
 * @property \Illuminate\Support\Carbon|null $updated_at
 * @property-read \Illuminate\Database\Eloquent\Collection<int, \Spatie\Activitylog\Models\Activity> $activities
 * @property-read int|null $activities_count
 * @property-read \Illuminate\Database\Eloquent\Collection<int, \App\Models\Booking> $bookings
 * @property-read int|null $bookings_count
 * @property-read \Illuminate\Database\Eloquent\Collection<int, \App\Models\CustomerVisit> $customerVisits
 * @property-read int|null $customer_visits_count
 * @property-read \App\Models\User $user
 * @method static \Illuminate\Database\Eloquent\Builder|Travel newModelQuery()
 * @method static \Illuminate\Database\Eloquent\Builder|Travel newQuery()
 * @method static \Illuminate\Database\Eloquent\Builder|Travel query()
 * @method static \Illuminate\Database\Eloquent\Builder|Travel whereCreatedAt($value)
 * @method static \Illuminate\Database\Eloquent\Builder|Travel whereEndDate($value)
 * @method static \Illuminate\Database\Eloquent\Builder|Travel whereId($value)
 * @method static \Illuminate\Database\Eloquent\Builder|Travel whereIsImportant($value)
 * @method static \Illuminate\Database\Eloquent\Builder|Travel whereName($value)
 * @method static \Illuminate\Database\Eloquent\Builder|Travel whereStartDate($value)
 * @method static \Illuminate\Database\Eloquent\Builder|Travel whereStatus($value)
 * @method static \Illuminate\Database\Eloquent\Builder|Travel whereUpdatedAt($value)
 * @method static \Illuminate\Database\Eloquent\Builder|Travel whereUserId($value)
 * @mixin \Eloquent
 */
	#[\AllowDynamicProperties]
	class IdeHelperTravel {}
}

namespace App\Models{
/**
 * App\Models\User
 *
 * @property int $id
 * @property string $name
 * @property string $email
 * @property \Illuminate\Support\Carbon|null $email_verified_at
 * @property string $password
 * @property string $role
 * @property string|null $remember_token
 * @property \Illuminate\Support\Carbon|null $created_at
 * @property \Illuminate\Support\Carbon|null $updated_at
 * @property int|null $department_id
 * @property \Illuminate\Support\Carbon|null $deleted_at
 * @property-read \Illuminate\Database\Eloquent\Collection<int, \Spatie\Activitylog\Models\Activity> $activities
 * @property-read int|null $activities_count
 * @property-read Department|null $department
 * @property-read \Illuminate\Notifications\DatabaseNotificationCollection<int, \Illuminate\Notifications\DatabaseNotification> $notifications
 * @property-read int|null $notifications_count
 * @property-read \Illuminate\Database\Eloquent\Collection<int, \Laravel\Sanctum\PersonalAccessToken> $tokens
 * @property-read int|null $tokens_count
 * @property-read \Illuminate\Database\Eloquent\Collection<int, \App\Models\Travel> $travels
 * @property-read int|null $travels_count
 * @method static \Database\Factories\UserFactory factory($count = null, $state = [])
 * @method static \Illuminate\Database\Eloquent\Builder|User newModelQuery()
 * @method static \Illuminate\Database\Eloquent\Builder|User newQuery()
 * @method static \Illuminate\Database\Eloquent\Builder|User onlyTrashed()
 * @method static \Illuminate\Database\Eloquent\Builder|User query()
 * @method static \Illuminate\Database\Eloquent\Builder|User whereCreatedAt($value)
 * @method static \Illuminate\Database\Eloquent\Builder|User whereDeletedAt($value)
 * @method static \Illuminate\Database\Eloquent\Builder|User whereDepartmentId($value)
 * @method static \Illuminate\Database\Eloquent\Builder|User whereEmail($value)
 * @method static \Illuminate\Database\Eloquent\Builder|User whereEmailVerifiedAt($value)
 * @method static \Illuminate\Database\Eloquent\Builder|User whereId($value)
 * @method static \Illuminate\Database\Eloquent\Builder|User whereName($value)
 * @method static \Illuminate\Database\Eloquent\Builder|User wherePassword($value)
 * @method static \Illuminate\Database\Eloquent\Builder|User whereRememberToken($value)
 * @method static \Illuminate\Database\Eloquent\Builder|User whereRole($value)
 * @method static \Illuminate\Database\Eloquent\Builder|User whereUpdatedAt($value)
 * @method static \Illuminate\Database\Eloquent\Builder|User withTrashed()
 * @method static \Illuminate\Database\Eloquent\Builder|User withoutTrashed()
 * @mixin \Eloquent
 */
	#[\AllowDynamicProperties]
	class IdeHelperUser {}
}

namespace App\Models{
/**
 * App\Models\Vehicle
 *
 * @property int $id
 * @property string $plate_number
 * @property string $type
 * @property string|null $brand_model
 * @property string|null $description
 * @property int $is_active
 * @property \Illuminate\Support\Carbon|null $created_at
 * @property \Illuminate\Support\Carbon|null $updated_at
 * @property \Illuminate\Support\Carbon|null $deleted_at
 * @property-read \Illuminate\Database\Eloquent\Collection<int, \Spatie\Activitylog\Models\Activity> $activities
 * @property-read int|null $activities_count
 * @property-read \Illuminate\Database\Eloquent\Collection<int, \App\Models\VehicleAssignment> $assignments
 * @property-read int|null $assignments_count
 * @method static \Illuminate\Database\Eloquent\Builder|Vehicle newModelQuery()
 * @method static \Illuminate\Database\Eloquent\Builder|Vehicle newQuery()
 * @method static \Illuminate\Database\Eloquent\Builder|Vehicle onlyTrashed()
 * @method static \Illuminate\Database\Eloquent\Builder|Vehicle query()
 * @method static \Illuminate\Database\Eloquent\Builder|Vehicle whereBrandModel($value)
 * @method static \Illuminate\Database\Eloquent\Builder|Vehicle whereCreatedAt($value)
 * @method static \Illuminate\Database\Eloquent\Builder|Vehicle whereDeletedAt($value)
 * @method static \Illuminate\Database\Eloquent\Builder|Vehicle whereDescription($value)
 * @method static \Illuminate\Database\Eloquent\Builder|Vehicle whereId($value)
 * @method static \Illuminate\Database\Eloquent\Builder|Vehicle whereIsActive($value)
 * @method static \Illuminate\Database\Eloquent\Builder|Vehicle wherePlateNumber($value)
 * @method static \Illuminate\Database\Eloquent\Builder|Vehicle whereType($value)
 * @method static \Illuminate\Database\Eloquent\Builder|Vehicle whereUpdatedAt($value)
 * @method static \Illuminate\Database\Eloquent\Builder|Vehicle withTrashed()
 * @method static \Illuminate\Database\Eloquent\Builder|Vehicle withoutTrashed()
 * @mixin \Eloquent
 */
	#[\AllowDynamicProperties]
	class IdeHelperVehicle {}
}

namespace App\Models{
/**
 * App\Models\VehicleAssignment
 *
 * @property int $id
 * @property int $vehicle_id
 * @property int $user_id
 * @property bool $is_important
 * @property string $task_description
 * @property string|null $destination
 * @property string|null $requester_name
 * @property \Illuminate\Support\Carbon $start_time
 * @property \Illuminate\Support\Carbon $end_time
 * @property string|null $notes
 * @property \Illuminate\Support\Carbon|null $created_at
 * @property \Illuminate\Support\Carbon|null $updated_at
 * @property \Illuminate\Support\Carbon|null $deleted_at
 * @property-read \Illuminate\Database\Eloquent\Collection<int, \Spatie\Activitylog\Models\Activity> $activities
 * @property-read int|null $activities_count
 * @property-read \App\Models\User $user
 * @property-read \App\Models\Vehicle $vehicle
 * @method static \Illuminate\Database\Eloquent\Builder|VehicleAssignment newModelQuery()
 * @method static \Illuminate\Database\Eloquent\Builder|VehicleAssignment newQuery()
 * @method static \Illuminate\Database\Eloquent\Builder|VehicleAssignment onlyTrashed()
 * @method static \Illuminate\Database\Eloquent\Builder|VehicleAssignment query()
 * @method static \Illuminate\Database\Eloquent\Builder|VehicleAssignment whereCreatedAt($value)
 * @method static \Illuminate\Database\Eloquent\Builder|VehicleAssignment whereDeletedAt($value)
 * @method static \Illuminate\Database\Eloquent\Builder|VehicleAssignment whereDestination($value)
 * @method static \Illuminate\Database\Eloquent\Builder|VehicleAssignment whereEndTime($value)
 * @method static \Illuminate\Database\Eloquent\Builder|VehicleAssignment whereId($value)
 * @method static \Illuminate\Database\Eloquent\Builder|VehicleAssignment whereIsImportant($value)
 * @method static \Illuminate\Database\Eloquent\Builder|VehicleAssignment whereNotes($value)
 * @method static \Illuminate\Database\Eloquent\Builder|VehicleAssignment whereRequesterName($value)
 * @method static \Illuminate\Database\Eloquent\Builder|VehicleAssignment whereStartTime($value)
 * @method static \Illuminate\Database\Eloquent\Builder|VehicleAssignment whereTaskDescription($value)
 * @method static \Illuminate\Database\Eloquent\Builder|VehicleAssignment whereUpdatedAt($value)
 * @method static \Illuminate\Database\Eloquent\Builder|VehicleAssignment whereUserId($value)
 * @method static \Illuminate\Database\Eloquent\Builder|VehicleAssignment whereVehicleId($value)
 * @method static \Illuminate\Database\Eloquent\Builder|VehicleAssignment withTrashed()
 * @method static \Illuminate\Database\Eloquent\Builder|VehicleAssignment withoutTrashed()
 * @mixin \Eloquent
 */
	#[\AllowDynamicProperties]
	class IdeHelperVehicleAssignment {}
}



----------------------------------------
DOSYA YOLU: app\Console\Kernel.php
----------------------------------------

<?php

namespace App\Console;

use Illuminate\Console\Scheduling\Schedule;
use Illuminate\Foundation\Console\Kernel as ConsoleKernel;

class Kernel extends ConsoleKernel
{
    /**
     * Define the application's command schedule.
     *
     * @param  \Illuminate\Console\Scheduling\Schedule  $schedule
     * @return void
     */
    /**
     * Define the application's command schedule.
     *
     * @param  \Illuminate\Console\Scheduling\Schedule  $schedule
     * @return void
     */
    protected function schedule(Schedule $schedule)
    {
        // 1. Bakm Kontrolleri (Teknik Ekip) - 09:00
        $schedule->command('maintenance:check-upcoming')->dailyAt('09:00');

        // 2. Sevkiyat Kontrolleri (Lojistik) - 08:00
        $schedule->command('shipment:check-upcoming')->everyMinute();

        // 3. Etkinlik ve Ziyaretler (Sat/dari) - 08:30
        // Mesai balamadan hatrlatma iyidir.
        $schedule->command('event:check-upcoming')->dailyAt('08:30');

        // 4. retim Planlar (Planlama) - 07:30
        // retim genelde erken balar.
        $schedule->command('production:check-upcoming')->dailyAt('07:30');
    }
    /**
     * Register the commands for the application.
     *
     * @return void
     */
    protected function commands()
    {
        $this->load(__DIR__ . '/Commands');

        require base_path('routes/console.php');
    }

}


----------------------------------------
DOSYA YOLU: app\Console\Commands\CheckUpcomingEvents.php
----------------------------------------

<?php

namespace App\Console\Commands;

use App\Models\Event;
use App\Models\User;
use App\Notifications\UpcomingEventNotification;
use Carbon\Carbon;
use Illuminate\Console\Command;
use Illuminate\Support\Facades\Notification;
use Illuminate\Support\Facades\Log;

class CheckUpcomingEvents extends Command
{
    protected $signature = 'event:check-upcoming';
    protected $description = 'Yarnki takvim etkinliklerini kontrol eder ve bildirir.';

    public function handle()
    {
        $tomorrow = \Carbon\Carbon::tomorrow();
        $this->info(' Hedef Tarih: ' . $tomorrow->format('d.m.Y') . ' (Yarn)');

        // 1. Verileri ekme
        $events = \App\Models\Event::whereDate('start_datetime', $tomorrow)
            ->with(['user', 'customerVisit.customer', 'businessUnit'])
            ->get();

        $count = $events->count();
        $this->info(" Bulunan etkinlik says: {$count}");

        if ($count === 0) {
            $this->warn('   Veritabannda yarn tarihli bir etkinlik bulunamad.');
            return 0;
        }

        // 2. Dng
        foreach ($events as $event) {
            $this->info("--------------------------------------------------");
            $this->info(" Etkinlik: {$event->title} (ID: {$event->id})");
            $this->line("   Tr: " . ($event->event_type ?? 'Belirtilmemi'));

            // --- A. ETKNLK SAHBN BLGLENDR ---
            if ($event->user) {
                try {
                    $event->user->notify(new \App\Notifications\UpcomingEventNotification($event));
                    $this->info("    [Sahibi] Mail gnderildi: " . $event->user->email);
                } catch (\Exception $e) {
                    $this->error("    [Sahibi] Mail hatas: " . $e->getMessage());
                }
            }

            // --- B. LGL DEPARTMAN ALIANLARI (Rol Fark Etmeksizin) ---
            if ($event->business_unit_id) {

                // 1. DEPARTMAN ELETRMES
                // Departments tablosundaki MEVCUT isimler: Lojistik, retim, dari ler, Bakm, Ulatrma
                $targetDepartments = match ($event->event_type) {
                    'customer_visit' => ['dari ler'], // Sat/Pazarlama tablosunda yoksa dari ler en yakndr
                    'meeting' => ['dari ler'],
                    'maintenance' => ['Bakm', 'retim'],
                    'production' => ['retim'],
                    'logistics' => ['Lojistik', 'Ulatrma'],
                    default => [],
                };

                // 2. KULLANICI SORGUSU (Ynetici art KALKTI)
                // O fabrikada ve o departmanda alan herkesi getir.
                $users = \App\Models\User::whereHas('businessUnits', function ($q) use ($event) {
                    $q->where('business_units.id', $event->business_unit_id);
                })
                    ->whereHas('department', function ($q) use ($targetDepartments) {
                        $q->whereIn('name', $targetDepartments);
                    })
                    ->get();

                // 3. GNDERM
                if ($users->count() > 0) {
                    \Illuminate\Support\Facades\Notification::send($users, new \App\Notifications\UpcomingEventNotification($event));

                    $this->info("    [Genel] " . $users->count() . " kiiye (" . implode(',', $targetDepartments) . ") bildirildi.");
                    foreach ($users as $u) {
                        $this->line("      - " . $u->email);
                    }
                } else {
                    // Eer hedef departman listesi bosa veya kullanc yoksa uyar
                    if (!empty($targetDepartments)) {
                        $this->warn("    Hedeflenen departmanlarda (" . implode(',', $targetDepartments) . ") alan bulunamad.");
                    } else {
                        $this->line("    Bu etkinlik tr iin zel bir departman elemesi yok.");
                    }
                }

            } else {
                $this->line("    Bu etkinlik bir fabrikaya bal deil.");
            }
        }

        $this->info("--------------------------------------------------");
        $this->info(" lem tamamland.");

        return 0;
    }
}

----------------------------------------
DOSYA YOLU: app\Console\Commands\CheckUpcomingMaintenances.php
----------------------------------------

<?php

namespace App\Console\Commands;

use App\Models\MaintenancePlan;
use App\Models\User;
use App\Notifications\UpcomingMaintenanceNotification;
use Carbon\Carbon;
use Illuminate\Console\Command;
use Illuminate\Support\Facades\Notification;
use Illuminate\Support\Facades\Log;

class CheckUpcomingMaintenances extends Command
{
    protected $signature = 'maintenance:check-upcoming';
    protected $description = 'Yaklaan bakm planlarn kontrol eder ve bildirim gnderir.';

    public function handle()
    {
        $tomorrow = \Carbon\Carbon::tomorrow();
        $this->info(' Hedef Tarih: ' . $tomorrow->format('d.m.Y'));

        // likileri ekiyoruz
        $plans = \App\Models\MaintenancePlan::whereDate('planned_start_date', $tomorrow)
            ->where('status', '!=', 'completed')
            ->where('status', '!=', 'cancelled')
            ->with(['asset', 'type', 'user', 'businessUnit'])
            ->get();

        $this->info(" Bulunan bakm plan says: " . $plans->count());

        foreach ($plans as $plan) {
            $this->info("--------------------------------------------------");
            $this->info(" Bakm: {$plan->asset->name} (ID: {$plan->id})");

            // A. TEKNSYEN / SORUMLU (SAHB)
            if ($plan->user) {
                try {
                    $plan->user->notify(new \App\Notifications\UpcomingMaintenanceNotification($plan));
                    $this->info("    [Sorumlu] Bildirildi: " . $plan->user->email);
                } catch (\Exception $e) {
                    $this->error("    Mail hatas: " . $e->getMessage());
                }
            }

            // B. LGL DEPARTMAN ALIANLARI (Rol Fark Etmeksizin)
            if ($plan->business_unit_id) {

                // Hedef: Bakm ve retim Departmanndaki HERKES
                $targetDepartments = ['Bakm', 'retim'];

                $users = \App\Models\User::whereHas('businessUnits', function ($q) use ($plan) {
                    $q->where('business_units.id', $plan->business_unit_id);
                })
                    ->whereHas('department', function ($q) use ($targetDepartments) {
                        $q->whereIn('name', $targetDepartments);
                    })
                    ->get();

                if ($users->count() > 0) {
                    \Illuminate\Support\Facades\Notification::send($users, new \App\Notifications\UpcomingMaintenanceNotification($plan));
                    $this->info("    [Genel] " . $users->count() . " kiiye (Bakm/retim) bildirildi.");

                    // Kimlere gittiini loglayalm
                    foreach ($users as $u) {
                        $this->line("      - " . $u->email);
                    }
                } else {
                    $this->warn("    lgili departmanlarda alan bulunamad.");
                }
            } else {
                $this->warn("    Bu plan bir fabrikaya bal deil.");
            }
        }

        return 0;
    }
}

----------------------------------------
DOSYA YOLU: app\Console\Commands\CheckUpcomingProductionPlans.php
----------------------------------------

<?php

namespace App\Console\Commands;

use App\Models\ProductionPlan;
use App\Models\User; // Yneticiye de atmak istersen lazm olabilir
use App\Notifications\UpcomingProductionPlanNotification;
use Carbon\Carbon;
use Illuminate\Console\Command;
use Illuminate\Support\Facades\Log;

class CheckUpcomingProductionPlans extends Command
{
    protected $signature = 'production:check-upcoming';
    protected $description = 'Yarn balayacak retim planlarn kontrol eder.';

    public function handle()
    {
        $tomorrow = \Carbon\Carbon::tomorrow();
        $this->info(' Hedef Tarih: ' . $tomorrow->format('d.m.Y'));

        // likileri ekiyoruz
        $plans = \App\Models\ProductionPlan::whereDate('week_start_date', $tomorrow)
            ->with(['user', 'businessUnit'])
            ->get();

        $this->info(" Bulunan retim plan says: " . $plans->count());

        foreach ($plans as $plan) {
            $this->info("--------------------------------------------------");
            $this->info(" Plan: {$plan->plan_title} (ID: {$plan->id})");

            // A. PLANLAYICI (SAHB)
            if ($plan->user) {
                try {
                    $plan->user->notify(new \App\Notifications\UpcomingProductionPlanNotification($plan));
                    $this->info("    [Planlayc] Bildirildi: " . $plan->user->email);
                } catch (\Exception $e) {
                    $this->error("    Mail hatas: " . $e->getMessage());
                }
            }

            // B. LGL DEPARTMAN ALIANLARI (Rol Fark Etmeksizin)
            if ($plan->business_unit_id) {

                // Hedef: Sadece retim Departmanndaki HERKES
                $targetDepartments = ['retim'];

                $users = \App\Models\User::whereHas('businessUnits', function ($q) use ($plan) {
                    $q->where('business_units.id', $plan->business_unit_id);
                })
                    ->whereHas('department', function ($q) use ($targetDepartments) {
                        $q->whereIn('name', $targetDepartments);
                    })
                    ->get();

                if ($users->count() > 0) {
                    \Illuminate\Support\Facades\Notification::send($users, new \App\Notifications\UpcomingProductionPlanNotification($plan));
                    $this->info("    [Genel] " . $users->count() . " kiiye (retim) bildirildi.");

                    foreach ($users as $u) {
                        $this->line("      - " . $u->email);
                    }
                } else {
                    $this->warn("    retim departmannda alan bulunamad.");
                }
            }
        }

        return 0;
    }
}

----------------------------------------
DOSYA YOLU: app\Console\Commands\CheckUpcomingShipments.php
----------------------------------------

<?php

namespace App\Console\Commands;

use App\Models\Shipment;
use App\Models\User;
use App\Notifications\UpcomingShipmentNotification;
use Carbon\Carbon;
use Illuminate\Console\Command;
use Illuminate\Support\Facades\Notification;
use Illuminate\Support\Facades\Log;

class CheckUpcomingShipments extends Command
{
    /**
     * Komutun ad (Terminalden armak iin)
     */
    protected $signature = 'shipment:check-upcoming';

    protected $description = 'Yarn k olacak sevkiyatlar kontrol eder ve bildirir.';

    public function handle()
    {
        $tomorrow = \Carbon\Carbon::tomorrow();
        $msg = ' Sevkiyat Kontrol Balad. Hedef Tarih: ' . $tomorrow->format('d.m.Y');
        $this->info($msg);
        Log::info($msg);

        // likileri ekiyoruz (onaylanma_tarihi filtresiyle)
        $shipments = \App\Models\Shipment::whereDate('cikis_tarihi', $tomorrow)
            ->with(['user', 'businessUnit'])
            ->get();

        $countMsg = " Bulunan sevkiyat says: " . $shipments->count();
        $this->info($countMsg);
        Log::info($countMsg);

        foreach ($shipments as $shipment) {
            $this->info("--------------------------------------------------");
            $this->info(" Sevkiyat: {$shipment->plaka} (ID: {$shipment->id})");

            // A. OLUTURAN K
            if ($shipment->user) {
                try {
                    $shipment->user->notify(new \App\Notifications\UpcomingShipmentNotification($shipment));
                    $this->info("    [Oluturan] Bildirildi: " . $shipment->user->email);
                } catch (\Exception $e) {
                    $this->error("    Mail hatas: " . $e->getMessage());
                }
            }

            // B. LGL DEPARTMAN ALIANLARI (Rol Fark Etmeksizin)
            if ($shipment->business_unit_id) {

                // Hedef: Lojistik ve Ulatrma Departmanndaki HERKES
                $targetDepartments = ['Lojistik', 'Ulatrma'];

                $users = \App\Models\User::whereHas('businessUnits', function ($q) use ($shipment) {
                    $q->where('business_units.id', $shipment->business_unit_id);
                })
                    ->whereHas('department', function ($q) use ($targetDepartments) {
                        $q->whereIn('name', $targetDepartments);
                    })
                    ->get();

                if ($users->count() > 0) {
                    \Illuminate\Support\Facades\Notification::send($users, new \App\Notifications\UpcomingShipmentNotification($shipment));
                    $this->info("    [Genel] " . $users->count() . " kiiye (Lojistik/Ulatrma) bildirildi.");

                    foreach ($users as $u) {
                        $this->line("      - " . $u->email);
                    }
                } else {
                    $this->warn("    Lojistik/Ulatrma departmanlarnda alan bulunamad.");
                }
            } else {
                $this->warn("    Bu sevkiyat bir fabrikaya bal deil.");
            }
        }

        return 0;
    }
}

----------------------------------------
DOSYA YOLU: app\Console\Commands\SendTravelReminders.php
----------------------------------------

<?php

namespace App\Console\Commands;

use Illuminate\Console\Command;
use App\Models\Travel;
use App\Models\User;
use App\Notifications\UpcomingTravelReminder;
use Illuminate\Support\Facades\Notification;
use Carbon\Carbon;

class SendTravelReminders extends Command
{
    protected $signature = 'travel:send-reminders';
    protected $description = 'Yaklaan seyahatler iin bildirim gnderir';

    public function handle()
    {
        // 1. Yarn balayacak ve henz tamamlanmam seyahatleri bul
        $upcomingTravels = Travel::whereDate('start_date', Carbon::tomorrow())
            ->where('status', '!=', 'completed')
            ->get();

        if ($upcomingTravels->isEmpty()) {
            return;
        }

        // 2. Bildirimi alacak yneticileri bul (Admin + Ulatrma Mdrleri)
        $managers = User::where(function ($query) {
            $query->where('role', 'admin')
                ->orWhere(function ($q) {
                    $q->where('role', 'mdr')
                        ->whereHas('department', fn($d) => $d->where('slug', 'ulastirma'));
                });
        })->get();

        // 3. Gnderim
        if ($managers->isNotEmpty()) {
            foreach ($upcomingTravels as $travel) {
                Notification::send($managers, new UpcomingTravelReminder($travel));
            }
        }
    }
}

----------------------------------------
DOSYA YOLU: app\Data\StatisticsData.php
----------------------------------------

<?php

namespace App\Data;

use Illuminate\Contracts\Support\Arrayable;
use Illuminate\Support\Collection; // <-- BU SATIRI EKLEYN

class StatisticsData implements Arrayable
{
    public function __construct(
        public array $chartData,
        public array $shipmentsForFiltering = [],
        public array $productionPlansForFiltering = [],
        public array $eventsForFiltering = [],
        public array $assignmentsForFiltering = [],
        public array $vehiclesForFiltering = [],
        public array $monthlyLabels = [],
        public array $maintenancePlansForFiltering = [],
        public array $maintenanceTypes = [],
        public array $assets = []
    ) {
    }

    /**
     * Nesneyi array_merge'n anlayaca dizi formatna evirir.
     */
    public function toArray(): array
    {
        return [
            'chartData' => $this->chartData,
            'shipmentsForFiltering' => $this->shipmentsForFiltering,
            'productionPlansForFiltering' => $this->productionPlansForFiltering,
            'eventsForFiltering' => $this->eventsForFiltering,
            'assignmentsForFiltering' => $this->assignmentsForFiltering,
            'vehiclesForFiltering' => $this->vehiclesForFiltering,
            'monthlyLabels' => $this->monthlyLabels,
            'maintenancePlansForFiltering' => $this->maintenancePlansForFiltering,
            'maintenanceTypes' => $this->maintenanceTypes,
            'assets' => $this->assets,
        ];
    }
}

----------------------------------------
DOSYA YOLU: app\Exceptions\Handler.php
----------------------------------------

<?php

namespace App\Exceptions;

use Illuminate\Foundation\Exceptions\Handler as ExceptionHandler;
use Throwable;
use Illuminate\Auth\Access\AuthorizationException;
use Symfony\Component\HttpKernel\Exception\AccessDeniedHttpException;
use Symfony\Component\HttpKernel\Exception\HttpException;

class Handler extends ExceptionHandler
{
    /**
     * A list of exception types with their corresponding custom log levels.
     *
     * @var array<class-string<\Throwable>, \Psr\Log\LogLevel::*>
     */
    protected $levels = [
        //
    ];

    /**
     * A list of the exception types that are not reported.
     *
     * @var array<int, class-string<\Throwable>>
     */
    protected $dontReport = [
        //
    ];

    /**
     * A list of the inputs that are never flashed to the session on validation exceptions.
     *
     * @var array<int, string>
     */
    protected $dontFlash = [
        'current_password',
        'password',
        'password_confirmation',
    ];

    /**
     * Register the exception handling callbacks for the application.
     *
     * @return void
     */
    public function register()
    {
        $this->renderable(function (Throwable $e, $request) {

            // 1. Yetki Hatas (AuthorizationException)
            // 2. HTTP Eriim Reddi (AccessDeniedHttpException - Genelde 403 sayfas budur)
            if ($e instanceof AuthorizationException || $e instanceof AccessDeniedHttpException) {

                // Eer kullanc "API" veya "AJAX" istei atyorsa JSON dn
                if ($request->wantsJson() || $request->ajax()) {
                    return response()->json(['message' => 'Bu ilem iin yetkiniz yok.'], 403);
                }

                // Normal tarayc istei ise (Linke tklama, form gnderme)
                // Kullancy geldii sayfaya geri gnder ve hata mesaj bas
                return back()->with('error', 'Bu sayfaya veya ileme eriim yetkiniz bulunmamaktadr!');
            }
        });
    }
    /**
     * Render an exception into an HTTP response.
     *
     * @param  \Illuminate\Http\Request  $request
     * @param  \Throwable  $e
     * @return \Symfony\Component\HttpFoundation\Response
     *
     * @throws \Throwable
     */
    public function render($request, Throwable $e)
    {
        // 1. Yetki Hatas (AuthorizationException) - Genelde $this->authorize() bunu frlatr.
        // 2. Eriim Reddi (AccessDeniedHttpException) - Genelde Gate veya Middleware bunu frlatr.
        // 3. Herhangi bir 403 Hatas (abort(403) vb.)

        if (
            $e instanceof AuthorizationException ||
            $e instanceof AccessDeniedHttpException ||
            ($e instanceof HttpException && $e->getStatusCode() == 403)
        ) {

            // Eer istek AJAX (Takvimdeki srkle brak vb.) veya API istei ise JSON dn
            if ($request->wantsJson() || $request->ajax()) {
                return response()->json(['message' => 'Bu ilem iin yetkiniz yok.'], 403);
            }

            // !!! TE ZM BURASI !!!
            // Kullancy geldii sayfaya (back) hata mesajyla (flash message) geri gnder.
            // 403 Sayfas yerine geldii ekran grecek.
            return back()->with('error', 'Bu ilemi gerekletirmeye yetkiniz bulunmamaktadr!');
        }

        return parent::render($request, $e);
    }
}


----------------------------------------
DOSYA YOLU: app\Http\Kernel.php
----------------------------------------

<?php

namespace App\Http;

use Illuminate\Foundation\Http\Kernel as HttpKernel;

class Kernel extends HttpKernel
{
    /**
     * The application's global HTTP middleware stack.
     *
     * These middleware are run during every request to your application.
     *
     * @var array<int, class-string|string>
     */
    protected $middleware = [
        // \App\Http\Middleware\TrustHosts::class,
        \App\Http\Middleware\TrustProxies::class,
        \Illuminate\Http\Middleware\HandleCors::class,
        \App\Http\Middleware\PreventRequestsDuringMaintenance::class,
        \Illuminate\Foundation\Http\Middleware\ValidatePostSize::class,
        \App\Http\Middleware\TrimStrings::class,
        \Illuminate\Foundation\Http\Middleware\ConvertEmptyStringsToNull::class,

    ];

    /**
     * The application's route middleware groups.
     *
     * @var array<string, array<int, class-string|string>>
     */
    protected $middlewareGroups = [
        'web' => [
            \App\Http\Middleware\EncryptCookies::class,
            \Illuminate\Cookie\Middleware\AddQueuedCookiesToResponse::class,
            \Illuminate\Session\Middleware\StartSession::class,
            \Illuminate\View\Middleware\ShareErrorsFromSession::class,
            \App\Http\Middleware\VerifyCsrfToken::class,
            \Illuminate\Routing\Middleware\SubstituteBindings::class,
            \App\Http\Middleware\RemoveHeaders::class,
            \App\Http\Middleware\SetBusinessUnit::class,
            \App\Http\Middleware\SetDefaultBusinessUnit::class,
        ],

        'api' => [
            // \Laravel\Sanctum\Http\Middleware\EnsureFrontendRequestsAreStateful::class,
            'throttle:api',
            \Illuminate\Routing\Middleware\SubstituteBindings::class,
        ],
    ];

    /**
     * The application's route middleware.
     *
     * These middleware may be assigned to groups or used individually.
     *
     * @var array<string, class-string|string>
     */
    protected $routeMiddleware = [
        'auth' => \App\Http\Middleware\Authenticate::class,
        'auth.basic' => \Illuminate\Auth\Middleware\AuthenticateWithBasicAuth::class,
        'auth.session' => \Illuminate\Session\Middleware\AuthenticateSession::class,
        'cache.headers' => \Illuminate\Http\Middleware\SetCacheHeaders::class,
        'can' => \Illuminate\Auth\Middleware\Authorize::class,
        'guest' => \App\Http\Middleware\RedirectIfAuthenticated::class,
        'password.confirm' => \Illuminate\Auth\Middleware\RequirePassword::class,
        'signed' => \App\Http\Middleware\ValidateSignature::class,
        'throttle' => \Illuminate\Routing\Middleware\ThrottleRequests::class,
        'verified' => \Illuminate\Auth\Middleware\EnsureEmailIsVerified::class,
        'role' => \Spatie\Permission\Middleware\RoleMiddleware::class,
        'permission' => \Spatie\Permission\Middleware\PermissionMiddleware::class,
        'role_or_permission' => \Spatie\Permission\Middleware\RoleOrPermissionMiddleware::class,
    ];
}


----------------------------------------
DOSYA YOLU: app\Http\Controllers\ActivityLogController.php
----------------------------------------

<?php

namespace App\Http\Controllers;

use Illuminate\Http\Request;
use Spatie\Activitylog\Models\Activity;

class ActivityLogController extends Controller
{
    public function index()
    {
        // with('causer', 'subject') ekleyerek performans artryoruz.
        // Bylece 50 log iin 51 sorgu yerine 2 sorgu atar.
        $activities = Activity::with(['causer', 'subject'])
            ->latest()
            ->paginate(50);

        return view('logs.index', compact('activities'));
    }
}

----------------------------------------
DOSYA YOLU: app\Http\Controllers\BirimController.php
----------------------------------------

<?php

namespace App\Http\Controllers;

use App\Models\Birim;
use Illuminate\Http\Request;

class BirimController extends Controller
{
    // Sadece adminlerin bu controller'a eriebilmesini salar
    public function __construct()
    {
        $this->middleware('auth');
        $this->middleware('role:admin');
    }

    /**
     * Tm birimleri listeler ve ekleme formu gsterir.
     */
    public function index()
    {
        $birimler = Birim::orderBy('ad')->get();
        return view('birimler.index', compact('birimler'));
    }

    /**
     * Yeni bir birim kaydeder.
     */
    public function store(Request $request)
    {
        // 1. Veriyi dorula ve sadece 'ad' alann ieren bir dizi olarak al
        $validatedData = $request->validate([
            'ad' => 'required|string|max:255|unique:birims,ad',
        ], [
            'ad.required' => 'Birim ad zorunludur.',
            'ad.unique' => 'Bu birim zaten mevcut.',
        ]);

        // 2. DZELTME: $request->all() yerine, sadece dorulanan veriyi kullan
        Birim::create($validatedData);

        return redirect()->route('birimler.index')->with('success', 'Yeni birim baaryla eklendi.');
    }

    /**
     * Belirtilen birimi siler.
     */
    public function destroy(Birim $birim)
    {
        $birim->delete();
        return redirect()->route('birimler.index')->with('success', 'Birim baaryla silindi.');
    }
}


----------------------------------------
DOSYA YOLU: app\Http\Controllers\BookingController.php
----------------------------------------

<?php

namespace App\Http\Controllers;

use App\Models\Booking;
use Illuminate\Http\Request;
use App\Models\Travel;
use Illuminate\Support\Facades\Auth;
use Illuminate\Support\Str;
use Illuminate\Validation\Rule;
use App\Services\CsvExporter;


class BookingController extends Controller
{
    /**
     * Display a listing of the resource.
     *
     * @return \Illuminate\Http\Response
     */
    public function index()
    {
        $bookings = Booking::with(['bookable', 'user'])
            ->orderBy('start_datetime', 'desc')
            ->paginate(20); // Sayfa bana 20 kayt

        return response()->view('bookings.index', compact('bookings'));
    }

    /**
     * Show the form for creating a new resource.
     *
     * @return \Illuminate\Http\Response
     */
    public function create()
    {
        return response()->view('bookings.create');
    }

    /**
     * Store a newly created resource in storage.
     *
     * @param  \Illuminate\Http\Request  $request
     * @return \Illuminate\Http\RedirectResponse
     */
    public function store(Request $request, $modelId) // $travel' al
    {
        // 1. Model Snfn Rotadan Al (routes/web.php'deki 'defaults' ksmndan)
        $modelClass = $request->route('model_type');

        // 2. Modeli Bul (Travel m Event mi olduu fark etmez)
        $model = $modelClass::findOrFail($modelId);
        $validated = $request->validate([
            'type' => 'required|string|in:flight,bus,hotel,car_rental,train,other',
            'provider_name' => 'required|string|max:255',
            'confirmation_code' => 'nullable|string|max:255',
            'start_datetime' => 'required|date',
            'end_datetime' => 'nullable|date|after_or_equal:start_datetime',
            'cost' => 'nullable|numeric|min:0',
            'notes' => 'nullable|string',
            'booking_files.*' => 'nullable|file|mimes:pdf,jpg,jpeg,png,msg,eml|max:10240', // 10MB limit
            'status' => 'nullable|string|in:planned,completed,cancelled,postponed',
        ]);

        // Seyahate bal rezervasyonu olutur
        $booking = $model->bookings()->create([
            'user_id' => Auth::id(),
            'type' => $validated['type'],
            'provider_name' => $validated['provider_name'],
            'confirmation_code' => $validated['confirmation_code'],
            'cost' => $validated['cost'] ?? null,
            'start_datetime' => $validated['start_datetime'],
            'end_datetime' => $validated['end_datetime'],
            'notes' => $validated['notes'],
        ]);

        // Spatie MediaLibrary ile Dosyalar Ekle
        if ($request->hasFile('booking_files')) {
            foreach ($request->file('booking_files') as $file) {
                // 'attachments' koleksiyonuna ekle
                $booking->addMedia($file)->toMediaCollection('attachments');
            }
        }
        $routePrefix = ($model instanceof \App\Models\Travel) ? 'travels' : 'service.events';

        return redirect()->route($routePrefix . '.show', $model)
            ->with('success', 'Yeni rezervasyon kayd baaryla eklendi!');
    }

    /**
     * Display the specified resource.
     *
     * @param  \App\Models\Booking  $booking
     * @return \Illuminate\Contracts\View\View
     */
    public function show(Booking $booking)
    {
        return view('bookings.show', compact('booking'));
    }

    /**
     * Show the form for editing the specified resource.
     *
     * @param  \App\Models\Booking  $booking
     * @return \Illuminate\Contracts\View\View|\Illuminate\Http\Response|\Illuminate\Http\RedirectResponse
     */
    public function edit(Booking $booking)
    {

        if (!$booking->is_editable && !Auth::user()->can('is-global-manager')) {
            return redirect()->back()
                ->with('error', 'Bu rezervasyona 24 saatten az kald (veya tarihi getii) iin dzenlenemez!');
        }
        $isOwner = auth()->id() == $booking->user_id;

        // 2. Kullancnn zel yetkisi var m? (zgl Hanm vb.)
        $canManage = auth()->user()->can('manage all bookings') || auth()->user()->can('is-global-manager');

        // Eer ne sahip ne de ynetici ise -> HATA VER
        if (!$isOwner && !$canManage) {
            abort(403, 'Bu rezervasyonu dzenleme yetkiniz yok.');
        }

        // Eer sadece sahipse (ynetici deilse), 24 saat kuralna taklyor mu?
        // Yneticiyse ($canManage) sreye taklmadan geebilir.
        if (!$canManage && !$booking->is_editable) {
            abort(403, 'Dzenleme sresi (24 saat) dolmutur.');
        }
        if (Auth::id() !== $booking->user_id && !Auth::user()->can('is-global-manager')) {
            abort(403, 'Bu eylemi gerekletirme yetkiniz yok.');
        }

        return response()->view('bookings.edit', compact('booking'));
    }

    /**
     * Update the specified resource in storage.
     *
     * @param  \Illuminate\Http\Request  $request
     * @param  \App\Models\Booking  $booking
     * @return \Illuminate\Http\RedirectResponse
     */
    public function update(Request $request, Booking $booking)
    {
        // 24 Saat Kontrol
        if (!$booking->is_editable && !Auth::user()->can('is-global-manager')) {
            return redirect()->back()
                ->with('error', 'Sre dolduu iin gncelleme yaplamaz!');
        }
        $isOwner = auth()->id() == $booking->user_id;

        // 2. Kullancnn zel yetkisi var m? (zgl Hanm vb.)
        $canManage = auth()->user()->can('manage all bookings') || auth()->user()->can('is-global-manager');

        // Eer ne sahip ne de ynetici ise -> HATA VER
        if (!$isOwner && !$canManage) {
            abort(403, 'Bu rezervasyonu dzenleme yetkiniz yok.');
        }

        // Eer sadece sahipse (ynetici deilse), 24 saat kuralna taklyor mu?
        // Yneticiyse ($canManage) sreye taklmadan geebilir.
        if (!$canManage && !$booking->is_editable) {
            abort(403, 'Dzenleme sresi (24 saat) dolmutur.');
        }

        if (Auth::id() !== $booking->user_id && !Auth::user()->can('is-global-manager')) {
            abort(403, 'Bu eylemi gerekletirme yetkiniz yok.');
        }

        // Validasyon (store ile ayn)
        $validated = $request->validate([
            'type' => 'required|string|in:flight,hotel,car_rental,train,other',
            'provider_name' => 'required|string|max:255',
            'confirmation_code' => 'nullable|string|max:255',
            'start_datetime' => 'required|date',
            'end_datetime' => 'nullable|date|after_or_equal:start_datetime',
            'cost' => 'nullable|numeric|min:0',
            'notes' => 'nullable|string',
            'booking_files.*' => 'nullable|file|mimes:pdf,jpg,jpeg,png,msg,eml|max:10240',
            'status' => 'nullable|string|in:planned,completed,cancelled,postponed',
        ]);

        // Rezervasyonu gncelle
        $booking->update($validated);

        // YEN dosyalar varsa, mevcutlarn zerine ekle (eskileri silme)
        if ($request->hasFile('booking_files')) {
            foreach ($request->file('booking_files') as $file) {
                $booking->addMedia($file)->toMediaCollection('attachments');
            }
        }

        $model = $booking->bookable; // Travel veya Event modelini al

        // Model tipine gre doru rotay belirle
        $routePrefix = ($model instanceof \App\Models\Travel) ? 'travels' : 'service.events';

        return redirect()->route($routePrefix . '.show', $model)
            ->with('success', 'Rezervasyon durumu gncellendi!');
    }

    /**
     * @param  \App\Models\Booking  $booking
     * @return \Illuminate\Http\Response
     */
    /**
     * Remove the specified resource from storage.
     */
    public function destroy(Booking $booking)
    {
        // 24 Saat Kontrol
        if (!$booking->is_editable && !Auth::user()->can('is-global-manager')) {
            return redirect()->back()->with('error', 'Bu rezervasyonu gncellemek iin sre doldu!');
        }
        $isOwner = auth()->id() == $booking->user_id;
        $canManage = auth()->user()->can('manage all bookings') || auth()->user()->can('is-global-manager');

        if (!$isOwner && !$canManage) {
            abort(403, 'Bu rezervasyonu silme yetkiniz yok.');
        }

        if (!$canManage && !$booking->is_editable) {
            abort(403, 'Silme sresi (24 saat) dolmutur.');
        }
        if (Auth::id() !== $booking->user_id && !Auth::user()->can('is-global-manager')) {
            abort(403, 'Bu eylemi gerekletirme yetkiniz yok.');
        }

        $booking->delete();

        return redirect()->back()->with('success', 'Rezervasyon kayd silindi.');
    }
    /**
     * Rezervasyonlar CSV olarak da aktar
     */
    public function export()
    {
        $fileName = 'rezervasyonlar-' . date('d-m-Y') . '.csv';

        // 1. SORGULAMA
        // 'bookable' ilikisini ekiyoruz. Laravel otomatik olarak
        // Travel ise Travel tablosuna, Event ise Event tablosuna gidip veriyi alacak.
        $query = Booking::with(['user', 'bookable'])->latest();

        // 2. BALIKLAR
        $headers = [
            'ID',
            'Tr',
            'Salayc',
            'Onay Kodu',
            'Bal Olduu Kayt', // rn: Seyahat: Ankara Gezisi
            'Balang',
            'Biti',
            'Maliyet',
            'Durum',
            'Notlar',
            'Oluturan',
            'Kayt Tarihi'
        ];

        // 3. SERVS AIR
        return CsvExporter::streamDownload(
            query: $query,
            headers: $headers,
            fileName: $fileName,
            rowMapper: function ($booking) {

                // -- POLMORFK VER ZMLEME --
                // Rezervasyon neye bal? (Event mi Travel m?)
                $bagliKayit = 'Bamsz / Silinmi';

                if ($booking->bookable) {
                    // bookable_type genellikle "App\Models\Travel" eklinde tam path dner.
                    // Sondaki snf ismini almak iin class_basename kullanabiliriz veya string kontrol yaparz.
    
                    if ($booking->bookable_type === 'App\Models\Travel') {
                        // Travel modelinde isim stunu: 'name'
                        $bagliKayit = '[Seyahat] ' . $booking->bookable->name;
                    } elseif ($booking->bookable_type === 'App\Models\Event') {
                        // Event modelinde isim stunu: 'title'
                        $bagliKayit = '[Etkinlik] ' . $booking->bookable->title;
                    } else {
                        // Bilinmeyen bir tr eklenirse
                        $bagliKayit = '[' . class_basename($booking->bookable_type) . '] ID:' . $booking->bookable_id;
                    }
                }

                // -- TR TRKELETRME --
                $tur = match ($booking->type) {
                    'flight' => 'Uak Bileti',
                    'hotel' => 'Otel',
                    'car' => 'Ara Kiralama',
                    'bus' => 'Otobs',
                    'transfer' => 'Transfer',
                    default => ucfirst($booking->type ?? '-'),
                };

                // -- DURUM TRKELETRME --
                $durum = match ($booking->status) {
                    'planned' => 'Planland',
                    'confirmed' => 'Onayland',
                    'cancelled' => 'ptal',
                    'completed' => 'Tamamland',
                    default => ucfirst($booking->status ?? '-'),
                };

                // -- MALYET FORMATLAMA --
                // 10000.00 -> 10.000,00 TL
                $maliyet = $booking->cost
                    ? number_format($booking->cost, 2, ',', '.') . ' TL'
                    : '-';

                // -- SATIR VERS --
                return [
                    $booking->id,
                    $tur,
                    $booking->provider_name ?? '-',
                    $booking->confirmation_code ?? '-',
                    $bagliKayit, // Hazrladmz dinamik veri
                    $booking->start_datetime ? $booking->start_datetime->format('d.m.Y H:i') : '-',
                    $booking->end_datetime ? $booking->end_datetime->format('d.m.Y H:i') : '-',
                    $maliyet,
                    $durum,
                    $booking->notes ?? '',
                    $booking->user ? $booking->user->name : 'Bilinmiyor',
                    $booking->created_at->format('d.m.Y H:i')
                ];
            }
        );
    }
}


----------------------------------------
DOSYA YOLU: app\Http\Controllers\BusinessUnitController.php
----------------------------------------

<?php

namespace App\Http\Controllers;

use App\Models\BusinessUnit;
use Illuminate\Http\Request;
use Illuminate\Support\Str;
use Illuminate\Support\Facades\Auth;

class BusinessUnitController extends Controller
{
    /**
     * letme Birimlerini (Fabrikalar) Ynet
     */
    public function index()
    {
        if (!Auth::user()->hasRole('admin')) {
            abort(403);
        }

        $businessUnits = BusinessUnit::orderBy('name')->get();
        return view('business_units.index', compact('businessUnits'));
    }

    public function store(Request $request)
    {
        if (!Auth::user()->hasRole('admin')) {
            abort(403);
        }

        $request->validate([
            'name' => 'required|string|max:255|unique:business_units,name',
            'code' => 'nullable|string|max:10|uppercase|unique:business_units,code',
        ]);

        BusinessUnit::create([
            'name' => $request->name,
            'code' => $request->code ?? Str::upper(Str::slug(Str::limit($request->name, 3, ''))),
            'slug' => Str::slug($request->name),
            'is_active' => true
        ]);

        return redirect()->back()->with('success', 'Yeni iletme birimi/fabrika eklendi.');
    }

    public function destroy(BusinessUnit $businessUnit)
    {
        if (!Auth::user()->hasRole('admin')) {
            abort(403);
        }

        $businessUnit->delete();

        return redirect()->back()->with('success', 'letme birimi silindi.');
    }
}

----------------------------------------
DOSYA YOLU: app\Http\Controllers\ComplaintController.php
----------------------------------------

<?php

namespace App\Http\Controllers;

use App\Models\Customer;
use App\Models\Complaint;
use Illuminate\Http\Request;
use Illuminate\Support\Facades\Auth;

class ComplaintController extends Controller
{
    /**
     * Display a listing of the resource.
     *
     * @return \Illuminate\Http\Response
     */
    public function index()
    {
        //
    }

    /**
     * Show the form for creating a new resource.
     *
     * @return \Illuminate\Http\Response
     */
    public function create()
    {
        //
    }

    /**
     * Store a newly created resource in storage.
     *
     * @param  \Illuminate\Http\Request  $request
     * @return \Illuminate\Http\Response
     */
    public function store(Request $request, Customer $customer)
    {
        $validated = $request->validate([
            'title' => 'required|string|max:255',
            'description' => 'required|string',
            'status' => 'required|in:open,in_progress,resolved',
            'complaint_files.*' => 'nullable|file|mimes:jpeg,jpg,png,pdf,doc,docx,xls,xlsx|max:10240' // 10MB limit
        ]);

        // Mteriye bal ikayeti olutur
        $complaint = $customer->complaints()->create([
            'user_id' => Auth::id(),
            'title' => $validated['title'],
            'description' => $validated['description'],
            'status' => $validated['status'],
        ]);

        // Spatie MediaLibrary ile Dosyalar Ekle
        if ($request->hasFile('complaint_files')) {
            foreach ($request->file('complaint_files') as $file) {
                $complaint->addMedia($file)->toMediaCollection('complaint_attachments');
            }
        }

        return redirect()->route('customers.show', $customer)
            ->with('success', 'Yeni ikayet kayd baaryla oluturuldu!');
    }

    /**
     * Display the specified resource.
     *
     * @param  \App\Models\Complaint  $complaint
     * @return \Illuminate\Http\Response
     */
    public function show(Complaint $complaint)
    {
        //
    }

    /**
     * Show the form for editing the specified resource.
     *
     * @param  \App\Models\Complaint  $complaint
     * @return \Illuminate\Http\Response
     */
    public function edit(Complaint $complaint)
    {
        //
    }

    /**
     * Update the specified resource in storage.
     *
     * @param  \Illuminate\Http\Request  $request
     * @param  \App\Models\Complaint  $complaint
     * @return \Illuminate\Http\Response
     */
    public function update(Request $request, Complaint $complaint)
    {
        //
    }

    /**
     * Remove the specified resource from storage.
     *
     * @param  \App\Models\Complaint  $complaint
     * @return \Illuminate\Http\Response
     */
    public function destroy(Complaint $complaint)
    {
        //
    }
}


----------------------------------------
DOSYA YOLU: app\Http\Controllers\Controller.php
----------------------------------------

<?php

namespace App\Http\Controllers;

use Illuminate\Foundation\Auth\Access\AuthorizesRequests;
use Illuminate\Foundation\Validation\ValidatesRequests;
use Illuminate\Routing\Controller as BaseController;

class Controller extends BaseController
{
    use AuthorizesRequests, ValidatesRequests;
}


----------------------------------------
DOSYA YOLU: app\Http\Controllers\CustomerController.php
----------------------------------------

<?php

namespace App\Http\Controllers;
use Illuminate\Contracts\View\View;
use Illuminate\Http\RedirectResponse;

use App\Models\Customer;
use Illuminate\Http\Request;
use Illuminate\Validation\Rule;
use App\Models\CustomerMachine;
use App\Models\Complaint;
use App\Models\TestResult;
use App\Models\CustomerVisit;
use App\Models\CustomerActivity;
use Illuminate\Support\Facades\Auth;

class CustomerController extends Controller
{
    /**
     * Display a listing of the resource.
     *
     * @return View
     */
    public function index(Request $request): View
    {
        // Arama terimini al
        $search = $request->input('search');

        // Mterileri al, arama varsa filtrele
        $customers = Customer::query()
            ->when($search, function ($query, $search) {
                // 'name' veya 'email' veya 'phone' stunlarnda ara
                return $query->where('name', 'LIKE', "%{$search}%")
                    ->orWhere('email', 'LIKE', "%{$search}%")
                    ->orWhere('phone', 'LIKE', "%{$search}%");
            })
            ->orderBy('name', 'asc') // sime gre srala
            ->paginate(15); // Sayfalama yap (sayfa bana 15)

        return view('customers.index', compact('customers', 'search'));
    }

    /**
     * Show the form for creating a new resource.
     *
     * @return View
     */
    public function create(): View
    {
        return view('customers.create');
    }

    /**
     * Store a newly created resource in storage.
     *
     * @param  \Illuminate\Http\Request  $request
     * @return \Illuminate\Http\RedirectResponse
     */
    public function store(Request $request): RedirectResponse
    {
        // 1. Validasyon (Dorulama)
        $validatedData = $request->validate([
            'name' => 'required|string|max:255',
            'contact_person' => 'nullable|string|max:255',
            'email' => 'nullable|email|max:255|unique:customers,email', // 'customers' tablosunda unique (benzersiz) olmal
            'phone' => 'nullable|string|max:20',
            'address' => 'nullable|string',
        ]);

        // 2. Kaydetme
        $customer = Customer::create($validatedData);

        // 3. Ynlendirme
        // Mteriyi kaydettikten sonra 'index'e deil, direkt o mterinin detay sayfasna gidelim
        return redirect()->route('customers.show', $customer)
            ->with('success', 'Mteri baaryla oluturuldu!');
    }

    /**
     * Display the specified resource.
     *
     * @param  \App\Models\Customer  $customer
     * @return View
     */
    public function show(Customer $customer): View
    {
        // Mteriyi ve ona bal TM verileri tek bir sorguyla (verimli) ykle
        $customer->load([
            'machines', // Mterinin makineleri
            'complaints', // Mterinin ikayetleri
            'testResults', // Mterinin test sonular
            'visits.event', // Mteri ziyaretleri VE bu ziyaretlerin bal olduu Event'ler
            'visits.travel' // Mteri ziyaretleri VE bal olduu Seyahatler
        ]);

        return view('customers.show', compact('customer'));
    }

    /**
     * Show the form for editing the specified resource.
     *
     * @param  \App\Models\Customer  $customer
     * @return \Illuminate\Contracts\View\View
     */
    public function edit(Customer $customer): View
    {
        return view('customers.edit', compact('customer'));
    }

    /**
     * Update the specified resource in storage.
     *
     * @param  \Illuminate\Http\Request  $request
     * @param  \App\Models\Customer  $customer
     * @return \Illuminate\Http\RedirectResponse
     */
    public function update(Request $request, Customer $customer): RedirectResponse
    {
        // 1. Validasyon (Dorulama)
        $validatedData = $request->validate([
            'name' => 'required|string|max:255',
            'contact_person' => 'nullable|string|max:255',
            'email' => [
                'nullable',
                'email',
                'max:255',
                // Bu mterinin kendi email'i hari, bakasnda bu email var m diye kontrol et
                Rule::unique('customers')->ignore($customer->id),
            ],
            'phone' => 'nullable|string|max:20',
            'address' => 'nullable|string',
        ]);
        $customer->update($validatedData);

        // 3. Ynlendirme
        return redirect()->route('customers.show', $customer)
            ->with('success', 'Mteri bilgileri baaryla gncellendi!');
    }

    /**
     * Remove the specified resource from storage.
     *
     * @param  \App\Models\Customer  $customer
     * @return \Illuminate\Http\RedirectResponse
     */
    public function destroy(Customer $customer): RedirectResponse
    {
        // Yetki kontrol (gerekirse) eklenebilir
        // $this->authorize('delete', $customer);

        try {
            $customer->delete(); // Bu artk soft delete yapacak

            return redirect()->route('customers.index')
                ->with('success', "'{$customer->name}' isimli mteri baaryla silindi (arivlendi).");
        } catch (\Exception $e) {

            // Eer mteriye bal (ve silinemeyen) kaytlar varsa
            // ve bir foreign key hatas alnrsa buras alr.
            return redirect()->route('customers.show', $customer)
                ->with('error', 'Mteri silinirken bir hata olutu: ' . $e->getMessage());
        }
    }
    public function getMachinesJson(Customer $customer)
    {
        // Mteriye ait sadece ID, model ve seri no'yu al
        $machines = $customer->machines()
            ->select('id', 'model', 'serial_number')
            ->get();

        // JSON olarak dndr
        return response()->json($machines);
    }
    public function storeActivity(Request $request, $customerId)
    {
        $request->validate([
            'type' => 'required|string',
            'description' => 'required|string',
            'activity_date' => 'required|date',
        ]);

        CustomerActivity::create([
            'customer_id' => $customerId,
            'user_id' => Auth::id(),
            'type' => $request->type,
            'description' => $request->description,
            'activity_date' => $request->activity_date,
        ]);

        return back()->with('success', 'Aktivite baaryla kaydedildi.');
    }
}


----------------------------------------
DOSYA YOLU: app\Http\Controllers\CustomerMachineController.php
----------------------------------------

<?php

namespace App\Http\Controllers;

use App\Models\Customer;
use App\Models\CustomerMachine;
use Illuminate\Http\Request;

class CustomerMachineController extends Controller
{
    /**
     * Display a listing of the resource.
     *
     * @return \Illuminate\Http\Response
     */
    public function index()
    {
        //
    }

    /**
     * Show the form for creating a new resource.
     *
     * @return \Illuminate\Http\Response
     */
    public function create()
    {
        //
    }

    /**
     * Store a newly created resource in storage.
     *
     * @param  \Illuminate\Http\Request  $request
     * @return \Illuminate\Http\Response
     */
    public function store(Request $request, Customer $customer) // $customer' ekledik
    {
        $validated = $request->validate([
            'model' => 'required|string|max:255',
            'serial_number' => 'nullable|string|max:255|unique:customer_machines,serial_number',
            'installation_date' => 'nullable|date',
        ]);

        // Mteriye bal makineyi olutur
        $customer->machines()->create($validated);

        return redirect()->route('customers.show', $customer)
            ->with('success', 'Yeni makine baaryla eklendi!');
    }

    /**
     * Display the specified resource.
     *
     * @param  \App\Models\CustomerMachine  $customerMachine
     * @return \Illuminate\Http\Response
     */
    public function show(CustomerMachine $customerMachine)
    {
        //
    }

    /**
     * Show the form for editing the specified resource.
     *
     * @param  \App\Models\CustomerMachine  $customerMachine
     * @return \Illuminate\Http\Response
     */
    public function edit(CustomerMachine $customerMachine)
    {
        //
    }

    /**
     * Update the specified resource in storage.
     *
     * @param  \Illuminate\Http\Request  $request
     * @param  \App\Models\CustomerMachine  $customerMachine
     * @return \Illuminate\Http\Response
     */
    public function update(Request $request, CustomerMachine $customerMachine)
    {
        //
    }

    /**
     * Remove the specified resource from storage.
     *
     * @param  \App\Models\CustomerMachine  $customerMachine
     * @return \Illuminate\Http\Response
     */
    public function destroy(CustomerMachine $customerMachine)
    {
        //
    }
}


----------------------------------------
DOSYA YOLU: app\Http\Controllers\CustomFieldDefinitionController.php
----------------------------------------

<?php

namespace App\Http\Controllers;

use App\Models\CustomFieldDefinition;
use Illuminate\Http\Request;
use Illuminate\Support\Str;
use App\Models\BusinessUnit;

class CustomFieldDefinitionController extends Controller
{
    // List of Models in the System (For Admin selection)
    private $models = [
        'App\Models\Shipment' => 'Lojistik / Sevkiyat',
        'App\Models\Event' => 'Takvim / Etkinlik',
        'App\Models\MaintenancePlan' => 'Bakm Plan',
        'App\Models\ProductionPlan' => 'retim Plan',
        // In future 'App\Models\User' => 'Personel Kart' etc. can be added
    ];

    public function index()
    {
        // Authorization Check (Middleware check is essential here if not present globally)
        if (!in_array(auth()->user()->role, ['admin', 'ynetici'])) {
            abort(403, 'Bu sayfaya eriim yetkiniz yok.');
        }

        // Get fields grouped by model
        $fields = CustomFieldDefinition::orderBy('model_scope')->orderBy('order')->get();

        return view('admin.custom_fields.index', compact('fields'));
    }

    public function create()
    {
        if (!in_array(auth()->user()->role, ['admin', 'ynetici'])) {
            abort(403);
        }

        $models = $this->models;
        // Fetch all business units to pass to the view
        $businessUnits = BusinessUnit::all();

        return view('admin.custom_fields.create', compact('models', 'businessUnits'));
    }

    public function store(Request $request)
    {
        $request->validate([
            'model_scope' => 'required',
            'label' => 'required|string|max:255',
            'type' => 'required|in:text,number,date,select,boolean,textarea,email',
            'options_text' => 'required_if:type,select|nullable|string', // Comma-separated options
            'business_unit_id' => 'nullable|exists:business_units,id', // Validate business unit
        ]);

        // Generate automatic key from Label (e.g., "Ara Plakas" -> "arac_plakasi")
        $key = Str::slug($request->label, '_');

        // Check if the key already exists in the same model scope
        $exists = CustomFieldDefinition::where('model_scope', $request->model_scope)
            ->where('key', $key)
            ->exists();

        if ($exists) {
            return back()->with('error', 'Bu isimde bir alan bu modlde zaten var.')->withInput();
        }

        // Process select options (Convert comma-separated string to array)
        $options = null;
        if ($request->type === 'select' && $request->options_text) {
            $options = array_map('trim', explode(',', $request->options_text));
        }

        CustomFieldDefinition::create([
            'model_scope' => $request->model_scope,
            'key' => $key,
            'label' => $request->label,
            'type' => $request->type,
            'options' => $options, // Sent as array, model casts to JSON
            'is_required' => $request->has('is_required'),
            'is_active' => true,
            'order' => $request->order ?? 0,
            'business_unit_id' => $request->business_unit_id, // Save business unit ID
        ]);

        return redirect()->route('admin.custom-fields.index')
            ->with('success', 'Yeni alan baaryla tanmland.');
    }

    public function edit($id)
    {
        $field = CustomFieldDefinition::findOrFail($id);
        $models = $this->models;
        $businessUnits = BusinessUnit::all(); // Fetch business units for edit view

        // Convert options array to comma-separated string (For display in Edit form)
        $optionsText = $field->options ? implode(', ', $field->options) : '';

        return view('admin.custom_fields.edit', compact('field', 'models', 'optionsText', 'businessUnits'));
    }

    public function update(Request $request, $id)
    {
        $field = CustomFieldDefinition::findOrFail($id);

        $request->validate([
            'label' => 'required|string|max:255',
            'options_text' => 'required_if:type,select|nullable|string',
            'business_unit_id' => 'nullable|exists:business_units,id', // Validate business unit on update
        ]);

        // Note: Key (database column name) should not be changed to avoid data loss.
        // We only update the label, options, and other settings.

        $options = null;
        if ($field->type === 'select' && $request->options_text) {
            $options = array_map('trim', explode(',', $request->options_text));
        }

        $field->update([
            'label' => $request->label,
            'is_required' => $request->has('is_required'),
            'is_active' => $request->has('is_active'),
            'order' => $request->order,
            'options' => $options,
            'business_unit_id' => $request->business_unit_id, // Update business unit ID
        ]);

        return redirect()->route('admin.custom-fields.index')
            ->with('success', 'Alan gncellendi.');
    }

    public function destroy($id)
    {
        // Instead of physical deletion, setting to passive is safer but
        // if admin wants to delete, let them delete.
        $field = CustomFieldDefinition::findOrFail($id);
        $field->delete();

        return redirect()->route('admin.custom-fields.index')
            ->with('success', 'Alan tanm silindi. (Eski kaytlardaki veriler JSON iinde durmaya devam eder ama formda grnmez.)');
    }
}

----------------------------------------
DOSYA YOLU: app\Http\Controllers\DepartmentController.php
----------------------------------------

<?php

namespace App\Http\Controllers;

use App\Models\Department;
use Illuminate\Http\Request;
use Illuminate\Validation\Rule;
use Illuminate\Support\Facades\Log;

class DepartmentController extends Controller
{
    /**
     * Sadece Admin'in eriebildiinden emin ol (Constructor ile).
     */
    public function __construct()
    {
        // Bu controller'daki tm metodlar iin 'access-admin-features' Gate'ini (veya kendi admin middleware'inizi) uygula
        $this->middleware('can:access-admin-features');
    }

    /**
     * Display a listing of the resource.
     */
    public function index()
    {
        // 'withCount' ile her departmanda ka kullanc olduunu da say
        $departments = Department::withCount('users')->orderBy('name')->get();
        return view('departments.index', compact('departments'));
    }

    /**
     * Show the form for creating a new resource.
     */
    public function create()
    {
        return view('departments.create');
    }

    /**
     * Store a newly created resource in storage.
     */
    public function store(Request $request)
    {
        $validatedData = $request->validate([
            'name' => 'required|string|max:255',
            'slug' => 'required|string|max:50|alpha_dash|unique:departments,slug',
        ]);

        Department::create($validatedData);

        return redirect()->route('departments.index')
            ->with('success', 'Yeni departman baaryla oluturuldu.');
    }

    /**
     * Display the specified resource.
     * (Bu metodu kullanmyoruz - 'except' ile rotalardan kardk)
     */
    public function show(Department $department)
    {
        return redirect()->route('departments.index');
    }

    /**
     * Show the form for editing the specified resource.
     */
    public function edit(Department $department)
    {
        return view('departments.edit', compact('department'));
    }

    /**
     * Update the specified resource in storage.
     */
    public function update(Request $request, Department $department)
    {
        $validatedData = $request->validate([
            'name' => 'required|string|max:255',
            'slug' => [
                'required',
                'string',
                'max:50',
                'alpha_dash',
                Rule::unique('departments')->ignore($department->id),
            ],
        ]);

        $department->update($validatedData);

        return redirect()->route('departments.index')
            ->with('success', 'Departman baaryla gncellendi.');
    }

    /**
     * Remove the specified resource from storage.
     */
    public function destroy(Department $department)
    {
        // Ana departmanlarn silinmesini engelle (Ekstra koruma)
        if (in_array($department->slug, ['lojistik', 'uretim', 'hizmet', 'bakim'])) {
            return redirect()->route('departments.index')
                ->with('error', 'Ana sistem departmanlar (lojistik, retim, hizmet, bakm) silinemez.');
        }

        try {
            $department->delete();
            return redirect()->route('departments.index')
                ->with('success', 'Departman baaryla silindi.');
        } catch (\Illuminate\Database\QueryException $e) {
            // Veritaban (SQL) hatas yakala
            Log::error("Departman silme hatas: " . $e->getMessage());

            if ($e->errorInfo[1] == 1451) {
                // Hata kodu 1451 (Foreign Key Constraint Violation) ise:
                return redirect()->route('departments.index')
                    ->with('error', 'Bu departman silinemedi. Ltfen nce bu departmana bal olan tm kullanclarn departmann deitirin.');
            }

            return redirect()->route('departments.index')
                ->with('error', 'Departman silinirken bir veritaban hatas olutu: ' . $e->getMessage());
        }
    }
}


----------------------------------------
DOSYA YOLU: app\Http\Controllers\EventController.php
----------------------------------------

<?php

namespace App\Http\Controllers;

use App\Models\Event;
use App\Models\Customer;
use App\Models\Travel;
use App\Models\CustomerVisit;
use Illuminate\Http\Request;
use Illuminate\Support\Facades\Auth;
use Illuminate\Validation\Rule;
use Carbon\Carbon;
use Illuminate\Support\Facades\DB;
use App\Services\CsvExporter;

class EventController extends Controller
{
    private $eventTypes = [
        'toplanti' => 'Toplant',
        'egitim' => 'Eitim',
        'fuar' => 'Fuar',
        'gezi' => 'Gezi',
        'musteri_ziyareti' => 'Mteri Ziyareti',
        'misafir_karsilama' => 'Misafir Karlama',
        'diger' => 'Dier',
    ];

    public function getEventTypes(): array
    {
        return $this->eventTypes;
    }

    /**
     * YARDIMCI METOD: Yetki Kontrol
     * authorize() yerine bunu kullanacaz nk gate tarafndaki hatay baypas ediyoruz.
     */
    private function checkAuth()
    {
        $user = Auth::user();
        // 1. Slug'daki boluklar temizle
        $slug = $user->department ? trim($user->department->slug) : '';

        // 2. Rolleri kontrol et (Hem 'yonetici' hem 'ynetici' ekledik ki hata olmasn)
        $isAuthorizedRole = in_array($user->role, ['admin', 'yonetici', 'ynetici']);

        // 3. Admin, Ynetici VEYA Hizmet departman girebilsin
        if (!$isAuthorizedRole && $slug !== 'hizmet') {
            abort(403, 'Bu sayfaya eriim yetkiniz bulunmamaktadr.');
        }
    }

    public function index(Request $request)
    {
        // GNCEL YETK KONTROL
        $this->checkAuth();

        $query = Event::with('user');
        $user = Auth::user();
        $isImportantFilter = $request->input('is_important', 'all');

        // Rol kontroln gncelledik: 'yonetici' ve 'ynetici' ikisi de eklendi
        if ($isImportantFilter !== 'all' && $user && in_array($user->role, ['admin', 'yonetici', 'ynetici'])) {
            if ($isImportantFilter === 'yes') {
                $query->where('is_important', true);
            } elseif ($isImportantFilter === 'no') {
                $query->where('is_important', false);
            }
        }

        // --- FLTRELEME MANTII ---
        if ($request->filled('title')) {
            $query->where('title', 'LIKE', '%' . $request->input('title') . '%');
        }

        if ($request->filled('event_type') && $request->input('event_type') !== 'all') {
            $query->where('event_type', $request->input('event_type'));
        }

        if ($request->filled('date_from')) {
            try {
                $dateFrom = Carbon::parse($request->input('date_from'))->startOfDay();
                $query->where(
                    fn($q) =>
                    $q->where('start_datetime', '>=', $dateFrom)
                        ->orWhere('end_datetime', '>=', $dateFrom)
                );
            } catch (\Exception $e) {
            }
        }

        if ($request->filled('date_to')) {
            try {
                $dateTo = Carbon::parse($request->input('date_to'))->endOfDay();
                $query->where(
                    fn($q) =>
                    $q->where('start_datetime', '<=', $dateTo)
                        ->orWhere('end_datetime', '<=', $dateTo)
                );
            } catch (\Exception $e) {
            }
        }
        // --- FLTRELEME SONU ---

        $events = $query->orderBy('start_datetime', 'desc')->paginate(15);
        $filters = $request->only(['title', 'event_type', 'date_from', 'date_to', 'is_important']);
        $eventTypes = $this->eventTypes;

        return view('service.events.index', compact('events', 'filters', 'eventTypes'));
    }

    public function create()
    {
        // GNCEL YETK KONTROL
        $this->checkAuth();

        $eventTypes = $this->eventTypes;
        $customers = Customer::orderBy('name')->get();
        $availableTravels = Travel::where('status', '!=', 'completed')
            ->where('user_id', Auth::id())
            ->orderBy('start_date', 'desc')
            ->get();

        return view('service.events.create', compact('eventTypes', 'customers', 'availableTravels'));
    }

    /**
     * Store Metodu (HBRT YAPI GNCELLEMES YAPILDI)
     */
    public function store(Request $request)
    {
        $this->checkAuth();

        // 1. Standart Kurallar
        $rules = [
            'title' => 'required|string|max:255',
            'description' => 'nullable|string',
            'start_datetime' => 'required|date',
            'end_datetime' => 'required|date|after_or_equal:start_datetime',
            'location' => 'nullable|string|max:255',
            'event_type' => ['required', Rule::in(array_keys($this->eventTypes))],
            'travel_id' => 'nullable|integer|exists:travels,id',
            'customer_id' => [
                'nullable',
                'integer',
                'exists:customers,id',
                Rule::requiredIf($request->event_type === 'musteri_ziyareti')
            ],
            'visit_purpose' => [
                'nullable',
                Rule::in(['satis_sonrasi_hizmet', 'egitim', 'rutin_ziyaret', 'pazarlama', 'diger']),
                Rule::requiredIf($request->event_type === 'musteri_ziyareti')
            ],
            'customer_machine_id' => 'nullable|integer|exists:customer_machines,id',
            'after_sales_notes' => 'nullable|string',
            'visit_status' => 'nullable|string|in:planlandi,gerceklesti,ertelendi,iptal',
            'cancellation_reason' => 'nullable|required_if:visit_status,iptal,ertelendi|string',
        ];

        // 2. [HBRT] Dinamik Kurallar Birletir
        $rules = array_merge($rules, Event::getDynamicValidationRules());

        // 3. Validasyon
        $validatedData = $request->validate($rules);

        try {
            DB::beginTransaction();

            // 4. Event Kayd (Extras alann manuel ekliyoruz)
            $event = Event::create([
                'user_id' => Auth::id(),
                'title' => $validatedData['title'],
                'description' => $validatedData['description'],
                'start_datetime' => $validatedData['start_datetime'],
                'end_datetime' => $validatedData['end_datetime'],
                'location' => $validatedData['location'],
                'event_type' => $validatedData['event_type'],
                'customer_id' => $validatedData['customer_id'] ?? null,
                'visit_status' => $validatedData['visit_status'] ?? 'planlandi',
                'cancellation_reason' => $validatedData['cancellation_reason'] ?? null,
                // [HBRT] Formdan gelen extras array'ini buraya ekliyoruz
                'extras' => $validatedData['extras'] ?? [],
            ]);

            if ($event->event_type === 'musteri_ziyareti') {
                CustomerVisit::create([
                    'event_id' => $event->id,
                    'customer_id' => $validatedData['customer_id'],
                    'travel_id' => $validatedData['travel_id'] ?? null,
                    'visit_purpose' => $validatedData['visit_purpose'],
                    'customer_machine_id' => $validatedData['customer_machine_id'] ?? null,
                    'after_sales_notes' => $validatedData['after_sales_notes'] ?? null,
                ]);
            }

            DB::commit();

            if ($event->event_type === 'fuar') {
                return redirect()->route('service.events.show', $event)
                    ->with('success', 'Fuar etkinlii oluturuldu. Rezervasyonlar ekleyebilirsiniz.');
            }

            return redirect()->route('service.events.index')
                ->with('success', 'Yeni etkinlik baaryla oluturuldu!');

        } catch (\Exception $e) {
            DB::rollBack();
            return redirect()->back()
                ->with('error', 'Hata: ' . $e->getMessage())
                ->withInput();
        }
    }

    public function show(Event $event)
    {
        // GNCEL YETK KONTROL
        $this->checkAuth();

        $event->load(['user', 'bookings.media', 'customerVisit.customer']);
        return view('service.events.show', compact('event'));
    }

    public function edit(Event $event)
    {
        // GNCEL YETK KONTROL
        $this->checkAuth();

        // Rol kontroln gncelledik (yonetici + ynetici)
        if (Auth::id() !== $event->user_id && !in_array(Auth::user()->role, ['admin', 'yonetici', 'ynetici'])) {
            return redirect()->route('home')
                ->with('error', 'Bu etkinlii sadece oluturan kii dzenleyebilir.');
        }

        $eventTypes = $this->eventTypes;
        $customers = Customer::orderBy('name')->get();
        $availableTravels = Travel::where('status', '!=', 'completed')
            ->where('user_id', Auth::id())
            ->get();
        $visitDetail = CustomerVisit::where('event_id', $event->id)->first();

        return view('service.events.edit', compact('event', 'eventTypes'));
    }

    /**
     * Update Metodu (HBRT YAPI GNCELLEMES YAPILDI)
     */
    public function update(Request $request, Event $event)
    {
        $this->checkAuth();

        if (Auth::id() !== $event->user_id && !in_array(Auth::user()->role, ['admin', 'yonetici', 'ynetici'])) {
            return redirect()->route('home')
                ->with('error', 'Bu etkinlii sadece oluturan kii dzenleyebilir.');
        }

        // 1. Standart Kurallar
        $rules = [
            'title' => 'required|string|max:255',
            'description' => 'nullable|string',
            'start_datetime' => 'required|date',
            'end_datetime' => 'required|date|after_or_equal:start_datetime',
            'location' => 'nullable|string|max:255',
            'event_type' => ['required', Rule::in(array_keys($this->eventTypes))],
            'visit_status' => 'nullable|string|in:planlandi,gerceklesti,ertelendi,iptal',
            'cancellation_reason' => 'nullable|required_if:visit_status,iptal,ertelendi|string',
            'customer_id' => 'nullable|exists:customers,id',
        ];

        // 2. [HBRT] Dinamik Kurallar Birletir
        $rules = array_merge($rules, Event::getDynamicValidationRules());

        // 3. Validasyon
        $validatedData = $request->validate($rules);

        // 4. Gncelleme
        $event->update([
            'title' => $validatedData['title'],
            'description' => $validatedData['description'],
            'start_datetime' => $validatedData['start_datetime'],
            'end_datetime' => $validatedData['end_datetime'],
            'location' => $validatedData['location'],
            'event_type' => $validatedData['event_type'],
            'visit_status' => $validatedData['visit_status'] ?? $event->visit_status,
            'cancellation_reason' => $validatedData['cancellation_reason'] ?? null,
            'customer_id' => $validatedData['customer_id'] ?? $event->customer_id,
            // [HBRT] Extras alann gncelle
            // Eer formdan extras gelmediyse (bosa) mevcut olan koruyabiliriz veya null yapabiliriz.
            // Validasyon kurallarna gre hareket ettii iin null gelebilir.
            'extras' => $validatedData['extras'] ?? $event->extras,
        ]);

        return redirect()->route('service.events.index')
            ->with('success', 'Etkinlik baaryla gncellendi.');
    }

    public function destroy(Event $event)
    {
        // GNCEL YETK KONTROL
        $this->checkAuth();

        // Rol kontroln gncelledik (yonetici + ynetici)
        if (Auth::id() !== $event->user_id && !in_array(Auth::user()->role, ['admin', 'yonetici', 'ynetici'])) {
            return redirect()->route('home')
                ->with('error', 'Bu etkinlii sadece oluturan kii silebilir.');
        }

        $event->delete();

        return redirect()->route('service.events.index')
            ->with('success', 'Etkinlik baaryla silindi.');
    }
    /**
     * Etkinlik Listesini CSV olarak da aktar
     */
    public function export()
    {
        $fileName = 'etkinlik-listesi-' . date('d-m-Y') . '.csv';

        // 1. SORGULAMA
        // Modelindeki iliki isimleri: 'user', 'customer', 'machine'
        $query = Event::with(['user', 'customer', 'machine'])->latest();

        // 2. BALIKLAR
        $headers = [
            'ID',
            'Balk',
            'Konum',
            'Mteri',
            'lgili Makine',
            'Etkinlik Tr',
            'Ziyaret Amac',  // Modelde var, ekleyelim
            'Balang',
            'Biti',
            'Durum',
            'nem',
            'Oluturan',
            'Oluturulma Tarihi'
        ];

        // 3. EXPORT LEM
        return CsvExporter::streamDownload(
            query: $query,
            headers: $headers,
            fileName: $fileName,
            rowMapper: function ($event) {

                // -- MTER BLGS --
                $musteri = $event->customer ? $event->customer->name : '-';

                // -- MAKNE BLGS --
                // Modeldeki iliki ad: machine()
                $makine = '-';
                if ($event->machine) {
                    // Makine modelinin name, code veya serial_number alan olabilir.
                    // Garantilemek iin srayla bakyoruz.
                    $makine = $event->machine->name
                        ?? $event->machine->code
                        ?? ('Makine #' . $event->customer_machine_id);
                }

                // -- DURUM TRKELETRME --
                $durum = match ($event->visit_status) {
                    'gerceklesti' => 'Gerekleti',
                    'planlandi' => 'Planland',
                    'iptal' => 'ptal Edildi',
                    'ertelendi' => 'Ertelendi',
                    default => ucfirst($event->visit_status ?? '-'),
                };

                // -- TR TRKELETRME --
                $tur = match ($event->event_type) {
                    'fuar' => 'Fuar',
                    'toplanti' => 'Toplant',
                    'ziyaret' => 'Ziyaret',
                    default => ucfirst($event->event_type ?? '-'),
                };

                // -- SATIR VERS --
                return [
                    $event->id,
                    $event->title,
                    $event->location ?? '-',
                    $musteri,
                    $makine,
                    $tur,
                    $event->visit_purpose ?? '-',
                    $event->start_datetime ? $event->start_datetime->format('d.m.Y H:i') : '-',
                    $event->end_datetime ? $event->end_datetime->format('d.m.Y H:i') : '-',
                    $durum,
                    $event->is_important ? 'nemli' : 'Normal',
                    $event->user ? $event->user->name : 'Bilinmiyor',
                    $event->created_at ? $event->created_at->format('d.m.Y H:i') : '-'
                ];
            }
        );
    }
}

----------------------------------------
DOSYA YOLU: app\Http\Controllers\ExpenseController.php
----------------------------------------

<?php

namespace App\Http\Controllers;

use App\Models\Expense;
use App\Models\Travel;
use Illuminate\Http\Request;
use Illuminate\Support\Facades\Auth;

class ExpenseController extends Controller
{
    /**
     * Masraf Ekleme lemi
     */
    public function store(Request $request)
    {
        $validated = $request->validate([
            'travel_id' => 'required|exists:travels,id', // Hangi seyahate ekleniyor?
            'category' => 'required|string',
            'amount' => 'required|numeric|min:0',
            'currency' => 'required|in:TRY,USD,EUR,GBP',
            'receipt_date' => 'nullable|date',
            'description' => 'nullable|string|max:255',
        ]);

        $travel = Travel::findOrFail($validated['travel_id']);

        // Polymorphic Kayt
        $travel->expenses()->create([
            'category' => $validated['category'],
            'amount' => $validated['amount'],
            'currency' => $validated['currency'],
            'receipt_date' => $validated['receipt_date'],
            'description' => $validated['description'],
            'created_by' => Auth::id()
        ]);

        return redirect()->back()->with('success', 'Masraf kalemi baaryla eklendi.');
    }

    /**
     * Masraf Silme lemi
     */
    public function destroy(Expense $expense)
    {
        // Yetki kontrol eklenebilir (Sadece ekleyen veya admin silebilir)
        $expense->delete();
        return redirect()->back()->with('success', 'Masraf kayd silindi.');
    }
}

----------------------------------------
DOSYA YOLU: app\Http\Controllers\FileController.php
----------------------------------------

<?php

namespace App\Http\Controllers;

use App\Models\File;
use Illuminate\Http\Request;
use Illuminate\Support\Facades\Storage;
use Illuminate\Support\Facades\Auth;

class FileController extends Controller
{
    public function store(Request $request)
    {
        $request->validate([
            'file' => 'required|file|max:10240', // Max 10MB
            'model_type' => 'required|string',
            'model_id' => 'required|integer',
        ]);

        // Model snfn tam yoluna evir (Gvenlik iin whitelist yaplabilir)
        // rn: 'vehicle_assignment' gelirse 'App\Models\VehicleAssignment' yap
        $modelClass = $request->input('model_type');

        if (!class_exists($modelClass)) {
            return back()->with('error', 'Geersiz model tr.');
        }

        $model = $modelClass::find($request->input('model_id'));
        if (!$model) {
            return back()->with('error', 'Kayt bulunamad.');
        }

        // Dosyay Ykle
        if ($request->hasFile('file')) {
            $file = $request->file('file');
            $originalName = $file->getClientOriginalName();

            // Klasr yaps: uploads/modeller/id (rn: uploads/vehicle_assignments/50)
            $folder = 'uploads/' . class_basename($model) . '/' . $model->id;
            $path = $file->store($folder, 'public');

            // Veritabanna Kaydet
            $model->files()->create([
                'path' => $path,
                'original_name' => $originalName,
                'mime_type' => $file->getClientMimeType(),
                'uploaded_by' => Auth::id(),
            ]);

            return back()->with('success', 'Dosya baaryla yklendi.');
        }

        return back()->with('error', 'Dosya seilmedi.');
    }

    public function destroy(File $file)
    {
        // Yetki kontrol (Sadece ykleyen veya admin silebilir)
        if (Auth::id() !== $file->uploaded_by && Auth::user()->role !== 'admin') {
            abort(403);
        }

        // Dosyay diskten sil
        if (Storage::disk('public')->exists($file->path)) {
            Storage::disk('public')->delete($file->path);
        }

        // Veritabanndan sil
        $file->delete();

        return back()->with('success', 'Dosya silindi.');
    }

    public function download(File $file)
    {
        // ndirme ilemi
        return Storage::disk('public')->download($file->path, $file->original_name);
    }
}

----------------------------------------
DOSYA YOLU: app\Http\Controllers\GeneralCalendarController.php
----------------------------------------

<?php

namespace App\Http\Controllers;

use Illuminate\Http\Request;
use Illuminate\Support\Facades\Auth;
use Illuminate\Support\Facades\Log;
use Illuminate\Support\Str;
use Carbon\Carbon;
use Carbon\CarbonPeriod;
// Modeller
use App\Models\Shipment;
use App\Models\ProductionPlan;
use App\Models\Event;
use App\Models\VehicleAssignment;
use App\Models\Travel;
use App\Models\MaintenancePlan;
use App\Models\Todo;

class GeneralCalendarController extends Controller
{
    public function getEvents(Request $request)
    {
        $user = Auth::user();

        if (!$user) {
            return response()->json([]);
        }

        // FullCalendar'dan gelen tarih aral
        // Eer start/end gelmezse varsaylan olarak bu ay al
        $start = $request->has('start') ? Carbon::parse($request->input('start'))->startOfDay() : Carbon::now()->startOfMonth();
        $end = $request->has('end') ? Carbon::parse($request->input('end'))->endOfDay() : Carbon::now()->endOfMonth();

        // Filtreler
        $showLojistik = $request->boolean('lojistik', true);
        $showUretim = $request->boolean('uretim', true);
        $showHizmet = $request->boolean('hizmet', true);
        $showBakim = $request->boolean('bakim', true);
        $importantOnly = $request->boolean('important_only', false);

        $events = [];

        // 1. Lojistik Verileri
        if ($showLojistik && $user->can('view_logistics')) {
            $data = $this->getLojistikData($user, $start, $end, $importantOnly);
            $events = array_merge($events, $data);
        }

        // 2. retim Verileri
        if ($showUretim && $user->can('view_production')) {
            $data = $this->getUretimData($user, $start, $end, $importantOnly);
            $events = array_merge($events, $data);
        }

        // 3. Bakm Verileri
        if ($showBakim && $user->can('view_maintenance')) {
            $data = $this->getBakimData($user, $start, $end, $importantOnly);
            $events = array_merge($events, $data);
        }

        // 4. dari ler / Hizmet Verileri (Etkinlik, Ara, Seyahat)
        if ($showHizmet && $user->can('view_administrative')) {
            $data = $this->getHizmetData($user, $start, $end, $importantOnly);
            $events = array_merge($events, $data);
        }

        // 5. Todo'lar (Eer Hizmet filtresi aksa veya kullanc istiyorsa gsterelim)
        // Todo kiisel olduu iin her zaman gsterilebilir veya hizmet'e balanabilir.
        if ($showHizmet) {
            $data = $this->getTodoData($user, $start, $end, $importantOnly);
            $events = array_merge($events, $data);
        }

        // akan ID'leri temizle (Frontend hatasn nlemek iin)
        // $uniqueEvents = collect($events)->unique(function ($item) {
        //     return $item['extendedProps']['model_type'] . '-' . $item['id'];
        // })->values()->all();

        return response()->json($events);
    }

    public function showCalendar()
    {
        return view('general-calendar');
    }

    // --- YARDIMCI METODLAR (VER TOPLAYICILAR) ---

    private function getLojistikData($user, $start, $end, $importantOnly)
    {
        $events = [];
        $now = Carbon::now();

        // DZELTME: forUser kaldrld. Trait (Global Scope) otomatik filtreliyor.
        $shipments = Shipment::with(['onaylayanKullanici', 'user'])
            ->whereNotNull('tahmini_varis_tarihi')
            ->where(function ($q) use ($start, $end) {
                $q->whereBetween('tahmini_varis_tarihi', [$start, $end])
                    ->orWhereBetween('cikis_tarihi', [$start, $end]);
            })
            ->when($importantOnly, fn($q) => $q->where('is_important', true))
            ->get();

        foreach ($shipments as $shipment) {
            $cikisTarihi = $shipment->cikis_tarihi ? Carbon::parse($shipment->cikis_tarihi) : null;
            $varisTarihi = $shipment->tahmini_varis_tarihi ? Carbon::parse($shipment->tahmini_varis_tarihi) : null;

            $color = '#0d6efd';
            if ($shipment->onaylanma_tarihi)
                $color = '#198754';
            elseif ($varisTarihi) {
                if ($now->greaterThan($varisTarihi))
                    $color = '#dc3545';
                elseif ($varisTarihi->isBetween($now, $now->copy()->addDays(3)))
                    $color = '#ffc107';
            }

            $onayUrl = ($user->hasRole('admin') || $user->hasRole('roles.lojistik_personeli')) ? route('shipments.onayla', $shipment->id) : null;

            $detaylar = [
                'Yk Tipi' => $shipment->shipment_type ?? 'Genel',
                'Ara Tipi' => $shipment->arac_tipi ?? 'Belirtilmedi',
                'Kargo erii' => $shipment->kargo_icerigi,
                'Miktar' => ($shipment->kargo_miktari ?? '-') . ' ' . ($shipment->kargo_tipi ?? ''),
            ];

            // Detaylar doldurma mant...
            $aracTipiLower = mb_strtolower($shipment->arac_tipi ?? '');
            if (str_contains($aracTipiLower, 'gemi') || str_contains(mb_strtolower($shipment->shipment_type ?? ''), 'deniz')) {
                $detaylar['Gemi Ad'] = $shipment->gemi_adi ?? '-';
                $detaylar['IMO Numaras'] = $shipment->imo_numarasi ?? '-';
                $detaylar['Kalk Liman'] = $shipment->kalkis_limani ?? '-';
                $detaylar['Var Liman'] = $shipment->varis_limani ?? '-';
            } else {
                $detaylar['Plaka'] = $shipment->plaka ?? '-';
                if (!empty($shipment->dorce_plakasi))
                    $detaylar['Dorse Plaka'] = $shipment->dorce_plakasi;
                $detaylar['Src'] = $shipment->sofor_adi ?? '-';
                $detaylar['Kalk Noktas'] = $shipment->kalkis_noktasi ?? '-';
                $detaylar['Var Noktas'] = $shipment->varis_noktasi ?? '-';
                if (!empty($shipment->nakliye_firmasi))
                    $detaylar['Nakliye Firmas'] = $shipment->nakliye_firmasi;
            }

            $detaylar['k Tarihi'] = $cikisTarihi ? $cikisTarihi->format('d.m.Y H:i') : '-';
            $detaylar['Tahmini Var'] = $varisTarihi ? $varisTarihi->format('d.m.Y H:i') : '-';
            $detaylar['Onay Durumu'] = $shipment->onaylanma_tarihi ? $shipment->onaylanma_tarihi : null;
            $detaylar['Onaylayan'] = $shipment->onaylayanKullanici->name ?? null;
            $detaylar['Aklama'] = $shipment->aciklamalar ?? null;

            $extendedProps = [
                'eventType' => 'shipment',
                'model_type' => 'shipment',
                'id' => $shipment->id,
                'is_important' => $shipment->is_important,
                'title' => ' ' . $shipment->kargo_icerigi,
                'onayUrl' => $onayUrl,
                'details' => $detaylar
            ];

            if ($cikisTarihi && $cikisTarihi->between($start, $end))
                $events[] = ['title' => 'IKI: ' . $shipment->kargo_icerigi, 'start' => $cikisTarihi->toIso8601String(), 'color' => $color, 'extendedProps' => $extendedProps];

            if ($varisTarihi && $varisTarihi->between($start, $end))
                $events[] = ['title' => 'VARI: ' . $shipment->kargo_icerigi, 'start' => $varisTarihi->toIso8601String(), 'color' => $color, 'extendedProps' => $extendedProps];
        }
        return $events;
    }

    private function getUretimData($user, $start, $end, $importantOnly)
    {
        $events = [];
        // DZELTME: forUser kaldrld
        $plans = ProductionPlan::with('user')
            ->whereBetween('week_start_date', [$start, $end])
            ->when($importantOnly, fn($q) => $q->where('is_important', true))
            ->get();

        foreach ($plans as $plan) {
            $events[] = [
                'title' => ' ' . $plan->plan_title,
                'start' => $plan->week_start_date->startOfDay()->toIso8601String(),
                'end' => $plan->week_start_date->copy()->addDay()->startOfDay()->toIso8601String(),
                'color' => '#4FD1C5',
                'extendedProps' => [
                    'eventType' => 'production',
                    'model_type' => 'production_plan',
                    'is_important' => $plan->is_important,
                    'id' => $plan->id,
                    'title' => $plan->plan_title,
                    'details' => [
                        'Plan Ad' => $plan->plan_title,
                        'Balang Tarihi' => $plan->week_start_date->format('d.m.Y'),
                        'Oluturulma' => $plan->created_at->format('d.m.Y H:i'),
                        'Oluturan' => $plan->user ? $plan->user->name : '-',
                        'Plan Detaylar' => $plan->plan_details
                    ]
                ]
            ];
        }
        return $events;
    }

    private function getBakimData($user, $start, $end, $importantOnly)
    {
        $events = [];
        // DZELTME: forUser kaldrld
        $plans = MaintenancePlan::with(['asset', 'type', 'user'])
            ->where(function ($q) use ($start, $end) {
                $q->whereBetween('planned_start_date', [$start, $end])
                    ->orWhereBetween('planned_end_date', [$start, $end]);
            })
            ->when($importantOnly, fn($q) => $q->whereIn('priority', ['high', 'critical']))
            ->get();

        foreach ($plans as $plan) {
            $color = match ($plan->status) {
                'pending' => '#F6E05E', 'in_progress' => '#3182CE', 'completed' => '#48BB78', 'cancelled' => '#E53E3E', default => '#A0AEC0',
            };

            $baslik = ' ' . ($plan->asset->name ?? 'Varlk Silinmi');
            if (!empty($plan->title))
                $baslik .= ' - ' . $plan->title;

            $detaylar = [
                'Balk' => $plan->title ?? '-',
                'Varlk' => $plan->asset->name ?? 'Bilinmiyor',
                'Bakm Tr' => $plan->type->name ?? 'Genel',
                'Sorumlu' => $plan->user->name ?? '-',
                'ncelik' => ucfirst($plan->priority ?? 'Normal'),
                'Durum' => ucfirst($plan->status ?? 'Pending'),
                'Planlanan Balang' => $plan->planned_start_date ? $plan->planned_start_date->format('d.m.Y H:i') : '-',
                'Planlanan Biti' => $plan->planned_end_date ? $plan->planned_end_date->format('d.m.Y H:i') : '-',
            ];

            if ($plan->actual_start_date)
                $detaylar['Gerekleen Balang'] = Carbon::parse($plan->actual_start_date)->format('d.m.Y H:i');
            if ($plan->actual_end_date)
                $detaylar['Gerekleen Biti'] = Carbon::parse($plan->actual_end_date)->format('d.m.Y H:i');
            if (!empty($plan->completion_note))
                $detaylar['Sonu Notu'] = $plan->completion_note;
            $detaylar['Aklama'] = $plan->description ?? null;

            $events[] = [
                'title' => $baslik,
                'start' => $plan->planned_start_date->format('Y-m-d\TH:i:s'),
                'end' => $plan->planned_end_date->format('Y-m-d\TH:i:s'),
                'color' => $color,
                'extendedProps' => [
                    'eventType' => 'maintenance',
                    'model_type' => 'maintenance_plan',
                    'is_important' => ($plan->priority == 'critical' || $plan->priority == 'high'),
                    'id' => $plan->id,
                    'details' => $detaylar
                ]
            ];
        }
        return $events;
    }

    private function getHizmetData($user, $start, $end, $importantOnly)
    {
        $events = [];

        // 1. Etkinlikler
        try {
            // DZELTME: forUser kaldrld
            $serviceEvents = Event::with(['user', 'customer'])
                ->whereBetween('start_datetime', [$start, $end])
                ->when($importantOnly, fn($q) => $q->where('is_important', true))
                ->get();

            foreach ($serviceEvents as $event) {
                $detaylar = [
                    'Etkinlik Bal' => $event->title,
                    'Tr' => $event->event_type ?? 'Genel',
                    'Konum' => $event->location ?? '-',
                    'Balang' => $event->start_datetime->format('d.m.Y H:i'),
                    'Biti' => $event->end_datetime->format('d.m.Y H:i'),
                ];

                if ($event->customer_id)
                    $detaylar['Mteri'] = $event->customer->name ?? ('Mteri #' . $event->customer_id);
                if (!empty($event->visit_purpose))
                    $detaylar['Ziyaret Amac'] = $event->visit_purpose;

                $status = $event->visit_status ?? 'planlandi';
                $detaylar['Durum'] = ucfirst($status);

                if ((strtolower($status) === 'iptal' || strtolower($status) === 'cancelled') && !empty($event->cancellation_reason)) {
                    $detaylar['ptal Nedeni'] = $event->cancellation_reason;
                }
                if (!empty($event->after_sales_notes))
                    $detaylar['Sat Sonras Notlar'] = Str::limit($event->after_sales_notes, 50);
                $detaylar['Aklama'] = $event->description ?? null;

                $events[] = [
                    'title' => ' ' . $event->title,
                    'start' => $event->start_datetime->format('Y-m-d\TH:i:s'),
                    'end' => $event->end_datetime->format('Y-m-d\TH:i:s'),
                    'color' => '#F093FB',
                    'extendedProps' => [
                        'eventType' => 'service_event',
                        'model_type' => 'event',
                        'is_important' => $event->is_important,
                        'id' => $event->id,
                        'details' => $detaylar
                    ]
                ];
            }
        } catch (\Exception $e) {
            Log::error('Takvim Etkinlik Hatas', ['error' => $e->getMessage()]);
        }

        // 2. Ara Atamalar
        try {
            // DZELTME: forUser kaldrld
            $assignments = VehicleAssignment::with(['vehicle', 'createdBy', 'driver'])
                ->whereBetween('start_time', [$start, $end])
                ->when($importantOnly, fn($q) => $q->where('is_important', true))
                ->get();

            foreach ($assignments as $assignment) {
                $aracBilgisi = $assignment->vehicle ? ($assignment->vehicle->plate_number . ' - ' . $assignment->vehicle->brand) : 'Ara Bilgisi Yok';

                $events[] = [
                    'title' => ' ' . ($assignment->vehicle?->plate_number ?? '?'),
                    'start' => $assignment->start_time->format('Y-m-d\TH:i:s'),
                    'end' => $assignment->end_time->format('Y-m-d\TH:i:s'),
                    'color' => '#FBD38D',
                    'extendedProps' => [
                        'eventType' => 'vehicle_assignment',
                        'model_type' => 'vehicle_assignment',
                        'is_important' => $assignment->is_important,
                        'id' => $assignment->id,
                        'details' => [
                            'Ara' => $aracBilgisi,
                            'Grev Tanm' => $assignment->task_description,
                            'Talep Eden' => $assignment->createdBy?->name ?? '-',
                            'Src' => $assignment->driver?->name ?? '-',
                            'Balang' => $assignment->start_time->format('d.m.Y H:i'),
                            'Biti' => $assignment->end_time->format('d.m.Y H:i'),
                            'Durum' => ucfirst($assignment->status)
                        ]
                    ]
                ];
            }
        } catch (\Exception $e) {
            Log::error('Takvim Ara Hatas', ['error' => $e->getMessage()]);
        }

        // 3. Seyahatler
        try {
            // DZELTME: forUser kaldrld
            $travels = Travel::whereDate('start_date', '<=', $end)
                ->whereDate('end_date', '>=', $start)
                ->when($importantOnly, fn($q) => $q->where('is_important', true))
                ->get();

            foreach ($travels as $travel) {
                $events[] = [
                    'title' => ' ' . $travel->name,
                    'start' => $travel->start_date->format('Y-m-d'),
                    'end' => $travel->end_date->addDay()->format('Y-m-d'), // FullCalendar iin +1 gn
                    'allDay' => true,
                    'color' => '#A78BFA',
                    'extendedProps' => [
                        'eventType' => 'travel',
                        'model_type' => 'travel',
                        'is_important' => $travel->is_important,
                        'id' => $travel->id,
                        'details' => [
                            'Seyahat Ad' => $travel->name,
                            'Balang' => $travel->start_date->format('d.m.Y'),
                            'Biti' => $travel->end_date->format('d.m.Y'),
                            'Durum' => $travel->status ?? 'Planland',
                            'Aklama' => $travel->description ?? null
                        ]
                    ]
                ];
            }
        } catch (\Exception $e) {
            Log::error('Takvim Seyahat Hatas', ['error' => $e->getMessage()]);
        }

        return $events;
    }

    private function getTodoData($user, $start, $end, $importantOnly)
    {
        // DZELTME: Todo'da Trait yoksa standart where, varsa Trait zaten alr.
        // Ama garanti olsun diye where('user_id') ekliyoruz.
        $todos = Todo::where('user_id', $user->id)
            ->whereNotNull('due_date')
            ->whereBetween('due_date', [$start, $end])
            ->where('is_completed', false)
            ->when($importantOnly, fn($q) => $q->where('priority', 'high'))
            ->get();

        $events = [];
        foreach ($todos as $todo) {
            $color = match ($todo->priority) {
                'high' => '#dc3545',
                'medium' => '#fd7e14',
                'low' => '#20c997',
                default => '#6c757d'
            };

            $oncelikText = match ($todo->priority) {
                'high' => 'Yksek', 'medium' => 'Orta', 'low' => 'Dk', default => 'Normal'
            };

            $events[] = [
                'title' => ' ' . $todo->title,
                'start' => $todo->due_date->toIso8601String(),
                'color' => $color,
                'allDay' => true,
                'extendedProps' => [
                    'eventType' => 'todo',
                    'model_type' => 'todo',
                    'id' => $todo->id,
                    'is_important' => ($todo->priority === 'high'),
                    'details' => [
                        'Grev' => $todo->title,
                        'Durum' => $todo->is_completed ? 'Tamamland' : 'Bekliyor',
                        'ncelik' => $oncelikText,
                        'Son Tarih' => $todo->due_date->format('d.m.Y'),
                        'Aklama' => $todo->description ?? 'Aklama yok'
                    ]
                ]
            ];
        }
        return $events;
    }

    public function toggleImportant(Request $request)
    {
        $user = Auth::user();
        if (!$user || !$user->hasRole(['admin', 'yonetici', 'mudur'])) {
            return response()->json(['success' => false, 'message' => 'Bu ilem iin yetkiniz yok.'], 403);
        }
        $validated = $request->validate([
            'model_type' => 'required|string',
            'model_id' => 'required|integer',
            'is_important' => 'required|boolean',
        ]);
        $modelId = $validated['model_id'];
        $isImportant = $request->boolean('is_important');

        try {
            $modelClass = match ($validated['model_type']) {
                'shipment' => Shipment::class,
                'production_plan' => ProductionPlan::class,
                'event' => Event::class,
                'vehicle_assignment' => VehicleAssignment::class,
                'travel' => Travel::class,
                'maintenance_plan' => MaintenancePlan::class,
                default => null,
            };

            if (!$modelClass)
                return response()->json(['success' => false, 'message' => 'Geersiz veri tr.'], 400);

            // DZELTME: forUser kaldrld. Trait varsa otomatik, yoksa standart find.
            $record = $modelClass::find($modelId);

            if (!$record)
                return response()->json(['success' => false, 'message' => 'Kayt bulunamad veya yetkiniz yok.'], 404);

            if ($validated['model_type'] === 'maintenance_plan') {
                $record->priority = $isImportant ? 'critical' : 'normal';
            } else {
                $record->is_important = $isImportant;
            }
            $record->save();

            return response()->json(['success' => true, 'message' => 'Durum gncellendi.', 'new_state' => $isImportant]);
        } catch (\Exception $e) {
            Log::error('ToggleImportant Hatas: ' . $e->getMessage());
            return response()->json(['success' => false, 'message' => 'Sunucu hatas olutu.'], 500);
        }
    }
}

----------------------------------------
DOSYA YOLU: app\Http\Controllers\HomeController.php
----------------------------------------

<?php

namespace App\Http\Controllers;

use Illuminate\Http\Request;
use App\Models\Shipment;
use App\Models\User;
use Illuminate\Support\Facades\DB;
use Illuminate\Support\Facades\Auth;
use Carbon\Carbon;
use Carbon\CarbonPeriod;
use Illuminate\Support\Facades\Log;
use Illuminate\Support\Str;
use App\Models\ProductionPlan;
use App\Models\Event;
use App\Models\VehicleAssignment;
use App\Models\Travel;
use Illuminate\Support\Facades\Gate;
use App\Models\Department;
use App\Models\MaintenancePlan;
use Illuminate\Support\Collection;
use App\Services\KanbanService;
use App\Services\StatisticsService;

class HomeController extends Controller
{
    protected $statsService;
    protected $kanbanService;

    public function __construct(StatisticsService $statsService, KanbanService $kanbanService)
    {
        $this->middleware('auth');
        $this->statsService = $statsService;
        $this->kanbanService = $kanbanService;
    }

    /**
     * ANA TAKVM SAYFASI (Kiisel)
     */
    public function index(Request $request)
    {
        $user = Auth::user();

        // Grnm iin departman bilgisi
        $departmentSlug = $user->department ? strtolower(trim($user->department->slug)) : 'genel';
        $departmentName = $user->department?->name ?? 'Genel';

        $kanbanBoards = collect();
        if ($user->business_unit_id) {
            $kanbanBoards = $this->kanbanService->getDashboardSummary($user->business_unit_id);
        }

        $allEvents = [];
        $statsTitle = "Takvimim";

        // 1. Lojistik Verileri
        if ($user->can('view_logistics')) {
            $data = $this->getLojistikIndexData($user);
            $allEvents = array_merge($allEvents, $data['events']);
        }

        // 2. retim Verileri
        if ($user->can('view_production')) {
            $data = $this->getUretimIndexData($user);
            $allEvents = array_merge($allEvents, $data['events']);
        }

        // 3. Bakm Verileri
        if ($user->can('view_maintenance')) {
            $data = $this->getBakimIndexData($user);
            $allEvents = array_merge($allEvents, $data['events']);
        }

        // 4. dari ler / Hizmet Verileri
        if ($user->can('view_administrative')) {
            $data = $this->getHizmetIndexData($user);
            $allEvents = array_merge($allEvents, $data['events']);
        }

        // Todo modelinde Trait yoksa standart sorgu:
        $todos = \App\Models\Todo::where('user_id', $user->id)
            ->whereNotNull('due_date')
            ->where('is_completed', false)
            ->get();

        foreach ($todos as $todo) {
            // Renk Atamas
            $color = match ($todo->priority) {
                'high' => '#dc3545',   // Krmz
                'medium' => '#fd7e14', // Turuncu
                'low' => '#20c997',    // Yeil
                default => '#6c757d'   // Gri
            };

            // ncelik Yazs (Trkeletirme)
            $oncelikText = match ($todo->priority) {
                'high' => 'Yksek',
                'medium' => 'Orta',
                'low' => 'Dk',
                default => 'Normal'
            };

            // Durum Yazs
            $durumText = $todo->is_completed ? 'Tamamland' : 'Bekliyor';

            $allEvents[] = [
                'title' => ' ' . $todo->title,
                'start' => $todo->due_date->toIso8601String(),
                'color' => $color,
                'allDay' => true,
                'extendedProps' => [
                    'eventType' => 'todo',
                    'model_type' => 'todo',
                    'id' => $todo->id,
                    'is_important' => ($todo->priority === 'high'),
                    'details' => [
                        'Grev' => $todo->title,
                        'Durum' => $durumText,
                        'ncelik' => $oncelikText,
                        'Son Tarih' => $todo->due_date->format('d.m.Y'),
                        'Oluturulma' => $todo->created_at ? $todo->created_at->format('d.m.Y H:i') : '-',
                        'Aklama' => $todo->description ?? null
                    ]
                ]
            ];
        }

        // Kullanc Listesi
        $users = collect();
        if ($user->hasRole(['admin', 'yonetici', 'mudur'])) {
            $users = User::with('department')->orderBy('name')->get();
        }
        $allEvents = collect($allEvents)->unique(function ($item) {
            return $item['extendedProps']['model_type'] . '-' . $item['extendedProps']['id'];
        })->values()->all();

        return view('home', [
            'users' => $users,
            'departmentName' => $departmentName,
            'departmentSlug' => $departmentSlug,
            'events' => $allEvents,
            'chartData' => [],
            'statsTitle' => $statsTitle,
            'kanbanBoards' => $kanbanBoards,
        ]);
    }

    /**
     * KARILAMA / DASHBOARD SAYFASI
     */
    public function welcome(Request $request)
    {

        $user = Auth::user();
        $kanbanBoards = collect();

        // Constructor'da servisi zaten tanmlamtk, direkt kullanabiliriz.
        if ($user && $user->business_unit_id) {
            $kanbanBoards = $this->kanbanService->getDashboardSummary($user->business_unit_id);
        }

        // nemli eler (Sa Sidebar)
        $allItems = $this->getMappedImportantItems($request);
        $importantItems = $allItems->take(4);
        $importantItemsCount = $allItems->count();

        // Dashboard Tipini Belirle
        $departmentSlug = $user->department ? trim($user->department->slug) : null;

        if ($user->hasRole(['admin', 'yonetici']) && !$departmentSlug) {
            $departmentSlug = 'admin';
        }

        if ($user->email === 'tv@koksan.com') {
            $departmentSlug = 'admin';
        }

        // Tarihler
        $today = Carbon::today();
        $weekStart = Carbon::now()->startOfWeek();
        $weekEnd = Carbon::now()->endOfWeek();
        $monthStart = Carbon::now()->startOfMonth();
        $monthEnd = Carbon::now()->endOfMonth();

        // Varsaylan Deerler
        $welcomeTitle = "Ho Geldiniz";
        $chartTitle = "Genel Bak";
        $chartData = [];
        $kpiData = [];
        $todayItems = collect();
        $weeklyItems = collect();
        $monthlyItems = collect();

        // --- DASHBOARD VERLERN DOLDUR ---

        if ($departmentSlug === 'uretim') {
            list($welcomeTitle, $chartTitle, $dummyToday, $chartData) = $this->getProductionWelcomeData($user);
            // DZELTME: forUser kaldrld, query() kullanld
            $query = ProductionPlan::query();
            $todayItems = (clone $query)->whereDate('week_start_date', $today)->get();
            $weeklyItems = (clone $query)->whereBetween('week_start_date', [$weekStart, $weekEnd])->get();
            $monthlyItems = (clone $query)->whereBetween('week_start_date', [$monthStart, $monthEnd])->get();

        } elseif ($departmentSlug === 'hizmet') {
            list($welcomeTitle, $chartTitle, $dummyToday, $chartData) = $this->getServiceWelcomeData($user);

            // DZELTME: forUser kaldrld
            $eventQ = Event::query();
            $tEvents = (clone $eventQ)->whereDate('start_datetime', $today)->get();
            $wEvents = (clone $eventQ)->whereBetween('start_datetime', [$weekStart, $weekEnd])->get();
            $mEvents = (clone $eventQ)->whereBetween('start_datetime', [$monthStart, $monthEnd])->get();

            // Ara Grevleri (DZELTME: forUser kaldrld)
            $vehicleQ = VehicleAssignment::whereIn('status', ['pending', 'in_progress', 'approved']);
            $tVehicle = (clone $vehicleQ)->whereDate('start_time', $today)->get();
            $wVehicle = (clone $vehicleQ)->whereBetween('start_time', [$weekStart, $weekEnd])->get();
            $mVehicle = (clone $vehicleQ)->whereBetween('start_time', [$monthStart, $monthEnd])->get();

            $todayItems = $tEvents->merge($tVehicle)->sortBy('start_datetime');
            $weeklyItems = $wEvents->merge($wVehicle)->sortBy('start_datetime');
            $monthlyItems = $mEvents->merge($mVehicle)->sortBy('start_datetime');

            // Hizmet KPI (DZELTME: forUser kaldrld)
            $kpiData = [
                'etkinlik_sayisi' => Event::whereDate('start_datetime', '>=', $today)
                    ->where('visit_status', '!=', 'iptal')->count(),
                'musteri_ziyareti' => Event::has('customerVisit')->count(),
                'rezervasyon_sayisi' => DB::table('bookings')->count(),
                'toplam_arac' => \App\Models\Vehicle::count(),
            ];

        } elseif ($departmentSlug === 'ulastirma') {
            $welcomeTitle = "Ulatrma Ynetimi";
            $chartTitle = "Ara Grev Durumlar";

            // DZELTME: Scope otomatik alt iin direkt where ile balyoruz
            $query = VehicleAssignment::whereIn('status', ['pending', 'approved', 'in_progress']);
            $todayItems = (clone $query)->whereDate('start_time', $today)->orderBy('start_time')->get();
            $weeklyItems = (clone $query)->whereBetween('start_time', [$weekStart, $weekEnd])->orderBy('start_time')->get();
            $monthlyItems = (clone $query)->whereBetween('start_time', [$monthStart, $monthEnd])->orderBy('start_time')->get();

            $kpiData = [
                'aktif_gorev' => VehicleAssignment::where('status', 'in_progress')->count(),
                'bekleyen_talep' => VehicleAssignment::where('status', 'pending')->count(),
                'toplam_arac' => \App\Models\Vehicle::count(),
                'bugunku_gorev' => $todayItems->count()
            ];

        } elseif ($departmentSlug === 'lojistik') {
            list($welcomeTitle, $chartTitle, $dummyToday, $chartData) = $this->getLogisticsWelcomeData($user);
            // DZELTME: forUser kaldrld
            $query = Shipment::query();
            $todayItems = (clone $query)->whereDate('tahmini_varis_tarihi', $today)->get();
            $weeklyItems = (clone $query)->whereBetween('tahmini_varis_tarihi', [$weekStart, $weekEnd])->get();
            $monthlyItems = (clone $query)->whereBetween('tahmini_varis_tarihi', [$monthStart, $monthEnd])->get();

        } elseif ($departmentSlug === 'bakim') {
            list($welcomeTitle, $chartTitle, $dummyToday, $chartData) = $this->getMaintenanceWelcomeData($user);
            // DZELTME: forUser kaldrld
            $query = MaintenancePlan::with('asset');
            $todayItems = (clone $query)->whereDate('planned_start_date', $today)->get();
            $weeklyItems = (clone $query)->whereBetween('planned_start_date', [$weekStart, $weekEnd])->get();
            $monthlyItems = (clone $query)->whereBetween('planned_start_date', [$monthStart, $monthEnd])->get();

        } else {
            // ADMIN / GENEL DASHBOARD
            $adminData = $this->getAdminDashboardData($user, $today, $weekStart, $weekEnd, $monthStart, $monthEnd);
            $welcomeTitle = $adminData['welcomeTitle'];
            $chartTitle = $adminData['chartTitle'];
            $todayItems = $adminData['todayItems'];
            $weeklyItems = $adminData['weeklyItems'];
            $monthlyItems = $adminData['monthlyItems'];
            $kpiData = $adminData['kpiData'];
            $chartData = $adminData['chartData'];
        }

        $chartType = 'sankey';

        return view('welcome', compact(
            'importantItems',
            'importantItemsCount',
            'welcomeTitle',
            'todayItems',
            'weeklyItems',
            'monthlyItems',
            'chartType',
            'chartData',
            'chartTitle',
            'departmentSlug',
            'kpiData',
            'kanbanBoards'
        ));
    }

    /**
     * Takvim zerinde "nemli" iaretleme ilemi
     */
    public function toggleImportant(Request $request)
    {
        $user = Auth::user();

        if (!$user || !$user->hasRole(['admin', 'yonetici', 'mudur'])) {
            return response()->json(['success' => false, 'message' => 'Bu ilem iin yetkiniz yok.'], 403);
        }

        $validated = $request->validate([
            'model_type' => 'required|string',
            'model_id' => 'required|integer',
            'is_important' => 'required|boolean',
        ]);

        $modelId = $validated['model_id'];
        $isImportant = $request->boolean('is_important');

        try {
            $modelClass = match ($validated['model_type']) {
                'shipment' => \App\Models\Shipment::class,
                'production_plan' => \App\Models\ProductionPlan::class,
                'event' => \App\Models\Event::class,
                'vehicle_assignment' => \App\Models\VehicleAssignment::class,
                'travel' => \App\Models\Travel::class,
                'maintenance_plan' => \App\Models\MaintenancePlan::class,
                default => null,
            };

            if (!$modelClass) {
                return response()->json(['success' => false, 'message' => 'Geersiz veri tr.'], 400);
            }

            // DZELTME: forUser kaldrld. Trait (GlobalScope) sayesinde find() metodu
            // sadece aktif fabrikann verisini bulabilir. Dier fabrikalara eriemez.
            $record = $modelClass::find($modelId);

            if (!$record) {
                return response()->json(['success' => false, 'message' => 'Kayt bulunamad veya yetkiniz yok.'], 404);
            }

            if ($validated['model_type'] === 'maintenance_plan') {
                $record->priority = $isImportant ? 'critical' : 'normal';
            } else {
                $record->is_important = $isImportant;
            }

            $record->save();

            return response()->json([
                'success' => true,
                'message' => 'Durum gncellendi.',
                'new_state' => $isImportant
            ]);

        } catch (\Exception $e) {
            Log::error('ToggleImportant Hatas: ' . $e->getMessage());
            return response()->json(['success' => false, 'message' => 'Sunucu hatas olutu.'], 500);
        }
    }

    public function showAllImportant(Request $request)
    {
        $filters = $request->only(['type', 'department_id', 'date_from', 'date_to']);
        $departments = Department::orderBy('name')->get();
        $allItems = $this->getMappedImportantItems($request);
        return view('important-items', [
            'importantItems' => $allItems,
            'filters' => $filters,
            'departments' => $departments
        ]);
    }

    // --- TAKVM ve DASHBOARD N YARDIMCI FONKSYONLAR ---

    private function getLojistikIndexData($user)
    {
        $events = [];
        $now = Carbon::now();
        // DZELTME: forUser kaldrld, with() kullanld
        $shipments = Shipment::with('onaylayanKullanici')->get()->unique('id');

        foreach ($shipments as $shipment) {
            $cikisTarihi = $shipment->cikis_tarihi ? Carbon::parse($shipment->cikis_tarihi) : null;
            $varisTarihi = $shipment->tahmini_varis_tarihi ? Carbon::parse($shipment->tahmini_varis_tarihi) : null;

            $color = '#0d6efd';
            if ($shipment->onaylanma_tarihi)
                $color = '#198754';
            elseif ($varisTarihi) {
                if ($now->greaterThan($varisTarihi))
                    $color = '#dc3545';
                elseif ($varisTarihi->isBetween($now, $now->copy()->addDays(3)))
                    $color = '#ffc107';
            }

            $onayUrl = ($user->hasRole('admin') || $user->hasRole('roles.lojistik_personeli'))
                ? route('shipments.onayla', $shipment->id)
                : null;

            $detaylar = [
                'Yk Tipi' => $shipment->shipment_type ?? 'Genel',
                'Ara Tipi' => $shipment->arac_tipi ?? 'Belirtilmedi',
                'Kargo erii' => $shipment->kargo_icerigi,
                'Miktar' => ($shipment->kargo_miktari ?? '-') . ' ' . ($shipment->kargo_tipi ?? ''),
            ];

            $aracTipiLower = mb_strtolower($shipment->arac_tipi ?? '');
            $shipmentTypeLower = mb_strtolower($shipment->shipment_type ?? '');

            if (str_contains($aracTipiLower, 'gemi') || str_contains($shipmentTypeLower, 'deniz') || str_contains($aracTipiLower, 'ship')) {
                $detaylar['Gemi Ad'] = $shipment->gemi_adi ?? '-';
                $detaylar['IMO Numaras'] = $shipment->imo_numarasi ?? '-';
                $detaylar['Kalk Liman'] = $shipment->kalkis_limani ?? '-';
                $detaylar['Var Liman'] = $shipment->varis_limani ?? '-';
            } else {
                $detaylar['Plaka'] = $shipment->plaka ?? '-';
                if (!empty($shipment->dorce_plakasi)) {
                    $detaylar['Dorse Plaka'] = $shipment->dorce_plakasi;
                }
                $detaylar['Src'] = $shipment->sofor_adi ?? '-';
                $detaylar['Kalk Noktas'] = $shipment->kalkis_noktasi ?? '-';
                $detaylar['Var Noktas'] = $shipment->varis_noktasi ?? '-';
                if (!empty($shipment->nakliye_firmasi)) {
                    $detaylar['Nakliye Firmas'] = $shipment->nakliye_firmasi;
                }
            }

            $detaylar['k Tarihi'] = $cikisTarihi ? $cikisTarihi->format('d.m.Y H:i') : '-';
            $detaylar['Tahmini Var'] = $varisTarihi ? $varisTarihi->format('d.m.Y H:i') : '-';
            $detaylar['Onay Durumu'] = $shipment->onaylanma_tarihi ? $shipment->onaylanma_tarihi : null;
            $detaylar['Onaylayan'] = $shipment->onaylayanKullanici->name ?? null;
            $detaylar['Aklama'] = $shipment->aciklamalar ?? null;

            $extendedProps = ['eventType' => 'shipment', 'model_type' => 'shipment', 'id' => $shipment->id, 'is_important' => $shipment->is_important, 'title' => ' ' . $shipment->kargo_icerigi, 'onayUrl' => $onayUrl, 'details' => $detaylar];

            if ($cikisTarihi)
                $events[] = ['title' => 'IKI: ' . $shipment->kargo_icerigi, 'start' => $cikisTarihi->toIso8601String(), 'color' => $color, 'extendedProps' => $extendedProps];
            if ($varisTarihi)
                $events[] = ['title' => 'VARI: ' . $shipment->kargo_icerigi, 'start' => $varisTarihi->toIso8601String(), 'color' => $color, 'extendedProps' => $extendedProps];
        }
        return ['events' => $events, 'chartData' => [], 'statsTitle' => "Sevkiyat Takvimi"];
    }

    private function getUretimIndexData($user)
    {
        $events = [];
        // DZELTME: forUser kaldrld
        $plans = ProductionPlan::with('user')->get()->unique('id');

        foreach ($plans as $plan) {
            $events[] = [
                'title' => 'retim: ' . $plan->plan_title,
                'start' => $plan->week_start_date->startOfDay()->toIso8601String(),
                'end' => $plan->week_start_date->copy()->addDay()->startOfDay()->toIso8601String(),
                'color' => '#4FD1C5',
                'extendedProps' => [
                    'eventType' => 'production',
                    'model_type' => 'production_plan',
                    'is_important' => $plan->is_important,
                    'id' => $plan->id,
                    'title' => $plan->plan_title,
                    'details' => ['Plan Detaylar' => $plan->plan_details]
                ]
            ];
        }
        return ['events' => $events, 'chartData' => [], 'statsTitle' => "retim Takvimi"];
    }

    private function getHizmetIndexData($user)
    {
        $events = [];
        // DZELTME: forUser kaldrld
        $serviceEvents = Event::with('user')->get()->unique('id');

        foreach ($serviceEvents as $event) {
            $detaylar = [
                'Etkinlik Bal' => $event->title,
                'Tr' => $event->event_type ?? 'Genel',
                'Konum' => $event->location ?? '-',
                'Balang' => $event->start_datetime->format('d.m.Y H:i'),
                'Biti' => $event->end_datetime->format('d.m.Y H:i'),
            ];

            if ($event->customer_id) {
                $detaylar['Mteri'] = $event->customer->name ?? ('Mteri #' . $event->customer_id);
            }
            if (!empty($event->visit_purpose)) {
                $detaylar['Ziyaret Amac'] = $event->visit_purpose;
            }
            $status = $event->visit_status ?? 'planlandi';
            $detaylar['Durum'] = ucfirst($status);

            if (strtolower($status) === 'iptal' || strtolower($status) === 'cancelled') {
                if (!empty($event->cancellation_reason)) {
                    $detaylar['ptal Nedeni'] = $event->cancellation_reason;
                }
            }
            if (!empty($event->after_sales_notes)) {
                $detaylar['Sat Sonras Notlar'] = Str::limit($event->after_sales_notes, 50);
            }
            $detaylar['Aklama'] = $event->description ?? null;

            $events[] = [
                'title' => 'Etkinlik: ' . $event->title,
                'start' => $event->start_datetime->format('Y-m-d\TH:i:s'),
                'end' => $event->end_datetime->format('Y-m-d\TH:i:s'),
                'color' => '#F093FB',
                'extendedProps' => [
                    'eventType' => 'service_event',
                    'model_type' => 'event',
                    'is_important' => $event->is_important,
                    'id' => $event->id,
                    'details' => $detaylar
                ]
            ];
        }

        // DZELTME: forUser kaldrld
        $assignments = VehicleAssignment::with(['vehicle', 'createdBy'])->get();

        foreach ($assignments as $assignment) {
            $aracBilgisi = $assignment->vehicle
                ? ($assignment->vehicle->plate_number . ' - ' . $assignment->vehicle->brand . ' ' . $assignment->vehicle->model)
                : 'Ara Bilgisi Yok';

            $gorevDetaylar = [
                'Ara' => $aracBilgisi,
                'Grev Tanm' => $assignment->task_description,
                'Talep Eden' => $assignment->createdBy?->name ?? '-',
                'Src' => $assignment->driver?->name ?? '-',
                'Balang' => $assignment->start_time->format('d.m.Y H:i'),
                'Biti' => $assignment->end_time->format('d.m.Y H:i'),
                'Durum' => ucfirst($assignment->status)
            ];
            if (!empty($assignment->start_km)) {
                $gorevDetaylar['Balang KM'] = $assignment->start_km;
            }

            $events[] = [
                'title' => 'Ara: ' . ($assignment->vehicle?->plate_number ?? '?') . ' - ' . Str::limit($assignment->task_description, 20),
                'start' => $assignment->start_time->format('Y-m-d\TH:i:s'),
                'end' => $assignment->end_time->format('Y-m-d\TH:i:s'),
                'color' => '#FBD38D',
                'extendedProps' => [
                    'eventType' => 'vehicle_assignment',
                    'model_type' => 'vehicle_assignment',
                    'is_important' => $assignment->is_important,
                    'id' => $assignment->id,
                    'details' => $gorevDetaylar
                ]
            ];
        }

        return ['events' => $events, 'chartData' => [], 'statsTitle' => "dari ler Takvimi"];
    }

    private function getBakimIndexData($user)
    {
        $events = [];
        // DZELTME: forUser kaldrld
        $plans = MaintenancePlan::with(['asset', 'type'])->get()->unique('id');

        foreach ($plans as $plan) {
            $color = match ($plan->status) {
                'pending' => '#F6E05E', 'in_progress' => '#3182CE', 'completed' => '#48BB78', 'cancelled' => '#E53E3E', default => '#A0AEC0',
            };
            $baslik = 'Bakm: ' . ($plan->asset->name ?? 'Varlk Silinmi');
            if (!empty($plan->title)) {
                $baslik .= ' - ' . $plan->title;
            }

            $detaylar = [
                'Balk' => $plan->title ?? '-',
                'Varlk' => $plan->asset->name ?? 'Bilinmiyor',
                'Bakm Tr' => $plan->type->name ?? 'Genel',
                'Sorumlu' => $plan->user->name ?? '-',
                'ncelik' => ucfirst($plan->priority ?? 'Normal'),
                'Durum' => ucfirst($plan->status ?? 'Pending'),
                'Planlanan Balang' => $plan->planned_start_date ? $plan->planned_start_date->format('d.m.Y H:i') : '-',
                'Planlanan Biti' => $plan->planned_end_date ? $plan->planned_end_date->format('d.m.Y H:i') : '-',
            ];

            if ($plan->actual_start_date) {
                $detaylar['Gerekleen Balang'] = Carbon::parse($plan->actual_start_date)->format('d.m.Y H:i');
            }
            if ($plan->actual_end_date) {
                $detaylar['Gerekleen Biti'] = Carbon::parse($plan->actual_end_date)->format('d.m.Y H:i');
            }
            if (!empty($plan->completion_note)) {
                $detaylar['Sonu Notu'] = $plan->completion_note;
            }
            $detaylar['Aklama'] = $plan->description ?? null;

            $events[] = [
                'title' => $baslik,
                'start' => $plan->planned_start_date->format('Y-m-d\TH:i:s'),
                'end' => $plan->planned_end_date->format('Y-m-d\TH:i:s'),
                'color' => $color,
                'extendedProps' => [
                    'eventType' => 'maintenance',
                    'model_type' => 'maintenance_plan',
                    'is_important' => ($plan->priority == 'critical' || $plan->priority == 'high'),
                    'id' => $plan->id,
                    'details' => $detaylar
                ]
            ];
        }
        return ['events' => $events, 'chartData' => [], 'statsTitle' => "Bakm Takvimi"];
    }

    private function getMappedImportantItems(Request $request)
    {
        $user = Auth::user();
        $typeFilter = $request->input('type', 'all');
        $dateFrom = $request->input('date_from');
        $dateTo = $request->input('date_to');
        $deptFilter = $request->input('department_id', null);

        $allMappedItems = collect();

        // 1. SEVKYAT (DZELTME: forUser kaldrld)
        if ($typeFilter == 'all' || $typeFilter == 'shipment') {
            $query = Shipment::where('is_important', true);
            if ($dateFrom)
                $query->where('tahmini_varis_tarihi', '>=', Carbon::parse($dateFrom)->startOfDay());
            if ($dateTo)
                $query->where('tahmini_varis_tarihi', '<=', Carbon::parse($dateTo)->endOfDay());
            if ($deptFilter)
                $query->whereHas('user', fn($q) => $q->where('department_id', $deptFilter));

            $allMappedItems = $allMappedItems->merge($query->get()->map(fn($item) => (object) [
                'title' => 'Sevkiyat: ' . ($item->kargo_icerigi ?? 'Detay Yok'),
                'date' => $item->tahmini_varis_tarihi,
                'model_id' => $item->id,
                'model_type' => 'shipment'
            ]));
        }

        // 2. RETM PLANI (DZELTME: forUser kaldrld)
        if ($typeFilter == 'all' || $typeFilter == 'production_plan') {
            $query = ProductionPlan::where('is_important', true);
            if ($dateFrom)
                $query->where('week_start_date', '>=', Carbon::parse($dateFrom)->startOfDay());
            if ($dateTo)
                $query->where('week_start_date', '<=', Carbon::parse($dateTo)->endOfDay());
            if ($deptFilter)
                $query->whereHas('user', fn($q) => $q->where('department_id', $deptFilter));

            $allMappedItems = $allMappedItems->merge($query->get()->map(fn($item) => (object) [
                'title' => 'retim: ' . $item->plan_title,
                'date' => $item->week_start_date,
                'model_id' => $item->id,
                'model_type' => 'production_plan'
            ]));
        }

        // 3. BAKIM PLANI (DZELTME: forUser kaldrld)
        if ($typeFilter == 'all' || $typeFilter == 'maintenance_plan') {
            $query = MaintenancePlan::whereIn('priority', ['high', 'critical']);
            if ($dateFrom)
                $query->where('planned_start_date', '>=', Carbon::parse($dateFrom)->startOfDay());
            if ($dateTo)
                $query->where('planned_start_date', '<=', Carbon::parse($dateTo)->endOfDay());

            $allMappedItems = $allMappedItems->merge($query->get()->map(fn($item) => (object) [
                'title' => 'Bakm: ' . ($item->asset->name ?? 'Bilinmiyor') . ' (' . $item->title . ')',
                'date' => $item->planned_start_date,
                'model_id' => $item->id,
                'model_type' => 'maintenance_plan'
            ]));
        }

        // 4. ETKNLK (DZELTME: forUser kaldrld)
        if ($typeFilter == 'all' || $typeFilter == 'event') {
            $query = Event::where('is_important', true);
            if ($dateFrom)
                $query->where('start_datetime', '>=', Carbon::parse($dateFrom)->startOfDay());
            if ($dateTo)
                $query->where('start_datetime', '<=', Carbon::parse($dateTo)->endOfDay());

            $allMappedItems = $allMappedItems->merge($query->get()->map(fn($item) => (object) [
                'title' => 'Etkinlik: ' . $item->title,
                'date' => $item->start_datetime,
                'model_id' => $item->id,
                'model_type' => 'event'
            ]));
        }

        // 5. ARA GREV (DZELTME: forUser kaldrld)
        if ($typeFilter == 'all' || $typeFilter == 'vehicle_assignment') {
            $query = VehicleAssignment::where('is_important', true);
            if ($dateFrom)
                $query->where('start_time', '>=', Carbon::parse($dateFrom)->startOfDay());
            if ($dateTo)
                $query->where('start_time', '<=', Carbon::parse($dateTo)->endOfDay());

            $allMappedItems = $allMappedItems->merge($query->get()->map(fn($item) => (object) [
                'title' => 'Ara Grevi: ' . Str::limit($item->task_description, 30),
                'date' => $item->start_time,
                'model_id' => $item->id,
                'model_type' => 'vehicle_assignment'
            ]));
        }

        // 6. SEYAHAT (DZELTME: forUser kaldrld)
        if ($typeFilter == 'all' || $typeFilter == 'travel') {
            $query = Travel::where('is_important', true);
            if ($dateFrom)
                $query->where('start_date', '>=', Carbon::parse($dateFrom)->startOfDay());
            if ($dateTo)
                $query->where('start_date', '<=', Carbon::parse($dateTo)->endOfDay());

            $allMappedItems = $allMappedItems->merge($query->get()->map(fn($item) => (object) [
                'title' => ' Seyahat: ' . Str::limit($item->name, 30),
                'date' => $item->start_date,
                'model_id' => $item->id,
                'model_type' => 'travel'
            ]));
        }

        // 7. GECKEN GREVLER (DZELTME: forUser kaldrld)
        $overdueQuery = VehicleAssignment::where('start_time', '<', Carbon::today())
            ->whereIn('status', ['pending', 'in_progress']);

        $overdueItems = $overdueQuery->get()->map(fn($item) => (object) [
            'title' => ' GECKEN GREV: ' . Str::limit($item->task_description, 40),
            'date' => $item->start_time,
            'model_id' => $item->id,
            'model_type' => 'vehicle_assignment',
            'is_overdue' => true
        ]);

        $allMappedItems = $allMappedItems->merge($overdueItems);

        return $allMappedItems->sortByDesc('date');
    }

    // --- WELCOME SANKEY GRAFKLER N SERVS ARILARI (DZELTLD) ---

    private function getLogisticsWelcomeData($user)
    {
        $welcomeTitle = "Yaklaan Sevkiyatlar (Genel Bak)";
        $chartTitle = "Kargo erii -> Ara Tipi Ak ";
        $chartData = [];

        // DZELTME: forUser kaldrld
        $todayItems = Shipment::whereBetween('tahmini_varis_tarihi', [Carbon::today()->startOfDay(), Carbon::today()->addDays(3)->endOfDay()])
            ->orderBy('tahmini_varis_tarihi', 'asc')->get();

        // DZELTME: forUser kaldrld
        $sankeyFlow = Shipment::select(['kargo_icerigi', 'arac_tipi', DB::raw('COUNT(*) as weight')])
            ->whereNotNull('kargo_icerigi')
            ->whereNotNull('arac_tipi')
            ->groupBy('kargo_icerigi', 'arac_tipi')
            ->having('weight', '>', 0)
            ->get();

        foreach ($sankeyFlow as $flow) {
            $normalizedKargo = $this->normalizeCargoContent($flow->kargo_icerigi);
            $normalizedArac = $this->normalizeVehicleType($flow->arac_tipi);
            $chartData[] = [strval($normalizedKargo), strval($normalizedArac), (int) $flow->weight];
        }
        if (empty($chartData))
            $chartData[] = ['Veri Yok', 'Henz Sevkiyat Girilmedi', 1];
        return [$welcomeTitle, $chartTitle, $todayItems, $chartData];
    }

    private function getProductionWelcomeData($user)
    {
        $welcomeTitle = "Bugn Balayan retim Planlar";
        $chartTitle = "Makine -> rn Planlama Ak (Toplam Adet)";
        $chartData = [];

        // DZELTME: forUser kaldrld
        $todayItems = ProductionPlan::whereBetween('week_start_date', [Carbon::now()->startOfWeek(), Carbon::now()->endOfWeek()])
            ->orderBy('week_start_date', 'asc')->get();

        // DZELTME: forUser kaldrld
        $plans = ProductionPlan::whereNotNull('plan_details')->get();

        $flowCounts = [];
        foreach ($plans as $plan) {
            if (is_array($plan->plan_details)) {
                foreach ($plan->plan_details as $detail) {
                    $machine = trim(strval($detail['machine'] ?? 'Bilinmiyor'));
                    $productRaw = $detail['product'] ?? 'Bilinmiyor';
                    $product = is_numeric($productRaw) ? 'rn-' . $productRaw : trim(strval($productRaw));
                    $quantity = (int) ($detail['quantity'] ?? 0);
                    if ($machine !== 'Bilinmiyor' && $product !== 'Bilinmiyor' && $quantity > 0) {
                        if (!isset($flowCounts[$machine]))
                            $flowCounts[$machine] = [];
                        if (!isset($flowCounts[$machine][$product]))
                            $flowCounts[$machine][$product] = 0;
                        $flowCounts[$machine][$product] += $quantity;
                    }
                }
            }
        }
        foreach ($flowCounts as $machine => $products) {
            foreach ($products as $product => $weight) {
                $chartData[] = [strval($machine), strval($product), (int) $weight];
            }
        }
        if (empty($chartData))
            $chartData[] = ['Veri Yok', 'Henz Plan Girilmedi', 1];

        return [$welcomeTitle, $chartTitle, $todayItems, $chartData];
    }

    private function getServiceWelcomeData($user)
    {
        $welcomeTitle = "Hizmet ve Operasyon Ynetimi";
        $chartTitle = "Etkinlik Durumu & Seyahat Dalm";

        // DZELTME: forUser kaldrld
        $todayEvents = Event::whereDate('start_datetime', Carbon::today())->orderBy('start_datetime', 'asc')->get();
        $todayAssignments = VehicleAssignment::whereDate('start_time', Carbon::today())->with('vehicle')->orderBy('start_time', 'asc')->get();
        $todayTravels = Travel::whereDate('start_date', Carbon::today())->orderBy('start_date', 'asc')->get();

        $todayItems = $todayEvents->merge($todayAssignments)->merge($todayTravels)->sortBy(fn($item) => $item->start_datetime ?? $item->start_time ?? $item->start_date);

        // Chart Verisi (DZELTME: forUser kaldrld)
        $chartData = [];
        $eventStats = Event::selectRaw('event_type, visit_status, count(*) as total')
            ->groupBy('event_type', 'visit_status')
            ->get();

        foreach ($eventStats as $stat) {
            $source = $stat->event_type ? ucfirst($stat->event_type) : 'Dier Etkinlikler';
            $target = match ($stat->visit_status) {
                'planlandi' => 'Planland', 'gerceklesti' => 'Gerekleti', 'iptal' => 'ptal', 'ertelendi' => 'Ertelendi', default => 'Durum Belirsiz'
            };
            if ($source === $target)
                $target .= ' ';
            $chartData[] = [strval($source), strval($target), (int) $stat->total];
        }

        $bookingStats = DB::table('bookings')
            ->select('type', DB::raw('count(*) as total'))
            ->groupBy('type')
            ->get();

        foreach ($bookingStats as $stat) {
            $source = 'Seyahat Planlamas';
            $target = match ($stat->type) {
                'flight' => 'Uak Bileti', 'hotel' => 'Otel Konaklama', 'bus' => 'Otobs/Transfer', 'car' => 'Ara Kiralama', default => 'Dier Rezervasyon'
            };
            $chartData[] = [$source, $target, (int) $stat->total];
        }

        if (empty($chartData))
            $chartData[] = ['Veri Yok', 'Kayt Bulunamad', 1];

        return [$welcomeTitle, $chartTitle, $todayItems, $chartData];
    }

    private function getMaintenanceWelcomeData($user)
    {
        $welcomeTitle = "Bugnk Bakm Planlar";
        $chartTitle = "Bakm Tr -> Varlk Ak";
        $chartData = [];

        // DZELTME: forUser kaldrld
        $todayItems = MaintenancePlan::with(['asset', 'type'])
            ->whereBetween('planned_start_date', [Carbon::today()->startOfDay(), Carbon::today()->addDays(2)->endOfDay()])
            ->orderBy('planned_start_date', 'asc')->get();

        // DZELTME: forUser kaldrld
        $plans = MaintenancePlan::with(['type', 'asset'])->get();

        $flowCounts = [];
        foreach ($plans as $plan) {
            $source = $plan->type->name ?? 'Dier';
            $target = $plan->asset->name ?? 'Bilinmiyor';
            if (!isset($flowCounts[$source]))
                $flowCounts[$source] = [];
            if (!isset($flowCounts[$source][$target]))
                $flowCounts[$source][$target] = 0;
            $flowCounts[$source][$target]++;
        }
        foreach ($flowCounts as $source => $targets) {
            foreach ($targets as $target => $weight) {
                $chartData[] = [strval($source), strval($target), (int) $weight];
            }
        }
        if (empty($chartData))
            $chartData[] = ['Veri Yok', 'Henz Plan Girilmedi', 1];

        return [$welcomeTitle, $chartTitle, $todayItems, $chartData];
    }

    private function getAdminDashboardData($user, $today, $weekStart, $weekEnd, $monthStart, $monthEnd)
    {
        // Admin Dashboard Verileri - DZELTME: forUser kaldrld
        $kpiData = [
            'sevkiyat_sayisi' => Shipment::whereDate('tahmini_varis_tarihi', $today)->count(),
            'plan_sayisi' => ProductionPlan::whereDate('week_start_date', $today)->count(),
            'etkinlik_sayisi' => Event::whereDate('start_datetime', $today)->count(),
            'arac_gorevi_sayisi' => VehicleAssignment::whereDate('start_time', $today)->count(),
            'bakim_sayisi' => MaintenancePlan::whereDate('planned_start_date', $today)->count(),
            'kullanici_sayisi' => User::count()
        ];

        // Chart Data - DZELTME: forUser kaldrld
        $chartData = [];
        $allLojistik = Shipment::count();
        $allUretim = ProductionPlan::count();
        $allEtkinlik = Event::count();
        $allBakim = MaintenancePlan::count();

        if ($allLojistik > 0)
            $chartData[] = ['Lojistik', 'Sevkiyatlar', $allLojistik];
        if ($allUretim > 0)
            $chartData[] = ['retim', 'Planlar', $allUretim];
        if ($allEtkinlik > 0)
            $chartData[] = ['dari ler', 'Etkinlikler', $allEtkinlik];
        if ($allBakim > 0)
            $chartData[] = ['Bakm', 'Bakm Planlar', $allBakim];

        if (empty($chartData))
            $chartData[] = ['Sistem', 'Henz Kayt Yok', 1];

        return [
            'welcomeTitle' => session('active_unit_name', 'Genel') . " zeti",
            'chartTitle' => "Departman Dalm",
            'todayItems' => collect(),
            'weeklyItems' => collect(),
            'monthlyItems' => collect(),
            'kpiData' => $kpiData,
            'chartData' => $chartData
        ];
    }

    /**
     * BLDRM OKUMA VE YNLENDRME
     */
    public function readNotification($id)
    {
        $notification = auth()->user()->unreadNotifications->where('id', $id)->first();

        if ($notification) {
            $notification->markAsRead();
            return redirect($notification->data['link'] ?? route('home'));
        }

        return back();
    }

    /**
     * TM BLDRMLER OKUNDU YAP
     */
    public function readAllNotifications()
    {
        auth()->user()->unreadNotifications->markAsRead();
        return back()->with('success', 'Tm bildirimler okundu olarak iaretlendi.');
    }

    /**
     * AJAX LE BLDRM KONTROL
     */
    public function checkNotifications()
    {
        $notifications = auth()->user()->unreadNotifications;
        $count = $notifications->count();
        $html = '';

        if ($count > 0) {
            foreach ($notifications as $notification) {
                $url = route('notifications.read', $notification->id);
                $icon = $notification->data['icon'] ?? 'fa-info-circle';
                $color = $notification->data['color'] ?? 'primary';
                $title = $notification->data['title'] ?? 'Bildirim';
                $message = $notification->data['message'] ?? '';
                $time = $notification->created_at->diffForHumans();

                $html .= '
                <a href="' . $url . '" class="list-group-item list-group-item-action p-3 border-bottom-0 d-flex align-items-start">
                    <div class="me-3 mt-1 text-' . $color . '">
                        <i class="fa-solid ' . $icon . ' fa-lg"></i>
                    </div>
                    <div class="flex-grow-1">
                        <div class="small fw-bold text-dark mb-1">' . $title . '</div>
                        <p class="mb-1 small text-muted lh-sm">' . $message . '</p>
                        <small class="text-secondary fw-bold" style="font-size: 0.7rem;">' . $time . '</small>
                    </div>
                </a>';
            }
        } else {
            $html = '
            <div class="p-4 text-center text-muted">
                <i class="fa-regular fa-bell-slash fa-2x mb-3 text-secondary opacity-50"></i>
                <p class="mb-0 small fw-medium">u an yeni bildiriminiz yok.</p>
            </div>';
        }

        return response()->json([
            'count' => $count,
            'html' => $html
        ]);
    }

    public function switchUnit(Request $request)
    {
        $request->validate([
            'unit_id' => 'required|exists:business_units,id'
        ]);

        $user = auth()->user();

        // Gvenlik: Kullanc gerekten bu birime yetkili mi?
        if (!$user->businessUnits->contains('id', $request->unit_id)) {
            abort(403, 'Bu birime eriim yetkiniz yok.');
        }

        // Seimi kaydet
        $unit = $user->businessUnits->find($request->unit_id);
        session(['active_unit_id' => $unit->id]);
        session(['active_unit_name' => $unit->name]);

        return back()->with('success', "alma alan {$unit->name} olarak deitirildi.");
    }

    private function normalizeCargoContent($cargo)
    {
        if (empty($cargo)) {
            return 'Bilinmiyor';
        }

        $normalized = mb_strtoupper(trim($cargo), 'UTF-8');
        $specialCases = [
            'LEVBA' => 'LEVHA',
            'LEVBE' => 'LEVHA',
            'PLASTIC' => 'PLASTK',
            'PLASTIK' => 'PLASTK',
            'PREFORM' => 'PREFORM',
            'COPED' => 'COPED'
        ];

        return $specialCases[$normalized] ?? $normalized;
    }

    private function normalizeVehicleType($vehicle)
    {
        if (empty($vehicle)) {
            return 'Bilinmiyor';
        }

        $normalized = mb_strtoupper(trim($vehicle), 'UTF-8');

        $mapping = [
            'TIR' => 'TIR',
            'TRUCK' => 'TIR',
            'GEMI' => 'GEM',
            'SHIP' => 'GEM',
            'KAMYON' => 'KAMYON',
            'PICKUP' => 'KAMYONET',
            'KAMYONET' => 'KAMYONET'
        ];

        return $mapping[$normalized] ?? $normalized;
    }
}

----------------------------------------
DOSYA YOLU: app\Http\Controllers\KanbanBoardController.php
----------------------------------------

<?php

namespace App\Http\Controllers;

use App\Models\KanbanBoard;
use App\Models\BusinessUnit; // Veya senin Unit modelin neyse
use Illuminate\Http\Request;
use Illuminate\Support\Facades\DB;

class KanbanBoardController extends Controller
{
    /**
     * Panolarn listelendii ekran.
     */
    public function index()
    {
        // Panolar, bal olduu fabrika (business unit) ile beraber ekiyoruz.
        $boards = KanbanBoard::with('businessUnit')->get();
        return view('admin.kanban.index', compact('boards'));
    }

    /**
     * Yeni pano oluturma formu.
     */
    public function create()
    {
        // Formda setirmek iin fabrikalar gnderiyoruz
        $businessUnits = BusinessUnit::all();

        // Sistemdeki desteklenen modller (Senin verdiin bilgiye gre)
        $modules = [
            'maintenance' => 'Bakm Modl',
            'logistics' => 'Lojistik Modl',
            'production' => 'retim Modl',
            'admin' => 'dari ler',
        ];

        return view('admin.kanban.create', compact('businessUnits', 'modules'));
    }

    /**
     * Panoyu ve Stunlarn Veritabanna Kaydetme (Transaction)
     */
    public function store(Request $request)
    {
        // 1. Basit Validasyon
        $request->validate([
            'name' => 'required|string|max:255',
            'business_unit_id' => 'required|exists:business_units,id',
            'module_scope' => 'required|string',
            // Stunlar formdan array olarak gelecek: columns[0][title], columns[0][color] vb.
            'columns' => 'required|array|min:1',
            'columns.*.title' => 'required|string',
        ]);

        try {
            DB::transaction(function () use ($request) {
                // A. Panoyu Olutur
                $board = KanbanBoard::create([
                    'name' => $request->name,
                    'business_unit_id' => $request->business_unit_id,
                    'module_scope' => $request->module_scope,
                ]);

                // B. Stunlar Olutur
                foreach ($request->columns as $index => $columnData) {
                    $board->columns()->create([
                        'title' => $columnData['title'],
                        'slug' => str()->slug($columnData['title']), // Laravel Helper
                        'color_class' => $columnData['color_class'] ?? 'bg-gray-100',
                        'order_index' => $index, // Formdan gelen sray koru
                        'is_default' => isset($columnData['is_default']) ? true : false,
                    ]);
                }
            });

            return redirect()->route('kanban-boards.index')
                ->with('success', 'Kanban panosu ve stunlar baaryla oluturuldu.');

        } catch (\Exception $e) {
            // Hata olursa logla ve geri dn
            return back()->withErrors(['error' => 'Kayt srasnda hata olutu: ' . $e->getMessage()]);
        }
    }

    /**
     * Dzenleme Formu
     */
    public function edit(KanbanBoard $kanbanBoard)
    {
        // Stunlaryla beraber ekiyoruz ki formda gsterebilelim
        $kanbanBoard->load('columns');

        $businessUnits = BusinessUnit::all();
        $modules = [
            'maintenance' => 'Bakm Modl',
            'logistics' => 'Lojistik Modl',
            'production' => 'retim Modl',
            'admin' => 'dari ler',
        ];

        return view('admin.kanban.edit', compact('kanbanBoard', 'businessUnits', 'modules'));
    }

    /**
     * Gncelleme lemi (Biraz daha kompleks - Sync mant)
     */
    public function update(Request $request, KanbanBoard $kanbanBoard)
    {
        // 1. Validasyon
        $request->validate([
            'name' => 'required|string|max:255',
            'columns' => 'required|array|min:1',
            'columns.*.title' => 'required|string',
        ]);

        try {
            DB::transaction(function () use ($request, $kanbanBoard) {
                // A. Pano Adn Gncelle
                $kanbanBoard->update([
                    'name' => $request->name,
                ]);

                // B. Stun Senkronizasyonu
                // Formdan gelen stun ID'lerini topla (Yeni eklenenlerin ID'si null/bo olacaktr)
                $incomingIds = collect($request->columns)->pluck('id')->filter()->toArray();

                // Veritabanndaki mevcut ID'leri al
                $existingIds = $kanbanBoard->columns()->pluck('id')->toArray();

                // Silinecekleri Bul: Veritabannda olan ama Formda olmayanlar
                $idsToDelete = array_diff($existingIds, $incomingIds);

                // Silme lemi
                if (!empty($idsToDelete)) {
                    // stee bal gvenlik: Eer iinde kart varsa hata frlatlabilir.
                    // imdilik direkt siliyoruz.
                    \App\Models\KanbanColumn::destroy($idsToDelete);
                }

                // Ekleme ve Gncelleme Dngs
                foreach ($request->columns as $index => $colData) {
                    $columnId = $colData['id'] ?? null;

                    // Veri seti
                    $dataToSave = [
                        'board_id' => $kanbanBoard->id, // create iin gerekli
                        'title' => $colData['title'],
                        'slug' => str()->slug($colData['title']),
                        'color_class' => $colData['color_class'] ?? 'bg-light',
                        'order_index' => $index, // Form srasna gre indexle
                        'is_default' => isset($colData['is_default']) ? true : false,
                    ];

                    if ($columnId && in_array($columnId, $existingIds)) {
                        // GNCELLEME (Mevcut ID varsa)
                        $kanbanBoard->columns()->where('id', $columnId)->update(
                            collect($dataToSave)->except(['board_id'])->toArray()
                        );
                    } else {
                        // EKLEME (ID yoksa veya geersizse)
                        $kanbanBoard->columns()->create($dataToSave);
                    }
                }
            });

            return redirect()->route('kanban-boards.index')
                ->with('success', 'Pano ve stun yaps baaryla gncellendi.');

        } catch (\Exception $e) {
            return back()->withErrors(['error' => 'Gncelleme hatas: ' . $e->getMessage()]);
        }
    }

    public function destroy(KanbanBoard $kanbanBoard)
    {
        $kanbanBoard->delete();
        return redirect()->route('kanban-boards.index')->with('success', 'Pano silindi.');
    }
}

----------------------------------------
DOSYA YOLU: app\Http\Controllers\KanbanViewController.php
----------------------------------------

<?php

namespace App\Http\Controllers;

use App\Models\KanbanBoard;
use App\Services\KanbanService;
use Illuminate\Http\Request;

class KanbanViewController extends Controller
{
    protected $kanbanService;

    public function __construct(KanbanService $kanbanService)
    {
        $this->kanbanService = $kanbanService;
    }

    public function index(Request $request)
    {
        // 1. Parametre Kontrol
        $scope = $request->query('scope', 'maintenance'); // Varsaylan: Bakm

        // 2. Kullancnn Fabrikasn Bul (Senin auth yapna gre deiebilir)
        // imdilik auth()->user()->business_unit_id olduunu varsayyorum.
        $userFactoryId = auth()->user()->business_unit_id ?? 1; // Test iin 1

        // 3. lgili Panoyu ek (Eager Loading ile Stunlar ve Kartlar)
        $board = KanbanBoard::with(['columns.cards.model']) // Nested Eager Loading
            ->where('business_unit_id', $userFactoryId)
            ->where('module_scope', $scope)
            ->first();

        if (!$board) {
            return redirect()->back()->with('error', 'Bu modl iin henz bir pano tanmlanmam.');
        }

        return view('admin.kanban.board', compact('board', 'scope'));
    }

    public function moveCard(Request $request)
    {
        $request->validate([
            'card_id' => 'required|integer',
            'target_column_id' => 'required|integer',
            'new_index' => 'required|integer' // 0'dan balar
        ]);

        try {
            $this->kanbanService->moveCard(
                $request->card_id,
                $request->target_column_id,
                $request->new_index
            );

            return response()->json(['status' => 'success']);
        } catch (\Exception $e) {
            return response()->json(['status' => 'error', 'message' => $e->getMessage()], 500);
        }
    }
    /**
     * Karta tklandnda detaylar getiren metod (AJAX)
     */
    /**
     * Karta tklandnda detaylar getiren metod (AJAX)
     */
    public function show(\App\Models\KanbanCard $kanbanCard)
    {
        // 1. likiyi ykle
        $kanbanCard->load('model');

        // 2. Veri Btnl Kontrol: Kart var ama asl i (Bakm/Sevkiyat) silinmi mi?
        if (!$kanbanCard->model) {
            return response()->json(['html' => '<div class="alert alert-danger">Bu i kayd silinmi veya bulunamad.</div>'], 404);
        }

        // 3. GVENLK KONTROL (Fabrika/Birim zolasyonu)
        $user = auth()->user();

        // Eer kullanc bir "Sper Admin" deilse ve fabrikas elemiyorsa engelle
        // Not: Eer adminlerin her eyi grmesi gerekiyorsa buraya (! $user->hasRole('admin')) ekleyebilirsin.
        if (!$user->hasRole('admin') && $user->business_unit_id != $kanbanCard->model->business_unit_id) {

            // Loglama (Opsiyonel): Yetkisiz giri denemesini kaydedebilirsin
            \Log::warning("Yetkisiz Eriim Denemesi: User {$user->id}, Card {$kanbanCard->id} kartna erimeye alt.");

            return response()->json([
                'html' => '<div class="alert alert-danger">
                             <i class="fa fa-exclamation-triangle"></i>
                             Yetkisiz Eriim: Bu kart sizin yetki alannzdaki bir birime ait deil.
                           </div>'
            ], 403);
        }

        // 4. Her ey yolundaysa detaylar render et
        return view('admin.kanban.partials.card-detail', compact('kanbanCard'))->render();
    }
}

----------------------------------------
DOSYA YOLU: app\Http\Controllers\LogisticsVehicleController.php
----------------------------------------

<?php

namespace App\Http\Controllers;

use App\Http\Controllers\Controller;
use App\Models\LogisticsVehicle;
use Illuminate\Http\Request;
use Illuminate\Validation\Rule;

class LogisticsVehicleController extends Controller
{
    /**
     * Lojistik aralarn listeler.
     */
    public function index(Request $request)
    {
        // Sorguyu balat
        $query = LogisticsVehicle::query();

        // 1. Arama Filtresi (Plaka, Marka veya Model)
        if ($request->filled('search')) {
            $search = $request->input('search');
            $query->where(function ($q) use ($search) {
                $q->where('plate_number', 'like', "%{$search}%")
                    ->orWhere('brand', 'like', "%{$search}%")
                    ->orWhere('model', 'like', "%{$search}%");
            });
        }

        // 2. Durum Filtresi
        if ($request->filled('status')) {
            $query->where('status', $request->input('status'));
        }

        // 3. Yakt Tipi Filtresi
        if ($request->filled('fuel_type')) {
            $query->where('fuel_type', $request->input('fuel_type'));
        }

        // Filtrelenmi sonular getir
        $vehicles = $query->orderBy('created_at', 'desc')->paginate(10);

        // statistikler (Dashboard iin)
        $stats = [
            'total' => LogisticsVehicle::count(),
            'active' => LogisticsVehicle::where('status', 'active')->count(),
            'maintenance' => LogisticsVehicle::where('status', 'maintenance')->count(),
        ];

        return view('logistics_vehicles.index', compact('vehicles', 'stats'));
    }

    /**
     * Yeni ara ekleme formunu gsterir.
     */
    public function create()
    {
        // DZELTME: Buras index deil 'create' olmal
        return view('logistics_vehicles.create');
    }

    /**
     * Yeni arac veritabanna kaydeder.
     */
    public function store(Request $request)
    {
        $validatedData = $request->validate([
            'plate_number' => 'required|string|max:20|unique:logistics_vehicles,plate_number',
            'brand' => 'required|string|max:50',
            'model' => 'required|string|max:50',
            'capacity' => 'nullable|numeric|min:0',
            'current_km' => 'required|numeric|min:0',
            'fuel_type' => 'nullable|string',
            'status' => 'required|in:active,maintenance,inactive',
            'kvkk_onay' => 'accepted',
        ], [
            'plate_number.unique' => 'Bu plaka ile kaytl baka bir ara zaten var.',
            'kvkk_onay.accepted' => 'Ltfen KVKK metnini onaylaynz.',
        ]);

        LogisticsVehicle::create($request->except('kvkk_onay'));

        // Rota ad: service prefix'i olduu iin 'service.logistics-vehicles.index'
        return redirect()->route('service.logistics-vehicles.index')
            ->with('success', 'Lojistik arac baaryla eklendi.');
    }

    /**
     * Ara dzenleme formunu gsterir.
     */
    public function edit($id)
    {
        $vehicle = LogisticsVehicle::findOrFail($id);
        // DZELTME: View yolu
        return view('logistics_vehicles.edit', compact('vehicle'));
    }

    /**
     * Ara bilgilerini gnceller.
     */
    public function update(Request $request, $id)
    {
        $vehicle = LogisticsVehicle::findOrFail($id);

        $validatedData = $request->validate([
            'plate_number' => [
                'required',
                'string',
                'max:20',
                Rule::unique('logistics_vehicles')->ignore($vehicle->id)
            ],
            'brand' => 'required|string|max:50',
            'model' => 'required|string|max:50',
            'capacity' => 'nullable|numeric|min:0',
            'current_km' => 'required|numeric|min:0',
            'fuel_type' => 'nullable|string',
            'status' => 'required|in:active,maintenance,inactive',
        ]);

        $vehicle->update($validatedData);

        return redirect()->route('service.logistics-vehicles.index')
            ->with('success', 'Ara bilgileri gncellendi.');
    }

    /**
     * Arac siler.
     */
    public function destroy($id)
    {
        $vehicle = LogisticsVehicle::findOrFail($id);

        if ($vehicle->hasActiveAssignment()) {
            return back()->with('error', 'Bu aracn devam eden bir grevi var, nce grevi tamamlayn.');
        }

        $vehicle->delete();

        return redirect()->route('service.logistics-vehicles.index')
            ->with('success', 'Ara baaryla silindi.');
    }
}

----------------------------------------
DOSYA YOLU: app\Http\Controllers\MaintenanceAssetController.php
----------------------------------------

<?php

namespace App\Http\Controllers;

use App\Models\MaintenanceAsset;
use Illuminate\Http\Request;
use App\Services\CsvExporter;

class MaintenanceAssetController extends Controller
{
    public function index()
    {
        // Makineleri listele
        $assets = MaintenanceAsset::orderBy('category')->orderBy('name')->get();
        return view('maintenance.assets.index', compact('assets'));
    }

    public function create()
    {
        return view('maintenance.assets.create');
    }

    public function store(Request $request)
    {
        $request->validate([
            'name' => 'required|string|max:255',
            'category' => 'required|in:machine,zone,facility',
            'code' => 'nullable|string|unique:maintenance_assets,code',
        ]);

        MaintenanceAsset::create($request->all());

        return redirect()->route('maintenance.assets.index')
            ->with('success', 'Yeni makine/varlk baaryla eklendi.');
    }

    public function edit($id)
    {
        $asset = MaintenanceAsset::findOrFail($id);
        return view('maintenance.assets.edit', compact('asset'));
    }

    public function update(Request $request, $id)
    {
        $asset = MaintenanceAsset::findOrFail($id);

        $request->validate([
            'name' => 'required|string|max:255',
            'code' => 'nullable|string|unique:maintenance_assets,code,' . $asset->id,
        ]);

        $asset->update($request->all());

        return redirect()->route('maintenance.assets.index')
            ->with('success', 'Makine bilgileri gncellendi.');
    }

    public function destroy($id)
    {
        $asset = MaintenanceAsset::findOrFail($id);
        $asset->delete(); // Soft delete alr

        return redirect()->route('maintenance.assets.index')
            ->with('success', 'Varlk silindi.');
    }
    /**
     * Makineler ve Varlklar Listesini CSV olarak da aktar
     */
    public function export()
    {
        $fileName = 'makine-varlik-listesi-' . date('d-m-Y') . '.csv';

        // 1. SORGULAMA
        // Herhangi bir iliki (relation) tablodan grnmyor (User veya Category ID yok, direkt yazlm).
        // Bu yzden sadece kendi tablosunu ekiyoruz.
        $query = MaintenanceAsset::query()->latest();

        // 2. BALIKLAR
        $headers = [
            'ID',
            'Varlk Ad',
            'Marka',
            'Model',
            'Seri Numaras',
            'retim Yl',
            'Kategori',
            'Varlk Kodu',
            'Konum',
            'Durum',
            'Aklama',
            'Oluturulma Tarihi'
        ];

        // 3. EXPORT LEM
        return CsvExporter::streamDownload(
            query: $query,
            headers: $headers,
            fileName: $fileName,
            rowMapper: function ($asset) {

                // -- DURUM KONTROL (Aktif/Pasif) --
                // Veritabannda muhtemelen 1/0 veya true/false tutuluyor.
                $durum = $asset->is_active ? 'Aktif' : 'Pasif';

                // -- SATIR VERS --
                return [
                    $asset->id,
                    $asset->name,
                    $asset->brand ?? '-',
                    $asset->model ?? '-',
                    $asset->serial_number ?? '-',
                    $asset->manufacturing_year ?? '-',
                    $asset->category ?? '-',
                    $asset->code ?? '-',
                    $asset->location ?? '-',
                    $durum,
                    $asset->description ?? '-',
                    $asset->created_at ? $asset->created_at->format('d.m.Y H:i') : '-'
                ];
            }
        );
    }
}

----------------------------------------
DOSYA YOLU: app\Http\Controllers\MaintenanceController.php
----------------------------------------

<?php

namespace App\Http\Controllers;

use App\Models\MaintenancePlan;
use App\Models\MaintenanceType;
use App\Models\MaintenanceAsset;
use App\Models\MaintenanceTimeEntry;
use App\Models\MaintenanceActivityLog;
use App\Models\MaintenanceFile;
use Illuminate\Http\Request;
use Illuminate\Support\Facades\Auth;
use Illuminate\Support\Facades\Storage;
use Illuminate\Support\Str;
use Carbon\Carbon;
use App\Services\CsvExporter;
class MaintenanceController extends Controller
{
    public function __construct()
    {
        $this->middleware('auth');
    }

    // 1. LSTELEME EKRANI
    public function index(Request $request)
    {
        // 1. Sorguyu Balat (likilerle Beraber)
        $query = MaintenancePlan::with(['type', 'asset', 'user', 'timeEntries']);

        // 2. Filtreleme Mant

        // A. Metin Arama (Balk veya Aklamada)
        if ($request->filled('search')) {
            $search = $request->input('search');
            $query->where(function ($q) use ($search) {
                $q->where('title', 'like', "%{$search}%")
                    ->orWhere('description', 'like', "%{$search}%");
            });
        }

        // B. Durum Filtresi (SelectBox)
        if ($request->filled('status')) {
            $query->where('status', $request->input('status'));
        }

        // C. Tarih Filtresi (Datepicker)
        if ($request->filled('date')) {
            $query->whereDate('planned_start_date', $request->input('date'));
        }

        // 3. Sralama ve Sayfalama
        $plans = $query->orderBy('planned_start_date', 'desc')
            ->paginate(10) // Sayfada 10 kayt gster
            ->appends(request()->query()); // Sayfa deiince filtreler kaybolmasn

        return view('maintenance.index', compact('plans'));
    }

    // 2. YEN EKLEME FORMU
    public function create()
    {
        // Seeder ile eklediimiz verileri buradan forma gndereceiz
        $types = MaintenanceType::all();
        // Sadece aktif makineleri/zonelar getir, ayrca kategoriye gre srala
        $assets = MaintenanceAsset::where('is_active', true)
            ->orderBy('category')
            ->orderBy('name')
            ->get();

        return view('maintenance.create', compact('types', 'assets'));
    }

    public function store(Request $request)
    {
        // 1. Standart Kurallar
        $rules = [
            'title' => 'required|string|max:255',
            'maintenance_type_id' => 'required|exists:maintenance_types,id',
            'maintenance_asset_id' => 'required|exists:maintenance_assets,id',
            'planned_start_date' => 'required|date',
            'planned_end_date' => 'required|date|after:planned_start_date',
            'priority' => 'required|in:low,normal,high,critical',
        ];

        // 2. [HBRT] Dinamik Kurallar Birletir
        $rules = array_merge($rules, MaintenancePlan::getDynamicValidationRules());

        // 3. Validasyon
        $validatedData = $request->validate($rules);

        // 4. Kayt (Extras manuel ekleniyor)
        $plan = MaintenancePlan::create([
            'user_id' => Auth::id(),
            'title' => $validatedData['title'],
            'description' => $request->description, // Description nullable olduu iin validate'e girmemi olabilir
            'maintenance_type_id' => $validatedData['maintenance_type_id'],
            'maintenance_asset_id' => $validatedData['maintenance_asset_id'],
            'planned_start_date' => $validatedData['planned_start_date'],
            'planned_end_date' => $validatedData['planned_end_date'],
            'priority' => $validatedData['priority'],
            'status' => 'pending',
            // [HBRT] Formdan gelen extras array'ini buraya ekliyoruz
            'extras' => $validatedData['extras'] ?? [],
        ]);

        // LOGLAMA
        $this->logActivity($plan, 'created', 'Bakm plan oluturuldu.');

        return redirect()->route('maintenance.index')->with('success', 'Bakm plan baaryla oluturuldu.');
    }

    // 4. DETAY GSTERME (Saya ve Dosyalar burada olacak)
    public function show($id)
    {
        $plan = MaintenancePlan::with(['type', 'asset', 'user', 'files', 'logs.user', 'timeEntries.user'])
            ->findOrFail($id);

        return view('maintenance.show', compact('plan'));
    }

    // 5. GNCELLEME FORMU
    public function edit($id)
    {
        $plan = MaintenancePlan::findOrFail($id);
        $types = MaintenanceType::all();
        $assets = MaintenanceAsset::where('is_active', true)->get();

        return view('maintenance.edit', compact('plan', 'types', 'assets'));
    }

    // 6. GNCELLEME LEM (HBRT YAPI GNCELLEMES)
    public function update(Request $request, $id)
    {
        $plan = MaintenancePlan::findOrFail($id);
        $this->authorize('update', $plan);

        // 1. N HAZIRLIK
        $oldStatus = $plan->status; // Eski durumu sakla (Karlatrma iin art)
        $data = $request->all();
        $user = Auth::user();
        $newStatus = $data['status'] ?? $oldStatus; // Formdan gelen yeni durum

        // 2. GVENLK KONTROLLER

        // A) Geriye Dn Engeli (Onaydaki ii personel geri alamaz)
        if ($oldStatus == 'pending_approval' && in_array($newStatus, ['open', 'in_progress'])) {
            if ($user->cannot('approve', $plan)) {
                return back()
                    ->withInput()
                    ->with('error', 'HATA: Onaya sunulmu bir plan geri ekemezsiniz. Yneticinizin reddetmesi gerekmektedir.');
            }
        }

        // B) Sre Kontrol (Hzl Bitirme Notu YOKSA ve Sre de YOKSA engelle)
        // Eer completion_note geliyorsa bu "Hzl Bitirme" ilemidir, sre kontrolne taklmasn.
        if (in_array($newStatus, ['pending_approval', 'completed']) && !$request->has('completion_note')) {
            $hasPastDuration = $plan->previous_duration_minutes > 0;
            // Aktif herhangi bir saya var m?
            $isTimerRunning = $plan->timeEntries()->whereNull('end_time')->exists();

            if (!$hasPastDuration && !$isTimerRunning) {
                return back()
                    ->withInput()
                    ->with('error', 'HATA: Hi alma kayd bulunmayan bir i onaya sunulamaz. nce "almay Balat" deyiniz.');
            }
        }

        // [HBRT] Validasyon Mant
        // Sadece normal form gncellemesinde dinamik alanlar kontrol etmeliyiz.
        // Hzl bitirme (completion_note) veya saya ilemlerinde validasyon gerekmez.
        if (!$request->has('completion_note') && !$request->has('stop_timer')) {
            $rules = [
                'title' => 'sometimes|required|string|max:255',
            ];
            // Dinamik kurallar da ekle (Sadece formdan veri geliyorsa)
            $rules = array_merge($rules, MaintenancePlan::getDynamicValidationRules());

            $validatedData = $request->validate($rules);

            // Validated data iindeki extras' data dizisine aktar
            if (isset($validatedData['extras'])) {
                $data['extras'] = $validatedData['extras'];
            }
        }


        // 3. SENARYOLAR VE DURUM YNETM

        // --- SENARYO 1: HIZLI BTRME (SAYASIZ TAMAMLAMA) ---
        if ($request->has('completion_note')) {
            $data['completion_note'] = $request->completion_note;
            $data['actual_end_date'] = now();

            // Eer personel tamamladysa zorla onaya dr
            if ($newStatus == 'completed' && $user->cannot('approve', $plan)) {
                $data['status'] = 'pending_approval';
                $newStatus = 'pending_approval'; // Aadaki kontroller iin gncel kalmal
                session()->flash('success', 'lem tamamland ve Ynetici Onayna gnderildi.');
            }
        }

        // --- SENARYO 2: DURUM BTE/ONAYA GEYORSA (SAYA KAPATMA) ---
        if (in_array($newStatus, ['completed', 'pending_approval'])) {

            // Normal form gncellemesi ile geliyorsa da yetki kontrol yap
            if ($newStatus == 'completed' && $user->cannot('approve', $plan)) {
                $data['status'] = 'pending_approval';
                $newStatus = 'pending_approval';
                session()->flash('success', 'Plan tamamland ve Ynetici Onayna gnderildi.');
            } else {
                if ($newStatus == 'completed') {
                    session()->flash('success', 'Plan baaryla onayland ve tamamland.');
                }
            }

            // Varsa ak sayac kapat (Sistemsel kapatma)
            $activeTimer = $plan->timeEntries()->whereNull('end_time')->first();
            if ($activeTimer) {
                $endTime = now();
                $activeTimer->update([
                    'end_time' => $endTime,
                    'duration_minutes' => $activeTimer->start_time->diffInMinutes($endTime),
                    'note' => $activeTimer->note ?? 'Durum deiiklii nedeniyle otomatik kapatld.'
                ]);
            }

            if ($newStatus == 'completed') {
                $data['actual_end_date'] = now();
            }
        }

        // --- SENARYO 3: DURUM "LEMDE"YE GEYORSA (SAYA BALATMA MANTII) ---
        elseif ($newStatus === 'in_progress') {

            // KRTK KONTROL: Ynetici Reddi mi? Yoksa Personel Balatmas m?

            // 1. Eer eski durum 'pending_approval' ise bu bir REDDETME ilemidir. Saya BALAMAMALI.
            $isRejection = ($oldStatus == 'pending_approval');

            // 2. Sadece reddetme DELSE ve kullanc plann SAHB ise balat.
            // (Ynetici reddettiinde saya balamayacak, kullanc sonra kendisi balatacak)
            if (!$isRejection && $user->id === $plan->user_id) {

                // Kullancnn ak sayac yoksa balat
                $hasActiveTimer = $plan->timeEntries()
                    ->where('user_id', $user->id)
                    ->whereNull('end_time')
                    ->exists();

                if (!$hasActiveTimer) {
                    $plan->timeEntries()->create([
                        'user_id' => $user->id,
                        'start_time' => now(),
                    ]);

                    if (is_null($plan->actual_start_date)) {
                        $data['actual_start_date'] = now();
                    }
                }
            }
        }

        // 4. VERTABANI GNCELLEME VE LOGLAMA
        // $data iinde artk 'extras' da var (eer formdan geldiyse)
        $plan->update($data);

        if ($oldStatus !== $plan->status) {

            // A) Reddetme Logu
            if ($oldStatus == 'pending_approval' && $plan->status == 'in_progress') {
                $this->logActivity($plan, 'rejected', "Plan ynetici tarafndan REDDEDLD ve personele geri gnderildi.");
            }
            // B) Normal Deiim Logu
            else {
                $labels = [
                    'open' => 'Ak',
                    'pending' => 'Bekliyor',
                    'in_progress' => 'lemde',
                    'pending_approval' => 'Onay Bekliyor',
                    'completed' => 'Tamamland',
                    'cancelled' => 'ptal'
                ];
                $oldText = $labels[$oldStatus] ?? $oldStatus;
                $newText = $labels[$plan->status] ?? $plan->status;

                $this->logActivity($plan, 'status_change', "Durum: {$oldText} -> {$newText} olarak gncellendi.");
            }
        }

        return redirect()->route('maintenance.show', $plan->id);
    }

    // 7. SLME
    public function destroy($id)
    {
        $plan = MaintenancePlan::findOrFail($id);
        $this->authorize('delete', $plan);
        $this->logActivity($plan, 'deleted', 'Bakm plan silindi (p kutusuna tand).');
        $plan->files()->delete();
        $plan->timeEntries()->delete();
        $plan->delete();

        return redirect()->route('maintenance.index')->with('success', 'Bakm plan baaryla silindi.');
    }

    // --- ZEL METODLAR ---

    // SAYA BALAT
    public function startTimer($id)
    {
        $plan = MaintenancePlan::findOrFail($id);

        // Eer plan "Tamamland" veya "Onay Bekliyor" ise saya balatlamaz
        if (in_array($plan->status, ['completed', 'pending_approval'])) {
            return back()->with('error', 'Bu plan onaya sunulmu veya tamamlanmtr. Tekrar ilem yaplamaz.');
        }

        // Kullancnn bu planda ak bir sayac var m?
        $existingEntry = MaintenanceTimeEntry::where('maintenance_plan_id', $plan->id)
            ->where('user_id', Auth::id())
            ->whereNull('end_time')
            ->first();

        if ($existingEntry) {
            return back()->with('error', 'Zaten devam eden bir sayacnz var.');
        }

        // Eer plan durumu "pending" ise otomatik "in_progress" yapalm
        if ($plan->status === 'pending') {
            $plan->update(['status' => 'in_progress', 'actual_start_date' => now()]);
        }

        MaintenanceTimeEntry::create([
            'maintenance_plan_id' => $plan->id,
            'user_id' => Auth::id(),
            'start_time' => now(),
        ]);

        $this->logActivity($plan, 'timer_started', 'alma sayac balatld.');

        return back()->with('success', 'alma balatld.');
    }

    // SAYA DURDUR
    public function stopTimer(Request $request, $id)
    {
        $plan = MaintenancePlan::findOrFail($id);
        $user = Auth::user();

        // 1. Validasyon: Eer i bitiriliyorsa NOT girmek ZORUNLU olsun.
        if ($request->input('completion_type') === 'finish') {
            $request->validate([
                'note' => 'required|string|min:5', // En az 5 karakter aklama art
            ], [
                'note.required' => 'i bitirirken aklama/sapma nedeni girmek zorunludur.',
                'note.min' => 'Ltfen aklayc bir not giriniz.',
            ]);
        }

        // 2. Aktif sayac bul ve kapat
        $entry = MaintenanceTimeEntry::where('maintenance_plan_id', $plan->id)
            ->where('user_id', $user->id)
            ->whereNull('end_time')
            ->first();

        if (!$entry) {
            return back()->with('error', 'Aktif bir sayacnz bulunamad.');
        }

        $endTime = now();
        $duration = $entry->start_time->diffInMinutes($endTime);

        // Sayac kapat ve sreyi kaydet
        $entry->update([
            'end_time' => $endTime,
            'duration_minutes' => $duration,
            'note' => $request->note // Kullancnn o an girdii not
        ]);

        // 3. Plan Durumunu ve Biti Notunu Gncelle
        $actionType = $request->input('completion_type', 'pause'); // Varsaylan pause
        $message = "alma duraklatld.";

        if ($actionType === 'finish') {
            // ---  BTRME SENARYOSU ---

            // Gncellenecek ortak veriler
            $updateData = [
                'completion_note' => $request->note, // Sapma nedeni/Biti notu
                'actual_end_date' => now(),          // Gerek biti zaman
            ];

            // Yetki Kontrol (Workflow)
            if ($user->cannot('approve', $plan)) {
                // Yetkisi YOKSA -> Onay Bekliyor
                $updateData['status'] = 'pending_approval';
                $message = " tamamland ve Ynetici Onayna gnderildi.";

                // Veritabann gncelle
                $plan->update($updateData);

                // Log: Stat deiimi
                $this->logActivity($plan, 'status_change', 'Kullanc ii bitirdi, onay bekleniyor.');
            } else {
                // Yetkisi VARSA -> Tamamland
                $updateData['status'] = 'completed';
                $message = " baaryla tamamland.";

                // Veritabann gncelle
                $plan->update($updateData);

                // Log: Tamamland
                $this->logActivity($plan, 'completed', 'lem yetkili tarafndan tamamland.');
            }

        } else {
            // --- SADECE DURAKLATMA SENARYOSU ---

            // Eer plan durumu "pending" ise ve kullanc alp durdurduysa "in_progress" kalmal/olmal.
            if ($plan->status == 'pending') {
                $plan->update(['status' => 'in_progress']);
            }

            // Log: Duraklatma
            $this->logActivity($plan, 'timer_paused', "almaya ara verildi. Not: {$request->note}");
        }

        return back()->with('success', $message);
    }

    // DOSYA YKLEME
    public function uploadFile(Request $request, $id)
    {
        // 1. Validasyonu gncelle: 'file' yerine 'files.*' (Dizideki her dosya iin)
        $request->validate([
            'files' => 'required',
            'files.*' => 'file|mimes:jpg,jpeg,png,pdf,doc,docx,xls,xlsx,pptx|max:51200',
        ]);

        $plan = MaintenancePlan::findOrFail($id);

        if ($request->hasFile('files')) {
            // Dng ile gelen her dosyay ile
            foreach ($request->file('files') as $file) {

                // sim temizleme (Trke karakter dzeltme)
                $originalName = pathinfo($file->getClientOriginalName(), PATHINFO_FILENAME);
                $extension = $file->getClientOriginalExtension();
                $safeName = \Illuminate\Support\Str::slug($originalName);
                $filename = time() . '_' . uniqid() . '_' . $safeName . '.' . $extension; // uniqid ekledik ki ayn saniyede yklenenler akmasn

                // Kaydet
                $path = $file->storeAs('uploads/maintenance', $filename, 'public');

                MaintenanceFile::create([
                    'maintenance_plan_id' => $plan->id,
                    'file_path' => '/storage/' . $path,
                    'file_name' => $file->getClientOriginalName(),
                    'file_type' => $extension,
                ]);
            }

            // Log kaydn bir kere atalm (veya dng iinde tek tek atlabilir)
            $count = count($request->file('files'));
            $this->logActivity($plan, 'file_upload', "$count adet yeni dosya yklendi.");
        }

        return back()->with('success', 'Dosya(lar) baaryla yklendi.');
    }

    // DOSYA SLME
    public function deleteFile($file_id)
    {
        $file = MaintenanceFile::findOrFail($file_id);
        $plan = $file->plan;
        $fileName = $file->file_name;

        // Bu komut artk satr silmeyecek, sadece 'deleted_at' stununa tarih basacak.
        $file->delete();

        $this->logActivity($plan, 'file_deleted', 'Dosya p kutusuna tand: ' . $fileName);

        return back()->with('success', 'Dosya baaryla silindi.');
    }

    // YARDIMCI: LOGLAMA FONKSYONU
    private function logActivity($plan, $action, $description)
    {
        MaintenanceActivityLog::create([
            'maintenance_plan_id' => $plan->id,
            'user_id' => Auth::id(),
            'action' => $action,
            'description' => $description
        ]);
    }
    /**
     * 1. TOPLU LSTE (exportList)
     */
    public function exportList()
    {
        return CsvExporter::streamDownload(
            query: MaintenancePlan::with(['type', 'asset', 'user'])->latest(),
            headers: ['ID', 'Balk', 'Varlk', 'Durum', 'Planlanan Balang', 'Sorumlu'],
            fileName: 'bakim-listesi-' . date('d-m-Y') . '.csv',
            rowMapper: function ($plan) {
                return [
                    $plan->id,
                    $plan->title,
                    $plan->asset ? $plan->asset->name : '-',
                    $plan->status_label, // Modeldeki accessor
                    $plan->planned_start_date ? $plan->planned_start_date->format('d.m.Y H:i') : '-',
                    $plan->user ? $plan->user->name : '-'
                ];
            }
        );
    }

    /**
     * 2. BAKIM  EMR (export) - Tekil Fi
     */
    public function export(MaintenancePlan $maintenancePlan)
    {
        $fileName = 'bakim-is-emri-' . $maintenancePlan->id . '.csv';

        $callback = function () use ($maintenancePlan) {
            $file = fopen('php://output', 'w');
            fputs($file, "\xEF\xBB\xBF");

            fputcsv($file, ['BAKIM  EMR FORMU'], ';');
            fputcsv($file, [], ';');

            // Sol taraf Etiket, Sa taraf Deer
            fputcsv($file, [' Emri No', $maintenancePlan->id], ';');
            fputcsv($file, ['Bakm Konusu', $maintenancePlan->title], ';');
            fputcsv($file, ['Varlk/Makine', $maintenancePlan->asset->name ?? '-'], ';');
            fputcsv($file, ['Bakm Tr', $maintenancePlan->type->name ?? '-'], ';');
            fputcsv($file, ['ncelik', $maintenancePlan->priority_badge['text'] ?? '-'], ';');
            fputcsv($file, ['Durum', $maintenancePlan->status_label], ';');
            fputcsv($file, [], ';');

            fputcsv($file, ['--- ZAMANLAMA BLGLER ---'], ';');
            fputcsv($file, ['Planlanan Balang', $maintenancePlan->planned_start_date?->format('d.m.Y H:i')], ';');
            fputcsv($file, ['Gerekleen Balang', $maintenancePlan->actual_start_date?->format('d.m.Y H:i')], ';');
            fputcsv($file, ['Tamamlanma Tarihi', $maintenancePlan->actual_end_date?->format('d.m.Y H:i')], ';');
            fputcsv($file, [], ';');

            fputcsv($file, ['--- SONU ---'], ';');
            fputcsv($file, ['Tamamlanma Notu', $maintenancePlan->completion_note ?? 'Not girilmemi.'], ';');

            fclose($file);
        };

        return response()->stream($callback, 200, [
            "Content-type" => "text/csv; charset=utf-8",
            "Content-Disposition" => "attachment; filename=$fileName"
        ]);
    }
}

----------------------------------------
DOSYA YOLU: app\Http\Controllers\ProductionPlanController.php
----------------------------------------

<?php

namespace App\Http\Controllers;

use App\Models\ProductionPlan;
use App\Models\Birim;
use Illuminate\Http\Request;
use Illuminate\Support\Facades\Auth;
use Carbon\Carbon;
use App\Services\CsvExporter;

class ProductionPlanController extends Controller
{
    public function index(Request $request)
    {
        $this->authorize('access-department', 'uretim');

        $query = ProductionPlan::with('user');
        $filters = $request->all();
        $user = Auth::user();
        $isImportantFilter = $request->input('is_important', 'all');

        if ($isImportantFilter !== 'all' && $user && in_array($user->role, ['admin', 'ynetici'])) {

            if ($isImportantFilter === 'yes') {
                $query->where('is_important', true);
            } elseif ($isImportantFilter === 'no') {
                $query->where('is_important', false);
            }
        }

        if ($request->filled('plan_title')) {
            $query->where('plan_title', 'LIKE', '%' . $request->input('plan_title') . '%');
        }

        if ($request->filled('date_from')) {
            try {
                $dateFrom = Carbon::parse($request->input('date_from'))->startOfDay();
                $query->where('week_start_date', '>=', $dateFrom);
            } catch (\Exception $e) {
            }
        }

        if ($request->filled('date_to')) {
            try {
                $dateTo = Carbon::parse($request->input('date_to'))->endOfDay();
                $query->where('week_start_date', '<=', $dateTo);
            } catch (\Exception $e) {
            }
        }
        $plans = $query->orderBy('week_start_date', 'desc')
            ->paginate(15);
        $filters = $request->only(['plan_title', 'date_from', 'date_to', 'is_important']);

        return view('production.plans.index', compact('plans', 'filters'));
    }

    public function create()
    {
        $this->authorize('access-department', 'uretim');

        // YEN EKLEND: Birimleri veritabanndan ek
        $birimler = Birim::orderBy('ad')->get();

        // View'a birimleri gnder
        return view('production.plans.create', compact('birimler'));
    }
    /**
     * Store Metodu (HBRT YAPI GNCELLEMES YAPILDI)
     */
    public function store(Request $request)
    {
        $this->authorize('access-department', 'uretim');

        // 1. Standart Kurallar
        $rules = [
            'plan_title' => 'required|string|max:255',
            'week_start_date' => 'required|date',
            'plan_details' => 'nullable|array',
            'plan_details.*.machine' => 'required_with:plan_details|string|max:255',
            'plan_details.*.product' => 'required_with:plan_details|string|max:255',
            'plan_details.*.quantity' => 'required_with:plan_details|numeric|min:1',
            'plan_details.*.birim_id' => 'required_with:plan_details|integer|exists:birims,id',
        ];

        // 2. [HBRT] Dinamik Kurallar Birletir
        // retim planna eklenen zel alanlar (rn: Vardiya Amiri, Notlar) dorula
        $rules = array_merge($rules, ProductionPlan::getDynamicValidationRules());

        // 3. Validasyon
        $validatedData = $request->validate($rules);

        $validatedData['user_id'] = Auth::id();

        // 4. Kayt
        // ProductionPlan modelinde 'extras' => 'array' cast olduu iin
        // $validatedData['extras'] otomatik olarak JSON stununa yazlr.
        ProductionPlan::create($validatedData);

        return redirect()->route('production.plans.create')
            ->with('success', 'Haftalk retim plan baaryla oluturuldu!');
    }

    public function edit(ProductionPlan $productionPlan)
    {

        $this->authorize('access-department', 'uretim');

        if (Auth::id() !== $productionPlan->user_id && !in_array(Auth::user()->role, ['admin', 'ynetici'])) {
            return redirect()->route('production.plans.index')
                ->with('error', 'Bu plan sadece oluturan kii dzenleyebilir.');
        }

        // YEN EKLEND: Birimleri dzenleme formu iin de ek
        $birimler = Birim::orderBy('ad')->get();

        // View'a birimleri gnder
        return view('production.plans.edit', compact('productionPlan', 'birimler'));
    }


    /**
     * Update Metodu (HBRT YAPI GNCELLEMES YAPILDI)
     */
    public function update(Request $request, ProductionPlan $productionPlan)
    {
        $this->authorize('access-department', 'uretim');

        if (Auth::id() !== $productionPlan->user_id && !in_array(Auth::user()->role, ['admin', 'ynetici'])) {
            return redirect()->route('production.plans.index')
                ->with('error', 'Bu plan sadece oluturan kii gncelleyebilir.');
        }

        // 1. Standart Kurallar
        $rules = [
            'plan_title' => 'required|string|max:255',
            'week_start_date' => 'required|date',
            'plan_details' => 'nullable|array',
            'plan_details.*.machine' => 'required_with:plan_details|string|max:255',
            'plan_details.*.product' => 'required_with:plan_details|string|max:255',
            'plan_details.*.quantity' => 'required_with:plan_details|numeric|min:1',
            'plan_details.*.birim_id' => 'required_with:plan_details|integer|exists:birims,id',
        ];

        // 2. [HBRT] Dinamik Kurallar Birletir
        $rules = array_merge($rules, ProductionPlan::getDynamicValidationRules());

        // 3. Validasyon
        $validatedData = $request->validate($rules);

        // 4. Gncelleme
        // $validatedData iinde 'extras' dizisi de var, model cast sayesinde JSON olur.
        $productionPlan->update($validatedData);

        return redirect()->route('production.plans.index')
            ->with('success', 'retim plan baaryla gncellendi.');
    }

    public function destroy(ProductionPlan $productionPlan)
    {
        $this->authorize('access-department', 'uretim');

        if (Auth::id() !== $productionPlan->user_id && !in_array(Auth::user()->role, ['admin', 'ynetici'])) {
            return redirect()->route('production.plans.index')
                ->with('error', 'Bu plan sadece oluturan kii silebilir.');
        }

        $productionPlan->delete();

        return redirect()->route('production.plans.index')
            ->with('success', 'retim plan baaryla silindi.');
    }
    /**
     * 1. TOPLU LSTE NDR (Excel)
     * Rota: /production/plans/export-list
     */
    public function exportList()
    {
        return CsvExporter::streamDownload(
            query: ProductionPlan::with(['user'])->latest(),
            headers: ['ID', 'Balk', 'Balang', 'nem', 'Oluturan', 'Oluturulma'],
            fileName: 'tum-uretim-planlari-' . date('d-m-Y') . '.csv',
            rowMapper: function ($plan) {
                return [
                    $plan->id,
                    $plan->plan_title,
                    $plan->week_start_date ? Carbon::parse($plan->week_start_date)->format('d.m.Y') : '-',
                    $plan->is_important ? 'nemli' : 'Normal',
                    $plan->user ? $plan->user->name : '-',
                    $plan->created_at->format('d.m.Y H:i')
                ];
            }
        );
    }

    /**
     * 2. TEKL  EMR F NDR (Excel)
     * Rota: /production/plans/{productionPlan}/export
     */
    public function export(ProductionPlan $productionPlan)
    {
        $fileName = 'is-emri-' . $productionPlan->id . '.csv';

        // Detay fii olduu iin balklar yan yana deil, form gibi alt alta yapyoruz
        // Bu yzden callback iinde manuel yazacaz.
        $headers = ['Content-Type' => 'text/csv; charset=utf-8', 'Content-Disposition' => "attachment; filename=$fileName"];

        $callback = function () use ($productionPlan) {
            $file = fopen('php://output', 'w');
            fputs($file, "\xEF\xBB\xBF"); // BOM

            // F BALII
            fputcsv($file, ['RETM  EMR DETAYI'], ';');
            fputcsv($file, [], ';'); // Bo satr

            // TEMEL BLGLER (Alt alta)
            fputcsv($file, ['Plan ID', $productionPlan->id], ';');
            fputcsv($file, ['Balk', $productionPlan->plan_title], ';');
            fputcsv($file, ['Balang Tarihi', $productionPlan->week_start_date], ';');
            fputcsv($file, ['Oluturan', $productionPlan->user->name ?? '-'], ';');
            fputcsv($file, ['nem Derecesi', $productionPlan->is_important ? 'YKSEK' : 'Normal'], ';');

            fputcsv($file, [], ';');
            fputcsv($file, ['--- RETM DETAYLARI / REETE ---'], ';');

            // JSON VERSN TABLO GB YAZALIM
            // Balklar
            fputcsv($file, ['Makine', 'rn', 'Miktar'], ';');

            $details = is_string($productionPlan->plan_details)
                ? json_decode($productionPlan->plan_details, true)
                : $productionPlan->plan_details;

            if ($details && is_array($details)) {
                foreach ($details as $item) {
                    fputcsv($file, [
                        $item['machine'] ?? '-',
                        $item['product'] ?? '-',
                        $item['quantity'] ?? '0'
                    ], ';');
                }
            } else {
                fputcsv($file, ['Detay Yok'], ';');
            }

            fclose($file);
        };

        return response()->stream($callback, 200, $headers);
    }
}


----------------------------------------
DOSYA YOLU: app\Http\Controllers\RoleController.php
----------------------------------------

<?php

namespace App\Http\Controllers;

use Illuminate\Http\Request;
use Illuminate\Support\Str; // Slug oluturmak iin gerekli
use Illuminate\Support\Facades\Auth;
use Spatie\Permission\Models\Role;
class RoleController extends Controller
{
    // GVENLK DUVARI: Sadece Adminler Eriebilir
    public function __construct()
    {
        // 'auth' middleware'i giri yapm olmay zorunlu klar.
        // erideki checkAdmin fonksiyonu ise admin roln kontrol eder.
        $this->middleware(function ($request, $next) {
            if (!Auth::check() || !Auth::user()->hasRole('admin')) {
                // Admin deilse ana sayfaya at ve hata mesaj gster
                return redirect()->route('home')->with('error', 'Bu sayfaya eriim yetkiniz yok.');
            }
            return $next($request);
        });
    }

    public function index()
    {
        $roles = Role::all();
        return view('roles.index', compact('roles'));
    }

    public function create()
    {
        return view('roles.create');
    }

    public function store(Request $request)
    {
        $request->validate([
            'name' => 'required|string|max:255|unique:roles,name',
        ]);

        // smi slug'a evir (rn: "Sper Ynetici" -> "super-yonetici")
        $slug = Str::slug($request->name);

        Role::create([
            'name' => $request->name,
            'slug' => $slug
        ]);

        return redirect()->route('roles.index')->with('success', 'Rol baaryla oluturuldu.');
    }

    public function edit(Role $role)
    {
        // Temel rollerin (Admin) dzenlenmesini engellemek isterseniz buraya kontrol ekleyebilirsiniz.
        if ($role->slug === 'admin') {
            return redirect()->back()->with('error', 'Admin rol dzenlenemez.');
        }

        return view('roles.edit', compact('role'));
    }

    public function update(Request $request, Role $role)
    {
        if ($role->slug === 'admin') {
            return redirect()->back()->with('error', 'Admin rol dzenlenemez.');
        }

        $request->validate([
            'name' => 'required|string|max:255|unique:roles,name,' . $role->id,
        ]);

        $role->update([
            'name' => $request->name,
            'slug' => Str::slug($request->name)
        ]);

        return redirect()->route('roles.index')->with('success', 'Rol gncellendi.');
    }

    public function destroy(Role $role)
    {
        // Kritik Rolleri Silmeyi Engelle
        if (in_array($role->slug, ['admin', 'kullanici'])) {
            return redirect()->back()->with('error', 'Bu temel rol silinemez.');
        }

        // Rol kullanan kullanc var m kontrol (stee bal)
        if ($role->users()->count() > 0) {
            return redirect()->back()->with('error', 'Bu role sahip kullanclar var, nce onlar deitirin.');
        }

        $role->delete();
        return redirect()->route('roles.index')->with('success', 'Rol silindi.');
    }
}

----------------------------------------
DOSYA YOLU: app\Http\Controllers\ServiceScheduleController.php
----------------------------------------

<?php

namespace App\Http\Controllers;

use Illuminate\Http\Request;

class ServiceScheduleController extends Controller
{
    //
}


----------------------------------------
DOSYA YOLU: app\Http\Controllers\ShipmentController.php
----------------------------------------

<?php

namespace App\Http\Controllers;

use App\Models\Shipment;
use App\Models\Birim;
use App\Models\ShipmentsVehicleType; // Ara tipleri modeli
use App\Services\CsvExporter;
use Illuminate\Http\Request;
use Illuminate\Support\Facades\Auth;
use Illuminate\Support\Facades\Storage;
use Illuminate\Support\Facades\DB; // Transaction iin gerekli
use Carbon\Carbon;

class ShipmentController extends Controller
{
    /**
     * Yeni bir sevkiyat oluturma formunu gsterir.
     */
    public function create()
    {
        $this->authorize('access-department', 'lojistik');
        $birimler = Birim::orderBy('ad')->get();
        return view('shipments.create', compact('birimler'));
    }

    /**
     * Formdan gelen yeni sevkiyat kaydn veritabannda saklar.
     */
    public function store(Request $request)
    {
        $this->authorize('access-department', 'lojistik');

        // Validasyon: Ara tiplerini veritabanndan kontrol ediyoruz (Dinamik Validasyon)
        $rules = [
            'arac_tipi' => 'required|string|exists:shipments_vehicle_types,name',
            'plaka' => 'required_if:arac_tipi,tr,kamyon|nullable|string|max:255',
            'dorse_plakasi' => 'required_if:arac_tipi,tr|nullable|string|max:255',
            'sofor_adi' => 'nullable|string|max:255',
            'imo_numarasi' => 'required_if:arac_tipi,gemi|nullable|string|max:255',
            'gemi_adi' => 'required_if:arac_tipi,gemi|nullable|string|max:255',
            'kalkis_limani' => 'required_if:arac_tipi,gemi|nullable|string|max:255',
            'varis_limani' => 'required_if:arac_tipi,gemi|nullable|string|max:255',
            'kalkis_noktasi' => 'required_if:arac_tipi,tr,kamyon|nullable|string|max:255',
            'varis_noktasi' => 'required_if:arac_tipi,tr,kamyon|nullable|string|max:255',
            'shipment_type' => 'required|string|in:import,export',
            'kargo_icerigi' => 'required|string|max:255',
            'kargo_tipi' => 'required|string|max:255',
            'kargo_miktari' => 'required|string|max:255',
            'cikis_tarihi' => 'required|date',
            'tahmini_varis_tarihi' => 'required|date|after_or_equal:cikis_tarihi',
            'aciklamalar' => 'nullable|string',
            'ek_dosya' => ['nullable', 'file', 'mimes:doc,docx,xls,xlsx,pdf,jpg,jpeg,png,txt', 'max:5120'],
        ];
        $rules = array_merge($rules, Shipment::getDynamicValidationRules());
        $validatedData = $request->validate($rules);
        $validatedData['user_id'] = Auth::id();

        // Veri btnl iin Transaction balatyoruz
        DB::transaction(function () use ($request, $validatedData) {

            $dosyaYolu = null;
            $uploadedFile = null;

            if ($request->hasFile('ek_dosya')) {
                $uploadedFile = $request->file('ek_dosya');
                $dosyaYolu = $uploadedFile->store('sevkiyat_dosyalari', 'public');
                $validatedData['dosya_yolu'] = $dosyaYolu;
            }

            // 1. ADIM: Sevkiyat olutur
            $shipment = Shipment::create($validatedData);

            // 2. ADIM: Files tablosuna kayt (Transaction iinde gvenli)
            if ($uploadedFile && $dosyaYolu) {
                DB::table('files')->insert([
                    'fileable_type' => get_class($shipment),
                    'fileable_id' => $shipment->id,
                    'path' => $dosyaYolu,
                    'original_name' => $uploadedFile->getClientOriginalName(),
                    'mime_type' => $uploadedFile->getMimeType(),
                    'uploaded_by' => Auth::id(),
                    'created_at' => now(),
                    'updated_at' => now(),
                ]);
            }
        });

        return redirect()->route('shipments.create')->with('success', 'Sevkiyat kayd baaryla oluturuldu!');
    }

    /**
     * Belirtilen sevkiyat dzenleme formunu gsterir.
     */
    public function edit(Shipment $shipment)
    {
        $this->authorize('access-department', 'lojistik');

        $birimler = Birim::orderBy('ad')->get();

        // Yetki kontrol
        if (Auth::id() !== $shipment->user_id && !in_array(Auth::user()->role, ['admin', 'ynetici'])) {
            return redirect()->route('home')
                ->with('error', 'Bu sevkiyat sadece oluturan kii dzenleyebilir.');
        }

        return view('shipments.edit', compact('shipment', 'birimler'));
    }

    /**
     * Veritabanndaki belirtilen sevkiyat gnceller.
     */
    public function update(Request $request, Shipment $shipment)
    {
        $this->authorize('access-department', 'lojistik');

        if (Auth::id() !== $shipment->user_id && !in_array(Auth::user()->role, ['admin', 'ynetici'])) {
            return redirect()->route('home')
                ->with('error', 'Bu sevkiyat sadece oluturan kii dzenleyebilir.');
        }

        $rules = [
            'arac_tipi' => 'required|string|exists:shipments_vehicle_types,name',
            'plaka' => 'nullable|string|max:255',
            'dorse_plakasi' => 'nullable|string|max:255',
            'sofor_adi' => 'nullable|string|max:255',
            'imo_numarasi' => 'nullable|string|max:255',
            'gemi_adi' => 'nullable|string|max:255',
            'kalkis_limani' => 'nullable|string|max:255',
            'varis_limani' => 'nullable|string|max:255',
            'kalkis_noktasi' => 'nullable|string|max:255',
            'varis_noktasi' => 'nullable|string|max:255',
            'shipment_type' => 'required|string|in:import,export',
            'kargo_icerigi' => 'required|string|max:255',
            'kargo_tipi' => 'required|string|max:255',
            'kargo_miktari' => 'required|string|max:255',
            'cikis_tarihi' => 'required|date',
            'tahmini_varis_tarihi' => 'required|date|after_or_equal:cikis_tarihi',
            'aciklamalar' => 'nullable|string',
            'ek_dosya' => ['nullable', 'file', 'mimes:doc,docx,xls,xlsx,pdf,jpg,jpeg,png,txt', 'max:5120'],
            'dosya_sil' => 'nullable|boolean',
            'shipment_status' => 'nullable|string|in:pending,on_road,delivered',
        ];
        $rules = array_merge($rules, Shipment::getDynamicValidationRules());
        $validatedData = $request->validate($rules);

        DB::transaction(function () use ($request, $shipment, $validatedData) {

            // --- DOSYA YNETM ---
            if ($request->hasFile('ek_dosya')) {
                // Eski fiziksel dosyay sil
                if ($shipment->dosya_yolu && Storage::disk('public')->exists($shipment->dosya_yolu)) {
                    Storage::disk('public')->delete($shipment->dosya_yolu);
                }

                $uploadedFile = $request->file('ek_dosya');
                $dosyaYolu = $uploadedFile->store('sevkiyat_dosyalari', 'public');
                $validatedData['dosya_yolu'] = $dosyaYolu;

                // Files tablosuna yeni kayt
                DB::table('files')->insert([
                    'fileable_type' => get_class($shipment),
                    'fileable_id' => $shipment->id,
                    'path' => $dosyaYolu,
                    'original_name' => $uploadedFile->getClientOriginalName(),
                    'mime_type' => $uploadedFile->getMimeType(),
                    'uploaded_by' => Auth::id(),
                    'created_at' => now(),
                    'updated_at' => now(),
                ]);

            } elseif ($request->has('dosya_sil') && $request->input('dosya_sil') == '1') {
                if ($shipment->dosya_yolu && Storage::disk('public')->exists($shipment->dosya_yolu)) {
                    Storage::disk('public')->delete($shipment->dosya_yolu);
                }
            }
            // --- DOSYA YNETM SONU ---
            if (!isset($validatedData['shipment_status'])) {
                unset($validatedData['shipment_status']); // Null gidip veriyi bozmasn
            }
            $shipment->update($validatedData);
        });

        return redirect()->route('shipments.show', $shipment->id)
            ->with('success', 'Sevkiyat kayd baaryla gncellendi!');
    }

    /**
     * Belirtilen sevkiyat bir CSV dosyas olarak indirir.
     */
    public function export(Shipment $shipment)
    {
        // 1. Yetki Kontrol AKTF EDLD
        $this->authorize('access-department', 'lojistik');

        $fileName = 'sevkiyat_detay_' . $shipment->id . '.csv';

        // ... (Header mant ayn kald) ...
        $ortakBasliklar = ['ID', 'Ara Tipi', 'Kargo Yk', 'Kargo Tipi', 'Kargo Miktar', 'k Tarihi', 'Tahmini Var Tarihi', 'Aklamalar', 'hracat/thalat'];
        $ozelBasliklar = [];

        if (in_array($shipment->arac_tipi, ['tr', 'kamyon'])) {
            $ozelBasliklar = ['Plaka', 'Dorse Plakas', 'ofr Ad', 'Kalk Noktas', 'Var Noktas'];
        } elseif ($shipment->arac_tipi === 'gemi') {
            $ozelBasliklar = ['IMO Numaras', 'Gemi Ad', 'Kalk Liman', 'Var Liman'];
        }

        $finalHeaders = array_merge(array_slice($ortakBasliklar, 0, 2), $ozelBasliklar, array_slice($ortakBasliklar, 2));

        return CsvExporter::streamDownload(
            query: Shipment::where('id', $shipment->id),
            headers: $finalHeaders,
            fileName: $fileName,
            rowMapper: function ($record) {
                $sevkiyatTuru = match ($record->shipment_type) {
                    'export' => 'hracat',
                    'import' => 'thalat',
                    'default' => $record->shipment_type
                };

                $ortakData = [
                    $record->id,
                    ucfirst($record->arac_tipi),
                    $record->kargo_icerigi,
                    $record->kargo_tipi,
                    $record->kargo_miktari,
                    $record->cikis_tarihi ? Carbon::parse($record->cikis_tarihi)->format('d.m.Y H:i') : '-',
                    $record->tahmini_varis_tarihi ? Carbon::parse($record->tahmini_varis_tarihi)->format('d.m.Y H:i') : '-',
                    $record->aciklamalar,
                    $sevkiyatTuru
                ];

                $ozelData = [];
                if (in_array($record->arac_tipi, ['tr', 'kamyon'])) {
                    $ozelData = [$record->plaka, $record->arac_tipi === 'kamyon' ? '' : $record->dorse_plakasi, $record->sofor_adi, $record->kalkis_noktasi, $record->varis_noktasi];
                } elseif ($record->arac_tipi === 'gemi') {
                    $ozelData = [$record->imo_numarasi, $record->gemi_adi, $record->kalkis_limani, $record->varis_limani];
                }

                return array_merge(array_slice($ortakData, 0, 2), $ozelData, array_slice($ortakData, 2));
            }
        );
    }

    /**
     * TM SEVKYAT LSTESN DIA AKTAR
     */
    public function exportList(Request $request)
    {
        // Yetki Kontrol EKLEND
        $this->authorize('access-department', 'lojistik');

        $fileName = 'tum-sevkiyatlar-' . date('d-m-Y') . '.csv';
        $query = Shipment::latest();

        $headers = ['ID', 'Tip', 'Mteri/Firma', 'Plaka / Gemi Ad', 'ofr / IMO', 'k Noktas', 'Var Noktas', 'Yk erii', 'Durum', 'k Tarihi'];

        return CsvExporter::streamDownload(
            query: $query,
            headers: $headers,
            fileName: $fileName,
            rowMapper: function ($shipment) {
                $aracBilgisi = '-';
                $soforBilgisi = '-';

                if (in_array($shipment->arac_tipi, ['tr', 'kamyon'])) {
                    $aracBilgisi = $shipment->plaka . ($shipment->dorse_plakasi ? ' / ' . $shipment->dorse_plakasi : '');
                    $soforBilgisi = $shipment->sofor_adi;
                } elseif ($shipment->arac_tipi === 'gemi') {
                    $aracBilgisi = $shipment->gemi_adi;
                    $soforBilgisi = 'IMO: ' . $shipment->imo_numarasi;
                }

                return [
                    $shipment->id,
                    ucfirst($shipment->arac_tipi),
                    $shipment->musteri_adi ?? '-',
                    $aracBilgisi,
                    $soforBilgisi,
                    $shipment->kalkis_noktasi ?? $shipment->kalkis_limani ?? '-',
                    $shipment->varis_noktasi ?? $shipment->varis_limani ?? '-',
                    $shipment->kargo_icerigi,
                    $shipment->status ?? 'Aktif',
                    $shipment->cikis_tarihi ? \Carbon\Carbon::parse($shipment->cikis_tarihi)->format('d.m.Y') : '-'
                ];
            }
        );
    }

    public function destroy(Shipment $shipment)
    {
        $this->authorize('access-department', 'lojistik');

        if (Auth::id() !== $shipment->user_id && !in_array(Auth::user()->role, ['admin', 'ynetici'])) {
            return redirect()->route('home')->with('error', 'Bu sevkiyat sadece oluturan kii silebilir.');
        }

        // Silme ilemi de Transaction iine alnd
        DB::transaction(function () use ($shipment) {
            // 1. Fiziksel dosyay sil (p dosya olumamas iin)
            if ($shipment->dosya_yolu && Storage::disk('public')->exists($shipment->dosya_yolu)) {
                Storage::disk('public')->delete($shipment->dosya_yolu);
            }

            // 2. Files tablosundaki yetim kayd temizle
            DB::table('files')
                ->where('fileable_id', $shipment->id)
                ->where('fileable_type', get_class($shipment))
                ->delete();

            // 3. Sevkiyat sil
            $shipment->delete();
        });

        return redirect()->route('home')->with('success', 'Sevkiyat kayd ve ilikili dosyalar baaryla silindi.');
    }

    public function onayla(Request $request, Shipment $shipment)
    {
        $this->authorize('access-department', 'lojistik');
        $shipment->refresh();

        if ($shipment->onaylanma_tarihi) {
            return redirect()->route('home', ['open_modal' => $shipment->id])
                ->with('error', 'Bu sevkiyat zaten daha nce onaylanm.');
        }

        $shipment->onaylanma_tarihi = Carbon::now();
        $shipment->onaylayan_user_id = Auth::id();
        $shipment->save();

        return redirect()->route('home', ['open_modal' => $shipment->id])
            ->with('success', 'Sevkiyat baaryla onayland.');
    }

    public function onayiGeriAl(Request $request, Shipment $shipment)
    {
        $this->authorize('access-department', 'lojistik');
        $shipment->refresh();

        if (is_null($shipment->onaylanma_tarihi)) {
            return redirect()->route('home', ['open_modal' => $shipment->id])
                ->with('error', 'Bu sevkiyat zaten onaylanmam durumdadr.');
        }

        $shipment->onaylanma_tarihi = null;
        $shipment->onaylayan_user_id = null;
        $shipment->save();

        return redirect()->route('home', ['open_modal' => $shipment->id])
            ->with('success', 'Sevkiyat onay baaryla geri alnd.');
    }

    /**
     * Filtreli Listeleme (Pagination Eklendi)
     */
    public function listAllFiltered(Request $request)
    {
        $this->authorize('access-department', 'lojistik');

        $query = Shipment::query();
        $user = Auth::user();
        $isImportantFilter = $request->input('is_important', 'all');

        if ($isImportantFilter !== 'all' && $user && in_array($user->role, ['admin', 'ynetici'])) {
            if ($isImportantFilter === 'yes') {
                $query->where('is_important', true);
            } elseif ($isImportantFilter === 'no') {
                $query->where('is_important', false);
            }
        }

        if ($request->filled('shipment_type') && $request->input('shipment_type') !== 'all') {
            $query->where('shipment_type', $request->input('shipment_type'));
        }

        if ($request->filled('vehicle_type') && $request->input('vehicle_type') !== 'all') {
            $query->where('arac_tipi', $request->input('vehicle_type'));
        }

        if ($request->filled('cargo_content')) {
            $query->where('kargo_icerigi', 'LIKE', '%' . $request->input('cargo_content') . '%');
        }

        if ($request->filled('date_from')) {
            try {
                $dateFrom = Carbon::parse($request->input('date_from'))->startOfDay();
                $query->where('cikis_tarihi', '>=', $dateFrom);
            } catch (\Exception $e) {
                return back()->with('error', 'Geersiz balang tarihi format.');
            }
        }
        if ($request->filled('date_to')) {
            try {
                $dateTo = Carbon::parse($request->input('date_to'))->endOfDay();
                $query->where('cikis_tarihi', '<=', $dateTo);
            } catch (\Exception $e) {
                return back()->with('error', 'Geersiz biti tarihi format.');
            }
        }

        $shipments = $query->orderBy('cikis_tarihi', 'desc')
            ->paginate(15)
            ->appends($request->query());

        $vehicleTypes = ShipmentsVehicleType::pluck('name');
        $cargoContents = Shipment::distinct()->pluck('kargo_icerigi')->filter()->sort()->values();
        $filters = $request->only(['shipment_type', 'vehicle_type', 'cargo_content', 'date_from', 'date_to', 'is_important']);

        return view('shipments.list', compact('shipments', 'vehicleTypes', 'cargoContents', 'filters'));
    }

    public function show($id)
    {
        // Yetki Kontrol EKLEND
        $this->authorize('access-department', 'lojistik');

        $shipment = Shipment::with('stops')->findOrFail($id);

        return view('shipments.show', compact('shipment'));
    }
}

----------------------------------------
DOSYA YOLU: app\Http\Controllers\ShipmentStopController.php
----------------------------------------

<?php

namespace App\Http\Controllers;

use App\Models\Shipment;
use App\Models\ShipmentStop;
use Illuminate\Http\Request;

class ShipmentStopController extends Controller
{
    public function store(Request $request, $shipmentId)
    {
        // 1. Validasyon
        $request->validate([
            'location_name' => 'required|string',
            'dropped_amount' => 'required|numeric|min:0',
            'stop_date' => 'required|date',
        ]);

        // 2. Ana Sevkiyat Bul
        $shipment = Shipment::findOrFail($shipmentId);

        // 3. Matematiksel Hesaplama (Kritik Nokta)
        // Eer daha nce durak varsa son duraktaki kalan al, yoksa ana yk al.
        $currentBalance = $shipment->latest_remaining_amount; // Modelde yazdmz helper' kullandk

        $dropped = $request->dropped_amount;
        $newRemaining = $currentBalance - $dropped;

        // 4. Eksiye dmeyi engelle (Opsiyonel ama gvenli)
        if ($newRemaining < 0) {
            return back()->withErrors(['msg' => 'Hata: ndirilen miktar, arataki ykten fazla olamaz!']);
        }

        // 5. Kayt
        ShipmentStop::create([
            'shipment_id' => $shipment->id,
            'location_name' => $request->location_name,
            'dropped_amount' => $dropped,
            'remaining_amount' => $newRemaining, // Otomatik hesaplanan deer
            'stop_date' => $request->stop_date,
            'receiver_name' => $request->receiver_name,
            'note' => $request->note
        ]);

        return back()->with('success', 'Sevkiyat dura baaryla eklendi.');
    }

    // Durak silinirse (Yanl ilem yaplrsa)
    public function destroy($id)
    {
        ShipmentStop::destroy($id);
        return back()->with('success', 'Durak kayd silindi.');
    }
}


----------------------------------------
DOSYA YOLU: app\Http\Controllers\StatisticsController.php
----------------------------------------

<?php

namespace App\Http\Controllers;

use Illuminate\Http\Request;
use App\Services\StatisticsService;
use Illuminate\Support\Facades\Auth;
use App\Models\Department;
use App\Models\BusinessUnit;
use Carbon\Carbon;

class StatisticsController extends Controller
{
    protected $statsService;

    public function __construct(StatisticsService $statsService)
    {
        $this->middleware('auth');
        $this->statsService = $statsService;
    }

    /**
     * statistik Sayfas - Business Unit ve Spatie Entegrasyonu
     */
    public function index(Request $request)
    {
        $user = Auth::user();

        // 1. KULLANICININ YETK SEVYESN BELRLE (Spatie)
        // Admin, Ynetici veya Global yetkisi olanlar
        $isGlobalAdmin = $user->hasRole(['admin', 'yonetici']) || $user->can('view_all_business_units');

        // Mdr yetkisi (veya birden fazla departmana bakanlar)
        $isManager = !$isGlobalAdmin && ($user->hasRole('mudur') || $user->departments->count() > 1);

        // Grnm Seviyesi
        $viewLevel = ($isGlobalAdmin || $isManager) ? 'full' : 'basic';

        // 2. ERLEBLR DEPARTMANLAR (Matris Yap)
        $allowedDepartments = collect();

        if ($isGlobalAdmin) {
            $allowedDepartments = Department::orderBy('name')->get();
        } else {
            // Kullancnn pivot tablodaki departmanlarn al
            $allowedDepartments = $user->departments;

            // Fallback: Eer pivot bosa ve eski usul department_id varsa onu ekle
            if ($allowedDepartments->isEmpty() && $user->department) {
                $allowedDepartments = collect([$user->department]);
            }
        }

        // 3. HEDEF DEPARTMANI BELRLE VE DORULA
        $requestedSlug = $request->input('target_dept');

        // Varsaylan slug belirleme
        if (!$requestedSlug) {
            if ($isGlobalAdmin) {
                $requestedSlug = 'genel';
            } else {
                $requestedSlug = $allowedDepartments->first()?->slug ?? 'genel';
            }
        }

        // Gvenlik: Yetkisiz departman eriimini engelle
        if (!$isGlobalAdmin && $requestedSlug !== 'genel' && !$allowedDepartments->contains('slug', $requestedSlug)) {
            $requestedSlug = $allowedDepartments->first()?->slug ?? 'genel';
        }

        // Standart alan "genel" bak gremez, kendi departmanna zorla
        if ($requestedSlug === 'genel' && !$isGlobalAdmin && !$isManager) {
            $requestedSlug = $allowedDepartments->first()?->slug;
        }

        $departmentSlug = $requestedSlug;

        // AKTF FABRKA BLGS (Balk in)
        // Middleware tarafndan session'a atlan veriyi alyoruz
        $activeUnitId = session('active_unit_id');
        $activeUnitName = session('active_unit_name', 'Tm Fabrikalar');

        // Balk Ayar
        if ($departmentSlug === 'genel') {
            $departmentName = 'Genel Bak';
            $pageTitle = "$activeUnitName - Ynetici Paneli";
        } else {
            $targetDeptObj = Department::where('slug', $departmentSlug)->first();
            $departmentName = $targetDeptObj ? $targetDeptObj->name : ucfirst($departmentSlug);
            $pageTitle = "$activeUnitName - $departmentName Raporu";
        }

        // Tarih Filtreleri
        $defaultStartDate = Carbon::now()->startOfYear();
        $defaultEndDate = Carbon::now()->endOfYear();
        $filters = [
            'date_from' => $request->input('date_from', $defaultStartDate->toDateString()),
            'date_to' => $request->input('date_to', $defaultEndDate->toDateString())
        ];
        $startDate = Carbon::parse($filters['date_from'])->startOfDay();
        $endDate = Carbon::parse($filters['date_to'])->endOfDay();


        $statsData = [];
        try {
            switch ($departmentSlug) {
                case 'lojistik':
                    // $activeUnitId parametresini ekledik
                    $statsData = $this->statsService->getLojistikStatsData($startDate, $endDate, $viewLevel, $activeUnitId)->toArray();
                    break;
                case 'uretim':
                    $statsData = $this->statsService->getUretimStatsData($startDate, $endDate, $viewLevel, $activeUnitId)->toArray();
                    break;
                case 'hizmet':
                    $statsData = $this->statsService->getHizmetStatsData($startDate, $endDate, $viewLevel, $activeUnitId)->toArray();
                    break;
                case 'bakim':
                    $statsData = $this->statsService->getBakimStatsData($startDate, $endDate, $viewLevel, $activeUnitId)->toArray();
                    break;
                case 'ulastirma':
                    $statsData = $this->statsService->getUlastirmaStatsData($startDate, $endDate, $viewLevel, $activeUnitId)->toArray();
                    break;
                case 'genel':
                    // Genel bak iin de gnderiyoruz
                    $statsData = $this->statsService->getGenelBakisData($startDate, $endDate, $allowedDepartments, $activeUnitId)->toArray();
                    break;
                default:
                    $statsData = [];
                    break;
            }
        } catch (\Exception $e) {
            \Log::error('statistik Hatas: ' . $e->getMessage());
            $statsData = [];
        }

        $isTvUser = ($user->email === 'tv@koksan.com');

        return view('statistics.index', array_merge(
            [
                'pageTitle' => $pageTitle,
                'departmentSlug' => $departmentSlug,
                'departmentName' => $departmentName,
                'filters' => $filters,
                'isSuperUser' => $isGlobalAdmin,
                'isManager' => $isManager,
                'allowedDepartments' => $allowedDepartments,
                'viewLevel' => $viewLevel,
                'isTvUser' => $isTvUser,
                'activeUnitName' => $activeUnitName
            ],
            $statsData
        ));
    }
}

----------------------------------------
DOSYA YOLU: app\Http\Controllers\SystemController.php
----------------------------------------

<?php

namespace App\Http\Controllers;

use Illuminate\Http\Request;
use App\Models\Shipment;
use App\Models\ProductionPlan;
use App\Models\Event;
use App\Models\VehicleAssignment;
use App\Models\MaintenancePlan;
use App\Models\Travel;
use App\Models\User;
// Eklediin yeni EventType vs. varsa onlar da ekle
use Illuminate\Support\Facades\Cache;

class SystemController extends Controller
{
    /**
     * AJAX istei buraya gelir, gncel hash'i dndrr.
     */
    public function checkUpdates()
    {
        return response()->json([
            'hash' => self::calculateSystemHash()
        ]);
    }

    /**
     * MERKEZ HASH HESAPLAMA FONKSYONU
     * Bu fonksiyonu static yaptk ki ServiceProvider'dan da arabilelim.
     */
    public static function calculateSystemHash()
    {
        // Tm kritik tablolarn gncellenme zamanlarn alyoruz
        $timestamps = [
            Shipment::max('updated_at'),
            ProductionPlan::max('updated_at'),
            Event::max('updated_at'),
            VehicleAssignment::max('updated_at'),
            MaintenancePlan::max('updated_at'),
            Travel::max('updated_at'),
            User::max('updated_at'),
        ];

        // Bu diziye gre benzersiz bir parmak izi oluturuyoruz
        return md5(json_encode($timestamps));
    }
}

----------------------------------------
DOSYA YOLU: app\Http\Controllers\TeamController.php
----------------------------------------

<?php

namespace App\Http\Controllers;

use Illuminate\Database\Eloquent\Factories\HasFactory;
use App\Models\Team;
use App\Models\User;
use Illuminate\Http\Request;
use Illuminate\Contracts\View\View;
use Illuminate\Http\RedirectResponse;
use Illuminate\Database\Eloquent\ModelNotFoundException;
use Illuminate\Http\JsonResponse;
use Illuminate\Support\Facades\Auth;
use Illuminate\Database\Eloquent\SoftDeletes;

class TeamController extends Controller
{
    use HasFactory, SoftDeletes;
    /**
     * Takmlar listeler.
     */
    public function index(): View
    {
        $teams = Team::with(['users', 'creator'])
            ->withCount('users') // ye saysn otomatik hesaplar
            ->latest()
            ->paginate(15);

        return view('teams.index', compact('teams'));
    }

    /**
     * Yeni takm oluturma formu.
     */
    public function create(): View
    {
        $users = User::orderBy('name')->get();
        return view('teams.create', compact('users'));
    }

    /**
     * Yeni takm kaydeder.
     */
    public function store(Request $request): RedirectResponse|JsonResponse
    {
        $validatedData = $request->validate([
            'name' => 'required|string|max:255|unique:teams,name',
            'description' => 'nullable|string|max:1000',
            'members' => 'required|array|min:1',
            'members.*' => 'exists:users,id',
        ], [
            'name.required' => 'Takm ad zorunludur.',
            'name.unique' => 'Bu isimde bir takm zaten mevcut.',
            'members.required' => 'Takma en az bir ye eklemelisiniz.',
            'members.min' => 'Takma en az bir ye eklemelisiniz.',
        ]);

        // Takm olutur
        $team = Team::create([
            'name' => $validatedData['name'],
            'description' => $validatedData['description'] ?? null,
            'created_by_user_id' => Auth::id(),
            'is_active' => true,
        ]);

        // yeleri ekle
        $team->users()->attach($validatedData['members']);

        // AJAX istei ise JSON dndr
        if ($request->expectsJson()) {
            return response()->json([
                'success' => true,
                'message' => 'Takm baaryla oluturuldu.',
                'team' => [
                    'id' => $team->id,
                    'name' => $team->name,
                    'description' => $team->description,
                    'members_count' => count($validatedData['members'])
                ]
            ], 201);
        }

        return redirect()->route('teams.index')
            ->with('success', 'Takm baaryla oluturuldu.');
    }

    /**
     * Takm detaylarn gsterir.
     */
    public function show(Team $team): View
    {
        $team->load(['users', 'creator', 'assignments']);

        return view('teams.show', compact('team'));
    }

    /**
     * Takm dzenleme formu.
     */
    public function edit(Team $team): View|RedirectResponse
    {
        try {
            $team->load('users');
            $selectedUserIds = $team->users->pluck('id')->toArray();
            $users = User::orderBy('name')->get();

            return view('teams.edit', compact('team', 'users', 'selectedUserIds'));

        } catch (ModelNotFoundException $e) {
            return redirect()->route('teams.index')
                ->with('error', 'Takm bulunamad.');
        }
    }

    /**
     * Takm gnceller.
     */
    public function update(Request $request, Team $team): RedirectResponse
    {
        $validatedData = $request->validate([
            'name' => 'required|string|max:255|unique:teams,name,' . $team->id,
            'description' => 'nullable|string|max:1000',
            'members' => 'required|array|min:1',
            'members.*' => 'exists:users,id',
            'is_active' => 'sometimes|boolean',
        ], [
            'name.required' => 'Takm ad zorunludur.',
            'name.unique' => 'Bu isimde bir takm zaten mevcut.',
            'members.required' => 'Takma en az bir ye eklemelisiniz.',
            'members.min' => 'Takma en az bir ye eklemelisiniz.',
        ]);

        // Takm gncelle
        $team->update([
            'name' => $validatedData['name'],
            'description' => $validatedData['description'] ?? null,
            'is_active' => $validatedData['is_active'] ?? $team->is_active,
        ]);

        // yeleri gncelle
        $team->users()->sync($validatedData['members']);

        return redirect()->route('teams.index')
            ->with('success', 'Takm baaryla gncellendi.');
    }

    /**
     * Takm siler.
     */
    public function destroy(Team $team): RedirectResponse
    {
        try {
            // Takma atanm aktif grev var m kontrol et
            $activeAssignments = $team->assignments()
                ->whereIn('status', ['pending', 'in_progress'])
                ->count();

            if ($activeAssignments > 0) {
                return redirect()->route('teams.index')
                    ->with('error', "Bu takm silinemedi. Takma atanm {$activeAssignments} aktif grev bulunuyor.");
            }

            $team->delete();

            return redirect()->route('teams.index')
                ->with('success', 'Takm baaryla silindi.');

        } catch (\Exception $e) {
            return redirect()->route('teams.index')
                ->with('error', 'Bu takm silinemedi. Beklenmeyen bir hata olutu.');
        }
    }

    /**
     * Takm aktif/pasif yapar.
     */
    public function toggleActive(Team $team): RedirectResponse|JsonResponse
    {
        $team->is_active = !$team->is_active;
        $team->save();

        $message = $team->is_active
            ? 'Takm aktif edildi.'
            : 'Takm pasif edildi.';

        if (request()->expectsJson()) {
            return response()->json([
                'success' => true,
                'message' => $message,
                'is_active' => $team->is_active
            ]);
        }

        return back()->with('success', $message);
    }

    /**
     * Takma ye ekler (AJAX).
     */
    public function addMember(Request $request, Team $team): JsonResponse
    {
        $request->validate([
            'user_id' => 'required|exists:users,id'
        ]);

        if ($team->users()->where('user_id', $request->user_id)->exists()) {
            return response()->json([
                'success' => false,
                'message' => 'Bu kullanc zaten takmda.'
            ], 422);
        }

        $team->users()->attach($request->user_id);

        $user = User::find($request->user_id);

        return response()->json([
            'success' => true,
            'message' => 'ye baaryla eklendi.',
            'user' => [
                'id' => $user->id,
                'name' => $user->name,
                'email' => $user->email
            ]
        ]);
    }

    /**
     * Takmdan ye karr (AJAX).
     */
    public function removeMember(Request $request, Team $team): JsonResponse
    {
        $request->validate([
            'user_id' => 'required|exists:users,id'
        ]);

        // En az 1 ye kalmal
        if ($team->users()->count() <= 1) {
            return response()->json([
                'success' => false,
                'message' => 'Takmda en az bir ye kalmaldr.'
            ], 422);
        }

        $team->users()->detach($request->user_id);

        return response()->json([
            'success' => true,
            'message' => 'ye baaryla karld.'
        ]);
    }

    /**
     * Kullancnn takmlarn listeler (AJAX).
     */
    public function getUserTeams(User $user): JsonResponse
    {
        $teams = $user->teams()
            ->with('users')
            ->withCount('users')
            ->get();

        return response()->json([
            'success' => true,
            'teams' => $teams
        ]);
    }
}

----------------------------------------
DOSYA YOLU: app\Http\Controllers\TestResultController.php
----------------------------------------

<?php

namespace App\Http\Controllers;

use App\Models\Customer;
use App\Models\TestResult;
use Illuminate\Http\Request;
use Illuminate\Support\Facades\Auth;

class TestResultController extends Controller
{
    /**
     * Display a listing of the resource.
     *
     * @return \Illuminate\Http\Response
     */
    public function index()
    {
        //
    }

    /**
     * Show the form for creating a new resource.
     *
     * @return \Illuminate\Http\Response
     */
    public function create()
    {
        //
    }

    /**
     * Store a newly created resource in storage.
     *
     * @param  \Illuminate\Http\Request  $request
     * @return \Illuminate\Http\Response
     */
    public function store(Request $request, Customer $customer)
    {
        $validated = $request->validate([
            'test_name' => 'required|string|max:255',
            'test_date' => 'required|date',
            'summary' => 'nullable|string',
            'test_files.*' => 'nullable|file|mimes:jpeg,jpg,png,pdf|max:10240'
        ]);

        $testResult = $customer->testResults()->create([
            'user_id' => Auth::id(),
            'test_name' => $validated['test_name'],
            'test_date' => $validated['test_date'],
            'summary' => $validated['summary'],
        ]);

        // Spatie MediaLibrary ile Dosyalar Ekle
        if ($request->hasFile('test_files')) {
            foreach ($request->file('test_files') as $file) {
                $testResult->addMedia($file)->toMediaCollection('test_reports');
            }
        }

        return redirect()->route('customers.show', $customer)
            ->with('success', 'Yeni test sonucu baaryla eklendi!');
    }

    /**
     * Display the specified resource.
     *
     * @param  \App\Models\TestResult  $testResult
     * @return \Illuminate\Http\Response
     */
    public function show(TestResult $testResult)
    {
        //
    }

    /**
     * Show the form for editing the specified resource.
     *
     * @param  \App\Models\TestResult  $testResult
     * @return \Illuminate\Http\Response
     */
    public function edit(TestResult $testResult)
    {
        //
    }

    /**
     * Update the specified resource in storage.
     *
     * @param  \Illuminate\Http\Request  $request
     * @param  \App\Models\TestResult  $testResult
     * @return \Illuminate\Http\Response
     */
    public function update(Request $request, TestResult $testResult)
    {
        //
    }

    /**
     * Remove the specified resource from storage.
     *
     * @param  \App\Models\TestResult  $testResult
     * @return \Illuminate\Http\Response
     */
    public function destroy(TestResult $testResult)
    {
        //
    }
}


----------------------------------------
DOSYA YOLU: app\Http\Controllers\TodoController.php
----------------------------------------

<?php

namespace App\Http\Controllers;

use App\Models\Todo;
use Illuminate\Http\Request;
use Illuminate\Support\Facades\Auth;
use Carbon\Carbon;

class TodoController extends Controller
{
    /**
     * Yeni Grev Ekle
     */
    public function store(Request $request)
    {
        $request->validate([
            'title' => 'required|string|max:255',
            'due_date' => 'nullable|date',
            'priority' => 'required|in:low,medium,high'
        ]);

        // Aktif Business Unit'i bul
        $unitId = session('active_unit_id');

        // Eer session yoksa ve kullanc bir birime balysa ilkini al
        if (!$unitId) {
            $unitId = Auth::user()->businessUnits->first()?->id;
        }

        $todo = Todo::create([
            'user_id' => Auth::id(),
            'business_unit_id' => $unitId, // Otomatik atanr
            'title' => $request->title,
            'description' => $request->description,
            'due_date' => $request->due_date ? Carbon::parse($request->due_date) : null,
            'priority' => $request->priority,
        ]);

        return response()->json(['success' => true, 'data' => $todo, 'message' => 'Grev eklendi.']);
    }

    /**
     * Durum Gncelle (Tamamland/Devam Ediyor)
     */
    public function toggle(Todo $todo)
    {
        // Gvenlik: Sadece kendi grevini gncelleyebilir
        if ($todo->user_id !== Auth::id()) {
            return response()->json(['success' => false], 403);
        }

        $todo->update(['is_completed' => !$todo->is_completed]);

        return response()->json(['success' => true, 'new_status' => $todo->is_completed]);
    }

    /**
     * Sil
     */
    public function destroy(Todo $todo)
    {
        if ($todo->user_id !== Auth::id()) {
            return response()->json(['success' => false], 403);
        }

        $todo->delete();
        return response()->json(['success' => true]);
    }
}


----------------------------------------
DOSYA YOLU: app\Http\Controllers\TravelController.php
----------------------------------------

<?php

namespace App\Http\Controllers;

use App\Models\Travel;
use App\Models\User;
use Illuminate\Http\Request;
use Illuminate\Support\Facades\Auth;
use Carbon\Carbon;
use Illuminate\Support\Facades\Notification;
use Illuminate\Support\Facades\Log;
use App\Notifications\NewTravelPlanNotification;
use App\Services\CsvExporter;

class TravelController extends Controller
{
    public function __construct()
    {
        $this->middleware('auth');
    }

    public function index(Request $request)
    {
        $user = Auth::user();

        // 1. TMN GRME YETKS KONTROL
        // Admin, Global Ynetici VEYA Ulatrma Mdr tm seyahatleri grebilir.
        $canViewAll = $user->role === 'admin' ||
            $user->can('is-global-manager') ||
            ($user->department && $user->department->slug === 'ulastirma');

        $filters = [
            'name' => $request->input('name'),
            'status' => $request->input('status', 'all'),
            'is_important' => $request->input('is_important', 'all'),
            'date_from' => $request->input('date_from'),
            'date_to' => $request->input('date_to'),
            'user_id' => $request->input('user_id', 'all'),
        ];

        $travelsQuery = Travel::with('user');

        // --- FLTRELER ---
        if (!empty($filters['name'])) {
            $travelsQuery->where('name', 'LIKE', '%' . $filters['name'] . '%');
        }
        if ($filters['status'] !== 'all') {
            $travelsQuery->where('status', $filters['status']);
        }
        if ($filters['is_important'] !== 'all') {
            $travelsQuery->where('is_important', $filters['is_important'] === 'yes');
        }
        if (!empty($filters['date_from'])) {
            $travelsQuery->where('end_date', '>=', Carbon::parse($filters['date_from'])->startOfDay());
        }
        if (!empty($filters['date_to'])) {
            $travelsQuery->where('start_date', '<=', Carbon::parse($filters['date_to'])->endOfDay());
        }

        // --- YETK FLTRES ---

        // Eer "Tmn Grme Yetkisi" YOKSA, sadece kendi seyahatlerini grsn
        if (!$canViewAll) {
            $travelsQuery->where('user_id', $user->id);
        }
        // Eer yetkisi varsa VE filtrede belirli bir kullanc seildiyse ona gre sz
        elseif ($filters['user_id'] !== 'all') {
            $travelsQuery->where('user_id', $filters['user_id']);
        }

        $travels = $travelsQuery->orderBy('start_date', 'desc')
            ->paginate(20)
            ->appends($filters);

        // Kullanc Listesi (Filtreleme iin)
        $users = collect();
        if ($canViewAll) {
            // Seyahat oluturma potansiyeli olan herkesi listele (Hizmet ve Adminler)
            // Ulatrma Mdr de filtreleme yapabilsin diye bu listeyi gryor
            $users = User::whereHas('department', fn($q) => $q->where('slug', 'hizmet'))
                ->orWhere('role', 'admin')
                ->orderBy('name')
                ->get();
        }

        return view('travels.index', compact('travels', 'filters', 'users'));
    }

    public function create()
    {
        $user = Auth::user();
        if ($user->role !== 'admin' && (!$user->department || $user->department->slug !== 'hizmet')) {
            abort(403, 'Seyahat plan oluturma yetkiniz bulunmamaktadr. Ltfen dari ler ile grn.');
        }
        return view('travels.create');
    }

    public function store(Request $request)
    {
        // 1. Validasyon
        $validatedData = $request->validate([
            'name' => 'required|string|max:255',
            'start_date' => 'required|date',
            'start_time' => 'required',
            'end_date' => 'required|date|after_or_equal:start_date',
            'end_time' => 'required',
            'status' => 'required|in:planned,completed',
            'is_important' => 'nullable|boolean',
        ]);

        $validatedData['user_id'] = Auth::id();
        $validatedData['is_important'] = $request->has('is_important');

        // 2. Kayt
        $travel = Travel::create($validatedData);

        // 3. Bildirim Gnderme (Temiz Hali)
        try {
            // Bildirimi alacaklar: Adminler + Ulatrma Mdrleri
            $recipients = User::where(function ($query) {
                $query->where('role', 'admin')
                    ->orWhere(function ($q) {
                        $q->where('role', 'mdr')
                            ->whereHas('department', function ($d) {
                                $d->where('slug', 'ulastirma');
                            });
                    });
            })->get();

            if ($recipients->count() > 0) {
                Notification::send($recipients, new NewTravelPlanNotification($travel));
            }
        } catch (\Exception $e) {
            // Sadece hata olursa loga yazsn, kullancya yanstmasn
            Log::error("Seyahat bildirim hatas: " . $e->getMessage());
        }

        return redirect()->route('travels.show', $travel)
            ->with('success', 'Seyahat plan baaryla oluturuldu.');
    }

    public function show(Travel $travel)
    {
        $user = Auth::user();

        // Grntleme Yetkisi: Oluturan, Admin veya Ulatrma Mdr
        $canView = $user->id === $travel->user_id ||
            $user->can('is-global-manager') ||
            $user->role === 'admin' ||
            ($user->role === 'mdr' && $user->department && $user->department->slug === 'ulastirma');

        if (!$canView) {
            abort(403, 'Bu seyahati grntleme yetkiniz yok.');
        }

        $travel->load([
            'bookings.media',
            'customerVisits.customer',
            'customerVisits.event'
        ]);
        $travelActivities = collect([]);
        if (method_exists($travel, 'activities')) {
            $travelActivities = $travel->activities()->latest()->get();
        }


        return view('travels.show', compact('travel', 'travelActivities'));
    }

    public function edit(Travel $travel)
    {
        // Dzenleme Yetkisi: SADECE Oluturan veya Admin (Ulatrma mdr dzenleyemez, sadece grr)
        if (Auth::id() !== $travel->user_id && !Auth::user()->can('is-global-manager') && Auth::user()->role !== 'admin') {
            abort(403, 'Bu eylemi gerekletirme yetkiniz yok.');
        }

        return view('travels.edit', compact('travel'));
    }

    public function update(Request $request, Travel $travel)
    {
        if (Auth::id() !== $travel->user_id && !Auth::user()->can('is-global-manager') && Auth::user()->role !== 'admin') {
            abort(403, 'Bu eylemi gerekletirme yetkiniz yok.');
        }

        $validatedData = $request->validate([
            'name' => 'required|string|max:255',
            'start_date' => 'required|date',
            'start_time' => 'required',
            'end_date' => 'required|date|after_or_equal:start_date',
            'end_time' => 'required',
            'status' => 'required|in:planned,completed',
            'is_important' => 'nullable|boolean',
        ]);

        $validatedData['is_important'] = $request->has('is_important');
        $travel->update($validatedData);

        return redirect()->route('travels.index')
            ->with('success', 'Seyahat plan baaryla gncellendi.');
    }

    public function destroy(Travel $travel)
    {
        if (Auth::id() !== $travel->user_id && !Auth::user()->can('is-global-manager') && Auth::user()->role !== 'admin') {
            abort(403, 'Bu eylemi gerekletirme yetkiniz yok.');
        }

        $travel->delete();

        return redirect()->route('travels.index')
            ->with('success', 'Seyahat plan baaryla silindi.');
    }
    /**
     * Seyahat Listesini CSV olarak da aktar
     */
    public function export()
    {
        $fileName = 'seyahat-listesi-' . date('d-m-Y') . '.csv';

        // 1. SORGULAMA
        // User ilikisini ekiyoruz.
        $query = Travel::with('user')->latest();

        // 2. BALIKLAR
        $headers = [
            'ID',
            'Seyahat Ad',
            'Balang Zaman', // Tarih ve Saati birletireceiz
            'Biti Zaman',     // Tarih ve Saati birletireceiz
            'Durum',
            'nem',
            'Oluturan Kii',
            'Oluturulma Tarihi'
        ];

        // 3. SERVS AIR
        return CsvExporter::streamDownload(
            query: $query,
            headers: $headers,
            fileName: $fileName,
            rowMapper: function ($travel) {

                // -- TARH VE SAAT BRLETRME --
                // Modelinde 'start_date' Carbon olarak tanml ama 'start_time' string.
                // Format: "05.12.2025 09:00" veya saat yoksa sadece "05.12.2025"
    
                $baslangic = '-';
                if ($travel->start_date) {
                    $baslangic = $travel->start_date->format('d.m.Y');
                    if (!empty($travel->start_time)) {
                        // Veritabanndan "09:00:00" gibi gelebilir, sondaki saniyeyi atmak iin ilk 5 karakteri alyoruz
                        // veya Carbon ile parse edip formatlyoruz:
                        $baslangic .= ' ' . Carbon::parse($travel->start_time)->format('H:i');
                    }
                }

                $bitis = '-';
                if ($travel->end_date) {
                    $bitis = $travel->end_date->format('d.m.Y');
                    if (!empty($travel->end_time)) {
                        $bitis .= ' ' . Carbon::parse($travel->end_time)->format('H:i');
                    }
                }

                // -- DURUM TRKELETRME --
                // Tabloda 'planned' gibi deerler gryorum.
                $durum = match ($travel->status) {
                    'planned' => 'Planland',
                    'completed' => 'Tamamland',
                    'cancelled' => 'ptal Edildi',
                    'ongoing' => 'Devam Ediyor',
                    default => ucfirst($travel->status ?? '-'),
                };

                // -- NEM DERECES --
                $onem = $travel->is_important ? 'nemli' : 'Normal';

                // -- SATIR VERS --
                return [
                    $travel->id,
                    $travel->name,
                    $baslangic,
                    $bitis,
                    $durum,
                    $onem,
                    $travel->user ? $travel->user->name : 'Bilinmiyor',
                    $travel->created_at ? $travel->created_at->format('d.m.Y H:i') : '-'
                ];
            }
        );
    }
}

----------------------------------------
DOSYA YOLU: app\Http\Controllers\TvDashboardController.php
----------------------------------------

<?php

namespace App\Http\Controllers;

use Illuminate\Http\Request;
use Carbon\Carbon;
use Illuminate\Support\Facades\DB;
use Illuminate\Support\Str;
use App\Models\Shipment;
use App\Models\ProductionPlan;
use App\Models\Event;
use App\Models\VehicleAssignment;
use App\Models\MaintenancePlan;
use App\Models\Travel;
use App\Models\User;
use App\Models\BusinessUnit;

class TvDashboardController extends Controller
{
    public function __construct()
    {
        $this->middleware('auth');
    }

    public function index()
    {
        $today = Carbon::today();

        $kpiData = $this->getKpiData($today);
        $importantItems = $this->getImportantItems($today);

        // DNAMK MATRS VERS VE BALIKLARI
        $matrixResult = $this->getMatrixData();

        $currentDataHash = $this->getSystemDataHash();

        return view('tv.dashboard', array_merge(
            compact('kpiData', 'importantItems', 'currentDataHash'),
            $matrixResult // 'matrixHeaders' ve 'matrixData' burann iinden kacak
        ));
    }

    public function checkUpdates()
    {
        return response()->json(['hash' => $this->getSystemDataHash()]);
    }
    /**
     * 1. KPI VERLER (LOJSTK VE ETKNLK DAHL - TAM FABRKA YK)
     */
    private function getKpiData(Carbon $today): array
    {
        // --- A. STANDART ST KART VERLER ---

        // 1. SEVKYAT (Genel Toplam)
        $shipmentGroups = Shipment::withoutGlobalScope('business_unit_scope')
            ->whereDate('tahmini_varis_tarihi', $today)
            ->select(['arac_tipi', DB::raw('count(*) as count')])
            ->groupBy('arac_tipi')
            ->get();

        $totalShipment = $shipmentGroups->sum('count');
        $shipmentDetails = $shipmentGroups->map(function ($item) {
            $type = $item->arac_tipi ? Str::title($item->arac_tipi) : 'Dier';
            return "{$item->count} {$type}";
        })->implode(', ');

        // 2. ETKNLK (Genel Toplam)
        $eventGroups = Event::withoutGlobalScope('business_unit_scope')
            ->whereDate('start_datetime', $today)
            ->join('event_types', 'events.event_type_id', '=', 'event_types.id')
            ->select(['event_types.name as type_name', DB::raw('count(*) as count')])
            ->groupBy('event_types.name')
            ->get();

        $eventDetails = $eventGroups->map(fn($item) => "{$item->count} {$item->type_name}")->implode(', ');


        // --- B. DNAMK FABRKA KARTLARI (BURASI GNCELLEND) ---

        // 1. Fabrikalar ek
        $units = BusinessUnit::orderBy('name')->get();

        // 2. TM VERLER EK (Business Unit ID'sine gre eletireceiz)

        // retim: Gelecek dahil
        $activeProduction = ProductionPlan::withoutGlobalScope('business_unit_scope')
            ->whereDate('week_start_date', '>=', $today)
            ->get();

        // Bakm: Tamamlanmam hepsi
        $activeMaintenance = MaintenancePlan::withoutGlobalScope('business_unit_scope')
            ->whereNotIn('status', ['completed', 'cancelled', 'iptal', 'tamamlandi'])
            ->get();

        // YEN: Sevkiyat (Lojistik) - Bugne ait olanlar
        $activeShipments = Shipment::withoutGlobalScope('business_unit_scope')
            ->whereDate('tahmini_varis_tarihi', $today)
            ->get();

        // YEN: Etkinlikler - Bugne ait olanlar
        $activeEvents = Event::withoutGlobalScope('business_unit_scope')
            ->whereDate('start_datetime', $today)
            ->get();

        // 3. Hesaplama ve Kart Oluturma
        $unitStats = $units->map(function ($unit) use ($activeProduction, $activeMaintenance, $activeShipments, $activeEvents) {

            // Saymlar Yap
            $prodCount = $activeProduction->where('business_unit_id', $unit->id)->count();
            $maintCount = $activeMaintenance->where('business_unit_id', $unit->id)->count();
            $shipCount = $activeShipments->where('business_unit_id', $unit->id)->count(); // Lojistik Says
            $eventCount = $activeEvents->where('business_unit_id', $unit->id)->count();   // Etkinlik Says

            // Toplam Yk
            $total = $prodCount + $maintCount + $shipCount + $eventCount;

            // Kartn Durumunu En Youn Departmana Gre Belirle
            $status = 'Beklemede';
            $icon = 'fa-pause';
            $subLabel = 'Sistem Hazr';

            // ncelik Sralamas ve Etiketleme
            if ($total > 0) {
                // Hangi say en bykse kartn kimliini o belirlesin
                $maxVal = max($prodCount, $maintCount, $shipCount, $eventCount);

                if ($maxVal == $prodCount) {
                    $status = 'retim';
                    $icon = 'fa-bolt';
                    $subLabel = 'Planlanan';
                } elseif ($maxVal == $shipCount) {
                    $status = 'Sevkiyat';     // <--- ARTIK LOJSTK GRNECEK
                    $icon = 'fa-truck-ramp-box';
                    $subLabel = 'Lojistik';
                } elseif ($maxVal == $maintCount) {
                    $status = 'Bakm';
                    $icon = 'fa-wrench';
                    $subLabel = 'Arza/Bakm';
                } elseif ($maxVal == $eventCount) {
                    $status = 'Ziyaret';
                    $icon = 'fa-users';
                    $subLabel = 'Etkinlik';
                }
            }

            return [
                'id' => $unit->id,
                'name' => Str::upper($unit->name),
                'count' => $total,
                'status' => $status,
                'icon' => $icon,
                'sub_label' => $subLabel,
                'progress' => ($total > 0) ? rand(40, 90) : 0
            ];
        });


        // --- C. DER VERLER ---

        $vehicleCount = VehicleAssignment::withoutGlobalScope('business_unit_scope')
            ->whereDate('start_time', $today)
            ->whereIn('status', ['pending', 'in_progress'])
            ->count();

        $travelCount = Travel::withoutGlobalScope('business_unit_scope')
            ->whereDate('start_date', $today)
            ->count();

        return [
            'sevkiyat_sayisi' => $totalShipment,
            'sevkiyat_detay' => $shipmentDetails,
            'plan_sayisi' => $activeProduction->count(),

            'unit_stats' => $unitStats, // GNCELLENM DNAMK VER

            'etkinlik_sayisi' => Event::withoutGlobalScope('business_unit_scope')->whereDate('start_datetime', $today)->count(),
            'etkinlik_detay' => $eventDetails,
            'arac_gorevi_sayisi' => $vehicleCount,
            'bakim_sayisi' => $activeMaintenance->count(),
            'kullanici_sayisi' => User::count(),
            'seyahat_sayisi' => $travelCount
        ];
    }

    /**
     * 2. NEML BLDRMLER (Deiiklik Yok)
     */
    private function getImportantItems(Carbon $today): \Illuminate\Support\Collection
    {
        $items = collect();

        // 1. SEVKYAT
        $shipments = Shipment::withoutGlobalScope('business_unit_scope')
            ->where('is_important', true)
            ->where('tahmini_varis_tarihi', '>=', $today)
            ->get()
            ->map(function ($i) {
                $cat = ' SEVKYAT';
                if (!empty($i->arac_tipi)) {
                    $cat .= ' (' . Str::upper($i->arac_tipi) . ')';
                }
                return (object) [
                    'category' => $cat,
                    'content' => Str::limit($i->kargo_icerigi, 30),
                    'date' => $i->tahmini_varis_tarihi,
                    'type' => 'shipment'
                ];
            });
        $items = $items->merge($shipments);

        // 2. RETM PLANLARI
        $plans = ProductionPlan::withoutGlobalScope('business_unit_scope')
            ->with('businessUnit')
            ->where('is_important', true)
            ->where('week_start_date', '>=', $today)
            ->get()
            ->map(function ($i) {
                $category = 'RETM';
                if ($i->businessUnit) {
                    $category .= ' (' . Str::upper($i->businessUnit->name) . ')';
                }
                return (object) [
                    'category' => $category,
                    'content' => Str::limit($i->plan_title, 30),
                    'date' => $i->week_start_date,
                    'type' => 'productionplan'
                ];
            });
        $items = $items->merge($plans);

        // 3. ETKNLKLER
        $events = Event::withoutGlobalScope('business_unit_scope')
            ->where('is_important', true)
            ->where('start_datetime', '>=', $today)
            ->get()
            ->map(function ($i) {
                return (object) [
                    'category' => ' ETKNLK',
                    'content' => Str::limit($i->title, 30),
                    'date' => $i->start_datetime,
                    'type' => 'event'
                ];
            });
        $items = $items->merge($events);

        // 4. ARA GREVLER
        $vehicles = VehicleAssignment::withoutGlobalScope('business_unit_scope')
            ->where('is_important', true)
            ->where('start_time', '>=', $today)
            ->get()
            ->map(function ($i) {
                return (object) [
                    'category' => ' ARA GREV',
                    'content' => Str::limit($i->task_description, 30),
                    'date' => $i->start_time,
                    'type' => 'vehicleassignment'
                ];
            });
        $items = $items->merge($vehicles);

        // 5. SEYAHATLER
        $travels = Travel::withoutGlobalScope('business_unit_scope')
            ->where('is_important', true)
            ->where('start_date', '>=', $today)
            ->get()
            ->map(function ($i) {
                return (object) [
                    'category' => ' SEYAHAT',
                    'content' => Str::limit($i->name, 30),
                    'date' => $i->start_date,
                    'type' => 'travel'
                ];
            });
        $items = $items->merge($travels);

        // 6. BAKIM (Priority kontrol)
        $maintenance = MaintenancePlan::withoutGlobalScope('business_unit_scope')
            ->whereIn('priority', ['high', 'critical'])
            ->where('planned_start_date', '>=', $today)
            ->get()
            ->map(fn($i) => (object) [
                'category' => 'BAKIM',
                'content' => $i->title ?? 'Bakm Plan',
                'date' => $i->planned_start_date,
                'type' => 'maintenance'
            ]);

        $items = $items->merge($maintenance);

        return $items->sortBy('date')->take(6);
    }

    /**
     * 3. FABRKA DURUM MATRS (TAM DNAMK YAPILANDIRMA)
     */
    private function getMatrixData(): array
    {
        $today = Carbon::today();
        $units = BusinessUnit::orderBy('name')->get();

        // 1. STUN AYARLARI (YEN STUN EKLEMEK N TEK YAPMAN GEREKEN BURAYA EKLEMEK)
        // key: Veritaban veya mantksal anahtar
        // label: Tablo bal
        // icon: kon snf
        // color: Bootstrap/Tema renk snf (info, warning, primary, secondary)
        $columnsConfig = [
            'production' => ['label' => 'RETM', 'icon' => 'fa-industry', 'color' => 'info'],
            'shipment' => ['label' => 'SEVKYAT', 'icon' => 'fa-truck', 'color' => 'primary'],
            'maintenance' => ['label' => 'BAKIM/ARIZA', 'icon' => 'fa-wrench', 'color' => 'warning'],
            'event' => ['label' => 'ETKNLK', 'icon' => 'fa-users', 'color' => 'secondary'],
            // Yarn 'kalite' eklersen: 'quality' => ['label' => 'KALTE', 'icon' => 'fa-check', 'color' => 'success']
        ];

        // 2. Verileri ek
        $activeProduction = ProductionPlan::withoutGlobalScope('business_unit_scope')
            ->whereDate('week_start_date', '>=', $today)->get();

        $activeMaintenance = MaintenancePlan::withoutGlobalScope('business_unit_scope')
            ->whereNotIn('status', ['completed', 'cancelled', 'iptal', 'tamamlandi'])->get();

        $activeShipments = Shipment::withoutGlobalScope('business_unit_scope')
            ->whereDate('tahmini_varis_tarihi', $today)->get();

        $activeEvents = Event::withoutGlobalScope('business_unit_scope')
            ->whereDate('start_datetime', $today)->get();

        $matrixRows = [];

        foreach ($units as $unit) {
            // Saymlar al
            $counts = [
                'production' => $activeProduction->where('business_unit_id', $unit->id)->count(),
                'maintenance' => $activeMaintenance->where('business_unit_id', $unit->id)->count(),
                'shipment' => $activeShipments->where('business_unit_id', $unit->id)->count(),
                'event' => $activeEvents->where('business_unit_id', $unit->id)->count(),
            ];

            // Eer hareket yoksa atla
            if (array_sum($counts) == 0)
                continue;

            // Durum ve Renk Belirleme (ncelik Sras: Bakm > retim > Sevkiyat)
            $statusText = 'HAZIR';
            $statusColor = 'secondary';
            $glowColor = 'secondary'; // Sol bataki nokta rengi

            if ($counts['maintenance'] > 0) {
                $statusText = 'BAKIMDA';
                $statusColor = 'warning'; // Yaz rengi
                $glowColor = 'danger';    // Nokta rengi
            } elseif ($counts['production'] > 0) {
                $statusText = 'RETMDE';
                $statusColor = 'success';
                $glowColor = 'success';
            } elseif ($counts['shipment'] > 0) {
                $statusText = 'SEVKYAT';
                $statusColor = 'primary';
                $glowColor = 'primary';
            }

            // Stunlar Yaplandr (Blade'e hazr gnderiyoruz)
            $preparedColumns = [];
            foreach ($columnsConfig as $key => $config) {
                $count = $counts[$key] ?? 0;
                $preparedColumns[] = [
                    'count' => $count,
                    'has_data' => $count > 0,
                    'icon' => $config['icon'],
                    'color' => $config['color'],
                    // Blade'de if kontrol yapmamak iin style class'larn buradan gnderiyoruz
                    'badge_class' => $count > 0 ? "badge bg-{$config['color']} px-3 py-2 rounded-pill" : "text-muted opacity-25",
                    'icon_html' => $count > 0 ? "<i class='fa-solid {$config['icon']} me-1'></i> $count" : "<i class='fa-solid fa-minus'></i>"
                ];
            }

            $matrixRows[] = [
                'name' => Str::upper($unit->name),
                'status_dot_color' => $glowColor, // Sol bataki nokta
                'columns' => $preparedColumns,    // Hazrlanm stun verileri
                'status_text' => $statusText,
                'status_text_class' => "fw-bold text-{$statusColor}"
            ];
        }

        // Blade tarafnda balklar basmak iin sadece label'lar gnderiyoruz
        $headers = array_column($columnsConfig, 'label');

        return [
            'matrixHeaders' => $headers,
            'matrixData' => $matrixRows
        ];
    }

    /**
     * 4. SSTEM HASH
     */
    private function getSystemDataHash()
    {
        $timestamps = [
            Shipment::withoutGlobalScope('business_unit_scope')->max('updated_at'),
            ProductionPlan::withoutGlobalScope('business_unit_scope')->max('updated_at'),
            Event::withoutGlobalScope('business_unit_scope')->max('updated_at'),
            VehicleAssignment::withoutGlobalScope('business_unit_scope')->max('updated_at'),
            MaintenancePlan::withoutGlobalScope('business_unit_scope')->max('updated_at'),
            Travel::withoutGlobalScope('business_unit_scope')->max('updated_at'),
            BusinessUnit::max('updated_at'),
        ];
        return md5(json_encode($timestamps));
    }
}

----------------------------------------
DOSYA YOLU: app\Http\Controllers\UserController.php
----------------------------------------

<?php

namespace App\Http\Controllers;

use App\Models\User;
use App\Models\Department;
use App\Models\BusinessUnit; // EKLEND: Fabrikalar
use Spatie\Permission\Models\Role; // EKLEND: Spatie Rolleri
use Illuminate\Http\Request;
use Illuminate\Support\Facades\Auth;
use Illuminate\Support\Facades\Hash;
use Illuminate\Validation\Rule;
use Illuminate\Validation\Rules;

class UserController extends Controller
{
    /**
     * Kullanc Listesi
     */
    public function index()
    {
        // Yetki Kontrol
        if (!Auth::user()->can('manage_users')) {
            abort(403, 'Kullanclar grme yetkiniz yok.');
        }

        // Kullanclar, departmanlarn, rollerini ve BRMLERN getir
        $users = User::with(['department', 'roles', 'businessUnits'])->latest()->paginate(10);
        return view('users.index', compact('users'));
    }

    /**
     * Yeni Kullanc Formu
     */
    public function create()
    {
        if (!Auth::user()->can('manage_users')) {
            abort(403);
        }

        $roles = Role::all(); // Spatie Rolleri
        $departments = Department::all();
        $businessUnits = BusinessUnit::where('is_active', true)->get(); // Sadece aktif fabrikalar

        return view('users.create', compact('roles', 'departments', 'businessUnits'));
    }

    /**
     * Yeni Kullanc Kaydet
     */
    public function store(Request $request)
    {
        if (!Auth::user()->can('manage_users')) {
            abort(403);
        }

        // 1. Validasyon
        $request->validate([
            'name' => ['required', 'string', 'max:255'],
            'email' => ['required', 'string', 'email', 'max:255', 'unique:users', 'ends_with:@koksan.com'],
            'password' => ['required', 'confirmed', Rules\Password::defaults()],
            'role' => ['required', 'exists:roles,name'],
            'departments' => ['nullable', 'array'],
            'departments.*' => ['exists:departments,id'],
            'units' => ['nullable', 'array'],
            'units.*' => ['exists:business_units,id'],
        ]);

        // 2. Kullancy Olutur
        $user = User::create([
            'name' => $request->name,
            'email' => $request->email,
            'password' => Hash::make($request->password),
            // Geriye dnk uyumluluk iin ilk seileni ana departman yapyoruz
            'department_id' => $request->departments[0] ?? null,
            'role' => $request->role
        ]);

        // 3. Spatie Rol Atamas
        $user->assignRole($request->role);

        // 4. Business Unit (Fabrika) Atamas
        if ($request->has('units')) {
            $user->businessUnits()->attach($request->units);
        }

        // 5. DEPARTMAN ATAMASI (BU EKSKT!) 
        // oklu departmanlar pivot tabloya (department_user) kaydediyoruz.
        if ($request->has('departments')) {
            $user->departments()->attach($request->departments);
        }

        return redirect()->route('users.index')->with('success', 'Kullanc oluturuldu.');
    }

    /**
     * Kullanc Dzenleme Formu
     */
    public function edit(User $user)
    {
        // ... yetki ve admin kontrol

        $roles = Role::all();
        $departments = Department::all();
        $businessUnits = BusinessUnit::where('is_active', true)->get();

        // Birimler (Mevcut kodunuzdaki gibi)
        $userUnits = $user->businessUnits->pluck('id')->toArray();

        //  BURADAK EKS GDERDK 
        // Kullancnn mevcut departman ID'lerini ekiyoruz
        $userDepartments = $user->departments->pluck('id')->toArray();

        // View'e $userDepartments deikenini de gnderiyoruz
        return view('users.edit', compact('user', 'roles', 'departments', 'businessUnits', 'userUnits', 'userDepartments'));
    }

    /**
     * Kullanc Gncelle
     */
    public function update(Request $request, User $user)
    {
        if (!Auth::user()->can('manage_users')) {
            abort(403);
        }

        // Admin korumas
        if ($user->hasRole('admin') && !Auth::user()->hasRole('admin')) {
            abort(403, 'Admin kullancsn dzenleyemezsiniz.');
        }

        // Validasyon
        $request->validate([
            'name' => ['required', 'string', 'max:255'],
            'email' => ['required', 'string', 'email', 'max:255', Rule::unique('users')->ignore($user->id)],
            'role' => ['required', 'exists:roles,name'],
            'departments' => ['nullable', 'array'],
            'units' => ['nullable', 'array'],
            'units.*' => ['exists:business_units,id'],
        ]);

        // Temel Bilgileri Gncelle
        $data = [
            'name' => $request->name,
            'email' => $request->email,
            'department_id' => $request->departments[0] ?? null,
            'role' => $request->role, // Eski stunu da gncelle
        ];

        // ifre varsa gncelle
        if ($request->filled('password')) {
            $request->validate([
                'password' => ['confirmed', Rules\Password::defaults()],
            ]);
            $data['password'] = Hash::make($request->password);
        }

        $user->update($data);

        // 1. Rol Senkronize Et (Eskisini siler, yenisini atar)
        $user->syncRoles([$request->role]);

        // 2. Birimleri Senkronize Et (Sync: Seilmeyenleri siler, yenileri ekler)
        $user->businessUnits()->sync($request->units);

        // 3. Departmanlar Senkronize Et
        // Formdan gelen 'departments' dizisini pivot tabloya eitler.
        $user->departments()->sync($request->departments);

        return redirect()->route('users.index')->with('success', 'Kullanc bilgileri ve yetkileri gncellendi.');
    }

    /**
     * Profil Dzenleme (Kiisel)
     */
    public function profileEdit()
    {
        $user = Auth::user();
        return view('profile.edit', compact('user'));
    }

    /**
     * Profil Gncelleme (Kiisel)
     */
    public function profileUpdate(Request $request)
    {
        $user = Auth::user();

        $request->validate([
            'name' => ['required', 'string', 'max:255'],
            'email' => ['required', 'string', 'email', 'max:255', Rule::unique('users')->ignore($user->id)],
            'password' => ['nullable', 'string', 'min:8', 'confirmed'],
        ]);

        $data = $request->only('name', 'email');
        if ($request->filled('password')) {
            $data['password'] = Hash::make($request->password);
        }

        $user->update($data);

        return redirect()->route('profile.edit')->with('success', 'Profil bilgileriniz gncellendi.');
    }

    /**
     * Kullanc Sil
     */
    public function destroy(User $user)
    {
        if (!Auth::user()->can('manage_users')) {
            abort(403);
        }

        if ($user->hasRole('admin')) {
            return back()->with('error', 'Admin kullancs silinemez.');
        }

        // Pivot tablolardaki ilikiler (business_unit_user, model_has_roles)
        // veritabanndaki "ON DELETE CASCADE" ayar sayesinde otomatik silinir.
        $user->delete();

        return redirect()->route('users.index')->with('success', 'Kullanc silindi.');
    }
}

----------------------------------------
DOSYA YOLU: app\Http\Controllers\VehicleAssignmentController.php
----------------------------------------

<?php

namespace App\Http\Controllers;

use App\Models\VehicleAssignment;
use App\Models\Vehicle;
use App\Models\LogisticsVehicle;
use App\Models\ServiceSchedule;
use App\Models\User;
use App\Models\Team;
use App\Models\Customer;
use App\Notifications\VehicleAssignmentCreated;
use App\Notifications\NewRequestForManager;
use App\Notifications\TaskAssignedNotification;
use Illuminate\Http\Request;
use Illuminate\Support\Facades\Auth;
use Illuminate\Validation\Rule;
use Carbon\Carbon;
use Illuminate\Support\Facades\Gate;
use Illuminate\Contracts\View\View;
use Illuminate\Http\RedirectResponse;
use Illuminate\Database\Eloquent\Relations\MorphTo;
use Illuminate\Support\Facades\Notification;
use Illuminate\Support\Facades\Log;
use App\Notifications\TaskStatusUpdatedNotification;
use App\Services\CsvExporter;
use App\Notifications\VehicleAssignedNotification;

class VehicleAssignmentController extends Controller
{
    /**
     * Ara atamalarn listeler ve filtreler.
     */
    public function index(Request $request): View
    {
        $query = VehicleAssignment::with(['vehicle', 'createdBy', 'responsible', 'files'])
            ->where('assignment_type', 'vehicle');

        $query->where(function ($q) {
            $q->whereNotNull('vehicle_id') // Arac atanmlar
                ->orWhereIn('status', ['pending', 'waiting_assignment', 'in_progress', 'approved']); // Veya ilemdekiler
        });

        $query->whereIn('responsible_type', [
            User::class,
            Team::class
        ]);

        // --- FLTRELEME ---
        if ($request->filled('vehicle_id')) {
            $parts = explode('|', $request->input('vehicle_id'));
            if (count($parts) === 2) {
                $type = $parts[0];
                $id = $parts[1];
                $query->where('vehicle_type', $type)->where('vehicle_id', $id);
            }
        }
        if ($request->filled('assignment_type')) {
            $query->where('assignment_type', $request->input('assignment_type'));
        }

        if ($request->filled('status')) {
            $query->where('status', $request->input('status'));
        }

        if ($request->filled('search')) {
            $search = $request->input('search');
            $query->where(function ($q) use ($search) {
                $q->where('title', 'LIKE', "%{$search}%")
                    ->orWhere('task_description', 'LIKE', "%{$search}%")
                    ->orWhere('destination', 'LIKE', "%{$search}%");
            });
        }

        // Tarih filtreleri
        if ($request->filled('date_from')) {
            try {
                $dateFrom = Carbon::parse($request->input('date_from'))->startOfDay();
                $query->where('end_time', '>=', $dateFrom);
            } catch (\Exception $e) {
            }
        }

        if ($request->filled('date_to')) {
            try {
                $dateTo = Carbon::parse($request->input('date_to'))->endOfDay();
                $query->where('start_time', '<=', $dateTo);
            } catch (\Exception $e) {
            }
        }
        $assignments = $query->orderByRaw("CASE WHEN status IN ('pending', 'waiting_assignment') THEN 0 ELSE 1 END")
            ->orderBy('start_time', 'desc')
            ->paginate(15);

        $filters = $request->only(['vehicle_id', 'assignment_type', 'status', 'search', 'date_from', 'date_to']);

        $companyVehicles = Vehicle::active()->orderBy('plate_number')->get()->map(function ($vehicle) {
            $vehicle->filter_key = get_class($vehicle) . '|' . $vehicle->id;
            $vehicle->display_name = ' ' . $vehicle->plate_number . ' - ' . $vehicle->brand_model;
            return $vehicle;
        });

        $logisticsVehicles = LogisticsVehicle::active()->orderBy('plate_number')->get()->map(function ($vehicle) {
            $vehicle->filter_key = get_class($vehicle) . '|' . $vehicle->id;
            $vehicle->display_name = ' ' . $vehicle->plate_number . ' - ' . $vehicle->brand . ' ' . $vehicle->model;
            return $vehicle;
        });

        $vehicles = $companyVehicles->merge($logisticsVehicles);

        return view('service.assignments.index', compact('assignments', 'filters', 'vehicles'));
    }
    /**
     * Arasz (Genel) grevleri listeler.
     */
    public function generalIndex(Request $request): View
    {
        $query = VehicleAssignment::with(['createdBy', 'responsible', 'files'])
            ->where('assignment_type', 'general');
        if ($request->filled('status')) {
            $query->where('status', $request->input('status'));
        }
        if ($request->filled('search')) {
            $search = $request->input('search');
            $query->where(function ($q) use ($search) {
                $q->where('title', 'LIKE', "%{$search}%")
                    ->orWhere('task_description', 'LIKE', "%{$search}%");
            });
        }

        $assignments = $query->orderBy('start_time', 'desc')->paginate(15);
        return view('service.assignments.general_index', compact('assignments'));
    }

    /**
     * Yeni ara atama formunu gsterir.
     */
    public function create(): View|RedirectResponse
    {
        //  irket aralar ve Nakliye aralarn ayr ayr ek
        $companyVehicles = Vehicle::active()->orderBy('plate_number')->get();
        $logisticsVehicles = LogisticsVehicle::where('status', 'active')->orderBy('plate_number')->get();

        // Kullanclar ve Takmlar al
        $users = User::orderBy('name')->get();
        $teams = Team::active()->with('users')->orderBy('name')->get();
        $customers = Customer::orderBy('name')->get();

        return view('service.assignments.create', compact('companyVehicles', 'logisticsVehicles', 'users', 'teams', 'customers'));
    }
    /**
     * Kullancnn bakalarna atad grevleri listeler.
     */
    public function assignedByMe(): View
    {
        $user = Auth::user();

        $assignments = VehicleAssignment::with(['vehicle', 'responsible'])
            ->where('user_id', $user->id) // user_id = Grevi Oluturan (Creator)
            ->latest('created_at')
            ->paginate(15);

        return view('service.assignments.assigned_by_me', compact('assignments'));
    }

    /**
     * Yeni grev/ara talebi kaydetme
     */
    public function store(Request $request): RedirectResponse
    {
        $vehicleTypeInput = $request->input('vehicle_type');

        // 1. Validasyon
        $validatedData = $request->validate([
            'needs_vehicle' => 'required|in:yes,no',
            'vehicle_type' => 'nullable|required_if:needs_vehicle,yes|in:company,logistics',
            'responsible_type' => 'required|in:user,team',
            'responsible_user_id' => 'required_if:responsible_type,user|exists:users,id',
            'responsible_team_id' => 'required_if:responsible_type,team|exists:teams,id',
            'title' => 'required|string|max:255',
            'task_description' => 'required|string',
            'destination' => 'nullable|string|max:255',
            'customer_id' => 'nullable|exists:customers,id',
            'notes' => 'nullable|string',
            'start_time' => 'required|date|after_or_equal:now',
            'end_time' => 'required|date|after:start_time',
        ]);

        $assignmentType = $validatedData['needs_vehicle'] === 'yes' ? 'vehicle' : 'general';

        // 2. Modeli Doldur
        $assignment = new VehicleAssignment();
        $assignment->assignment_type = $assignmentType;
        $assignment->title = $validatedData['title'];
        $assignment->task_description = $validatedData['task_description'];
        $assignment->destination = $validatedData['destination'] ?? null;
        $assignment->requester_name = Auth::user()->name;
        $assignment->notes = $validatedData['notes'] ?? null;
        $assignment->user_id = auth()->id();
        $assignment->assigned_by = auth()->id();
        $assignment->customer_id = $request->input('customer_id');

        // Sorumlu Ata (Polymorphic liki)
        if ($validatedData['responsible_type'] === 'user') {
            $assignment->responsible_type = User::class;
            $assignment->responsible_id = $validatedData['responsible_user_id'];
        } else {
            $assignment->responsible_type = Team::class;
            $assignment->responsible_id = $validatedData['responsible_team_id'];
        }

        // 3. Durum ve Tarih Ayarlar
        if ($assignmentType === 'vehicle') {
            // Ara talebi ise 'pending' (ynetici onay bekliyor)
            $assignment->status = 'pending';
            $assignment->vehicle_id = null;

            if ($vehicleTypeInput === 'logistics') {
                $assignment->vehicle_type = LogisticsVehicle::class;
            } else {
                $assignment->vehicle_type = Vehicle::class;
            }
            $successMessage = 'Ara talebiniz baaryla oluturuldu ve Ulatrma birimine iletildi.';
        } else {
            // Genel grev ise direkt 'pending' (yaplmay bekliyor)
            $assignment->status = 'pending';
            $successMessage = 'Genel grev baaryla atand.';
        }

        $assignment->start_time = Carbon::parse($validatedData['start_time']);
        $assignment->end_time = Carbon::parse($validatedData['end_time']);

        $assignment->save();

        // --- 4. BLDRM MANTII (DZELTLD) ---

        try {
            // SENARYO A: ARA TALEB SE -> YNETCLERE GT
            if ($assignmentType === 'vehicle') {
                $managers = User::where(function ($query) {
                    $query->where('role', 'admin')
                        ->orWhere(function ($q) {
                            $q->whereIn('role', ['mdr', 'ynetici', 'mudur'])
                                ->whereHas('department', function ($d) {
                                    $d->where('slug', 'ulastirma');
                                });
                        });
                })->get();

                if ($managers->count() > 0) {
                    Notification::send($managers, new NewRequestForManager($assignment));
                }
            }

            // SENARYO B: GENEL GREV SE -> ATANAN KYE GT
            else {
                $assigneeRecipients = collect();

                // Debug iin log atalm (storage/logs/laravel.log dosyasna yazar)
                Log::info('Genel Grev Atama Balad', [
                    'Sorumlu Tipi' => $validatedData['responsible_type'],
                    'Sorumlu ID' => $validatedData['responsible_type'] === 'user' ? $validatedData['responsible_user_id'] : $validatedData['responsible_team_id']
                ]);

                // Eer "Kullanc" seildiyse
                if ($validatedData['responsible_type'] === 'user') {
                    // ID'yi integer'a evirerek arayalm
                    $userId = (int) $validatedData['responsible_user_id'];
                    $user = User::find($userId);

                    if ($user) {
                        Log::info('Kullanc bulundu:', ['isim' => $user->name, 'id' => $user->id]);

                        // Kendine grev atadysa bildirim gitmesin kontrol
                        if ($user->id !== auth()->id()) {
                            $assigneeRecipients->push($user);
                        } else {
                            Log::warning('Kullanc kendine grev atad iin bildirim gnderilmedi.');
                        }
                    } else {
                        Log::error('Atanacak kullanc veritabannda bulunamad ID: ' . $userId);
                    }
                }
                // Eer "Takm" seildiyse
                elseif ($validatedData['responsible_type'] === 'team') {
                    $teamId = (int) $validatedData['responsible_team_id'];
                    $team = Team::with('users')->find($teamId);

                    if ($team) {
                        Log::info('Takm bulundu:', ['takim' => $team->name, 'uye_sayisi' => $team->users->count()]);

                        // Takmdaki herkesi al, atayan kiiyi hari tut
                        $assigneeRecipients = $team->users->filter(fn($u) => $u->id !== auth()->id());
                    } else {
                        Log::error('Atanacak takm bulunamad ID: ' . $teamId);
                    }
                }

                // Bildirimi Gnder
                if ($assigneeRecipients->isNotEmpty()) {
                    Log::info('Bildirim gnderiliyor. Alc says: ' . $assigneeRecipients->count());

                    // TaskAssignedNotification snfnn doru altndan emin olalm
                    try {
                        Notification::send($assigneeRecipients, new TaskAssignedNotification($assignment));
                        Log::info('Bildirim baaryla kuyrua/veritabanna gnderildi.');
                    } catch (\Exception $e) {
                        Log::error('Notification::send hatas: ' . $e->getMessage());
                    }
                } else {
                    Log::warning('Alc listesi bo, bildirim gnderilmedi.');
                }
            }

        } catch (\Exception $e) {
            Log::error('Bildirim gnderilirken hata olutu: ' . $e->getMessage());
        }

        // Eer aralysa ara listesine, genel ise genel listeye
        $redirectRoute = ($assignmentType === 'vehicle') ? 'service.assignments.index' : 'service.general-tasks.index';
        return redirect()->route($redirectRoute)->with('success', $successMessage);
    }
    /**
     * YEN FONKSYON: Mdr (mer Bey) iin Ara Atama lemi
     * Route: PUT /service/assignments/{assignment}/assign
     */
    public function assignVehicle(Request $request, VehicleAssignment $assignment): RedirectResponse
    {
        // Yetki kontrol (Opsiyonel: Sadece Mdr yapabilsin)
        // if (!auth()->user()->hasRole('Mdr')) { abort(403); }

        $validated = $request->validate([
            'vehicle_id' => 'required',
            'start_time' => 'required|date',
            'end_time' => 'required|date|after:start_time',
            // Ek olarak ofr vs. setiriyorsanz buraya ekleyebilirsiniz.
        ]);

        // Arac Kontrol Et (Tipe gre doru tabloda var m?)
        if ($assignment->vehicle_type == LogisticsVehicle::class) {
            if (!LogisticsVehicle::where('id', $validated['vehicle_id'])->exists()) {
                return back()->withErrors(['vehicle_id' => 'Seilen nakliye arac bulunamad.']);
            }
        } else {
            if (!Vehicle::where('id', $validated['vehicle_id'])->exists()) {
                return back()->withErrors(['vehicle_id' => 'Seilen irket arac bulunamad.']);
            }
        }

        // Atamay Yap
        $assignment->vehicle_id = $validated['vehicle_id'];
        $assignment->start_time = Carbon::parse($validated['start_time']);
        $assignment->end_time = Carbon::parse($validated['end_time']);
        $assignment->status = 'pending'; // Artk grev aktif ve yaplmay bekliyor

        // Atamay Yapan (Mdr) olarak not dlebilir veya loglanabilir
        $assignment->assigned_by = auth()->id();

        $assignment->save();

        // Talep edene (Requester) Bildirim Gnder: "Aracnz atand!"
        if ($assignment->createdBy) {
            $assignment->createdBy->notify(new VehicleAssignmentCreated($assignment)); // Mesaj ierii "Atand" olarak dinamiklemeli
        }

        // Grevi yapacak kiiye (Sorumlu) Bildirim Gnder
        $this->forceNotificationUnread($assignment);

        return back()->with('success', 'Ara atamas baaryla yapld ve ilgililere bildirildi.');
    }

    public function show(VehicleAssignment $assignment): View
    {
        $assignment->load(['vehicle', 'createdBy', 'responsible', 'files.uploader']);
        return view('service.assignments.show', compact('assignment'));
    }

    /**
     * Bir sonraki sefer zamann bulur.
     */
    private function findNextDeparture(): ?Carbon
    {
        $localTimezone = 'Europe/Istanbul';
        $schedules = ServiceSchedule::where('is_active', true)
            ->orderBy('departure_time')
            ->get();

        if ($schedules->isEmpty()) {
            return null;
        }

        $now = Carbon::now($localTimezone);

        // Bugnk seferlere bak
        foreach ($schedules as $schedule) {
            $departureTime = Carbon::today($localTimezone)
                ->setTimeFromTimeString($schedule->departure_time);
            $cutoffTime = $departureTime->copy()->subMinutes($schedule->cutoff_minutes);

            if ($now->lt($cutoffTime)) {
                return $departureTime;
            }
        }

        // Bugn uygun sefer yoksa yarnn ilk seferi
        $firstSchedule = $schedules->first();
        return Carbon::tomorrow($localTimezone)
            ->setTimeFromTimeString($firstSchedule->departure_time);
    }

    /**
     * Dzenleme formu
     */
    public function edit(VehicleAssignment $assignment): View
    {
        $this->authorize('manage-assignment', $assignment);

        $companyVehicles = Vehicle::active()->orderBy('plate_number')->get();
        $logisticsVehicles = LogisticsVehicle::where('status', 'active')->orderBy('plate_number')->get();
        $users = User::orderBy('name')->get();
        $teams = Team::active()->with('users')->orderBy('name')->get();
        $customers = Customer::orderBy('name')->get();

        return view('service.assignments.edit', compact(
            'assignment',
            'companyVehicles',
            'logisticsVehicles',
            'users',
            'teams',
            'customers',
        ));
    }

    /**
     * Gncelleme Metodu (Final Versiyon)
     */
    public function update(Request $request, VehicleAssignment $assignment)
    {
        // 1. Validasyon Kurallar
        $validatedData = $request->validate([
            'title' => 'required|string|max:255',
            'task_description' => 'required|string',
            'status' => 'required|in:waiting_assignment,pending,in_progress,completed,cancelled',
            'destination' => 'nullable|string|max:255',
            'customer_id' => 'nullable|exists:customers,id',
            'notes' => 'nullable|string',
            'vehicle_selection' => 'nullable|string', // Blade'den gelen birleik veri
            'start_km' => 'nullable|numeric|min:0',
            'final_km' => ['nullable', 'numeric', 'gte:start_km'],
            'fuel_cost' => 'nullable|numeric|min:0',
            'start_fuel_level' => 'nullable|string',
            'final_fuel' => 'nullable|string',
        ]);

        // 2. DEKLK NCES DURUMLARI SAKLA (Bildirimler in Kritik)
        $oldStatus = $assignment->status;
        $oldVehicleId = $assignment->vehicle_id; // Ara yeni mi atand kontrol iin

        // 3. TEMEL BLGLER GNCELLE
        $assignment->title = $validatedData['title'];
        $assignment->task_description = $validatedData['task_description'];
        $assignment->status = $validatedData['status'];

        if ($request->has('destination'))
            $assignment->destination = $validatedData['destination'];
        if ($request->has('customer_id'))
            $assignment->customer_id = $validatedData['customer_id'];
        if ($request->has('notes'))
            $assignment->notes = $validatedData['notes'];

        // KM ve Yakt Bilgileri
        $assignment->start_km = $request->input('start_km', $assignment->start_km);
        $assignment->end_km = $request->input('final_km', $assignment->end_km);
        $assignment->start_fuel_level = $request->input('start_fuel_level', $assignment->start_fuel_level);
        $assignment->end_fuel_level = $request->input('final_fuel', $assignment->end_fuel_level);
        $assignment->fuel_cost = $request->input('fuel_cost', $assignment->fuel_cost);

        // 4. ARA VE LOJSTK BLGLER (BRLEK VER ZM)
        // Blade'den gelen veri format: "company_31" veya "logistics_5"
        $selection = $request->input('vehicle_selection');

        if (!empty($selection)) {
            $parts = explode('_', $selection);

            if (count($parts) == 2) {
                $typeKey = $parts[0]; // "company" veya "logistics"
                $idVal = $parts[1];   // ID

                // Model zerine set et (Henz save etmiyoruz)
                $assignment->vehicle_id = $idVal;

                if ($typeKey === 'logistics') {
                    $assignment->vehicle_type = 'App\Models\LogisticsVehicle';
                } else {
                    $assignment->vehicle_type = 'App\Models\Vehicle';
                }
            }
        } else {
            // Seim bosa veya temizlendiyse ara ban kopar
            $assignment->vehicle_id = null;
            $assignment->vehicle_type = null;
        }

        // 5. TM DEKLKLER KAYDET
        $assignment->save();

        // 6. BLDRM SSTEM
        try {
            $creator = \App\Models\User::find($assignment->assigned_by);

            // A) Yeni Ara Atamas Bildirimi
            // Eer eskiden ara yoktuysa (null) VE imdi varsa -> Bildirim At
            if (is_null($oldVehicleId) && !is_null($assignment->vehicle_id)) {
                if ($creator && $creator->id !== auth()->id()) {
                    $creator->notify(new VehicleAssignedNotification($assignment));
                    Log::info("Ara atama bildirimi gnderildi. Grev ID: {$assignment->id}");
                }
            }

            // B) Durum Deiiklii Bildirimi (Eski kodun)
            if ($assignment->status !== $oldStatus) {
                Log::info('Durum Deiiklii', ['Eski' => $oldStatus, 'Yeni' => $assignment->status]);

                if ($creator && $creator->id !== auth()->id()) {
                    $creator->notify(new TaskStatusUpdatedNotification($assignment, $oldStatus));
                }
            }

        } catch (\Exception $e) {
            // Bildirim hatas ak bozmasn diye logluyoruz
            Log::error('Bildirim Gnderim Hatas: ' . $e->getMessage());
        }

        // 7. YNLENDRME
        $redirectRoute = $assignment->assignment_type === 'vehicle'
            ? 'service.assignments.index'
            : 'service.general-tasks.index';

        return redirect()->route($redirectRoute)
            ->with('success', 'Grev baaryla gncellendi.');
    }

    /**
     * Silme
     */
    public function destroy(VehicleAssignment $assignment): RedirectResponse
    {
        if (Gate::denies('manage-assignment', $assignment)) {
            abort(403, 'Bu ilemi yapma yetkiniz bulunmamaktadr.');
        }

        $assignment->delete();

        return redirect()->route('service.assignments.index')
            ->with('success', 'Grev baaryla silindi.');
    }

    /**
     * KULLANICININ GREVLER (Bana Atananlar)
     * Kiisel + Takm Grevleri + Filtreleme + Akll Sralama
     */
    public function myAssignments(Request $request)
    {
        $user = Auth::user();

        // Kullancnn takmlarn al
        $teamIds = $user->teams()->pluck('teams.id');

        // Temel Sorgu
        // ptal edilenleri varsaylan olarak gizle (ama filtrede seilirse gelebilir opsiyonu da eklenebilir)
        // imdilik sadece aktif iler odamz olsun.
        $query = VehicleAssignment::with([
            'vehicle',
            'createdBy',
            'responsible' => function ($morphTo) {
                $morphTo->morphWith([
                    \App\Models\Team::class => ['users', 'files'], // Takm yelerini de ykle (Blade'de kullanyoruz)
                ]);
            }
        ])
            ->where('status', '<>', 'cancelled');

        // 1. YETK SORGUSU
        $query->where(function ($q) use ($user, $teamIds) {
            // A. Dorudan kullancya atananlar
            $q->where(function ($sub) use ($user) {
                $sub->where('responsible_type', User::class)
                    ->where('responsible_id', $user->id);
            })
                // B. Veya yesi olduu takma atananlar
                ->orWhere(function ($sub) use ($teamIds) {
                    if ($teamIds->isNotEmpty()) {
                        $sub->where('responsible_type', \App\Models\Team::class)
                            ->whereIn('responsible_id', $teamIds);
                    }
                });
        });

        // 2. FLTRELER
        if ($request->filled('status')) {
            $query->where('status', $request->input('status'));
        }

        if ($request->filled('type')) { // Aral m Genel mi?
            $query->where('assignment_type', $request->input('type'));
        }

        // 3. SIRALAMA
        // Acil iler (Sren, Bekleyen) en ste, Bitenler en alta
        $tasks = $query->orderByRaw("CASE 
                        WHEN status = 'in_progress' THEN 1 
                        WHEN status = 'pending' THEN 2 
                        WHEN status = 'waiting_assignment' THEN 3 
                        ELSE 4 END")
            ->orderBy('start_time', 'asc')
            ->paginate(15);

        // Sayfalama yaparken mevcut query string parametrelerini koru
        $tasks->appends($request->query());

        // Blade dosyasna 'tasks' deikeniyle gnderiyoruz
        return view('service.assignments.my_assignments', compact('tasks'));
    }
    /**
     * Grev durumunu gnceller (AJAX)
     */
    public function updateStatus(Request $request, VehicleAssignment $assignment)
    {
        $validatedData = $request->validate([
            'status' => 'required|in:pending,in_progress,completed,cancelled',
        ]);

        $oldStatus = $assignment->status;
        $newStatus = $validatedData['status'];
        $assignment->status = $newStatus;

        // SENARYO 1: Grev Bitti veya ptal Edildi
        // Bildirimleri temizle ve biti zamann kaydet
        if (in_array($newStatus, ['completed', 'cancelled'])) {
            $this->deleteAssignmentNotifications($assignment);

            if ($newStatus === 'completed' && !$assignment->end_time) {
                $assignment->end_time = now();
            }
        }

        // SENARYO 2: Grev Tamamland'dan Geri Dnd (Aktifleti)
        // Eskileri temizle, Biti zamann sil ve YEN bildirim olutur
        elseif ($oldStatus === 'completed' && in_array($newStatus, ['pending', 'in_progress'])) {
            $this->deleteAssignmentNotifications($assignment); // Temizlik
            $assignment->end_time = null;

            // Bildirimi zorla olutur ve okunmam yap
            $this->forceNotificationUnread($assignment);
        }

        // SENARYO 3: Aktif Durumlar Aras Gei (rn: Beklemede -> Devam Ediyor)
        // Bildirim varsa okunmam yap, yoksa yeni olutur
        elseif (in_array($oldStatus, ['pending', 'in_progress']) && in_array($newStatus, ['pending', 'in_progress'])) {
            $this->forceNotificationUnread($assignment);
        }

        $assignment->save();

        if ($request->expectsJson()) {
            return response()->json([
                'success' => true,
                'message' => 'Grev durumu gncellendi.',
                'status' => $assignment->status
            ]);
        }

        return back()->with('success', 'Grev durumu gncellendi.');
    }
    /**
     * Bildirimi bulup okunmam yapar, yoksa yeni oluturur.
     */
    private function forceNotificationUnread(VehicleAssignment $assignment): void
    {
        // 1. Alclar Belirle
        $recipients = collect();
        if ($assignment->responsible_type === User::class) {
            $recipients->push($assignment->responsible);
        } elseif ($assignment->responsible_type === Team::class && $assignment->responsible) {
            $assignment->responsible->loadMissing('users');
            $recipients = $recipients->merge($assignment->responsible->users);
        }

        // 2. Her Alc in lem Yap
        foreach ($recipients->unique() as $recipient) {
            if (!$recipient)
                continue;

            // Mevcut bildirimi ara (Data iindeki ID'ye gre)
            $notification = $recipient->notifications()
                ->where('data', 'like', '%"assignment_id":' . $assignment->id . '%')
                ->latest()
                ->first();

            if ($notification) {
                // VARSA: Sadece okunmam (null) yap
                $notification->update(['read_at' => null]);
            } else {
                // YOKSA: Yeni bildirim gnder
                $recipient->notify(new VehicleAssignmentCreated($assignment));

                // Ve gnderilen bu yeni bildirimi hemen bulup okunmam olduundan emin ol (Garanti)
                // (Sync kuyrukta bu genellikle otomatiktir ama manual update garanti salar)
                $latest = $recipient->notifications()->latest()->first();
                if ($latest) {
                    $latest->update(['read_at' => null]);
                }
            }
        }
    }
    /**
     * Greve ait tm bildirimleri siler.
     */
    private function deleteAssignmentNotifications(VehicleAssignment $assignment): void
    {
        $recipients = collect();

        if ($assignment->responsible_type === User::class) {
            $recipients->push($assignment->responsible);
        } elseif ($assignment->responsible_type === Team::class && $assignment->responsible) {
            $assignment->responsible->loadMissing('users');
            $recipients = $recipients->merge($assignment->responsible->users);
        }

        foreach ($recipients->unique() as $recipient) {
            if (!$recipient)
                continue;

            $recipient->notifications()
                ->where('data', 'like', '%"assignment_id":' . $assignment->id . '%')
                ->delete();
        }
    }

    /**
     * CSV OLARAK DIA AKTAR
     * URL rnekleri:
     * - /export (Hepsi)
     * - /export?type=general (Sadece Arasz/Genel)
     * - /export?type=vehicle (Sadece Aral)
     */
    public function export(Request $request)
    {
        // 1. stee gre Dosya Adn ve Filtreyi Belirle
        $filterType = $request->query('type'); // URL'den gelen ?type=... parametresi

        $filePrefix = match ($filterType) {
            'general' => 'genel-gorevler-',     // Arasz
            'vehicle' => 'arac-gorevleri-',     // Aral
            default => 'tum-gorevler-',       // Hepsi
        };

        $fileName = $filePrefix . date('d-m-Y') . '.csv';

        // 2. Sorguyu Hazrla
        $query = VehicleAssignment::with(['vehicle', 'createdBy', 'responsible'])
            // Eer URL'de ?type=general varsa sadece onlar getir
            ->when($filterType, function ($q) use ($filterType) {
                return $q->where('assignment_type', $filterType);
            })
            ->latest();

        // 3. Balklar
        $headers = [
            'ID',
            'Grev Tipi', // <-- Yeni Stun: Karklk olmasn diye tipi de ekleyelim
            'Grev Bal',
            'Plaka',
            'Sorumlu',
            'Grevi Atayan',
            'Balang',
            'Biti',
            'Durum',
            'Yakt (TL)'
        ];

        // 4. Servisi ar
        return CsvExporter::streamDownload(
            query: $query,
            headers: $headers,
            fileName: $fileName,
            rowMapper: function ($task) {

                // -- Sorumlu Mant --
                $sorumlu = 'Bilinmiyor';
                if ($task->responsible) {
                    $sorumlu = $task->responsible_type === 'App\Models\Team'
                        ? $task->responsible->name . ' (Takm)'
                        : $task->responsible->name;
                }

                // -- Durum Mant --
                $durum = match ($task->status) {
                    'waiting_assignment' => 'Atama Bekliyor',
                    'pending' => 'Bekliyor',
                    'in_progress' => 'Devam Ediyor',
                    'completed' => 'Tamamland',
                    'cancelled' => 'ptal',
                    default => $task->status,
                };

                // -- Tip Trkeletirme --
                $tip = match ($task->assignment_type) {
                    'general' => 'Genel (Arasz)',
                    'vehicle' => 'Ara Grevi',
                    default => $task->assignment_type
                };

                return [
                    $task->id,
                    $tip, // Yeni eklediimiz stun
                    $task->title,
                    $task->vehicle ? $task->vehicle->plate_number : '-', // Araszsa tire koy
                    $sorumlu,
                    $task->createdBy ? $task->createdBy->name : '-',
                    $task->start_time ? Carbon::parse($task->start_time)->format('d.m.Y H:i') : '-',
                    $task->end_time ? Carbon::parse($task->end_time)->format('d.m.Y H:i') : '-',
                    $durum,
                    $task->fuel_cost ?? '0'
                ];
            }
        );
    }
    private function exportListLogic($request)
    {
        $filterType = $request->query('type');
        $fileName = 'gorev-listesi-' . date('d.m.Y') . '.csv';

        $query = VehicleAssignment::with(['vehicle', 'responsible'])->latest();
        if ($filterType)
            $query->where('assignment_type', $filterType);

        return CsvExporter::streamDownload($query, [
            'ID',
            'Balk',
            'Plaka',
            'Sorumlu',
            'Durum'
        ], function ($task) {
            return [
                $task->id,
                $task->title,
                $task->vehicle->plate_number ?? '-',
                $task->responsible->name ?? '-',
                $task->status
            ];
        }, $fileName);
    }
    /**
     * 2. TEKL GREV EMR (YEN)
     * ofre verilecek kat kt
     */
    public function exportDetail(VehicleAssignment $assignment)
    {
        $fileName = 'gorev-emri-' . $assignment->id . '.csv';

        $callback = function () use ($assignment) {
            $file = fopen('php://output', 'w');
            fputs($file, "\xEF\xBB\xBF");

            fputcsv($file, ['ARA/GREV EMR'], ';');
            fputcsv($file, [], ';');

            fputcsv($file, ['Grev ID', $assignment->id], ';');
            fputcsv($file, ['Grev Bal', $assignment->title], ';');
            fputcsv($file, ['Atanan Ara', $assignment->vehicle->plate_number ?? 'Arasz'], ';');
            fputcsv($file, ['Sorumlu', $assignment->responsible->name ?? '-'], ';');
            fputcsv($file, ['k KM', $assignment->start_km ?? '-'], ';');
            fputcsv($file, ['Dn KM', $assignment->end_km ?? '-'], ';');

            fputcsv($file, [], ';');
            fputcsv($file, ['Aklama', $assignment->task_description], ';');

            fclose($file);
        };

        return response()->stream($callback, 200, [
            "Content-type" => "text/csv; charset=utf-8",
            "Content-Disposition" => "attachment; filename=$fileName"
        ]);
    }
}

----------------------------------------
DOSYA YOLU: app\Http\Controllers\VehicleController.php
----------------------------------------

<?php

namespace App\Http\Controllers;

use App\Models\Vehicle;
use Illuminate\Http\Request;
use Illuminate\Support\Facades\Auth;
use Illuminate\Validation\Rule;

class VehicleController extends Controller
{
    /**
     * Controller Oluturucu: Yetki Kontrol Burada Yaplr
     */
    public function __construct()
    {
        $this->middleware('auth');

        // Bu Controller'a sadece Admin, Hizmet veya Ulatrma departman eriebilir
        $this->middleware(function ($request, $next) {
            $user = Auth::user();

            // 1. Admin veya Ynetici ise ge
            if (in_array($user->role, ['admin', 'ynetici'])) {
                return $next($request);
            }

            // 2. Departman Kontrol (Slug kullanmak her zaman daha gvenlidir)
            // Departman slug' 'hizmet' veya 'ulastirma' ise ge
            if ($user->department && in_array($user->department->slug, ['hizmet', 'ulastirma'])) {
                return $next($request);
            }

            // Hibiri deilse 403 (Yetkisiz)
            abort(403, 'Bu ilemi gerekletirmeye yetkiniz bulunmamaktadr!');
        });
    }

    /**
     * Aralar listeler ve filtreler.
     */
    public function index(Request $request)
    {
        // NOT: __construct iindeki middleware yetkiyi zaten kontrol etti.
        // Buradaki $this->authorize satrn siliyoruz.

        $query = Vehicle::query();

        // --- FLTRELEME ---
        if ($request->filled('plate_number')) {
            $query->where('plate_number', 'LIKE', '%' . $request->input('plate_number') . '%');
        }
        if ($request->filled('type')) {
            $query->where('type', 'LIKE', '%' . $request->input('type') . '%');
        }
        // Aktif/Pasif filtresi
        $status = $request->input('status', 'all');
        if ($status !== 'all') {
            $query->where('is_active', $status === 'active');
        }
        // --- FLTRELEME SONU ---

        $vehicles = $query->orderBy('plate_number')->paginate(15);
        $filters = $request->only(['plate_number', 'type', 'status']);

        return view('service.vehicles.index', compact('vehicles', 'filters'));
    }

    /**
     * Yeni ara ekleme formunu gsterir.
     */
    public function create()
    {
        return view('service.vehicles.create');
    }

    /**
     * Yeni arac veritabannda saklar.
     */
    public function store(Request $request)
    {
        // VALIDASYON
        $validatedData = $request->validate([
            'plate_number' => 'required|string|max:20|unique:vehicles,plate_number',
            'type' => 'required|string|max:100',
            'brand_model' => 'nullable|string|max:150',
            'description' => 'nullable|string',
            'is_active' => 'sometimes|boolean',
            // 'kvkk_onay' => 'required|accepted', // Genelde ara eklerken KVKK olmaz ama varsa kalsn
        ]);

        // Checkbox kontrol
        $validatedData['is_active'] = $request->has('is_active');
        if (isset($validatedData['kvkk_onay']))
            unset($validatedData['kvkk_onay']);

        Vehicle::create($validatedData);

        return redirect()->route('service.vehicles.index')
            ->with('success', 'Ara baaryla eklendi.');
    }

    /**
     * Belirtilen arac dzenleme formunu gsterir.
     */
    public function edit(Vehicle $vehicle)
    {
        return view('service.vehicles.edit', compact('vehicle'));
    }

    /**
     * Veritabanndaki belirtilen arac gnceller.
     */
    public function update(Request $request, Vehicle $vehicle)
    {
        $validatedData = $request->validate([
            'plate_number' => [
                'required',
                'string',
                'max:20',
                Rule::unique('vehicles', 'plate_number')->ignore($vehicle->id),
            ],
            'type' => 'required|string|max:100',
            'brand_model' => 'nullable|string|max:150',
            'description' => 'nullable|string',
            'is_active' => 'sometimes|boolean',
        ]);

        $validatedData['is_active'] = $request->has('is_active');

        $vehicle->update($validatedData);

        return redirect()->route('service.vehicles.index')
            ->with('success', 'Ara bilgileri baaryla gncellendi.');
    }

    /**
     * Belirtilen arac siler.
     */
    public function destroy(Vehicle $vehicle)
    {
        // liki kontrol (Opsiyonel: Eer ara grevdeyse silinmesin)
        /*if ($vehicle->assignments()->exists()) {
            return back()->with('error', 'Bu araca atanm grevler varken silemezsiniz.');
        }*/

        $vehicle->delete();

        return redirect()->route('service.vehicles.index')
            ->with('success', 'Ara baaryla silindi.');
    }
}

----------------------------------------
DOSYA YOLU: app\Http\Controllers\Approvals\MaintenanceApprovalController.php
----------------------------------------

<?php

namespace App\Http\Controllers\Approvals;

use App\Http\Controllers\Controller;
use Illuminate\Http\Request;
use App\Models\MaintenancePlan;
use Illuminate\Support\Facades\Auth;

class MaintenanceApprovalController extends Controller
{
    public function index()
    {
        $user = Auth::user();

        // Temel sorgu: Sadece onaya dm olanlar
        $query = MaintenancePlan::with(['user', 'asset'])
            ->where('status', 'pending_approval');

        // EER ADMN DELSE FLTRELE
        if ($user->role !== 'admin') {

            // Ynetici ise sadece kendi departmann grsn
            if ($user->isManagerOrDirector() && $user->department_id) {
                $query->whereHas('user', function ($q) use ($user) {
                    $q->where('department_id', $user->department_id);
                });
            } else {
                // Yetkisiz kullanc bo liste grr
                return view('approvals.maintenance', ['plans' => collect()]);
            }
        }

        $plans = $query->latest()->get();

        // Yeni bir view dosyas oluturacaz: approvals/maintenance.blade.php
        return view('approvals.maintenance', compact('plans'));
    }
}


----------------------------------------
DOSYA YOLU: app\Http\Controllers\Auth\ConfirmPasswordController.php
----------------------------------------

<?php

namespace App\Http\Controllers\Auth;

use App\Http\Controllers\Controller;
use Illuminate\Foundation\Auth\ConfirmsPasswords;

class ConfirmPasswordController extends Controller
{
    /*
    |--------------------------------------------------------------------------
    | Confirm Password Controller
    |--------------------------------------------------------------------------
    |
    | This controller is responsible for handling password confirmations and
    | uses a simple trait to include the behavior. You're free to explore
    | this trait and override any functions that require customization.
    |
    */

    use ConfirmsPasswords;

    /**
     * Where to redirect users when the intended url fails.
     *
     * @var string
     */
    protected $redirectTo = '/home';

    /**
     * Create a new controller instance.
     *
     * @return void
     */
    public function __construct()
    {
        $this->middleware('auth');
    }
}


----------------------------------------
DOSYA YOLU: app\Http\Controllers\Auth\ForgotPasswordController.php
----------------------------------------

<?php

namespace App\Http\Controllers\Auth;

use App\Http\Controllers\Controller;
use Illuminate\Foundation\Auth\SendsPasswordResetEmails;

class ForgotPasswordController extends Controller
{
    /*
    |--------------------------------------------------------------------------
    | Password Reset Controller
    |--------------------------------------------------------------------------
    |
    | This controller is responsible for handling password reset emails and
    | includes a trait which assists in sending these notifications from
    | your application to your users. Feel free to explore this trait.
    |
    */

    use SendsPasswordResetEmails;
}


----------------------------------------
DOSYA YOLU: app\Http\Controllers\Auth\LoginController.php
----------------------------------------

<?php

namespace App\Http\Controllers\Auth;

use App\Http\Controllers\Controller;
use App\Providers\RouteServiceProvider;
use Illuminate\Foundation\Auth\AuthenticatesUsers;
use Illuminate\Http\Request;
use ReCaptcha\ReCaptcha;
use Illuminate\Validation\ValidationException;
use App\Models\User;
use Illuminate\Support\Facades\Hash;
use Illuminate\Foundation\Auth\ThrottlesLogins;
use Illuminate\Support\Facades\RateLimiter;
use Illuminate\Support\Facades\Cache;

class LoginController extends Controller
{
    /*
    |--------------------------------------------------------------------------
    | Login Controller
    |--------------------------------------------------------------------------
    */

    use AuthenticatesUsers, ThrottlesLogins {
        ThrottlesLogins::incrementLoginAttempts insteadof AuthenticatesUsers;
        ThrottlesLogins::clearLoginAttempts insteadof AuthenticatesUsers;
        ThrottlesLogins::incrementLoginAttempts as protected traitIncrementLoginAttempts;
        ThrottlesLogins::clearLoginAttempts as protected traitClearLoginAttempts;
    }

    protected $maxAttempts = 5;
    protected $decayMinutes = 1;
    protected $captchaThreshold = 3;

    /**
     * Giri yapldktan sonra kullanclarn ynlendirilecei yer.
     */
    protected $redirectTo = '/welcome';

    /**
     * Yeni bir kontrolc rnei oluturur.
     */
    public function __construct()
    {
        $this->middleware('guest')->except('logout');
    }

    /**
     * Login formunu gsterir.
     */
    public function showLoginForm(Request $request)
    {
        $key = 'login_ip_check|' . $request->ip();
        $attempts = Cache::get($key, 0);
        $showCaptcha = ($attempts >= $this->captchaThreshold);

        return view('auth.login', [
            'showCaptcha' => $showCaptcha
        ]);
    }

    /**
     * GR STEN DORULAR (BRLETRLM METOD)
     * Hem KVKK'y hem de ReCaptcha mantn tek atda topladk.
     */
    protected function validateLogin(Request $request)
    {
        // 1. Temel Kurallar (KVKK Dahil)
        $rules = [
            $this->username() => 'required|string',
            'password' => 'required|string',
            'kvkk_approval' => 'required|accepted', // YEN EKLENEN KURAL
        ];

        $messages = [
            'kvkk_approval.required' => 'Giri yapabilmek iin KVKK Aydnlatma Metnini onaylamanz gerekmektedir.',
            'kvkk_approval.accepted' => 'Giri yapabilmek iin KVKK Aydnlatma Metnini onaylamanz gerekmektedir.',
        ];

        // 2. Hatal giri saysn kontrol et (ReCaptcha in)
        $key = 'login_ip_check|' . $request->ip();
        $attempts = Cache::get($key, 0);

        // 3. Eer eik almsa (3 ve zeri), CAPTCHA kuraln ekle
        if ($attempts >= $this->captchaThreshold) {
            $rules['g-recaptcha-response'] = 'required';
            $messages['g-recaptcha-response.required'] = 'Ltfen robot olmadnz dorulayn.';
        }

        // 4. Validasyonu altr
        $request->validate($rules, $messages);

        // 5. Eer Captcha gerekliyse Google dorulamasn yap
        if ($attempts >= $this->captchaThreshold) {
            $recaptcha = new ReCaptcha(config('services.recaptcha.secret'));

            // Formdan gelen deeri ve IP adresini gnderiyoruz
            $response = $recaptcha->verify($request->input('g-recaptcha-response'), $request->ip());

            if (!$response->isSuccess()) {
                throw ValidationException::withMessages([
                    'g-recaptcha-response' => ['reCAPTCHA dorulamas baarsz oldu. Ltfen sayfay yenileyip tekrar deneyin.'],
                ]);
            }
        }
    }

    /**
     * Baarsz giri denemesi sayacn artrr.
     */
    protected function incrementLoginAttempts(Request $request)
    {
        $this->traitIncrementLoginAttempts($request);
        $key = 'login_ip_check|' . $request->ip();
        $currentAttempts = Cache::get($key, 0);
        $currentAttempts++;
        Cache::put($key, $currentAttempts, $this->decayMinutes * 60);
    }

    /**
     * Baarl giriten sonra denemeleri temizler.
     */
    protected function clearLoginAttempts(Request $request)
    {
        $this->traitClearLoginAttempts($request);
        $key = 'login_ip_check|' . $request->ip();
        Cache::forget($key);
    }

    /**
     * Hatal giri denemesinden sonra verilecek cevab zelletirir.
     */
    protected function sendFailedLoginResponse(Request $request)
    {
        $this->incrementLoginAttempts($request);
        $user = User::where($this->username(), $request->{$this->username()})->first();

        if ($user && !Hash::check($request->password, $user->password)) {
            throw ValidationException::withMessages([
                'password' => [trans('auth.password')],
            ]);
        }

        throw ValidationException::withMessages([
            $this->username() => [trans('auth.failed')],
        ]);
    }

    /**
     * Kullanc baaryla giri yaptktan sonra alr.
     */
    protected function authenticated(\Illuminate\Http\Request $request, $user)
    {
        // 1. Eer kullanc TV ise direkt TV Dashboard'a gnder
        if ($user->email === 'tv@koksan.com') {
            return redirect()->route('tv.dashboard');
        }
        $intendedUrl = $request->session()->get('url.intended');

        if ($intendedUrl && str_contains($intendedUrl, 'notifications/check')) {
            // O adresi unut ve normal ana sayfaya git
            $request->session()->forget('url.intended');
            return redirect($this->redirectPath());
        }

        // 2. Dier kullanclar normal akna devam etsin
        return redirect()->intended($this->redirectPath());
    }
}

----------------------------------------
DOSYA YOLU: app\Http\Controllers\Auth\RegisterController.php
----------------------------------------

<?php

namespace App\Http\Controllers\Auth;

use App\Http\Controllers\Controller;
use App\Models\User;
use Illuminate\Foundation\Auth\RegistersUsers;
use Illuminate\Support\Facades\Hash;
use Illuminate\Support\Facades\Validator;

class RegisterController extends Controller
{
    /*
    |--------------------------------------------------------------------------
    | Register Controller
    |--------------------------------------------------------------------------
    |
    | This controller handles the registration of new users as well as their
    | validation and creation. By default this controller uses a trait to
    | provide this functionality without requiring any additional code.
    |
    */

    use RegistersUsers;

    /**
     * Where to redirect users after registration.
     *
     * @var string
     */
    protected $redirectTo = '/home';

    /**
     * Create a new controller instance.
     *
     * @return void
     */
    public function __construct()
    {
        $this->middleware('guest');
    }

    /**
     * Get a validator for an incoming registration request.
     *
     * @param  array  $data
     * @return \Illuminate\Contracts\Validation\Validator
     */
    protected function validator(array $data)
    {
        return Validator::make($data, [
            'name' => ['required', 'string', 'max:255'],
            'email' => ['required', 'string', 'email', 'max:255', 'unique:users'],
            'password' => ['required', 'string', 'min:8', 'confirmed'],
        ]);
    }

    /**
     * Create a new user instance after a valid registration.
     *
     * @param  array  $data
     * @return \App\Models\User
     */
    protected function create(array $data)
    {
        return User::create([
            'name' => $data['name'],
            'email' => $data['email'],
            'password' => Hash::make($data['password']),
        ]);
    }
}


----------------------------------------
DOSYA YOLU: app\Http\Controllers\Auth\ResetPasswordController.php
----------------------------------------

<?php

namespace App\Http\Controllers\Auth;

use App\Http\Controllers\Controller;
use Illuminate\Foundation\Auth\ResetsPasswords;

class ResetPasswordController extends Controller
{
    /*
    |--------------------------------------------------------------------------
    | Password Reset Controller
    |--------------------------------------------------------------------------
    |
    | This controller is responsible for handling password reset requests
    | and uses a simple trait to include this behavior. You're free to
    | explore this trait and override any methods you wish to tweak.
    |
    */

    use ResetsPasswords;

    /**
     * Where to redirect users after resetting their password.
     *
     * @var string
     */
    protected $redirectTo = '/home';
}


----------------------------------------
DOSYA YOLU: app\Http\Controllers\Auth\VerificationController.php
----------------------------------------

<?php

namespace App\Http\Controllers\Auth;

use App\Http\Controllers\Controller;
use Illuminate\Foundation\Auth\VerifiesEmails;

class VerificationController extends Controller
{
    /*
    |--------------------------------------------------------------------------
    | Email Verification Controller
    |--------------------------------------------------------------------------
    |
    | This controller is responsible for handling email verification for any
    | user that recently registered with the application. Emails may also
    | be re-sent if the user didn't receive the original email message.
    |
    */

    use VerifiesEmails;

    /**
     * Where to redirect users after verification.
     *
     * @var string
     */
    protected $redirectTo = '/home';

    /**
     * Create a new controller instance.
     *
     * @return void
     */
    public function __construct()
    {
        $this->middleware('auth');
        $this->middleware('signed')->only('verify');
        $this->middleware('throttle:6,1')->only('verify', 'resend');
    }
}


----------------------------------------
DOSYA YOLU: app\Http\Middleware\Authenticate.php
----------------------------------------

<?php

namespace App\Http\Middleware;

use Illuminate\Auth\Middleware\Authenticate as Middleware;

class Authenticate extends Middleware
{
    /**
     * Get the path the user should be redirected to when they are not authenticated.
     *
     * @param  \Illuminate\Http\Request  $request
     * @return string|null
     */
    protected function redirectTo($request)
    {
        if (! $request->expectsJson()) {
            return route('login');
        }
    }
}


----------------------------------------
DOSYA YOLU: app\Http\Middleware\CheckUserRole_OLD.php
----------------------------------------

<?php

namespace App\Http\Middleware;

use Closure;
use Illuminate\Http\Request;
use Symfony\Component\HttpFoundation\Response;

class CheckUserRole
{
    /**
     * Handle an incoming request.
     *
     * @param  \Illuminate\Http\Request  $request
     * @param  \Closure  $next
     * @param  string  ...$roles
     * @return \Symfony\Component\HttpFoundation\Response
     */
    public function handle(Request $request, Closure $next, ...$roles): Response
    {
        if (! $request->user()) {
            return redirect()->route('login');
        }

        foreach ($roles as $role) {
            if ($request->user()->role === $role) {
                return $next($request);
            }
        }

        return redirect('/home')->with('error', 'Bu sayfaya eriim yetkiniz bulunmamaktadr.');
    }
}

----------------------------------------
DOSYA YOLU: app\Http\Middleware\EncryptCookies.php
----------------------------------------

<?php

namespace App\Http\Middleware;

use Illuminate\Cookie\Middleware\EncryptCookies as Middleware;

class EncryptCookies extends Middleware
{
    /**
     * The names of the cookies that should not be encrypted.
     *
     * @var array<int, string>
     */
    protected $except = [
        //
    ];
}


----------------------------------------
DOSYA YOLU: app\Http\Middleware\PreventRequestsDuringMaintenance.php
----------------------------------------

<?php

namespace App\Http\Middleware;

use Illuminate\Foundation\Http\Middleware\PreventRequestsDuringMaintenance as Middleware;

class PreventRequestsDuringMaintenance extends Middleware
{
    /**
     * The URIs that should be reachable while maintenance mode is enabled.
     *
     * @var array<int, string>
     */
    protected $except = [
        //
    ];
}


----------------------------------------
DOSYA YOLU: app\Http\Middleware\RedirectIfAuthenticated.php
----------------------------------------

<?php

namespace App\Http\Middleware;

use App\Providers\RouteServiceProvider;
use Closure;
use Illuminate\Http\Request;
use Illuminate\Support\Facades\Auth;

class RedirectIfAuthenticated
{
    /**
     * Handle an incoming request.
     *
     * @param  \Illuminate\Http\Request  $request
     * @param  \Closure(\Illuminate\Http\Request): (\Illuminate\Http\Response|\Illuminate\Http\RedirectResponse)  $next
     * @param  string|null  ...$guards
     * @return \Illuminate\Http\Response|\Illuminate\Http\RedirectResponse
     */
    public function handle(Request $request, Closure $next, ...$guards)
    {
        $guards = empty($guards) ? [null] : $guards;

        foreach ($guards as $guard) {
            if (Auth::guard($guard)->check()) {
                return redirect(RouteServiceProvider::HOME);
            }
        }

        return $next($request);
    }
}


----------------------------------------
DOSYA YOLU: app\Http\Middleware\RemoveHeaders.php
----------------------------------------

<?php

namespace App\Http\Middleware;

use Closure;
use Illuminate\Http\Request;

class RemoveHeaders
{
    /**
     * Handle an incoming request.
     *
     * @param  \Illuminate\Http\Request  $request
     * @param  \Closure(\Illuminate\Http\Request): (\Illuminate\Http\Response|\Illuminate\Http\RedirectResponse)  $next
     * @return \Illuminate\Http\Response|\Illuminate\Http\RedirectResponse
     */
    public function handle(Request $request, Closure $next)
    {
        $response = $next($request);

        $response->headers->remove('X-Powered-By');

        $response->headers->remove('Server');

        $response->headers->remove('X-RateLimit-Limit');
        $response->headers->remove('X-RateLimit-Remaining');
        $response->headers->remove('X-RateLimit-Reset');
        $response->headers->remove('Retry-After');

        return $response;
    }
}


----------------------------------------
DOSYA YOLU: app\Http\Middleware\SetBusinessUnit.php
----------------------------------------

<?php

namespace App\Http\Middleware;

use Closure;
use Illuminate\Http\Request;
use Illuminate\Support\Facades\Auth;
use Illuminate\Support\Facades\Session;

class SetBusinessUnit
{
    public function handle(Request $request, Closure $next)
    {
        if (Auth::check()) {
            // 1. Session'da seili bir birim var m?
            $activeUnitId = Session::get('active_unit_id');

            // 2. Kullancnn yetkili olduu birimleri al
            $userUnits = Auth::user()->businessUnits;

            // 3. Eer session bosa veya kullanc o birimden atldysa, ilk yetkili olduu birimi se
            if (!$activeUnitId || !$userUnits->contains('id', $activeUnitId)) {
                $firstUnit = $userUnits->first();
                if ($firstUnit) {
                    Session::put('active_unit_id', $firstUnit->id);
                    Session::put('active_unit_name', $firstUnit->name); // Ekranda gstermek iin
                }
            }
        }

        return $next($request);
    }
}

----------------------------------------
DOSYA YOLU: app\Http\Middleware\SetDefaultBusinessUnit.php
----------------------------------------

<?php

namespace App\Http\Middleware;

use Closure;
use Illuminate\Http\Request;
use Illuminate\Support\Facades\Auth;
use Symfony\Component\HttpFoundation\Response;

class SetDefaultBusinessUnit
{
    /**
     * Handle an incoming request.
     */
    public function handle(Request $request, Closure $next): Response
    {
        $user = Auth::user();

        // Kullanc giri yapmsa VE session'da birim seili deilse
        if ($user && !session()->has('active_unit_id')) {

            // Kullancnn yetkili olduu ilk birimi al
            // (User modelinde 'businessUnits' ilikisi tanml olmal)
            $firstUnit = $user->businessUnits->first();

            if ($firstUnit) {
                session(['active_unit_id' => $firstUnit->id]);
                session(['active_unit_name' => $firstUnit->name]);
            }
        }

        return $next($request);
    }
}

----------------------------------------
DOSYA YOLU: app\Http\Middleware\TrimStrings.php
----------------------------------------

<?php

namespace App\Http\Middleware;

use Illuminate\Foundation\Http\Middleware\TrimStrings as Middleware;

class TrimStrings extends Middleware
{
    /**
     * The names of the attributes that should not be trimmed.
     *
     * @var array<int, string>
     */
    protected $except = [
        'current_password',
        'password',
        'password_confirmation',
    ];
}


----------------------------------------
DOSYA YOLU: app\Http\Middleware\TrustHosts.php
----------------------------------------

<?php

namespace App\Http\Middleware;

use Illuminate\Http\Middleware\TrustHosts as Middleware;

class TrustHosts extends Middleware
{
    /**
     * Get the host patterns that should be trusted.
     *
     * @return array<int, string|null>
     */
    public function hosts()
    {
        return [
            $this->allSubdomainsOfApplicationUrl(),
        ];
    }
}


----------------------------------------
DOSYA YOLU: app\Http\Middleware\TrustProxies.php
----------------------------------------

<?php

namespace App\Http\Middleware;

use Illuminate\Http\Middleware\TrustProxies as Middleware;
use Illuminate\Http\Request;

class TrustProxies extends Middleware
{
    /**
     * The trusted proxies for this application.
     *
     * @var array<int, string>|string|null
     */
    protected $proxies;

    /**
     * The headers that should be used to detect proxies.
     *
     * @var int
     */
    protected $headers =
        Request::HEADER_X_FORWARDED_FOR |
        Request::HEADER_X_FORWARDED_HOST |
        Request::HEADER_X_FORWARDED_PORT |
        Request::HEADER_X_FORWARDED_PROTO |
        Request::HEADER_X_FORWARDED_AWS_ELB;
}


----------------------------------------
DOSYA YOLU: app\Http\Middleware\ValidateSignature.php
----------------------------------------

<?php

namespace App\Http\Middleware;

use Illuminate\Routing\Middleware\ValidateSignature as Middleware;

class ValidateSignature extends Middleware
{
    /**
     * The names of the query string parameters that should be ignored.
     *
     * @var array<int, string>
     */
    protected $except = [
        // 'fbclid',
        // 'utm_campaign',
        // 'utm_content',
        // 'utm_medium',
        // 'utm_source',
        // 'utm_term',
    ];
}


----------------------------------------
DOSYA YOLU: app\Http\Middleware\VerifyCsrfToken.php
----------------------------------------

<?php

namespace App\Http\Middleware;

use Illuminate\Foundation\Http\Middleware\VerifyCsrfToken as Middleware;

class VerifyCsrfToken extends Middleware
{
    /**
     * The URIs that should be excluded from CSRF verification.
     *
     * @var array<int, string>
     */
    protected $except = [
        //
    ];
}


----------------------------------------
DOSYA YOLU: app\Listeners\LogFailedLogin.php
----------------------------------------

<?php

namespace App\Listeners;

use Illuminate\Auth\Events\Failed;
use Illuminate\Contracts\Queue\ShouldQueue;
use Illuminate\Queue\InteractsWithQueue;

class LogFailedLogin
{
    /**
     * Create the event listener.
     *
     * @return void
     */
    public function __construct()
    {
        //
    }

    /**
     * Handle the event.
     *
     * @param  object  $event
     * @return void
     */
    public function handle(Failed $event): void
    {
        $email = $event->credentials['email'] ?? 'bilinmiyor';
        $ip = request()->ip();

        // Activity balat
        $activity = activity()
            ->withProperty('email_denemesi', $email)
            ->withProperty('ip_adresi', $ip);

        // Eer kullanc veritabannda varsa (sadece ifre yanlsa) 'causedBy' ekle
        if ($event->user) {
            $activity->causedBy($event->user);
        }

        $activity->log('BAARISIZ kullanc girii denemesi');
    }
}


----------------------------------------
DOSYA YOLU: app\Listeners\LogLogout.php
----------------------------------------

<?php

namespace App\Listeners;

use Illuminate\Auth\Events\Logout;
use Illuminate\Queue\InteractsWithQueue;
use Illuminate\Contracts\Queue\ShouldQueue;

class LogLogout
{
    public function handle(Logout $event): void
    {
        if ($event->user) {
            activity()
                ->causedBy($event->user)
                ->log('Kullanc sistemden k yapt');
        }
    }
}

----------------------------------------
DOSYA YOLU: app\Listeners\LogSuccessfulLogin.php
----------------------------------------

<?php

namespace App\Listeners;

use Illuminate\Contracts\Queue\ShouldQueue;
use Illuminate\Queue\InteractsWithQueue;
use Illuminate\Auth\Events\Login;

class LogSuccessfulLogin
{
    /**
     * Create the event listener.
     *
     * @return void
     */
    public function __construct()
    {
        //
    }

    /**
     * Handle the event.
     *
     * @param  object  $event
     * @return void
     */
    public function handle(Login $event): void
    {
        activity()
            ->causedBy($event->user)
            ->log('Baarl kullanc girii');
    }
}


----------------------------------------
DOSYA YOLU: app\Models\Birim.php
----------------------------------------

<?php

namespace App\Models;

use Illuminate\Database\Eloquent\Factories\HasFactory;
use Illuminate\Database\Eloquent\Model;
use Illuminate\Database\Eloquent\SoftDeletes;
use App\Traits\Loggable;

/**
 * App\Models\Birim
 *
 * @property int $id
 * @property string $ad
 * @property \Illuminate\Support\Carbon|null $created_at
 * @property \Illuminate\Support\Carbon|null $updated_at
 * @property \Illuminate\Support\Carbon|null $deleted_at
 * @property-read \Illuminate\Database\Eloquent\Collection<int, \Spatie\Activitylog\Models\Activity> $activities
 * @property-read int|null $activities_count
 * @method static \Illuminate\Database\Eloquent\Builder|Birim newModelQuery()
 * @method static \Illuminate\Database\Eloquent\Builder|Birim newQuery()
 * @method static \Illuminate\Database\Eloquent\Builder|Birim onlyTrashed()
 * @method static \Illuminate\Database\Eloquent\Builder|Birim query()
 * @method static \Illuminate\Database\Eloquent\Builder|Birim whereAd($value)
 * @method static \Illuminate\Database\Eloquent\Builder|Birim whereCreatedAt($value)
 * @method static \Illuminate\Database\Eloquent\Builder|Birim whereDeletedAt($value)
 * @method static \Illuminate\Database\Eloquent\Builder|Birim whereId($value)
 * @method static \Illuminate\Database\Eloquent\Builder|Birim whereUpdatedAt($value)
 * @method static \Illuminate\Database\Eloquent\Builder|Birim withTrashed()
 * @method static \Illuminate\Database\Eloquent\Builder|Birim withoutTrashed()
 * @mixin \Eloquent
 * @mixin IdeHelperBirim
 */
class Birim extends Model
{
    use HasFactory, SoftDeletes, Loggable;

    /**
     * Toplu atama (mass assignment) ile doldurulmasna izin verilen alanlar.
     *
     * @var array
     */
    protected $fillable = [
        'ad',
    ];
}


----------------------------------------
DOSYA YOLU: app\Models\Booking.php
----------------------------------------

<?php

namespace App\Models;

use Illuminate\Database\Eloquent\Factories\HasFactory;
use Illuminate\Database\Eloquent\Model;
use Spatie\MediaLibrary\HasMedia;
use Spatie\MediaLibrary\InteractsWithMedia;
use App\Traits\Loggable;
use App\Traits\HasBusinessUnit;

/**
 * App\Models\Booking
 *
 * @property int $id
 * @property int $bookable_id 
 * @property string $bookable_type 
 * @property int $user_id
 * @property string $type
 * @property string|null $provider_name
 * @property string|null $confirmation_code
 * @property string|null $cost
 * @property string|null $start_datetime
 * @property string|null $end_datetime
 * @property string|null $notes
 * @property \Illuminate\Support\Carbon|null $created_at
 * @property \Illuminate\Support\Carbon|null $updated_at
 * @property-read \Illuminate\Database\Eloquent\Collection<int, \Spatie\Activitylog\Models\Activity> $activities
 * @property-read int|null $activities_count
 * @property-read \Spatie\MediaLibrary\MediaCollections\Models\Collections\MediaCollection<int, \Spatie\MediaLibrary\MediaCollections\Models\Media> $media
 * @property-read int|null $media_count
 * @property-read Model|\Eloquent $bookable // DET: Artk travel deil, dinamik bookable
 * @property-read \App\Models\User $user
 * @method static \Illuminate\Database\Eloquent\Builder|Booking newModelQuery()
 * @method static \Illuminate\Database\Eloquent\Builder|Booking newQuery()
 * @method static \Illuminate\Database\Eloquent\Builder|Booking query()
 * @method static \Illuminate\Database\Eloquent\Builder|Booking whereBookableId($value)
 * @method static \Illuminate\Database\Eloquent\Builder|Booking whereBookableType($value)
 * @method static \Illuminate\Database\Eloquent\Builder|Booking whereConfirmationCode($value)
 * @method static \Illuminate\Database\Eloquent\Builder|Booking whereCost($value)
 * @method static \Illuminate\Database\Eloquent\Builder|Booking whereCreatedAt($value)
 * @method static \Illuminate\Database\Eloquent\Builder|Booking whereEndDatetime($value)
 * @method static \Illuminate\Database\Eloquent\Builder|Booking whereId($value)
 * @method static \Illuminate\Database\Eloquent\Builder|Booking whereNotes($value)
 * @method static \Illuminate\Database\Eloquent\Builder|Booking whereProviderName($value)
 * @method static \Illuminate\Database\Eloquent\Builder|Booking whereStartDatetime($value)
 * @method static \Illuminate\Database\Eloquent\Builder|Booking whereType($value)
 * @method static \Illuminate\Database\Eloquent\Builder|Booking whereUpdatedAt($value)
 * @method static \Illuminate\Database\Eloquent\Builder|Booking whereUserId($value)
 * @mixin \Eloquent
 * @mixin IdeHelperBooking
 */
class Booking extends Model implements HasMedia
{
    use HasFactory, InteractsWithMedia, Loggable, HasBusinessUnit;

    // Hangi alanlarn veritabanna yazlabilecei (Sadece isimler)
    protected $fillable = [
        'bookable_id',
        'bookable_type',
        'user_id',
        'type',
        'provider_name',
        'confirmation_code',
        'cost',
        'start_datetime',
        'end_datetime',
        'status',
        'notes',
        'business_unit_id',
    ];

    protected $casts = [
        'start_datetime' => 'datetime',
        'end_datetime' => 'datetime',
    ];

    /**
     * Polimorfik liki Tanm
     * Bu rezervasyon bir Travel'a DA ait olabilir, bir Event'e DE.
     * $booking->bookable dediinde otomatik olarak hangisiyse onu getirecek.
     */
    public function bookable()
    {
        return $this->morphTo();
    }

    /**
     * Geriye Dnk Uyumluluk (Opsiyonel)
     * Eer kodunun baka yerlerinde hala $booking->travel diye ardn yerler varsa
     * patlamasn diye bu ksayolu brakabilirsin. Ama dorusu artk ->bookable kullanmaktr.
     */
    public function getTravelAttribute()
    {
        // Eer bal olduu model Travel ise onu dndr, deilse null dn.
        if ($this->bookable_type === 'App\Models\Travel' || $this->bookable_type === 'App\Models\Event') {
            return $this->bookable;
        }
        return null;
    }

    // Bu rezervasyonu ekleyen kullanc
    public function user()
    {
        return $this->belongsTo(User::class);
    }

    // Dosyalar likisi
    public function files()
    {
        return $this->morphMany(File::class, 'fileable');
    }
    /**
     * Rezervasyon dzenlenebilir durumda m?
     * Kural: 24 saatten az kaldysa veya tarih gemise FALSE dner.
     */
    public function getIsEditableAttribute(): bool
    {
        // 1. Tarih yoksa (henz belirlenmediyse) dzenlenebilir
        if (!$this->start_datetime)
            return true;

        // 2. Kalan saati hesapla (Gemi zaman negatif kar)
        $hoursRemaining = now()->diffInHours($this->start_datetime, false);

        // 3. KURAL: 24 saatten az kaldysa (veya tarih gemise) ENGELLE
        if ($hoursRemaining < 24) {
            return false;
        }

        // Aksi halde izin ver
        return true;
    }
}

----------------------------------------
DOSYA YOLU: app\Models\BusinessUnit.php
----------------------------------------

<?php

namespace App\Models;

use Illuminate\Database\Eloquent\Factories\HasFactory;
use Illuminate\Database\Eloquent\Model;
use Illuminate\Database\Eloquent\SoftDeletes;

class BusinessUnit extends Model
{
    use HasFactory, SoftDeletes;

    // Mass assignment korumas iin
    protected $fillable = ['name', 'code', 'slug', 'is_active'];

    // liki: Bir birimde alanlar
    public function users()
    {
        return $this->belongsToMany(User::class, 'business_unit_user')
            ->withPivot('role_in_unit')
            ->withTimestamps();
    }
}

----------------------------------------
DOSYA YOLU: app\Models\Complaint.php
----------------------------------------

<?php

namespace App\Models;

use Illuminate\Database\Eloquent\Factories\HasFactory;
use Illuminate\Database\Eloquent\Model;
use Spatie\MediaLibrary\HasMedia;
use Spatie\MediaLibrary\InteractsWithMedia;
use App\Traits\Loggable;
use App\Traits\HasBusinessUnit; // <--- 1. Use ekle

/**
 * App\Models\Complaint
 *
 * @property int $id
 * @property int $customer_id
 * @property int $user_id
 * @property int|null $customer_machine_id
 * @property string $title
 * @property string $description
 * @property string $status
 * @property \Illuminate\Support\Carbon|null $created_at
 * @property \Illuminate\Support\Carbon|null $updated_at
 * @property-read \Illuminate\Database\Eloquent\Collection<int, \Spatie\Activitylog\Models\Activity> $activities
 * @property-read int|null $activities_count
 * @property-read \App\Models\Customer $customer
 * @property-read \Spatie\MediaLibrary\MediaCollections\Models\Collections\MediaCollection<int, \Spatie\MediaLibrary\MediaCollections\Models\Media> $media
 * @property-read int|null $media_count
 * @method static \Illuminate\Database\Eloquent\Builder|Complaint newModelQuery()
 * @method static \Illuminate\Database\Eloquent\Builder|Complaint newQuery()
 * @method static \Illuminate\Database\Eloquent\Builder|Complaint query()
 * @method static \Illuminate\Database\Eloquent\Builder|Complaint whereCreatedAt($value)
 * @method static \Illuminate\Database\Eloquent\Builder|Complaint whereCustomerId($value)
 * @method static \Illuminate\Database\Eloquent\Builder|Complaint whereCustomerMachineId($value)
 * @method static \Illuminate\Database\Eloquent\Builder|Complaint whereDescription($value)
 * @method static \Illuminate\Database\Eloquent\Builder|Complaint whereId($value)
 * @method static \Illuminate\Database\Eloquent\Builder|Complaint whereStatus($value)
 * @method static \Illuminate\Database\Eloquent\Builder|Complaint whereTitle($value)
 * @method static \Illuminate\Database\Eloquent\Builder|Complaint whereUpdatedAt($value)
 * @method static \Illuminate\Database\Eloquent\Builder|Complaint whereUserId($value)
 * @mixin \Eloquent
 * @mixin IdeHelperComplaint
 */
class Complaint extends Model implements HasMedia
{
    use HasFactory, InteractsWithMedia, Loggable, HasBusinessUnit;
    protected $fillable = ['customer_id', 'user_id', 'customer_machine_id', 'title', 'description', 'status'];
    public function customer()
    {
        return $this->belongsTo(Customer::class);
    }
}


----------------------------------------
DOSYA YOLU: app\Models\Customer.php
----------------------------------------

<?php

namespace App\Models;

use Illuminate\Database\Eloquent\Factories\HasFactory;
use Illuminate\Database\Eloquent\Model;
use Illuminate\Database\Eloquent\SoftDeletes;
use App\Traits\Loggable;

/**
 * App\Models\Customer
 *
 * @property int $id
 * @property string $name
 * @property string|null $contact_person
 * @property string|null $email
 * @property string|null $phone
 * @property string|null $address
 * @property \Illuminate\Support\Carbon|null $created_at
 * @property \Illuminate\Support\Carbon|null $updated_at
 * @property \Illuminate\Support\Carbon|null $deleted_at
 * @property-read \Illuminate\Database\Eloquent\Collection<int, \Spatie\Activitylog\Models\Activity> $activities
 * @property-read int|null $activities_count
 * @property-read \Illuminate\Database\Eloquent\Collection<int, \App\Models\Complaint> $complaints
 * @property-read int|null $complaints_count
 * @property-read \Illuminate\Database\Eloquent\Collection<int, \App\Models\CustomerMachine> $machines
 * @property-read int|null $machines_count
 * @property-read \Illuminate\Database\Eloquent\Collection<int, \App\Models\TestResult> $testResults
 * @property-read int|null $test_results_count
 * @property-read \Illuminate\Database\Eloquent\Collection<int, \App\Models\CustomerVisit> $visits
 * @property-read int|null $visits_count
 * @method static \Illuminate\Database\Eloquent\Builder|Customer newModelQuery()
 * @method static \Illuminate\Database\Eloquent\Builder|Customer newQuery()
 * @method static \Illuminate\Database\Eloquent\Builder|Customer onlyTrashed()
 * @method static \Illuminate\Database\Eloquent\Builder|Customer query()
 * @method static \Illuminate\Database\Eloquent\Builder|Customer whereAddress($value)
 * @method static \Illuminate\Database\Eloquent\Builder|Customer whereContactPerson($value)
 * @method static \Illuminate\Database\Eloquent\Builder|Customer whereCreatedAt($value)
 * @method static \Illuminate\Database\Eloquent\Builder|Customer whereDeletedAt($value)
 * @method static \Illuminate\Database\Eloquent\Builder|Customer whereEmail($value)
 * @method static \Illuminate\Database\Eloquent\Builder|Customer whereId($value)
 * @method static \Illuminate\Database\Eloquent\Builder|Customer whereName($value)
 * @method static \Illuminate\Database\Eloquent\Builder|Customer wherePhone($value)
 * @method static \Illuminate\Database\Eloquent\Builder|Customer whereUpdatedAt($value)
 * @method static \Illuminate\Database\Eloquent\Builder|Customer withTrashed()
 * @method static \Illuminate\Database\Eloquent\Builder|Customer withoutTrashed()
 * @mixin \Eloquent
 * @mixin IdeHelperCustomer
 */
class Customer extends Model
{
    use HasFactory, SoftDeletes, Loggable;
    protected $fillable = [
        'name',
        'contact_person',
        'email',
        'phone',
        'address'
    ];
    public function machines()
    {
        return $this->hasMany(CustomerMachine::class);
    }
    public function complaints()
    {
        return $this->hasMany(Complaint::class);
    }
    public function testResults()
    {
        return $this->hasMany(TestResult::class);
    }
    public function visits()
    {
        return $this->hasMany(CustomerVisit::class);
    }
    // Mterinin gemi aktiviteleri (En yeniden eskiye)
    public function activities()
    {
        return $this->hasMany(CustomerActivity::class)->orderBy('activity_date', 'desc');
    }

    // Mteriye yaplan ara grevleri
    public function vehicleAssignments()
    {
        return $this->hasMany(VehicleAssignment::class)->orderBy('start_time', 'desc');
    }
}


----------------------------------------
DOSYA YOLU: app\Models\CustomerActivity.php
----------------------------------------

<?php

namespace App\Models;

use App\Traits\HasBusinessUnit;
use Illuminate\Database\Eloquent\Factories\HasFactory;
use Illuminate\Database\Eloquent\Model;

class CustomerActivity extends Model
{
    use HasFactory, HasBusinessUnit;
    protected $fillable = ['customer_id', 'user_id', 'type', 'description', 'activity_date', 'business_unit_id'];

    protected $casts = [
        'activity_date' => 'datetime',
    ];

    // Aktiviteyi giren personel
    public function user()
    {
        return $this->belongsTo(User::class);
    }

    // Hangi mteriye ait
    public function customer()
    {
        return $this->belongsTo(Customer::class);
    }
}


----------------------------------------
DOSYA YOLU: app\Models\CustomerActivityLog.php
----------------------------------------

<?php

namespace App\Models;

use Illuminate\Database\Eloquent\Factories\HasFactory;
use Illuminate\Database\Eloquent\Model;
use App\Traits\Loggable;
use App\Traits\HasBusinessUnit;

/**
 * App\Models\CustomerActivityLog
 *
 * @property int $id
 * @property int|null $user_id
 * @property string $model_type
 * @property int $model_id
 * @property string $action
 * @property array|null $changes
 * @property \Illuminate\Support\Carbon|null $created_at
 * @property \Illuminate\Support\Carbon|null $updated_at
 * @property-read \Illuminate\Database\Eloquent\Collection<int, \Spatie\Activitylog\Models\Activity> $activities
 * @property-read int|null $activities_count
 * @method static \Illuminate\Database\Eloquent\Builder|CustomerActivityLog newModelQuery()
 * @method static \Illuminate\Database\Eloquent\Builder|CustomerActivityLog newQuery()
 * @method static \Illuminate\Database\Eloquent\Builder|CustomerActivityLog query()
 * @method static \Illuminate\Database\Eloquent\Builder|CustomerActivityLog whereAction($value)
 * @method static \Illuminate\Database\Eloquent\Builder|CustomerActivityLog whereChanges($value)
 * @method static \Illuminate\Database\Eloquent\Builder|CustomerActivityLog whereCreatedAt($value)
 * @method static \Illuminate\Database\Eloquent\Builder|CustomerActivityLog whereId($value)
 * @method static \Illuminate\Database\Eloquent\Builder|CustomerActivityLog whereModelId($value)
 * @method static \Illuminate\Database\Eloquent\Builder|CustomerActivityLog whereModelType($value)
 * @method static \Illuminate\Database\Eloquent\Builder|CustomerActivityLog whereUpdatedAt($value)
 * @method static \Illuminate\Database\Eloquent\Builder|CustomerActivityLog whereUserId($value)
 * @mixin \Eloquent
 * @mixin IdeHelperCustomerActivityLog
 */
class CustomerActivityLog extends Model
{
    use HasFactory, Loggable, HasBusinessUnit;
    protected $fillable = ['user_id', 'model_type', 'model_id', 'action', 'changes', 'business_unit_id'];
    protected $casts = ['changes' => 'array'];
}


----------------------------------------
DOSYA YOLU: app\Models\CustomerMachine.php
----------------------------------------

<?php

namespace App\Models;

use Illuminate\Database\Eloquent\Factories\HasFactory;
use Illuminate\Database\Eloquent\Model;
use App\Traits\Loggable;
use App\Traits\HasBusinessUnit;

/**
 * App\Models\CustomerMachine
 *
 * @property int $id
 * @property int $customer_id
 * @property string $model
 * @property string|null $serial_number
 * @property string|null $installation_date
 * @property \Illuminate\Support\Carbon|null $created_at
 * @property \Illuminate\Support\Carbon|null $updated_at
 * @property-read \Illuminate\Database\Eloquent\Collection<int, \Spatie\Activitylog\Models\Activity> $activities
 * @property-read int|null $activities_count
 * @property-read \App\Models\Customer $customer
 * @method static \Illuminate\Database\Eloquent\Builder|CustomerMachine newModelQuery()
 * @method static \Illuminate\Database\Eloquent\Builder|CustomerMachine newQuery()
 * @method static \Illuminate\Database\Eloquent\Builder|CustomerMachine query()
 * @method static \Illuminate\Database\Eloquent\Builder|CustomerMachine whereCreatedAt($value)
 * @method static \Illuminate\Database\Eloquent\Builder|CustomerMachine whereCustomerId($value)
 * @method static \Illuminate\Database\Eloquent\Builder|CustomerMachine whereId($value)
 * @method static \Illuminate\Database\Eloquent\Builder|CustomerMachine whereInstallationDate($value)
 * @method static \Illuminate\Database\Eloquent\Builder|CustomerMachine whereModel($value)
 * @method static \Illuminate\Database\Eloquent\Builder|CustomerMachine whereSerialNumber($value)
 * @method static \Illuminate\Database\Eloquent\Builder|CustomerMachine whereUpdatedAt($value)
 * @mixin \Eloquent
 * @mixin IdeHelperCustomerMachine
 */
class CustomerMachine extends Model
{
    use HasFactory, Loggable, HasBusinessUnit;
    protected $fillable = ['customer_id', 'model', 'serial_number', 'installation_date', 'business_unit_id'];
    public function customer()
    {
        return $this->belongsTo(Customer::class);
    }
    // Dosyalar likisi
    public function files()
    {
        return $this->morphMany(File::class, 'fileable');
    }
}


----------------------------------------
DOSYA YOLU: app\Models\CustomerVisit.php
----------------------------------------

<?php

namespace App\Models;

use Illuminate\Database\Eloquent\Factories\HasFactory;
use Illuminate\Database\Eloquent\Model;
use App\Traits\Loggable;
use App\Traits\HasBusinessUnit;

/**
 * App\Models\CustomerVisit
 *
 * @property int $id
 * @property int $event_id
 * @property int $customer_id
 * @property int|null $travel_id
 * @property int|null $customer_machine_id
 * @property string $visit_purpose
 * @property string|null $after_sales_notes
 * @property \Illuminate\Support\Carbon|null $created_at
 * @property \Illuminate\Support\Carbon|null $updated_at
 * @property-read \Illuminate\Database\Eloquent\Collection<int, \Spatie\Activitylog\Models\Activity> $activities
 * @property-read int|null $activities_count
 * @property-read \App\Models\Customer $customer
 * @property-read \App\Models\Event $event
 * @property-read \App\Models\Travel|null $travel
 * @method static \Illuminate\Database\Eloquent\Builder|CustomerVisit newModelQuery()
 * @method static \Illuminate\Database\Eloquent\Builder|CustomerVisit newQuery()
 * @method static \Illuminate\Database\Eloquent\Builder|CustomerVisit query()
 * @method static \Illuminate\Database\Eloquent\Builder|CustomerVisit whereAfterSalesNotes($value)
 * @method static \Illuminate\Database\Eloquent\Builder|CustomerVisit whereCreatedAt($value)
 * @method static \Illuminate\Database\Eloquent\Builder|CustomerVisit whereCustomerId($value)
 * @method static \Illuminate\Database\Eloquent\Builder|CustomerVisit whereCustomerMachineId($value)
 * @method static \Illuminate\Database\Eloquent\Builder|CustomerVisit whereEventId($value)
 * @method static \Illuminate\Database\Eloquent\Builder|CustomerVisit whereId($value)
 * @method static \Illuminate\Database\Eloquent\Builder|CustomerVisit whereTravelId($value)
 * @method static \Illuminate\Database\Eloquent\Builder|CustomerVisit whereUpdatedAt($value)
 * @method static \Illuminate\Database\Eloquent\Builder|CustomerVisit whereVisitPurpose($value)
 * @mixin \Eloquent
 * @mixin IdeHelperCustomerVisit
 */
class CustomerVisit extends Model
{
    use HasFactory, Loggable, HasBusinessUnit;
    protected $fillable = [
        'event_id',
        'customer_id',
        'travel_id',
        'visit_purpose',
        'has_machine',
        'after_sales_notes',
        'business_unit_id',
    ];
    public function event()
    {
        return $this->belongsTo(Event::class);
    }
    public function customer()
    {
        return $this->belongsTo(Customer::class);
    }
    public function travel()
    {
        return $this->belongsTo(Travel::class);
    }
    // Dosyalar likisi
    public function files()
    {
        return $this->morphMany(File::class, 'fileable');
    }
}


----------------------------------------
DOSYA YOLU: app\Models\CustomFieldDefinition.php
----------------------------------------

<?php

namespace App\Models;

use Illuminate\Database\Eloquent\Factories\HasFactory;
use Illuminate\Database\Eloquent\Model;

class CustomFieldDefinition extends Model
{
    use HasFactory;
    protected $fillable = [
        'model_scope',
        'business_unit_id',
        'key',
        'label',
        'type',
        'options',
        'is_required',
        'is_active',
        'order'
    ];

    // JSON veriyi otomatik array'e evirmek iin
    protected $casts = [
        'options' => 'array',
        'is_required' => 'boolean',
        'is_active' => 'boolean',
        'order' => 'integer'
    ];

    /**
     * Trait iindeki scope metodu
     * Belirli bir modelin (rn: Shipment) aktif alanlarn getirir.
     */
    public static function getCustomFieldsFor($modelClass)
    {
        return self::where('model_scope', $modelClass)
            ->where('is_active', true)
            ->orderBy('order')
            ->get();
    }
    public function businessUnit()
    {
        return $this->belongsTo(BusinessUnit::class);
    }
}

----------------------------------------
DOSYA YOLU: app\Models\Department.php
----------------------------------------

<?php

namespace App\Models;

use Illuminate\Database\Eloquent\Factories\HasFactory;
use Illuminate\Database\Eloquent\Model;
use Illuminate\Database\Eloquent\Relations\HasMany;
use Illuminate\Database\Eloquent\SoftDeletes;
use App\Traits\Loggable;

/**
 * App\Models\Department
 *
 * @property int $id
 * @property string $name
 * @property string $slug
 * @property \Illuminate\Support\Carbon|null $created_at
 * @property \Illuminate\Support\Carbon|null $updated_at
 * @property \Illuminate\Support\Carbon|null $deleted_at
 * @property-read \Illuminate\Database\Eloquent\Collection<int, \Spatie\Activitylog\Models\Activity> $activities
 * @property-read int|null $activities_count
 * @property-read \Illuminate\Database\Eloquent\Collection<int, \App\Models\User> $users
 * @property-read int|null $users_count
 * @method static \Illuminate\Database\Eloquent\Builder|Department newModelQuery()
 * @method static \Illuminate\Database\Eloquent\Builder|Department newQuery()
 * @method static \Illuminate\Database\Eloquent\Builder|Department onlyTrashed()
 * @method static \Illuminate\Database\Eloquent\Builder|Department query()
 * @method static \Illuminate\Database\Eloquent\Builder|Department whereCreatedAt($value)
 * @method static \Illuminate\Database\Eloquent\Builder|Department whereDeletedAt($value)
 * @method static \Illuminate\Database\Eloquent\Builder|Department whereId($value)
 * @method static \Illuminate\Database\Eloquent\Builder|Department whereName($value)
 * @method static \Illuminate\Database\Eloquent\Builder|Department whereSlug($value)
 * @method static \Illuminate\Database\Eloquent\Builder|Department whereUpdatedAt($value)
 * @method static \Illuminate\Database\Eloquent\Builder|Department withTrashed()
 * @method static \Illuminate\Database\Eloquent\Builder|Department withoutTrashed()
 * @mixin \Eloquent
 * @mixin IdeHelperDepartment
 */
class Department extends Model
{
    use HasFactory, SoftDeletes, Loggable;
    protected $fillable = ['name', 'slug'];

    /**
     * Bu birime ait kullanclar getirir.
     */
    public function users()
    {
        return $this->belongsToMany(User::class);
    }
}


----------------------------------------
DOSYA YOLU: app\Models\Event.php
----------------------------------------

<?php

namespace App\Models;

use Illuminate\Database\Eloquent\Factories\HasFactory;
use Illuminate\Database\Eloquent\Model;
use Illuminate\Database\Eloquent\Relations\BelongsTo;
use Illuminate\Database\Eloquent\SoftDeletes;
use App\Traits\Loggable;
use App\Traits\HasBusinessUnit; // <--- 1. Use ekle
use App\Traits\HasDynamicAttributes;
use App\Traits\HasKanban;

/**
 * App\Models\Event
 *
 * @property int $id
 * @property int $user_id
 * @property bool $is_important
 * @property string $title
 * @property string|null $description
 * @property \Illuminate\Support\Carbon $start_datetime
 * @property \Illuminate\Support\Carbon $end_datetime
 * @property string|null $location
 * @property string $event_type
 * @property \Illuminate\Support\Carbon|null $created_at
 * @property \Illuminate\Support\Carbon|null $updated_at
 * @property \Illuminate\Support\Carbon|null $deleted_at
 * @property-read \Illuminate\Database\Eloquent\Collection<int, \Spatie\Activitylog\Models\Activity> $activities
 * @property-read int|null $activities_count
 * @property-read \App\Models\CustomerVisit|null $customerVisit
 * @property-read \App\Models\User $user
 * @method static \Illuminate\Database\Eloquent\Builder|Event newModelQuery()
 * @method static \Illuminate\Database\Eloquent\Builder|Event newQuery()
 * @method static \Illuminate\Database\Eloquent\Builder|Event onlyTrashed()
 * @method static \Illuminate\Database\Eloquent\Builder|Event query()
 * @method static \Illuminate\Database\Eloquent\Builder|Event whereCreatedAt($value)
 * @method static \Illuminate\Database\Eloquent\Builder|Event whereDeletedAt($value)
 * @method static \Illuminate\Database\Eloquent\Builder|Event whereDescription($value)
 * @method static \Illuminate\Database\Eloquent\Builder|Event whereEndDatetime($value)
 * @method static \Illuminate\Database\Eloquent\Builder|Event whereEventType($value)
 * @method static \Illuminate\Database\Eloquent\Builder|Event whereId($value)
 * @method static \Illuminate\Database\Eloquent\Builder|Event whereIsImportant($value)
 * @method static \Illuminate\Database\Eloquent\Builder|Event whereLocation($value)
 * @method static \Illuminate\Database\Eloquent\Builder|Event whereStartDatetime($value)
 * @method static \Illuminate\Database\Eloquent\Builder|Event whereTitle($value)
 * @method static \Illuminate\Database\Eloquent\Builder|Event whereUpdatedAt($value)
 * @method static \Illuminate\Database\Eloquent\Builder|Event whereUserId($value)
 * @method static \Illuminate\Database\Eloquent\Builder|Event withTrashed()
 * @method static \Illuminate\Database\Eloquent\Builder|Event withoutTrashed()
 * @mixin \Eloquent
 * @mixin IdeHelperEvent
 */
class Event extends Model
{
    use HasFactory, SoftDeletes, Loggable, HasBusinessUnit, HasDynamicAttributes, HasKanban; // <--- 2. Trait ekle
    /**
     * Toplu atanabilir alanlar.
     */
    protected $fillable = [
        'user_id',
        'title',
        'description',
        'start_datetime',
        'end_datetime',
        'location',
        'event_type',
        'is_important',
        'customer_id',
        'customer_machine_id',
        'visit_status',
        'cancellation_reason',
        'visit_purpose',
        'after_sales_notes',
        'business_unit_id',
        'extras',
    ];

    /**
     * Tarih alanlarn otomatik olarak Carbon nesnesine dntrr.
     * Bu, takvimde ve formlarda gsterim iin ok nemlidir.
     */
    protected $casts = [
        'start_datetime' => 'datetime',
        'end_datetime' => 'datetime',
        'is_important' => 'boolean',
        'extras' => 'array',
    ];

    /**
     * Etkinlii oluturan kullanc.
     */
    public function user(): BelongsTo
    {
        return $this->belongsTo(User::class);
    }
    public function bookings()
    {
        return $this->morphMany(Booking::class, 'bookable');
    }
    public function customerVisit()
    {
        return $this->hasOne(CustomerVisit::class);
    }
    public function machine()
    {
        return $this->belongsTo(\App\Models\CustomerMachine::class, 'customer_machine_id');
    }
    public function customer()
    {
        return $this->belongsTo(\App\Models\Customer::class, 'customer_id');
    }
    // Dosyalar likisi
    public function files()
    {
        return $this->morphMany(File::class, 'fileable');
    }
    // Yeni temiz iliki
    public function type()
    {
        return $this->belongsTo(EventType::class, 'event_type_id');
    }
    /**
     * Kullanc yetkisine gre filtreleme kapsam (Scope).
     * StatisticsService tarafnda ::forUser($user) eklinde arlr.
     */
    public function scopeForUser($query, $user)
    {
        // 1. Admin, Ynetici veya Global yetkisi olanlar her eyi grebilir
        if ($user->hasRole(['admin', 'yonetici']) || $user->can('view_all_business_units')) {
            return $query;
        }

        // 2. Dier kullanclar iin imdilik kstlama yok
        // (Zaten Service katmannda Business Unit filtresi uygulanyor)
        return $query;
    }
}


----------------------------------------
DOSYA YOLU: app\Models\EventType.php
----------------------------------------

<?php

namespace App\Models;

use Illuminate\Database\Eloquent\Factories\HasFactory;
use Illuminate\Database\Eloquent\Model;

class EventType extends Model
{
    use HasFactory;
    protected $fillable = ['name', 'slug', 'color'];
}


----------------------------------------
DOSYA YOLU: app\Models\Expense.php
----------------------------------------

<?php

namespace App\Models;

use Illuminate\Database\Eloquent\Factories\HasFactory;
use Illuminate\Database\Eloquent\Model;
use Illuminate\Database\Eloquent\SoftDeletes;

class Expense extends Model
{
    use HasFactory, SoftDeletes;

    protected $fillable = [
        'category',
        'amount',
        'currency',
        'description',
        'receipt_date',
        'created_by'
    ];

    protected $casts = [
        'receipt_date' => 'date',
        'amount' => 'decimal:2'
    ];

    public function expensable()
    {
        return $this->morphTo();
    }
}

----------------------------------------
DOSYA YOLU: app\Models\File.php
----------------------------------------

<?php

namespace App\Models;

use Illuminate\Database\Eloquent\Model;

class File extends Model
{
    protected $guarded = [];

    // Dosyann sahibi olan model (Ara grevi, Seyahat vb.)
    public function fileable()
    {
        return $this->morphTo();
    }

    // Dosyay ykleyen kii
    public function uploader()
    {
        return $this->belongsTo(User::class, 'uploaded_by');
    }

    // Dosya boyutunu (KB/MB) okunakl hale getiren yardmc fonksiyon (Opsiyonel)
    public function getSizeAttribute()
    {
        // Dosya boyutu ilemleri eklenebilir
        return 'Unknown';
    }
}

----------------------------------------
DOSYA YOLU: app\Models\KanbanBoard.php
----------------------------------------

<?php

namespace App\Models;

use Illuminate\Database\Eloquent\Factories\HasFactory;
use Illuminate\Database\Eloquent\Model;

class KanbanBoard extends Model
{
    use HasFactory;
    protected $guarded = [];

    // liki: Panonun Stunlar (Sral gelmesi nemli)
    public function columns()
    {
        return $this->hasMany(KanbanColumn::class, 'board_id')->orderBy('order_index');
    }

    // liki: Panonun ait olduu Fabrika/Birim
    // Not: Senin tablolarnda 'business_units' var, model adnn 'BusinessUnit' olduunu varsayyorum.
    public function businessUnit()
    {
        return $this->belongsTo(BusinessUnit::class, 'business_unit_id');
    }
}


----------------------------------------
DOSYA YOLU: app\Models\KanbanCard.php
----------------------------------------

<?php

namespace App\Models;

use Illuminate\Database\Eloquent\Factories\HasFactory;
use Illuminate\Database\Eloquent\Model;

class KanbanCard extends Model
{
    use HasFactory;
    protected $guarded = [];

    // Kart hangi stuna ait?
    public function column()
    {
        return $this->belongsTo(KanbanColumn::class);
    }

    // Polimorfik liki: Bu kart aslnda neyi tayor? (Sevkiyat m, Bakm Plan m?)
    public function model()
    {
        return $this->morphTo();
    }
}


----------------------------------------
DOSYA YOLU: app\Models\KanbanColumn.php
----------------------------------------

<?php

namespace App\Models;

use Illuminate\Database\Eloquent\Factories\HasFactory;
use Illuminate\Database\Eloquent\Model;

class KanbanColumn extends Model
{
    use HasFactory;
    protected $guarded = [];

    // liki: Stunun ait olduu Pano
    public function board()
    {
        return $this->belongsTo(KanbanBoard::class);
    }

    // liki: Stundaki Kartlar (ler)
    // Srkle brak iin 'sort_order'a gre sral gelmesi ok kritik.
    public function cards()
    {
        return $this->hasMany(KanbanCard::class, 'column_id')->orderBy('sort_order');
    }
}


----------------------------------------
DOSYA YOLU: app\Models\LogisticsVehicle.php
----------------------------------------

<?php

namespace App\Models;

use Illuminate\Database\Eloquent\Factories\HasFactory;
use Illuminate\Database\Eloquent\Model;
use Illuminate\Database\Eloquent\Relations\MorphMany; // Polymorphic iliki iin gerekli
use Illuminate\Database\Eloquent\SoftDeletes;
use App\Traits\Loggable; // Dier modellerinde olduu gibi loglama
use App\Traits\HasBusinessUnit; // <--- 1. Use ekle

/**
 * App\Models\LogisticsVehicle
 * * Nakliye / Lojistik aralarn temsil eder.
 * zellikleri: KM takibi, Yk kapasitesi, Yakt tipi vb.
 *
 * @property int $id
 * @property string $plate_number
 * @property string $brand
 * @property string $model
 * @property float|null $capacity (Ton/Kg cinsinden)
 * @property float $current_km (Sayataki gncel KM)
 * @property string|null $fuel_type (Dizel, Benzin vb.)
 * @property string $status (active, maintenance, out_of_service)
 * @property \Illuminate\Support\Carbon|null $created_at
 * @property \Illuminate\Support\Carbon|null $updated_at
 * @property \Illuminate\Support\Carbon|null $deleted_at
 */
class LogisticsVehicle extends Model
{
    use HasFactory, SoftDeletes, Loggable, HasBusinessUnit; // <--- 2. Trait ekle
    public static $globalPermission = 'manage_fleet';

    protected $fillable = [
        'plate_number',
        'brand',
        'model',
        'capacity',
        'current_km',
        'fuel_type',
        'status', // active, maintenance, inactive
        'business_unit_id',
    ];

    protected $casts = [
        'capacity' => 'float',
        'current_km' => 'float',
        'created_at' => 'datetime',
        'updated_at' => 'datetime',
    ];

    /**
     * Bu araca ait grevler (Polymorphic liki)
     * VehicleAssignment tablosundaki 'vehicle_type' ve 'vehicle_id' ile eleir.
     */
    public function assignments(): MorphMany
    {
        return $this->morphMany(VehicleAssignment::class, 'vehicle');
    }

    /**
     * Scope: Sadece aktif aralar
     */
    public function scopeActive($query)
    {
        return $query->where('status', 'active');
    }

    /**
     * Accessor: Tam ara bilgisi (Plaka - Marka Model)
     * Dropdownlarda gstermek iin kullanldr.
     */
    public function getFullNameAttribute(): string
    {
        return "{$this->plate_number} - {$this->brand} {$this->model}";
    }

    /**
     * Accessor: Kapasite bilgisi formatl
     */
    public function getFormattedCapacityAttribute(): string
    {
        return $this->capacity ? number_format($this->capacity, 0) . ' kg' : '-';
    }

    /**
     * Helper: KM Gncelle
     * Grev tamamlandnda aracn kilometresini gnceller.
     */
    public function updateKm(float $newKm): void
    {
        // Yeni KM eskisinden dk olamaz (Validation mant)
        if ($newKm > $this->current_km) {
            $this->update(['current_km' => $newKm]);
        }
    }

    /**
     * Check: Msait mi?
     * Ara aktifse ve u anda devam eden (bitmemi) bir grevi yoksa.
     */
    public function isAvailable(): bool
    {
        return $this->status === 'active' && !$this->hasActiveAssignment();
    }

    /**
     * Check: u anda aktif bir grevi var m?
     */
    public function hasActiveAssignment(): bool
    {
        return $this->assignments()
            ->whereIn('status', ['pending', 'in_progress'])
            ->exists();
    }

    /**
     * Son grevi getir
     */
    public function lastAssignment()
    {
        return $this->assignments()->latest()->first();
    }
    // Dosyalar likisi
    public function files()
    {
        return $this->morphMany(File::class, 'fileable');
    }
}

----------------------------------------
DOSYA YOLU: app\Models\MaintenanceActivityLog.php
----------------------------------------

<?php

namespace App\Models;

use Illuminate\Database\Eloquent\Factories\HasFactory;
use Illuminate\Database\Eloquent\Model;
use App\Traits\HasBusinessUnit; // <--- 1. Use ekle

class MaintenanceActivityLog extends Model
{
    use HasFactory, HasBusinessUnit; // <--- 2. Trait ekle
    protected $guarded = [];
    public function user()
    {
        return $this->belongsTo(User::class);
    }
}


----------------------------------------
DOSYA YOLU: app\Models\MaintenanceAsset.php
----------------------------------------

<?php

namespace App\Models;

use Illuminate\Database\Eloquent\Factories\HasFactory;
use Illuminate\Database\Eloquent\Model;
use Illuminate\Database\Eloquent\SoftDeletes;
use App\Traits\HasBusinessUnit; // <--- 1. Use ekle

class MaintenanceAsset extends Model
{
    use HasFactory, SoftDeletes, HasBusinessUnit; // <--- 2. Trait ekle
    protected $guarded = [];
    public function plans()
    {
        return $this->hasMany(MaintenancePlan::class);
    }
    // Dosyalar likisi
    public function files()
    {
        return $this->morphMany(File::class, 'fileable');
    }
}


----------------------------------------
DOSYA YOLU: app\Models\MaintenanceFile.php
----------------------------------------

<?php

namespace App\Models;

use Illuminate\Database\Eloquent\Factories\HasFactory;
use Illuminate\Database\Eloquent\Model;
use Illuminate\Database\Eloquent\SoftDeletes;

class MaintenanceFile extends Model
{
    use HasFactory, SoftDeletes;
    protected $guarded = [];
}


----------------------------------------
DOSYA YOLU: app\Models\MaintenancePlan.php
----------------------------------------

<?php

namespace App\Models;

use Illuminate\Database\Eloquent\Factories\HasFactory;
use Illuminate\Database\Eloquent\Model;
use Illuminate\Database\Eloquent\SoftDeletes;
use App\Traits\HasBusinessUnit;
use App\Traits\Loggable;
use App\Traits\HasDynamicAttributes;
use App\Traits\HasKanban;
class MaintenancePlan extends Model
{
    use HasFactory, SoftDeletes, HasBusinessUnit, Loggable, HasDynamicAttributes, HasKanban;

    protected $guarded = [];

    protected $casts = [
        'planned_start_date' => 'datetime',
        'planned_end_date' => 'datetime',
        'actual_start_date' => 'datetime',
        'actual_end_date' => 'datetime',
        'extras' => 'array',
    ];

    // --- EKLENEN KRTK METOD BALANGICI ---
    /**
     * Kullanc yetkisine gre filtreleme kapsam (Scope).
     * Service katmanndaki '::forUser($user)' arsn karlar.
     */
    public function scopeForUser($query, $user)
    {
        // 1. Admin, Ynetici veya Global yetkisi olanlar her eyi grebilir
        if ($user->hasRole(['admin', 'yonetici']) || $user->can('view_all_business_units')) {
            return $query;
        }

        // 2. Normal kullanclar iin:
        // imdilik sorguyu olduu gibi dndryoruz nk Controller/Service katmannda
        // zaten 'active_unit_id' (Fabrika) filtresi uygulanyor.
        // Eer ileride "Sadece kendi oluturduu planlar grsn" istersen buray aabilirsin:
        // return $query->where('user_id', $user->id);

        return $query;
    }
    // --- EKLENEN KRTK METOD BT ---

    public function type()
    {
        return $this->belongsTo(MaintenanceType::class, 'maintenance_type_id');
    }
    public function asset()
    {
        return $this->belongsTo(MaintenanceAsset::class, 'maintenance_asset_id');
    }
    public function user()
    {
        return $this->belongsTo(User::class);
    }
    public function files()
    {
        return $this->hasMany(MaintenanceFile::class);
    }
    public function timeEntries()
    {
        return $this->hasMany(MaintenanceTimeEntry::class);
    }
    public function logs()
    {
        return $this->hasMany(MaintenanceActivityLog::class);
    }

    // Yardmc: Saya ak m? (Sadece giri yapan kullanc iin kontrol etmeli)
    public function isTimerActive()
    {
        return $this->timeEntries()
            ->where('user_id', \Illuminate\Support\Facades\Auth::id())
            ->whereNull('end_time')
            ->exists();
    }

    // 1. Durumun Ekranda Grnen Ad
    public function getStatusLabelAttribute()
    {
        return match ($this->status) {
            'pending_approval' => 'Onay Bekliyor',
            'pending' => 'Bekliyor',
            'in_progress' => $this->isTimerActive() ? 'alma Sryor' : 'Duraklatld',
            'completed' => 'Tamamland',
            'cancelled' => 'ptal Edildi',
            default => 'Bilinmiyor',
        };
    }

    // 2. Durumun Rengi (Badge Fonksiyonun bunu kullanyor)
    public function getStatusColorAttribute()
    {
        return match ($this->status) {
            'pending_approval' => 'warning text-dark',
            'pending' => 'warning text-dark',
            'completed' => 'success',
            'cancelled' => 'danger',
            'in_progress' => $this->isTimerActive() ? 'primary' : 'info text-dark',
            default => 'secondary',
        };
    }

    // Tamamlanm (End time' olan) tm kaytlarn toplam sresi
    public function getPreviousDurationMinutesAttribute()
    {
        return $this->timeEntries()->whereNotNull('end_time')->sum('duration_minutes');
    }

    public function getPriorityBadgeAttribute()
    {
        $val = strtolower($this->priority ?? '');
        $definitions = [
            'critical' => ['text' => 'Kritik', 'class' => 'bg-danger text-white'],
            'high' => ['text' => 'Yksek', 'class' => 'bg-warning text-dark'],
            'normal' => ['text' => 'Normal', 'class' => 'bg-secondary text-white'],
            'low' => ['text' => 'Dk', 'class' => 'bg-success text-white'],
        ];
        $data = $definitions[$val] ?? ['text' => 'Normal', 'class' => 'bg-secondary text-white'];

        return [
            'text' => $data['text'],
            'class' => $data['class'],
            'is_badge' => true
        ];
    }

    public function getStatusBadgeAttribute()
    {
        $color = $this->status_color;
        $textColor = str_contains($color, 'text-') ? '' : 'text-white';

        return [
            'text' => $this->status_label,
            'class' => "bg-{$color} {$textColor}",
            'is_badge' => true
        ];
    }
}

----------------------------------------
DOSYA YOLU: app\Models\MaintenanceTimeEntry.php
----------------------------------------

<?php

namespace App\Models;

use Illuminate\Database\Eloquent\Factories\HasFactory;
use Illuminate\Database\Eloquent\Model;
use Illuminate\Database\Eloquent\SoftDeletes;

class MaintenanceTimeEntry extends Model
{
    use HasFactory, SoftDeletes;
    protected $guarded = [];
    protected $casts = ['start_time' => 'datetime', 'end_time' => 'datetime'];

    public function plan()
    {
        return $this->belongsTo(MaintenancePlan::class, 'maintenance_plan_id');
    }
    public function user()
    {
        return $this->belongsTo(User::class);
    }
}


----------------------------------------
DOSYA YOLU: app\Models\MaintenanceType.php
----------------------------------------

<?php

namespace App\Models;

use Illuminate\Database\Eloquent\Factories\HasFactory;
use Illuminate\Database\Eloquent\Model;
use Illuminate\Database\Eloquent\SoftDeletes;

class MaintenanceType extends Model
{
    use HasFactory, SoftDeletes;
    protected $guarded = [];
    public function plans()
    {
        return $this->hasMany(MaintenancePlan::class);
    }
}


----------------------------------------
DOSYA YOLU: app\Models\ProductionPlan.php
----------------------------------------

<?php

namespace App\Models;

use Illuminate\Database\Eloquent\Factories\HasFactory;
use Illuminate\Database\Eloquent\Model;
use Illuminate\Database\Eloquent\Relations\BelongsTo;
use Illuminate\Database\Eloquent\SoftDeletes;
use App\Traits\Loggable;
use App\Traits\HasBusinessUnit; // <--- 1. Use ekle
use App\Traits\HasDynamicAttributes;
use App\Traits\HasKanban;

/**
 * App\Models\ProductionPlan
 *
 * @property int $id
 * @property int $user_id
 * @property bool $is_important
 * @property string $plan_title
 * @property \Illuminate\Support\Carbon $week_start_date
 * @property array|null $plan_details
 * @property \Illuminate\Support\Carbon|null $created_at
 * @property \Illuminate\Support\Carbon|null $updated_at
 * @property \Illuminate\Support\Carbon|null $deleted_at
 * @property-read \Illuminate\Database\Eloquent\Collection<int, \Spatie\Activitylog\Models\Activity> $activities
 * @property-read int|null $activities_count
 * @property-read \App\Models\User $user
 * @method static \Illuminate\Database\Eloquent\Builder|ProductionPlan newModelQuery()
 * @method static \Illuminate\Database\Eloquent\Builder|ProductionPlan newQuery()
 * @method static \Illuminate\Database\Eloquent\Builder|ProductionPlan onlyTrashed()
 * @method static \Illuminate\Database\Eloquent\Builder|ProductionPlan query()
 * @method static \Illuminate\Database\Eloquent\Builder|ProductionPlan whereCreatedAt($value)
 * @method static \Illuminate\Database\Eloquent\Builder|ProductionPlan whereDeletedAt($value)
 * @method static \Illuminate\Database\Eloquent\Builder|ProductionPlan whereId($value)
 * @method static \Illuminate\Database\Eloquent\Builder|ProductionPlan whereIsImportant($value)
 * @method static \Illuminate\Database\Eloquent\Builder|ProductionPlan wherePlanDetails($value)
 * @method static \Illuminate\Database\Eloquent\Builder|ProductionPlan wherePlanTitle($value)
 * @method static \Illuminate\Database\Eloquent\Builder|ProductionPlan whereUpdatedAt($value)
 * @method static \Illuminate\Database\Eloquent\Builder|ProductionPlan whereUserId($value)
 * @method static \Illuminate\Database\Eloquent\Builder|ProductionPlan whereWeekStartDate($value)
 * @method static \Illuminate\Database\Eloquent\Builder|ProductionPlan withTrashed()
 * @method static \Illuminate\Database\Eloquent\Builder|ProductionPlan withoutTrashed()
 * @mixin \Eloquent
 * @mixin IdeHelperProductionPlan
 */
class ProductionPlan extends Model
{
    use HasFactory, SoftDeletes, Loggable, HasBusinessUnit, HasDynamicAttributes, HasKanban; // <--- 2. Trait ekle
    /**
     * Toplu atanabilir alanlar.
     */
    protected $fillable = [
        'user_id',
        'plan_title',
        'week_start_date',
        'plan_details',
        'is_important',
        'business_unit_id',
        'extras',
    ];

    /**
     * JSON alann otomatik olarak array'e dntrmek iin.
     */
    protected $casts = [
        'week_start_date' => 'date',
        'plan_details' => 'array',
        'is_important' => 'boolean',
        'extras' => 'array',
    ];

    /**
     * Plan oluturan kullanc.
     */
    public function user(): BelongsTo
    {
        return $this->belongsTo(User::class);
    }
    // Dosyalar likisi
    public function files()
    {
        return $this->morphMany(File::class, 'fileable');
    }
    /**
     * Kullanc yetkisine gre filtreleme kapsam (Scope).
     * StatisticsService tarafnda ::forUser($user) eklinde arlr.
     */
    public function scopeForUser($query, $user)
    {
        // 1. Admin, Ynetici veya Global yetkisi olanlar her eyi grebilir
        if ($user->hasRole(['admin', 'yonetici']) || $user->can('view_all_business_units')) {
            return $query;
        }

        // 2. Dier kullanclar iin imdilik kstlama yok
        // (Zaten Service katmannda Business Unit filtresi uygulanyor)
        return $query;
    }
}


----------------------------------------
DOSYA YOLU: app\Models\ServiceSchedule.php
----------------------------------------

<?php

namespace App\Models;

use Illuminate\Database\Eloquent\Factories\HasFactory;
use Illuminate\Database\Eloquent\Model;
use Illuminate\Database\Eloquent\Relations\BelongsTo;
use Illuminate\Database\Eloquent\SoftDeletes;
use App\Traits\Loggable;
use App\Traits\HasBusinessUnit; // <--- 1. Use ekle

/**
 * App\Models\ServiceSchedule
 *
 * @property int $id
 * @property string $name
 * @property string $departure_time
 * @property int $cutoff_minutes
 * @property int|null $default_vehicle_id
 * @property int $is_active
 * @property \Illuminate\Support\Carbon|null $created_at
 * @property \Illuminate\Support\Carbon|null $updated_at
 * @property \Illuminate\Support\Carbon|null $deleted_at
 * @property-read \Illuminate\Database\Eloquent\Collection<int, \Spatie\Activitylog\Models\Activity> $activities
 * @property-read int|null $activities_count
 * @property-read \App\Models\Vehicle|null $defaultVehicle
 * @method static \Illuminate\Database\Eloquent\Builder|ServiceSchedule newModelQuery()
 * @method static \Illuminate\Database\Eloquent\Builder|ServiceSchedule newQuery()
 * @method static \Illuminate\Database\Eloquent\Builder|ServiceSchedule onlyTrashed()
 * @method static \Illuminate\Database\Eloquent\Builder|ServiceSchedule query()
 * @method static \Illuminate\Database\Eloquent\Builder|ServiceSchedule whereCreatedAt($value)
 * @method static \Illuminate\Database\Eloquent\Builder|ServiceSchedule whereCutoffMinutes($value)
 * @method static \Illuminate\Database\Eloquent\Builder|ServiceSchedule whereDefaultVehicleId($value)
 * @method static \Illuminate\Database\Eloquent\Builder|ServiceSchedule whereDeletedAt($value)
 * @method static \Illuminate\Database\Eloquent\Builder|ServiceSchedule whereDepartureTime($value)
 * @method static \Illuminate\Database\Eloquent\Builder|ServiceSchedule whereId($value)
 * @method static \Illuminate\Database\Eloquent\Builder|ServiceSchedule whereIsActive($value)
 * @method static \Illuminate\Database\Eloquent\Builder|ServiceSchedule whereName($value)
 * @method static \Illuminate\Database\Eloquent\Builder|ServiceSchedule whereUpdatedAt($value)
 * @method static \Illuminate\Database\Eloquent\Builder|ServiceSchedule withTrashed()
 * @method static \Illuminate\Database\Eloquent\Builder|ServiceSchedule withoutTrashed()
 * @mixin \Eloquent
 * @mixin IdeHelperServiceSchedule
 */
class ServiceSchedule extends Model
{
    use HasFactory, SoftDeletes, Loggable, HasBusinessUnit; // <--- 2. Trait ekle
    protected $fillable = [
        'name',
        'departure_time',
        'cutoff_minutes',
        'default_vehicle_id',
        'is_active',
        'is_important',
        'business_unit_id',
    ];

    // Tarih/saat alanlarn otomatik Carbon'a evirme
    protected $casts = [
        // 'departure_time' => 'datetime:H:i', // Sadece time olduu iin Carbon'a gerek yok
        'is_important' => 'boolean',
    ];

    /**
     * Bu sefere atanan varsaylan arac getirir.
     */
    public function defaultVehicle(): BelongsTo
    {
        return $this->belongsTo(Vehicle::class, 'default_vehicle_id');
    }
}


----------------------------------------
DOSYA YOLU: app\Models\Shipment.php
----------------------------------------

<?php

namespace App\Models;

use Illuminate\Database\Eloquent\Factories\HasFactory;
use Illuminate\Database\Eloquent\Model;
use Illuminate\Database\Eloquent\Relations\BelongsTo;
use Illuminate\Database\Eloquent\SoftDeletes;
use App\Traits\Loggable;
use App\Traits\HasBusinessUnit;
use App\Traits\HasDynamicAttributes;
use App\Traits\HasKanban;

/**
 * App\Models\Shipment
 *
 * @property int $id
 * @property string|null $shipment_type
 * @property int $user_id
 * @property bool $is_important
 * @property string $arac_tipi
 * @property string|null $plaka
 * @property string|null $dorse_plakasi
 * @property string|null $sofor_adi
 * @property string|null $imo_numarasi
 * @property string|null $gemi_adi
 * @property string|null $kalkis_limani
 * @property string|null $varis_limani
 * @property string|null $kalkis_noktasi
 * @property string|null $varis_noktasi
 * @property \Illuminate\Support\Carbon|null $onaylanma_tarihi
 * @property int|null $onaylayan_user_id
 * @property string $kargo_icerigi
 * @property string $kargo_tipi
 * @property string $kargo_miktari
 * @property \Illuminate\Support\Carbon $cikis_tarihi
 * @property \Illuminate\Support\Carbon $tahmini_varis_tarihi
 * @property mixed|null $ekstra_bilgiler
 * @property string|null $aciklamalar
 * @property string|null $dosya_yolu
 * @property \Illuminate\Support\Carbon|null $created_at
 * @property \Illuminate\Support\Carbon|null $updated_at
 * @property \Illuminate\Support\Carbon|null $deleted_at
 * @property-read \Illuminate\Database\Eloquent\Collection<int, \Spatie\Activitylog\Models\Activity> $activities
 * @property-read int|null $activities_count
 * @property-read \App\Models\User|null $onaylayanKullanici
 * @property-read \App\Models\User $user
 * @method static \Illuminate\Database\Eloquent\Builder|Shipment newModelQuery()
 * @method static \Illuminate\Database\Eloquent\Builder|Shipment newQuery()
 * @method static \Illuminate\Database\Eloquent\Builder|Shipment onlyTrashed()
 * @method static \Illuminate\Database\Eloquent\Builder|Shipment query()
 * @method static \Illuminate\Database\Eloquent\Builder|Shipment whereAciklamalar($value)
 * @method static \Illuminate\Database\Eloquent\Builder|Shipment whereAracTipi($value)
 * @method static \Illuminate\Database\Eloquent\Builder|Shipment whereCikisTarihi($value)
 * @method static \Illuminate\Database\Eloquent\Builder|Shipment whereCreatedAt($value)
 * @method static \Illuminate\Database\Eloquent\Builder|Shipment whereDeletedAt($value)
 * @method static \Illuminate\Database\Eloquent\Builder|Shipment whereDorsePlakasi($value)
 * @method static \Illuminate\Database\Eloquent\Builder|Shipment whereDosyaYolu($value)
 * @method static \Illuminate\Database\Eloquent\Builder|Shipment whereEkstraBilgiler($value)
 * @method static \Illuminate\Database\Eloquent\Builder|Shipment whereGemiAdi($value)
 * @method static \Illuminate\Database\Eloquent\Builder|Shipment whereId($value)
 * @method static \Illuminate\Database\Eloquent\Builder|Shipment whereImoNumarasi($value)
 * @method static \Illuminate\Database\Eloquent\Builder|Shipment whereIsImportant($value)
 * @method static \Illuminate\Database\Eloquent\Builder|Shipment whereKalkisLimani($value)
 * @method static \Illuminate\Database\Eloquent\Builder|Shipment whereKalkisNoktasi($value)
 * @method static \Illuminate\Database\Eloquent\Builder|Shipment whereKargoIcerigi($value)
 * @method static \Illuminate\Database\Eloquent\Builder|Shipment whereKargoMiktari($value)
 * @method static \Illuminate\Database\Eloquent\Builder|Shipment whereKargoTipi($value)
 * @method static \Illuminate\Database\Eloquent\Builder|Shipment whereOnaylanmaTarihi($value)
 * @method static \Illuminate\Database\Eloquent\Builder|Shipment whereOnaylayanUserId($value)
 * @method static \Illuminate\Database\Eloquent\Builder|Shipment wherePlaka($value)
 * @method static \Illuminate\Database\Eloquent\Builder|Shipment whereShipmentType($value)
 * @method static \Illuminate\Database\Eloquent\Builder|Shipment whereSoforAdi($value)
 * @method static \Illuminate\Database\Eloquent\Builder|Shipment whereTahminiVarisTarihi($value)
 * @method static \Illuminate\Database\Eloquent\Builder|Shipment whereUpdatedAt($value)
 * @method static \Illuminate\Database\Eloquent\Builder|Shipment whereUserId($value)
 * @method static \Illuminate\Database\Eloquent\Builder|Shipment whereVarisLimani($value)
 * @method static \Illuminate\Database\Eloquent\Builder|Shipment whereVarisNoktasi($value)
 * @method static \Illuminate\Database\Eloquent\Builder|Shipment withTrashed()
 * @method static \Illuminate\Database\Eloquent\Builder|Shipment withoutTrashed()
 * @mixin \Eloquent
 * @mixin IdeHelperShipment
 */
class Shipment extends Model
{
    use HasFactory, SoftDeletes, Loggable, HasBusinessUnit, HasDynamicAttributes, HasKanban; // <--- 2. Trait ekle

    protected $fillable = [
        'user_id',
        'shipment_type',
        'arac_tipi',
        'plaka',
        'dorse_plakasi',
        'sofor_adi',
        'imo_numarasi',
        'gemi_adi',
        'kalkis_limani',
        'varis_limani',
        'kalkis_noktasi',
        'varis_noktasi',
        'kargo_icerigi',
        'kargo_tipi',
        'kargo_miktari',
        'cikis_tarihi',
        'tahmini_varis_tarihi',
        'onaylanma_tarihi',
        'onaylayan_user_id',
        'ekstra_bilgiler', // Bu alan artk kullanmayabiliriz veya baka amalar iin tutabiliriz
        'aciklamalar',
        'dosya_yolu',
        'is_important',
        'extras',
        'shipment_status'
    ];
    protected $casts = [
        'cikis_tarihi' => 'datetime',
        'tahmini_varis_tarihi' => 'datetime',
        'onaylanma_tarihi' => 'datetime',
        'is_important' => 'boolean',
        'extras' => 'array',
    ];

    public function onaylayanKullanici(): BelongsTo
    {
        return $this->belongsTo(User::class, 'onaylayan_user_id');
    }

    public function user(): BelongsTo
    {
        return $this->belongsTo(User::class);
    }
    // Dosyalar likisi
    public function files()
    {
        return $this->morphMany(File::class, 'fileable');
    }
    // app/Models/Shipment.php

    public function stops()
    {
        // Bir sevkiyatn ok dura olur
        // Duraklar ilem tarihine gre sral getir ki hesap amasn
        return $this->hasMany(ShipmentStop::class, 'shipment_id')->orderBy('stop_date', 'asc');
    }

    // Helper: Kalan son yk bulmak iin pratik bir fonksiyon
    public function getLatestRemainingAmountAttribute()
    {
        $lastStop = $this->stops->last();

        if ($lastStop) {
            return $lastStop->remaining_amount;
        }

        // Hi durak yoksa kalan miktar = balangtaki kargo_miktari
        return $this->kargo_miktari;
    }
    /**
     * Kullanc yetkisine gre filtreleme kapsam (Scope).
     * StatisticsService tarafnda ::forUser($user) eklinde arlr.
     */
    public function scopeForUser($query, $user)
    {
        // 1. Admin, Ynetici veya Global yetkisi olanlar her eyi grebilir
        if ($user->hasRole(['admin', 'yonetici']) || $user->can('view_all_business_units')) {
            return $query;
        }
    }
}


----------------------------------------
DOSYA YOLU: app\Models\ShipmentStop.php
----------------------------------------

<?php

namespace App\Models;

use Illuminate\Database\Eloquent\Factories\HasFactory;
use Illuminate\Database\Eloquent\Model;
use App\Traits\HasBusinessUnit;

class ShipmentStop extends Model
{
    use HasFactory, HasBusinessUnit;

    protected $table = 'shipment_stops';

    protected $fillable = [
        'shipment_id',
        'location_name',
        'dropped_amount',
        'remaining_amount',
        'stop_date',
        'receiver_name',
        'note',
        'business_unit_id',
    ];

    public function shipment()
    {
        return $this->belongsTo(Shipment::class, 'shipment_id');
    }
}


----------------------------------------
DOSYA YOLU: app\Models\ShipmentsVehicleType.php
----------------------------------------

<?php

namespace App\Models;

use Illuminate\Database\Eloquent\Factories\HasFactory;
use Illuminate\Database\Eloquent\Model;

class ShipmentsVehicleType extends Model
{
    use HasFactory; // <--- 2. Trait ekle
    public static $globalPermission = 'manage_fleet';
    protected $fillable = ['name'];
}


----------------------------------------
DOSYA YOLU: app\Models\Team.php
----------------------------------------

<?php

namespace App\Models;

use Illuminate\Database\Eloquent\Factories\HasFactory;
use Illuminate\Database\Eloquent\Model;
use Illuminate\Database\Eloquent\Relations\BelongsTo;
use Illuminate\Database\Eloquent\Relations\BelongsToMany;
use Illuminate\Database\Eloquent\Relations\MorphMany;
use Illuminate\Database\Eloquent\SoftDeletes;
use App\Traits\Loggable;
use Illuminate\Notifications\Notifiable;
use App\Traits\HasBusinessUnit; // <--- 1. Use ekle

/**
 * App\Models\Team
 *
 * @property int $id
 * @property string $name
 * @property string|null $description
 * @property int $created_by_user_id
 * @property bool $is_active
 * @property \Illuminate\Support\Carbon|null $created_at
 * @property \Illuminate\Support\Carbon|null $updated_at
 * @property \Illuminate\Support\Carbon|null $deleted_at
 */
class Team extends Model
{
    use HasFactory, SoftDeletes, Loggable, HasBusinessUnit; // <--- 2. Trait ekle

    protected $fillable = [
        'name',
        'description',
        'created_by_user_id',
        'is_active',
        'business_unit_id',
    ];

    protected $casts = [
        'is_active' => 'boolean',
        'created_at' => 'datetime',
        'updated_at' => 'datetime',
    ];

    /**
     * Takma atanan grevler (Polymorphic)
     */
    public function assignments(): MorphMany
    {
        return $this->morphMany(VehicleAssignment::class, 'responsible');
    }

    /**
     * Takm yeleri (Many-to-Many)
     */
    public function users(): BelongsToMany
    {
        return $this->belongsToMany(User::class, 'team_user')
            ->withTimestamps();
    }

    /**
     * Takm oluturan kullanc
     */
    public function creator(): BelongsTo
    {
        return $this->belongsTo(User::class, 'created_by_user_id');
    }

    /**
     * Accessor: ye says
     */
    public function getMembersCountAttribute(): int
    {
        return $this->users()->count();
    }

    /**
     * Scope: Sadece aktif takmlar
     */
    public function scopeActive($query)
    {
        return $query->where('is_active', true);
    }

    /**
     * Scope: Kullancnn oluturduu takmlar
     */
    public function scopeCreatedBy($query, $userId)
    {
        return $query->where('created_by_user_id', $userId);
    }

    /**
     * Scope: Kullancnn ye olduu takmlar
     */
    public function scopeWhereUserIsMember($query, $userId)
    {
        return $query->whereHas('users', function ($q) use ($userId) {
            $q->where('users.id', $userId);
        });
    }

    /**
     * Check: Kullanc bu takmn yesi mi?
     */
    public function hasMember($userId): bool
    {
        return $this->users()->where('users.id', $userId)->exists();
    }

    /**
     * ye ekle
     */
    public function addMember($userId): void
    {
        if (!$this->hasMember($userId)) {
            $this->users()->attach($userId);
        }
    }

    /**
     * ye kar
     */
    public function removeMember($userId): void
    {
        $this->users()->detach($userId);
    }

    /**
     * Tm yeleri kar
     */
    public function removeAllMembers(): void
    {
        $this->users()->detach();
    }
}

----------------------------------------
DOSYA YOLU: app\Models\TestResult.php
----------------------------------------

<?php

namespace App\Models;

use Illuminate\Database\Eloquent\Factories\HasFactory;
use Illuminate\Database\Eloquent\Model;
use Spatie\MediaLibrary\HasMedia;
use Spatie\MediaLibrary\InteractsWithMedia;
use App\Traits\Loggable;
use App\Traits\HasBusinessUnit;
/**
 * App\Models\TestResult
 *
 * @property int $id
 * @property int $customer_id
 * @property int $user_id
 * @property int|null $customer_machine_id
 * @property string $test_name
 * @property string $test_date
 * @property string|null $summary
 * @property \Illuminate\Support\Carbon|null $created_at
 * @property \Illuminate\Support\Carbon|null $updated_at
 * @property-read \Illuminate\Database\Eloquent\Collection<int, \Spatie\Activitylog\Models\Activity> $activities
 * @property-read int|null $activities_count
 * @property-read \App\Models\Customer $customer
 * @property-read \Spatie\MediaLibrary\MediaCollections\Models\Collections\MediaCollection<int, \Spatie\MediaLibrary\MediaCollections\Models\Media> $media
 * @property-read int|null $media_count
 * @method static \Illuminate\Database\Eloquent\Builder|TestResult newModelQuery()
 * @method static \Illuminate\Database\Eloquent\Builder|TestResult newQuery()
 * @method static \Illuminate\Database\Eloquent\Builder|TestResult query()
 * @method static \Illuminate\Database\Eloquent\Builder|TestResult whereCreatedAt($value)
 * @method static \Illuminate\Database\Eloquent\Builder|TestResult whereCustomerId($value)
 * @method static \Illuminate\Database\Eloquent\Builder|TestResult whereCustomerMachineId($value)
 * @method static \Illuminate\Database\Eloquent\Builder|TestResult whereId($value)
 * @method static \Illuminate\Database\Eloquent\Builder|TestResult whereSummary($value)
 * @method static \Illuminate\Database\Eloquent\Builder|TestResult whereTestDate($value)
 * @method static \Illuminate\Database\Eloquent\Builder|TestResult whereTestName($value)
 * @method static \Illuminate\Database\Eloquent\Builder|TestResult whereUpdatedAt($value)
 * @method static \Illuminate\Database\Eloquent\Builder|TestResult whereUserId($value)
 * @mixin \Eloquent
 * @mixin IdeHelperTestResult
 */
class TestResult extends Model implements HasMedia
{
    use HasFactory, InteractsWithMedia, Loggable, HasBusinessUnit; // 2. Ekle
    protected $fillable = ['customer_id', 'user_id', 'customer_machine_id', 'test_name', 'test_date', 'summary', 'business_unit_id'];
    public function customer()
    {
        return $this->belongsTo(Customer::class);
    }
    // Dosyalar likisi
    public function files()
    {
        return $this->morphMany(File::class, 'fileable');
    }
}


----------------------------------------
DOSYA YOLU: app\Models\Todo.php
----------------------------------------

<?php

namespace App\Models;

use Illuminate\Database\Eloquent\Factories\HasFactory;
use Illuminate\Database\Eloquent\Model;
use Illuminate\Database\Eloquent\SoftDeletes;
use App\Traits\HasBusinessUnit; // <--- SHRL DENEK

class Todo extends Model
{
    use HasFactory, SoftDeletes, HasBusinessUnit;

    protected $fillable = [
        'user_id',
        'business_unit_id',
        'title',
        'description',
        'due_date',
        'is_completed',
        'priority',
        'business_unit_id',
    ];

    protected $casts = [
        'due_date' => 'datetime',
        'is_completed' => 'boolean',
    ];

    // liki: Grevi oluturan kii
    public function user()
    {
        return $this->belongsTo(User::class);
    }
}

----------------------------------------
DOSYA YOLU: app\Models\Travel.php
----------------------------------------

<?php

namespace App\Models;

use Illuminate\Database\Eloquent\Factories\HasFactory;
use Illuminate\Database\Eloquent\Model;
use App\Traits\Loggable;
use App\Models\User;
use Illuminate\Database\Eloquent\Relations\BelongsTo;
use App\Traits\HasBusinessUnit; // <--- 1. Use ekle

/**
 * App\Models\Travel
 *
 * @property int $id
 * @property int $user_id
 * @property string $name
 * @property \Illuminate\Support\Carbon $start_date
 * @property \Illuminate\Support\Carbon $end_date
 * @property string $status
 * @property int $is_important
 * @property \Illuminate\Support\Carbon|null $created_at
 * @property \Illuminate\Support\Carbon|null $updated_at
 * @property-read \Illuminate\Database\Eloquent\Collection<int, \Spatie\Activitylog\Models\Activity> $activities
 * @property-read int|null $activities_count
 * @property-read \Illuminate\Database\Eloquent\Collection<int, \App\Models\Booking> $bookings
 * @property-read int|null $bookings_count
 * @property-read \Illuminate\Database\Eloquent\Collection<int, \App\Models\CustomerVisit> $customerVisits
 * @property-read int|null $customer_visits_count
 * @property-read \App\Models\User $user
 * @method static \Illuminate\Database\Eloquent\Builder|Travel newModelQuery()
 * @method static \Illuminate\Database\Eloquent\Builder|Travel newQuery()
 * @method static \Illuminate\Database\Eloquent\Builder|Travel query()
 * @method static \Illuminate\Database\Eloquent\Builder|Travel whereCreatedAt($value)
 * @method static \Illuminate\Database\Eloquent\Builder|Travel whereEndDate($value)
 * @method static \Illuminate\Database\Eloquent\Builder|Travel whereId($value)
 * @method static \Illuminate\Database\Eloquent\Builder|Travel whereIsImportant($value)
 * @method static \Illuminate\Database\Eloquent\Builder|Travel whereName($value)
 * @method static \Illuminate\Database\Eloquent\Builder|Travel whereStartDate($value)
 * @method static \Illuminate\Database\Eloquent\Builder|Travel whereStatus($value)
 * @method static \Illuminate\Database\Eloquent\Builder|Travel whereUpdatedAt($value)
 * @method static \Illuminate\Database\Eloquent\Builder|Travel whereUserId($value)
 * @mixin \Eloquent
 * @mixin IdeHelperTravel
 */
class Travel extends Model
{
    use HasFactory, Loggable, HasBusinessUnit; // <--- 2. Trait ekle

    protected $table = 'travels';
    protected $fillable = [
        'user_id',
        'name',
        'start_date',
        'start_time',
        'end_date',
        'end_time',
        'status',
        'is_important',
        'business_unit_id',
    ];
    /**
     * @var array<string, string>
     */
    protected $casts = [
        'start_date' => 'date',
        'end_date' => 'date',
    ];
    public function user(): BelongsTo // liki tipini belirt
    {
        return $this->belongsTo(User::class);
    }
    public function customerVisits()
    {
        return $this->hasMany(CustomerVisit::class);
    }
    public function bookings()
    {
        return $this->morphMany(Booking::class, 'bookable');
    }
    // Dosyalar likisi
    public function files()
    {
        return $this->morphMany(File::class, 'fileable');
    }
    /**
     * Kullanc yetkisine gre filtreleme kapsam (Scope).
     * StatisticsService tarafnda ::forUser($user) eklinde arlr.
     */
    public function scopeForUser($query, $user)
    {
        // 1. Admin, Ynetici veya Global yetkisi olanlar her eyi grebilir
        if ($user->hasRole(['admin', 'yonetici']) || $user->can('view_all_business_units')) {
            return $query;
        }

        // 2. Dier kullanclar iin imdilik kstlama yok
        // (Zaten Service katmannda Business Unit filtresi uygulanyor)
        return $query;
    }
    public function expenses()
    {
        return $this->morphMany(Expense::class, 'expensable');
    }
}


----------------------------------------
DOSYA YOLU: app\Models\User.php
----------------------------------------

<?php

namespace App\Models;

// use Illuminate\Contracts\Auth\MustVerifyEmail;
use Illuminate\Database\Eloquent\Factories\HasFactory;
use Illuminate\Foundation\Auth\User as Authenticatable;
use Illuminate\Notifications\Notifiable;
use Laravel\Sanctum\HasApiTokens;
use Illuminate\Database\Eloquent\Relations\BelongsTo;
use App\Models\Department;
use Illuminate\Database\Eloquent\SoftDeletes;
use Illuminate\Foundation\Auth\Access\Authorizable;
use App\Traits\Loggable;
use Illuminate\Support\Str;
use App\Models\BusinessUnit;
use Spatie\Permission\Traits\HasRoles;
use App\Notifications\ResetPasswordNotification;

class User extends Authenticatable
{
    // HasRoles trait'i buraya eklendi, artk roller buradan ynetiliyor
    use HasApiTokens, HasFactory, Notifiable, SoftDeletes, Authorizable, Loggable, HasRoles;

    /**
     * The attributes that are mass assignable.
     *
     * @var array<int, string>
     */
    protected $fillable = [
        'name',
        'email',
        'password',
        'role', // Eski string rol stunu (yedek olarak durabilir)
        'department_id',
    ];

    /**
     * The attributes that should be hidden for serialization.
     *
     * @var array<int, string>
     */
    protected $hidden = [
        'password',
        'remember_token',
    ];

    /**
     * The attributes that should be cast.
     *
     * @var array<string, string>
     */
    protected $casts = [
        'email_verified_at' => 'datetime',
    ];

    /**
     * Kullancnn ait olduu birimi getirir.
     */
    public function department(): BelongsTo
    {
        return $this->belongsTo(Department::class);
    }

    public function travels()
    {
        return $this->hasMany(Travel::class);
    }

    public function assignments()
    {
        return $this->morphMany(VehicleAssignment::class, 'responsible');
    }

    public function teams()
    {
        return $this->belongsToMany(Team::class, 'team_user')
            ->withTimestamps();
    }

    /**
     * Kullancnn oluturduu takmlar
     */
    public function createdTeams()
    {
        return $this->hasMany(Team::class, 'created_by_user_id');
    }

    /**
     * Kullancnn oluturduu grevler
     */
    public function createdAssignments()
    {
        return $this->hasMany(VehicleAssignment::class, 'created_by_user_id');
    }

    /**
     * Bana atanan tm grevleri getir
     * (Direkt bana atananlar + takm grevleri)
     */
    public function allAssignments()
    {
        return VehicleAssignment::query()
            ->where(function ($query) {
                // Direkt bana atanan grevler
                $query->where('responsible_type', User::class)
                    ->where('responsible_id', $this->id);
            })
            ->orWhere(function ($query) {
                // Veya takmlarma atanan grevler
                $query->where('responsible_type', Team::class)
                    ->whereHas('responsible.users', function ($q) {
                    $q->where('users.id', $this->id);
                });
            });
    }

    /**
     * Check: Bu takmn yesi miyim?
     */
    public function isMemberOf($teamId): bool
    {
        return $this->teams()->where('teams.id', $teamId)->exists();
    }

    /**
     * Check: Bu takm ben oluturdum mu?
     */
    public function isCreatorOf($teamId): bool
    {
        return $this->createdTeams()->where('id', $teamId)->exists();
    }

    public function getPendingAssignmentsCountAttribute(): int
    {
        // Kullancnn sorumlu olduu bekleyen grevleri sayar
        $count = VehicleAssignment::whereIn('status', ['pending', 'in_progress'])
            ->where(function ($query) {
                // 1. Direkt bireysel atama
                $query->where(function ($q) {
                    $q->where('responsible_type', self::class) // User::class
                        ->where('responsible_id', $this->id);
                })
                    // 2. Takm atamas
                    ->orWhere(function ($q) {
                    // Kullancnn takmlarn al
                    $teamIds = $this->teams()->pluck('teams.id');

                    $q->where('responsible_type', \App\Models\Team::class) // Team::class
                        ->whereIn('responsible_id', $teamIds);
                });
            })
            ->count();

        return $count;
    }

    /**
     * Kullanc Admin mi? (GNCELLEND: Spatie Rol Kontrol)
     */
    public function isAdmin(): bool
    {
        // Hem eski 'role' stununa bak (yedek) hem de yeni Spatie sistemine bak
        return $this->role === 'admin' || $this->hasRole('admin');
    }

    /**
     * Kullanc Ynetici mi? (GNCELLEND)
     */
    public function isManager(): bool
    {
        return $this->role === 'ynetici' || $this->hasRole('yonetici');
    }


    public function departments()
    {
        return $this->belongsToMany(Department::class, 'department_user');
    }

    public function hasDepartment($departmentName)
    {
        // 1. Admin ise her yeri grsn
        if ($this->isAdmin()) {
            return true;
        }

        // 2. nce SM (name) ile kontrol et (Mevcut kodun bozulmasn diye)
        if ($this->departments->contains('name', $departmentName)) {
            return true;
        }

        // 3. Bulamazsa bir de SLUG ile kontrol et
        $slug = Str::slug($departmentName);

        return $this->departments->contains('slug', $slug);
    }

    // YARDIMCI FONKSYON: Kullanc belirli bir departmanda m?
    public function inDepartment($deptSlug)
    {
        return $this->departments->contains('slug', $deptSlug);
    }

    /**
     * Kullanc Ynetici veya Mdr m?
     */
    public function isManagerOrDirector(): bool
    {
        // Eski yntem + Yeni yntem
        if (in_array($this->role, ['ynetici', 'mdr']))
            return true;
        return $this->hasRole(['yonetici', 'mudur']);
    }

    // MTEREK ALIMA (Many to Many)
    // Bir kullanc birden fazla fabrikada yetkili olabilir.
    public function businessUnits()
    {
        return $this->belongsToMany(BusinessUnit::class, 'business_unit_user')
            ->withPivot('role_in_unit')

            ->withTimestamps();
    }
    // Admin ise tm birimleri getir, deilse sadece yetkili olduklarn.
    public function getBusinessUnitsAttribute()
    {
        // Admin veya Global Yetkili ise TM aktif birimleri dndr
        if ($this->hasRole('admin') || $this->can('view_all_business_units')) {
            return \App\Models\BusinessUnit::where('is_active', true)->get();
        }

        // Deilse normal ilikiyi dndr
        return $this->getRelationValue('businessUnits');
    }

    // Yardmc Metod: Kullancnn u birime yetkisi var m?
    public function hasAccessToUnit($unitId)
    {
        // Admin her yere girer
        if ($this->hasRole('admin')) { // 'admin' kk harf kullandk seeder'da
            return true;
        }

        return $this->businessUnits->contains('id', $unitId);
    }
    /**
     * KKSAN YETK KONTROL - ID TABANLI (GARANT)
     */
    public function hasDepartmentPermission(string $permission): bool
    {
        // 1. Admin Kontrol
        if ($this->hasRole(['admin', 'super-admin']) || trim($this->role) === 'admin') {
            return true;
        }

        // 2. Ynetici Kontrol (Boluklar temizleyerek kontrol ediyoruz)
        $userRole = trim($this->role); // Veritabanndaki 'role' stunu
        $isManager = $this->hasRole(['ynetici', 'yonetici', 'manager']) ||
            in_array($userRole, ['ynetici', 'yonetici', 'manager', 'mdr']);

        // 3. ID Elemesi (Kelime arama riskini ortadan kaldryoruz)
        // Hangi izin, hangi ID'yi gerektiriyor?
        $permissionMap = [
            'view_logistics' => [1], // ID 1: Lojistik
            'view_production' => [2], // ID 2: retim
            'view_administrative' => [3], // ID 3: dari ler
            'view_maintenance' => [4], // ID 4: Bakm
        ];

        // Eer sorgulanan yetki listemizde varsa (rn: view_administrative)
        if (isset($permissionMap[$permission])) {

            // Kullancnn departman ID'si, izin verilen ID listesinde var m?
            // (int) diyerek sayy garantiye alyoruz.
            if ($this->department_id && in_array((int) $this->department_id, $permissionMap[$permission])) {
                return true;
            }

            // ID uyumuyor!
            // Eer Genel Mdr ise (Ynetici + Dept ID yok) -> Gster
            if ($isManager && is_null($this->department_id)) {
                return true;
            }

            return false; // Departman ID'si tutmuyor, GZLE.
        }

        // Listede olmayan genel izinler iin (eer yneticiyse veya spatie izni varsa ge)
        if ($isManager)
            return true;

        return $this->can($permission);
    }

    /**
     * ifre sfrlama bildirimi gnderir.
     * Varsaylan metodu override ediyoruz.
     *
     * @param  string  $token
     * @return void
     */
    public function sendPasswordResetNotification($token)
    {
        // Kuyrua atarak gnderir
        $this->notify(new ResetPasswordNotification($token));
    }
}

----------------------------------------
DOSYA YOLU: app\Models\Vehicle.php
----------------------------------------

<?php

namespace App\Models;

use Illuminate\Database\Eloquent\Factories\HasFactory;
use Illuminate\Database\Eloquent\Model;
use Illuminate\Database\Eloquent\Relations\MorphMany; // [YEN] HasMany yerine MorphMany
use Illuminate\Database\Eloquent\SoftDeletes;
use App\Traits\Loggable;
use App\Traits\HasBusinessUnit; // <--- 1. Use ekle

/**
 * * Bu model  SADECE "irket Aralarn" (Company Vehicles) temsil eder.
 * Nakliye aralar iin "LogisticsVehicle" modeli kullanlr.
 *
 * @property int $id
 * @property string $plate_number
 * @property string $type (sedan, hatchback, suv) -> Artk 'logistics' buraya gelmeyecek.
 * @property string|null $brand_model
 * @property string|null $description
 * @property bool $is_active
 * @property \Illuminate\Support\Carbon|null $created_at
 * @property \Illuminate\Support\Carbon|null $updated_at
 * @property \Illuminate\Support\Carbon|null $deleted_at
 */
class Vehicle extends Model
{
    use HasFactory, SoftDeletes, Loggable, HasBusinessUnit; // <--- 2. Trait ekle

    protected $fillable = [
        'plate_number',
        'type',        // Bunu tutabiliriz ama artk 'logistics' deeri almayacak. (rn: Sedan, SUV)
        'brand_model',
        'description',
        'is_active',
        'business_unit_id',
    ];

    protected $casts = [
        'is_active' => 'boolean',
        'created_at' => 'datetime',
        'updated_at' => 'datetime',
    ];

    /**
     * Bu araca ait grevler (Polymorphic liki)
     * VehicleAssignment tablosundaki 'vehicle_type' ve 'vehicle_id' ile eleir.
     */
    public function assignments(): MorphMany
    {
        return $this->morphMany(VehicleAssignment::class, 'vehicle');
    }

    /**
     * Scope: Sadece aktif aralar
     */
    public function scopeActive($query)
    {
        return $query->where('is_active', true);
    }

    /**
     * Accessor: Tam ara bilgisi
     */
    public function getFullNameAttribute(): string
    {
        return "{$this->plate_number} - {$this->brand_model}";
    }

    /**
     * Check: Msait mi?
     * Ara aktifse ve u anda devam eden bir grevi yoksa.
     */
    public function isAvailable(): bool
    {
        return $this->is_active && !$this->hasActiveAssignment();
    }

    /**
     * Check: u anda aktif bir grevi var m?
     */
    public function hasActiveAssignment(): bool
    {
        // Polymorphic ilikide de sorgu mant ayndr
        return $this->assignments()
            ->whereIn('status', ['pending', 'in_progress'])
            ->exists();
    }

    /**
     * Son grevi getir
     */
    public function lastAssignment()
    {
        return $this->assignments()->latest()->first();
    }
    // Dosyalar likisi
    public function files()
    {
        return $this->morphMany(File::class, 'fileable');
    }
}

----------------------------------------
DOSYA YOLU: app\Models\VehicleAssignment.php
----------------------------------------

<?php

namespace App\Models;

use Illuminate\Database\Eloquent\Factories\HasFactory;
use Illuminate\Database\Eloquent\Model;
use Illuminate\Database\Eloquent\Relations\BelongsTo;
use Illuminate\Database\Eloquent\Relations\MorphTo;
use Illuminate\Database\Eloquent\SoftDeletes;
use App\Traits\Loggable;
use App\Traits\HasBusinessUnit; // <--- 1. Use ekle

/**
 * App\Models\VehicleAssignment
 *
 * @property int $id
 * @property string $assignment_type (company_vehicle, logistics, personal)
 * @property string $responsible_type (user, team)
 * @property int $responsible_id
 * @property int|null $vehicle_id Ara gerekiyorsa
 * @property string $task_description
 * @property string|null $destination
 * //@property decimal|null $start_km Sadece logistics iin
 * @property string|null $start_fuel_level Sadece logistics iin
 * //@property decimal|null $end_km Sadece logistics iin - i bitince
 * @property string|null $end_fuel_level Sadece logistics iin - i bitince
 * //@property decimal|null $fuel_cost Sadece logistics iin - i bitince
 * @property string|null $notes
 * @property string $status (pending, in_progress, completed, cancelled)
 * @property int $user_id Grevi oluturan kii
 * @property \Illuminate\Support\Carbon|null $created_at
 * @property \Illuminate\Support\Carbon|null $updated_at
 * @property \Illuminate\Support\Carbon|null $deleted_at
 */
class VehicleAssignment extends Model
{
    use HasFactory, SoftDeletes, Loggable, HasBusinessUnit; // <--- 2. Trait ekle
    public static $globalPermission = 'manage_fleet';

    protected $fillable = [
        'assignment_type',
        'responsible_type',
        'responsible_id',
        'vehicle_type',
        'vehicle_id',
        'task_description',
        'destination',
        'start_km',
        'start_fuel_level',
        'end_km',
        'end_fuel_level',
        'fuel_cost',
        'notes',
        'status',
        'start_time',
        'end_time',
        'is_important',
        'created_by_user_id',
        'customer_id',
        'business_unit_id',
    ];

    protected $casts = [
        'start_km' => 'float',
        'end_km' => 'float',
        'fuel_cost' => 'float',
        'start_time' => 'datetime',
        'end_time' => 'datetime',
        'is_important' => 'boolean',
        'created_at' => 'datetime',
        'updated_at' => 'datetime',
    ];

    /**
     * Grevin sorumlusu (Polymorphic)
     * User veya Team olabilir
     */
    public function responsible(): MorphTo
    {
        return $this->morphTo();
    }

    /**
     * Kullanlan ara (eer ara gerekliyse)
     */
    public function vehicle(): MorphTo
    {
        return $this->MorphTo();
    }


    /**
     * Grevi oluturan kullanc
     */
    public function createdBy(): BelongsTo
    {
        return $this->belongsTo(User::class, 'assigned_by', 'id');
    }

    /**
     * Scope: Sadece benim grevlerim
     * (Bana atanan veya takmmn grevleri)
     */
    public function scopeMyAssignments($query, $userId)
    {
        return $query->where(function ($q) use ($userId) {
            // Direkt bana atanan grevler
            $q->where(function ($subQ) use ($userId) {
                $subQ->where('responsible_type', User::class)
                    ->where('responsible_id', $userId);
            })
                // Veya takmma atanan grevler
                ->orWhere(function ($subQ) use ($userId) {
                    $subQ->where('responsible_type', Team::class)
                        ->whereHas('responsible.users', function ($teamQ) use ($userId) {
                            $teamQ->where('users.id', $userId);
                        });
                });
        });
    }

    /**
     * Scope: Ara gerektiren grevler
     */
    public function scopeRequiresVehicle($query)
    {
        return $query->whereIn('assignment_type', ['company_vehicle', 'logistics']);
    }

    /**
     * Scope: Nakliye grevleri
     */
    public function scopeLogistics($query)
    {
        return $query->where('assignment_type', 'logistics');
    }

    /**
     * Accessor: Grev tipi ismini dndr
     */
    public function getAssignmentTypeNameAttribute(): string
    {
        return match ($this->assignment_type) {
            'company_vehicle' => 'irket Arac',
            'logistics' => 'Nakliye',
            'personal' => 'Kiisel Grev',
            default => 'Bilinmeyen'
        };
    }

    /**
     * Accessor: Durum ismini dndr
     */
    public function getStatusNameAttribute(): string
    {
        return match ($this->status) {
            'pending' => 'Bekliyor',
            'in_progress' => 'Devam Ediyor',
            'completed' => 'Tamamland',
            'cancelled' => 'ptal Edildi',
            default => 'Bilinmeyen'
        };
    }

    /**
     * Accessor: Durum badge class
     */
    public function getStatusBadgeAttribute(): string
    {
        return match ($this->status) {
            'pending' => 'warning',
            'in_progress' => 'info',
            'completed' => 'success',
            'cancelled' => 'danger',
            default => 'secondary'
        };
    }

    /**
     * Check: Nakliye grevi mi?
     */
    public function isLogistics(): bool
    {
        return $this->vehicle_type === \App\Models\LogisticsVehicle::class
            || $this->assignment_type === 'logistics';

    }

    /**
     * Check: Ara gerektiriyor mu?
     */
    public function requiresVehicle(): bool
    {
        return in_array($this->assignment_type, ['company_vehicle', 'logistics']);
    }

    /**
     * Check: Tamamlanabilir mi? (end_km, fuel_cost girilmeli)
     */
    public function canBeCompleted(): bool
    {
        if ($this->isLogistics()) {
            return !is_null($this->end_km) && !is_null($this->fuel_cost);
        }
        return true; // Dier grevler direkt tamamlanabilir
    }
    // Yeni liki: Bu grev hangi mteriye gidiyor?
    public function customer()
    {
        return $this->belongsTo(Customer::class);
    }
    public function files()
    {
        return $this->morphMany(File::class, 'fileable');
    }
    /**
     * Kullanc yetkisine gre filtreleme kapsam (Scope).
     * StatisticsService tarafnda ::forUser($user) eklinde arlr.
     */
    public function scopeForUser($query, $user)
    {
        // 1. Admin, Ynetici veya Global yetkisi olanlar her eyi grebilir
        if ($user->hasRole(['admin', 'yonetici']) || $user->can('view_all_business_units')) {
            return $query;
        }

        // 2. Dier kullanclar iin imdilik kstlama yok
        // (Zaten Service katmannda Business Unit filtresi uygulanyor)
        return $query;
    }
}

----------------------------------------
DOSYA YOLU: app\Notifications\NewRequestForManager.php
----------------------------------------

<?php

namespace App\Notifications;

use Illuminate\Bus\Queueable;
use Illuminate\Notifications\Notification;
use App\Models\VehicleAssignment;

class NewRequestForManager extends Notification
{
    use Queueable;

    protected $assignment;

    public function __construct(VehicleAssignment $assignment)
    {
        $this->assignment = $assignment;
    }

    public function via($notifiable)
    {
        return ['database']; // Sadece veritabanna (Navbar iin)
    }

    /**
     * NAVBAR N ZEL VER YAPISI
     */
    public function toArray($notifiable)
    {
        // likileri kontrol et, hata almamak iin varsaylan deer ata
        $requester = $this->assignment->createdBy ? $this->assignment->createdBy->name : 'Bir Kullanc';
        $desc = $this->assignment->task_description ?? 'Detay belirtilmedi';

        return [
            // Benzersiz ID (okundu iaretlemek iin gerekebilir)
            'assignment_id' => $this->assignment->id,

            // Blade dosyasnda (navbar) kullanlan alanlar:
            'title' => 'Yeni Ara Talebi',
            'message' => "{$requester}: {$desc}",
            'icon' => 'fa-car-side', // FontAwesome ikonu
            'color' => 'warning',     // Bootstrap rengi (text-warning)
            'link' => route('service.assignments.edit', $this->assignment->id),// Tklaynca gidecei yer
        ];
    }
}

----------------------------------------
DOSYA YOLU: app\Notifications\NewTravelPlanNotification.php
----------------------------------------

<?php

namespace App\Notifications;

use Illuminate\Bus\Queueable;
use Illuminate\Notifications\Notification;
use App\Models\Travel;

class NewTravelPlanNotification extends Notification
{
    use Queueable;

    protected $travel;

    public function __construct(Travel $travel)
    {
        $this->travel = $travel;
    }

    public function via($notifiable)
    {
        return ['database'];
    }

    public function toArray($notifiable)
    {
        // Oluturan kiinin ad
        $creatorName = $this->travel->user ? $this->travel->user->name : 'Biri';

        return [
            'travel_id' => $this->travel->id,

            // Navbar'da grnecekler
            'title' => 'Yeni Seyahat Planland',
            'message' => "{$creatorName} yeni bir seyahat oluturdu: {$this->travel->name}. Ltfen ara planlamasn kontrol ediniz.",
            'icon' => 'fa-plane-departure', // Uak/Seyahat ikonu
            'color' => 'info', // Mavi renk

            // Tklaynca seyahat detayna gitsin ki mdr detaylar grp ara atayabilsin
            'link' => route('travels.show', $this->travel->id),
        ];
    }
}

----------------------------------------
DOSYA YOLU: app\Notifications\ResetPasswordNotification.php
----------------------------------------

<?php

namespace App\Notifications;

use Illuminate\Bus\Queueable;
use Illuminate\Contracts\Queue\ShouldQueue; // Kuyruk iin nemli
use Illuminate\Notifications\Messages\MailMessage;
use Illuminate\Notifications\Notification;

class ResetPasswordNotification extends Notification implements ShouldQueue
{
    use Queueable;

    public $token;

    /**
     * Create a new notification instance.
     *
     * @return void
     */
    public function __construct($token)
    {
        $this->token = $token;
    }

    /**
     * Get the notification's delivery channels.
     *
     * @param  mixed  $notifiable
     * @return array
     */
    public function via($notifiable)
    {
        return ['mail', 'database']; // leride buraya 'database' veya 'sms' eklenebilir
    }

    /**
     * Get the mail representation of the notification.
     *
     * @param  mixed  $notifiable
     * @return \Illuminate\Notifications\Messages\MailMessage
     */
    public function toMail($notifiable)
    {
        // ifre sfrlama URL'ini oluturuyoruz
        // route('password.reset') rotasnn tanml olduunu varsayyorum (Laravel UI/Breeze/Jetstream standart)
        $url = url(route('password.reset', [
            'token' => $this->token,
            'email' => $notifiable->getEmailForPasswordReset(),
        ], false));

        return (new MailMessage)
            ->subject('KKSAN  Sreleri Portal (TAKVM) - ifre Sfrlama Talebi')
            ->greeting('Merhaba ' . $notifiable->name . ',')
            ->line('Hesabnz iin bir ifre sfrlama talebi var.')
            ->action('ifreyi Sfrla', $url)
            ->line('Bu ilem iin sreniz 60 dakikadr.')
            ->line('Eer bu talebi siz yapmadysanz, hibir ilem yapmanza gerek yoktur.')
            ->salutation('yi almalar.');
    }
    /**
     * VERTABANI ER (Arivlenecek veri)
     * notifications tablosundaki 'data' stununa JSON olarak yazlr.
     * Yarn br gn "Kime, ne zaman, ne gitmi?" dersen buraya bakacaz.
     */
    public function toArray($notifiable)
    {
        return [
            'action' => 'password_reset', // lem tr
            'ip_address' => request()->ip(), // stei yapan IP (Gvenlik iin)
            'message' => 'ifre sfrlama talebi gnderildi.',
            'timestamp' => now()->toDateTimeString(),
        ];
    }
}

----------------------------------------
DOSYA YOLU: app\Notifications\TaskAssignedNotification.php
----------------------------------------

<?php

namespace App\Notifications;

use Illuminate\Bus\Queueable;
use Illuminate\Notifications\Notification;
use App\Models\VehicleAssignment;

class TaskAssignedNotification extends Notification
{
    use Queueable;

    protected $assignment;

    public function __construct(VehicleAssignment $assignment)
    {
        $this->assignment = $assignment;
    }

    public function via($notifiable)
    {
        return ['database']; // Navbar iin veritaban
    }

    public function toArray($notifiable)
    {
        // Grevi atayan kiinin ad
        $assigner = $this->assignment->createdBy ? $this->assignment->createdBy->name : 'Ynetici';

        return [
            'assignment_id' => $this->assignment->id,

            // Navbar alanlar
            'title' => 'Yeni Grev Atand',
            'message' => "{$assigner} size yeni bir grev atad: {$this->assignment->title}",
            'icon' => 'fa-clipboard-check', // Grev ikonu
            'color' => 'success',            // Yeil renk (text-success)

            // Tklaynca gidecei link (Grevlerim sayfas)
            'link' => route('service.assignments.show', $this->assignment->id),
        ];
    }
}

----------------------------------------
DOSYA YOLU: app\Notifications\TaskStatusUpdatedNotification.php
----------------------------------------

<?php

namespace App\Notifications;

use Illuminate\Bus\Queueable;
use Illuminate\Notifications\Notification;
use App\Models\VehicleAssignment;

class TaskStatusUpdatedNotification extends Notification
{
    use Queueable;

    protected $assignment;
    protected $oldStatus;

    public function __construct(VehicleAssignment $assignment, $oldStatus)
    {
        $this->assignment = $assignment;
        $this->oldStatus = $oldStatus;
    }

    public function via($notifiable)
    {
        return ['database'];
    }

    public function toArray($notifiable)
    {
        // Durumu Trkeletirip gzelletirelim
        $statusLabels = [
            'pending' => 'Bekliyor',
            'in_progress' => 'Baland / Sryor',
            'completed' => 'Tamamland',
            'cancelled' => 'ptal Edildi'
        ];

        $newStatusLabel = $statusLabels[$this->assignment->status] ?? $this->assignment->status;

        // lemi yapan kiinin ad
        $updaterName = auth()->user()->name;

        // kon ve Renk Seimi
        $icon = 'fa-info-circle';
        $color = 'primary';

        if ($this->assignment->status === 'completed') {
            $icon = 'fa-check-circle';
            $color = 'success';
        } elseif ($this->assignment->status === 'in_progress') {
            $icon = 'fa-spinner';
            $color = 'warning';
        } elseif ($this->assignment->status === 'cancelled') {
            $icon = 'fa-times-circle';
            $color = 'danger';
        }

        return [
            'assignment_id' => $this->assignment->id,
            'title' => 'Grev Durumu Gncellendi',
            'message' => "{$updaterName}, atadnz grevi '{$newStatusLabel}' olarak gncelledi: {$this->assignment->title}",
            'icon' => $icon,
            'color' => $color,
            // Tklaynca detay sayfasna gitsin
            'link' => route('service.assignments.show', $this->assignment->id),
        ];
    }
}

----------------------------------------
DOSYA YOLU: app\Notifications\UpcomingEventNotification.php
----------------------------------------

<?php

namespace App\Notifications;

use App\Models\Event;
use Illuminate\Bus\Queueable;
use Illuminate\Contracts\Queue\ShouldQueue;
use Illuminate\Notifications\Messages\MailMessage;
use Illuminate\Notifications\Notification;

class UpcomingEventNotification extends Notification implements ShouldQueue
{
    use Queueable;

    protected $event;

    public function __construct(Event $event)
    {
        $this->event = $event;
    }

    public function via($notifiable)
    {
        return ['mail', 'database'];
    }

    public function toMail($notifiable)
    {
        // Balk belirleme (Ziyaret mi, Toplant m?)
        $typeLabel = $this->event->event_type === 'customer_visit' ? 'Mteri Ziyareti' : 'Etkinlik/Toplant';
        $customerName = $this->event->customerVisit ? $this->event->customerVisit->customer->name : null;

        $mail = (new MailMessage)
            ->level('info') // Mavi bilgilendirme
            ->subject(' Yarnki Programnz: ' . $this->event->title)
            ->greeting('Merhaba ' . $notifiable->name . ',')
            ->line('Yarn iin planlanm bir ' . mb_strtolower($typeLabel) . ' kaydnz var.')
            ->line(' Balk: ' . $this->event->title)
            ->line(' Balang: ' . $this->event->start_datetime->format('d.m.Y H:i'));

        // Eer bir mteri ziyareti ise detay ekle
        if ($customerName) {
            $mail->line(' Mteri: ' . $customerName)
                ->line(' Ziyaret Amac: ' . ($this->event->customerVisit->visit_purpose ?? '-'));
        }

        // Lokasyon varsa ekle
        if ($this->event->location) {
            $mail->line(' Konum: ' . $this->event->location);
        }

        return $mail->action('Takvimi Grntle', url('/calendar'))
            ->line('Toplant/Ziyaret ncesi hazrlklarnz yapmay unutmaynz.');
    }

    public function toArray($notifiable)
    {
        return [
            'action' => 'event_upcoming',
            'event_id' => $this->event->id,
            'title' => $this->event->title,
            'start_date' => $this->event->start_datetime->toDateTimeString(),
            'message' => 'Yarnki etkinlik: ' . $this->event->title,
        ];
    }
}

----------------------------------------
DOSYA YOLU: app\Notifications\UpcomingMaintenanceNotification.php
----------------------------------------

<?php

namespace App\Notifications;

use App\Models\MaintenancePlan;
use Illuminate\Bus\Queueable;
use Illuminate\Contracts\Queue\ShouldQueue;
use Illuminate\Notifications\Messages\MailMessage;
use Illuminate\Notifications\Notification;

class UpcomingMaintenanceNotification extends Notification implements ShouldQueue
{
    use Queueable;

    protected $plan;

    public function __construct(MaintenancePlan $plan)
    {
        $this->plan = $plan;
    }

    public function via($notifiable)
    {
        return ['mail', 'database'];
    }

    public function toMail($notifiable)
    {
        $assetName = $this->plan->asset ? $this->plan->asset->name : 'Tanmsz Varlk';

        return (new MailMessage)
            ->level('warning') // Sar uyar rengi verir
            ->subject(' Bakm Yaklayor: ' . $assetName)
            ->greeting('Sayn Yetkili,')
            ->line('Aadaki varlk iin planlanm bakm zaman yaklamaktadr.')
            ->line(' Varlk: ' . $assetName)
            ->line(' Planlanan Tarih: ' . $this->plan->planned_start_date->format('d.m.Y H:i'))
            ->line(' Bakm Tr: ' . ($this->plan->type->name ?? 'Genel Bakm'))
            ->action('Plan ncele', url('/maintenance-plans/' . $this->plan->id))
            ->line('Ltfen gerekli hazrlklar yapnz.');
    }

    public function toArray($notifiable)
    {
        return [
            'action' => 'maintenance_upcoming',
            'plan_id' => $this->plan->id,
            'asset' => $this->plan->asset->name ?? 'N/A',
            'date' => $this->plan->planned_start_date->toDateTimeString(),
            'message' => 'Bakm zaman yaklayor: ' . ($this->plan->asset->name ?? ''),
        ];
    }
}

----------------------------------------
DOSYA YOLU: app\Notifications\UpcomingProductionPlanNotification.php
----------------------------------------

<?php

namespace App\Notifications;

use App\Models\ProductionPlan;
use Illuminate\Bus\Queueable;
use Illuminate\Contracts\Queue\ShouldQueue;
use Illuminate\Notifications\Messages\MailMessage;
use Illuminate\Notifications\Notification;

class UpcomingProductionPlanNotification extends Notification implements ShouldQueue
{
    use Queueable;

    protected $plan;

    public function __construct(ProductionPlan $plan)
    {
        $this->plan = $plan;
    }

    public function via($notifiable)
    {
        return ['mail', 'database'];
    }

    public function toMail($notifiable)
    {
        return (new MailMessage)
            ->level('success') // Yeil renk (retim/Operasyon)
            ->subject(' Yeni retim Haftas Balyor: ' . $this->plan->plan_title)
            ->greeting('Sayn ' . $notifiable->name . ',')
            ->line('Yarn yeni bir retim plan dnemi balamaktadr.')
            ->line(' Plan Ad: ' . $this->plan->plan_title)
            ->line(' Hafta Balangc: ' . $this->plan->week_start_date->format('d.m.Y'))
            ->line('nem Durumu: ' . ($this->plan->is_important ? ' Yksek ncelikli' : 'Normal'))
            ->action('Plan Detaylarn ncele', url('/production-plans/' . $this->plan->id))
            ->line('yi almalar ve verimli bir hafta dileriz.');
    }

    public function toArray($notifiable)
    {
        return [
            'action' => 'production_plan_starting',
            'plan_id' => $this->plan->id,
            'title' => $this->plan->plan_title,
            'week_date' => $this->plan->week_start_date->toDateString(),
            'message' => 'retim plan balyor: ' . $this->plan->plan_title,
        ];
    }
}

----------------------------------------
DOSYA YOLU: app\Notifications\UpcomingShipmentNotification.php
----------------------------------------

<?php

namespace App\Notifications;

use App\Models\Shipment;
use Illuminate\Bus\Queueable;
use Illuminate\Contracts\Queue\ShouldQueue;
use Illuminate\Notifications\Messages\MailMessage;
use Illuminate\Notifications\Notification;

class UpcomingShipmentNotification extends Notification implements ShouldQueue
{
    use Queueable;

    protected $shipment;

    public function __construct(Shipment $shipment)
    {
        $this->shipment = $shipment;
    }

    public function via($notifiable)
    {
        return ['mail', 'database']; // Hem Mail at, Hem DB'ye kaydet
    }

    public function toMail($notifiable)
    {
        return (new MailMessage)
            ->level('info') // Mavi bilgilendirme rengi
            ->subject(' Yarnki Sevkiyat Hatrlatmas: ' . $this->shipment->plaka)
            ->greeting('Merhaba ' . $notifiable->name . ',')
            ->line('Yarn k planlanan bir sevkiyatnz var.')
            ->line(' k Tarihi: ' . $this->shipment->cikis_tarihi->format('d.m.Y H:i'))
            ->line(' Ara: ' . $this->shipment->plaka . ' (' . ($this->shipment->arac_tipi ?? 'Belirtilmedi') . ')')
            ->line(' ofr: ' . ($this->shipment->sofor_adi ?? 'Belirtilmedi'))
            ->line(' Rota: ' . $this->shipment->kalkis_noktasi . '  ' . $this->shipment->varis_noktasi)
            ->line(' Yk: ' . $this->shipment->kargo_icerigi . ' - ' . $this->shipment->kargo_miktari)
            ->action('Detaylar Gr', url('/shipments/' . $this->shipment->id))
            ->line('yi almalar dileriz.');
    }

    public function toArray($notifiable)
    {
        return [
            'action' => 'shipment_upcoming',
            'shipment_id' => $this->shipment->id,
            'plaka' => $this->shipment->plaka,
            'departure_date' => $this->shipment->cikis_tarihi->toDateTimeString(),
            'message' => 'Yarn planlanan sevkiyat: ' . $this->shipment->plaka,
        ];
    }
}

----------------------------------------
DOSYA YOLU: app\Notifications\UpcomingTravelReminder.php
----------------------------------------

<?php

namespace App\Notifications;

use Illuminate\Bus\Queueable;
use Illuminate\Notifications\Notification;
use App\Models\Travel;

class UpcomingTravelReminder extends Notification
{
    use Queueable;

    protected $travel;

    public function __construct(Travel $travel)
    {
        $this->travel = $travel;
    }

    public function via($notifiable)
    {
        return ['database'];
    }

    public function toArray($notifiable)
    {
        return [
            'travel_id' => $this->travel->id,
            'title' => ' Yaklaan Seyahat Hatrlatmas',
            'message' => "DKKAT: Yarn '{$this->travel->name}' seyahati balyor. Ara planlamasn kontrol ettiniz mi?",
            'icon' => 'fa-clock',
            'color' => 'warning', // Sar renk dikkat eker
            'link' => route('travels.show', $this->travel->id),
        ];
    }
}

----------------------------------------
DOSYA YOLU: app\Notifications\VehicleAssignedNotification.php
----------------------------------------

<?php

namespace App\Notifications;

use Illuminate\Bus\Queueable;
use Illuminate\Contracts\Queue\ShouldQueue;
use Illuminate\Notifications\Messages\MailMessage;
use Illuminate\Notifications\Notification;
use App\Models\VehicleAssignment;

// Kuyruk (Queue) ayarlarn yaplandrlmadysa "implements ShouldQueue" ksmn kaldrabilirsin.
// imdilik senkron almas iin sadece "extends Notification" diyoruz.
class VehicleAssignedNotification extends Notification
{
    use Queueable;

    public $assignment;

    /**
     * Bildirim snf balatlrken assignment modelini al.
     */
    public function __construct(VehicleAssignment $assignment)
    {
        $this->assignment = $assignment;
    }

    /**
     * Hangi kanallardan gnderilecek?
     * Polling sistemi kullandn iin sadece 'database' yeterli.
     */
    public function via($notifiable)
    {
        return ['database'];
    }

    /**
     * Veritabanna (notifications tablosuna) kaydedilecek veriler.
     * Buradaki 'message' anahtar, JS tarafnda Toast uyars olarak gsterilecek.
     */
    public function toArray($notifiable)
    {
        // Ara plakas kontrol (Silinmi ara vs. ihtimaline kar)
        $plate = $this->assignment->vehicle ? $this->assignment->vehicle->plate_number : 'Bilinmeyen Ara';

        // Ara tipine gre ikon belirleme (Grsel zenginlik iin)
        $isLogistics = str_contains($this->assignment->vehicle_type, 'Logistics');
        $iconType = $isLogistics ? '' : '';

        return [
            'assignment_id' => $this->assignment->id,
            'title' => 'Ara Atamas Yapld',
            // Toast mesajnda kacak metin BURASI:
            'message' => "{$iconType} Grevinize {$plate} plakal ara atanmtr.",

            // Tklaynca gidilecek link (Genelde dzenleme sayfasna gider)
            'link' => route('service.assignments.index', $this->assignment->id),

            // Ekstra bilgiler
            'type' => 'vehicle_assignment',
            'icon' => 'fas fa-car-side'
        ];
    }
}

----------------------------------------
DOSYA YOLU: app\Notifications\VehicleAssignmentCreated.php
----------------------------------------

<?php

namespace App\Notifications;

use Illuminate\Bus\Queueable;
use Illuminate\Contracts\Queue\ShouldQueue;
use Illuminate\Notifications\Messages\MailMessage;
use Illuminate\Notifications\Notification;
use App\Models\VehicleAssignment;

class VehicleAssignmentCreated extends Notification implements ShouldQueue
{
    use Queueable;
    public $assignment;

    /**
     * Create a new notification instance.
     *
     * @return void
     */
    public function __construct(VehicleAssignment $assignment)
    {
        $this->assignment = $assignment;
    }

    /**
     * Get the notification's delivery channels.
     *
     * @param  mixed  $notifiable
     * @return array
     */
    /**
     * Bildirimin gnderilecei kanallar belirle.
     * Web arayznde grnmesi iin 'database' kanaln kullanyoruz.
     */
    public function via(object $notifiable): array
    {
        return ['database'];
    }

    /**
     * Get the mail representation of the notification.
     *
     * @param  mixed  $notifiable
     * @return \Illuminate\Notifications\Messages\MailMessage
     */
    public function toMail($notifiable)
    {
        return (new MailMessage)
            ->line('The introduction to the notification.')
            ->action('Notification Action', url('/'))
            ->line('Thank you for using our application!');
    }

    /**
     * Get the array representation of the notification.
     *
     * @param  mixed  $notifiable
     * @return array
     */
    /**
     * Bildirimin veritaban iin dizi temsilini al.
     */
    public function toArray(object $notifiable): array
    {
        return [
            'assignment_id' => $this->assignment->id,
            'title' => $this->assignment->title,
            'vehicle_name' => $this->assignment->vehicle ? $this->assignment->vehicle->name : 'Bilinmiyor',
            'starts_at' => $this->assignment->start_time->format('d.m.Y H:i'),
            'type' => $this->assignment->assignment_type,
            'message' => 'Size yeni bir ara grevi (' . $this->assignment->title . ') atanmtr.',
            'link' => route('service.assignments.edit', $this->assignment->id),
        ];
    }
}


----------------------------------------
DOSYA YOLU: app\Observers\BusinessUnitObserver.php
----------------------------------------

<?php

namespace App\Observers;

use Illuminate\Support\Facades\Auth;

class BusinessUnitObserver
{
    public function creating($model)
    {
        // Eer kullanc giri yapmsa ve modelde business_unit_id henz atanmamsa
        if (Auth::check() && empty($model->business_unit_id)) {

            // 1. nce Session'a bak (Middleware'in ayarlad)
            $unitId = session('active_unit_id');

            // 2. Session yoksa kullancnn ilk yetkili birimini al
            if (!$unitId && Auth::user()->businessUnits->count() > 0) {
                $unitId = Auth::user()->businessUnits->first()->id;
            }

            // 3. Bulduun ID'yi modele yaz
            if ($unitId) {
                $model->business_unit_id = $unitId;
            }
        }
    }
}

----------------------------------------
DOSYA YOLU: app\Observers\KanbanModelObserver.php
----------------------------------------

<?php

namespace App\Observers;

use App\Models\KanbanBoard;
use Illuminate\Database\Eloquent\Model;

class KanbanModelObserver
{
    /**
     * Handle the Model "created" event.
     */
    public function created(Model $model)
    {
        // 1. Modelin hangi fabrika/birime ait olduunu bul
        // Senin standardn: $model->business_unit_id
        $factoryId = $model->business_unit_id;

        if (!$factoryId)
            return; // Fabrika yoksa ilem yapma

        // 2. Bu modelin trne gre (Bakm, Lojistik) hangi panoya gideceini bul
        // Model snf adndan 'scope' karm yapyoruz
        $scope = $this->determineScope($model);

        if (!$scope)
            return; // Tanmsz bir modelse k

        // 3. lgili fabrikann ve modln panosunu bul
        $board = KanbanBoard::where('business_unit_id', $factoryId)
            ->where('module_scope', $scope)
            ->first();

        // 4. Panonun "Varsaylan" (is_default=1) stununu veya ilk stununu bul
        if ($board) {
            $defaultColumn = $board->columns()->where('is_default', true)->first()
                ?? $board->columns()->orderBy('order_index')->first();

            if ($defaultColumn) {
                // 5. Kart Olutur
                $model->kanbanCard()->create([
                    'column_id' => $defaultColumn->id,
                    'sort_order' => 9999, // En sona ekle
                ]);
            }
        }
    }

    /**
     * Hangi Modelin Hangi Modl (Scope) Olduunu Belirle
     */
    private function determineScope(Model $model)
    {
        $class = get_class($model);

        return match ($class) {
            'App\Models\MaintenancePlan' => 'maintenance',
            'App\Models\Shipment' => 'logistics',
            'App\Models\ProductionPlan' => 'production',
            'App\Models\Event' => 'admin', // dari ler
            default => null,
        };
    }
    /**
     * Kayt Gncellendiinde alr (Stat Eitlemesi)
     */
    public function updated(Model $model)
    {
        // 1. Bu kaydn bir Kanban kart var m?
        $card = $model->kanbanCard;
        if (!$card)
            return;

        // 2. Stat deiiklii var m kontrol et
        // Her modln stat stunu farkl olabilir, onlar tanmlayalm:
        $statusColumn = match (get_class($model)) {
            'App\Models\MaintenancePlan' => 'status', // Bakm tablosundaki stun ad
            'App\Models\Shipment' => 'shipment_status', // Lojistik (tahmini)
            'App\Models\VehicleAssignment' => 'status', // Ulatrma
            'App\Models\Event' => 'visit_status', // dari ler
            default => null,
        };

        if (!$statusColumn || !$model->isDirty($statusColumn))
            return;

        // 3. Yeni statye karlk gelen Kanban Stun Slug'n bul
        // BURASI NEML: Veritabanndaki stat kodlarnla, Kanban stun slug'larn eletiriyoruz.
        $newStatus = $model->{$statusColumn};
        $targetSlug = $this->mapStatusToSlug(get_class($model), $newStatus);

        if (!$targetSlug)
            return;

        // 4. Hedef stunu bul (Ayn panoda olmas art)
        $targetColumn = \App\Models\KanbanColumn::where('board_id', $card->column->board_id)
            ->where('slug', $targetSlug)
            ->first();

        // 5. Kart ta
        if ($targetColumn && $targetColumn->id !== $card->column_id) {
            $card->update([
                'column_id' => $targetColumn->id,
                // Sort order' gncellemiyoruz, olduu srada kalsn veya en baa/sona atabilirsin.
            ]);
        }
    }

    /**
     * Stat Kodlarn Kanban Sluglarna eviren Szlk
     */
    private function mapStatusToSlug($modelClass, $status)
    {
        // Bakm Modl Eletirmesi
        if ($modelClass === 'App\Models\MaintenancePlan') {
            return match ($status) {
                'open', 'pending', 'new' => 'bekleyenler',
                'in_progress', 'working' => 'islemde',
                'completed', 'done' => 'bitti',
                default => null,
            };
        }

        // Lojistik Modl Eletirmesi (rnek)
        if ($modelClass === 'App\Models\Shipment') {
            return match ($status) {
                'pending' => 'siparis-alindi',
                'on_road', 'transit' => 'yolda',
                'delivered' => 'teslim-edildi',
                default => null,
            };
        }

        return null;
    }
    public function deleted(Model $model)
    {
        $model->kanbanCard()->delete();
    }
}

----------------------------------------
DOSYA YOLU: app\Observers\UserObserver.php
----------------------------------------

<?php

namespace App\Observers;

use App\Models\User;
use Spatie\Permission\Models\Role;

class UserObserver
{
    /**
     * Handle the User "created" event.
     *
     * @param  \App\Models\User  $user
     * @return void
     */
    /**
     * Kullanc OLUTURULDUUNDA (Created)
     */
    public function created(User $user): void
    {
        $this->assignRoleByDepartment($user);
    }

    /**
     * Handle the User "updated" event.
     *
     * @param  \App\Models\User  $user
     * @return void
     */
    /**
     * Kullanc GNCELLENDNDE (Updated)
     */
    public function updated(User $user): void
    {
        // Eer departman ID'si veya 'role' stunu (admin vs) deitiyse yetkileri tekrar ayarla
        if ($user->isDirty('department_id') || $user->isDirty('role')) {
            $this->assignRoleByDepartment($user);
        }
    }
    /**
     * Ana Mantk: Departman ID -> Spatie Rol Elemesi
     */
    private function assignRoleByDepartment(User $user): void
    {
        // 1. Admin ise dokunma
        if ($user->role === 'admin' || $user->hasRole('admin')) {
            $user->syncRoles(['admin']);
            return;
        }

        // 2. KRTK KORUMA: Eer kullanc "Ynetici" ise, onu "Personel" yapma!
        // Bu sayede "dari ler Yneticisi" olarak kalr.
        if ($user->role === 'ynetici' || $user->hasRole(['ynetici', 'yonetici', 'manager'])) {
            // stersen burada ynetici roln garantiye alabilirsin:
            // $user->syncRoles(['ynetici']); 
            return; // lemi burada kes, aaya inip personel rol atamasn.
        }

        // 3. Standart Personel Atamas (Aynen kalsn)
        $roleToAssign = match ($user->department_id) {
            1 => 'lojistik_personeli',
            2 => 'uretim_personeli',
            3 => 'idari_isler_personeli',
            4 => 'bakim_personeli',
            default => 'user',
        };

        if (Role::where('name', $roleToAssign)->exists()) {
            $user->syncRoles([$roleToAssign]);
        }
    }

    /**
     * Handle the User "deleted" event.
     *
     * @param  \App\Models\User  $user
     * @return void
     */
    public function deleted(User $user)
    {
        //
    }

    /**
     * Handle the User "restored" event.
     *
     * @param  \App\Models\User  $user
     * @return void
     */
    public function restored(User $user)
    {
        //
    }

    /**
     * Handle the User "force deleted" event.
     *
     * @param  \App\Models\User  $user
     * @return void
     */
    public function forceDeleted(User $user)
    {
        //
    }
}


----------------------------------------
DOSYA YOLU: app\Policies\MaintenancePlanPolicy.php
----------------------------------------

<?php

namespace App\Policies;

use App\Models\MaintenancePlan;
use App\Models\User;
use Illuminate\Auth\Access\Response;

class MaintenancePlanPolicy
{
    /**
     * Kullanc bu plan "Tamamland" durumuna getirebilir mi (veya onaylayabilir mi)?
     * Bu metod dier metodlar tarafndan da (update/delete) referans alnr.
     */
    public function approve(User $user, MaintenancePlan $plan): bool
    {
        // 1. Admin veya "Ynetici" rolndekiler HER EY onaylayabilir (Departman bamsz).
        // Bu sayede Ynetici, baka departmann iine de mdahale edebilir.
        if (in_array($user->role, ['admin', 'yonetici'])) {
            return true;
        }

        // 2. "Mdr" ise SADECE Kendi departmann onaylayabilir.
        // (Eer "Ynetici" ile "Mdr" ayryorsanz bu blok ie yarar)
        if ($user->role === 'mudur') {
            $planDepartmentId = $plan->department_id ?? $plan->user->department_id;
            if ($user->department_id === $planDepartmentId) {
                return true;
            }
        }

        return false;
    }

    /**
     * Kullanc kayd dzenleyebilir mi?
     */
    public function update(User $user, MaintenancePlan $plan): bool
    {
        // --- 1. ZEL DURUMLAR (Tamamlanm veya Onay Bekleyen) ---

        // Tamamlanm (completed) veya Onay Bekleyen (pending_approval) ileri
        // sadece onay yetkisi olanlar (Admin/Ynetici/lgili Mdr) deitirebilir.
        if (in_array($plan->status, ['completed', 'pending_approval'])) {
            return $this->approve($user, $plan);
        }

        // --- 2. GENEL DZENLEME YETKLER ---

        // A) Admin ve Ynetici HER ZAMAN dzenler (Departman fark etmeksizin)
        if (in_array($user->role, ['admin', 'yonetici'])) {
            return true;
        }

        // B) Plann SAHB (Oluturan) her zaman dzenler
        if ($user->id === $plan->user_id) {
            return true;
        }

        // C) Mdrler kendi departmanndaki ileri dzenleyebilir
        if ($user->role === 'mudur') {
            $planDepartmentId = $plan->department_id ?? $plan->user->department_id;
            if ($user->department_id === $planDepartmentId) {
                return true;
            }
        }

        // D) AYNI DEPARTMAN PERSONEL ZN (Opsiyonel):
        // Bakm ekibi bir havuz mantyla alyorsa, ayn departmandaki arkadann iini dzenleyebilir.
        // stemiyorsanz bu blou kaldrabilirsiniz.
        $planDepartmentId = $plan->department_id ?? $plan->user->department_id;
        if ($user->department_id && $user->department_id == $planDepartmentId) {
            return true;
        }

        return false;
    }

    /**
     * Kullanc kayd silebilir mi?
     */
    public function delete(User $user, MaintenancePlan $plan): bool
    {
        // 1. Admin ve Ynetici, tamamlanm olsa bile silebilir (Temizlik yetkisi).
        if (in_array($user->role, ['admin', 'yonetici'])) {
            return true;
        }

        // 2. Dier kullanclar (Personel/Mdr) TAMAMLANMI ii asla silemez.
        if ($plan->status === 'completed') {
            return false;
        }

        // 3. Dier durumlarda gncelleme yetkisi olan silebilir mi?
        // Genelde silme yetkisi daha kstldr, sadece "Sahibi" veya "Ynetici" silmeli.

        // Sahibi ise silebilir
        if ($user->id === $plan->user_id) {
            return true;
        }

        // Mdr ise kendi departmanndakini silebilir
        if ($user->role === 'mudur') {
            $planDepartmentId = $plan->department_id ?? $plan->user->department_id;
            if ($user->department_id === $planDepartmentId) {
                return true;
            }
        }

        return false;
    }
}

----------------------------------------
DOSYA YOLU: app\Providers\AppServiceProvider.php
----------------------------------------

<?php

namespace App\Providers;

use Illuminate\Support\ServiceProvider;
use Illuminate\Pagination\Paginator;
use Illuminate\Support\Facades\View;
use Illuminate\Support\Facades\Auth;
use App\Observers\UserObserver;
use App\Models\User;
use App\Models\Shipment;
use App\Models\ProductionPlan;
use App\Models\Event;
use App\Models\VehicleAssignment;
use App\Models\Travel;
use App\Models\MaintenancePlan;
use App\Observers\BusinessUnitObserver;
use App\Observers\KanbanModelObserver;
class AppServiceProvider extends ServiceProvider
{
    public function register()
    {
        //
    }

    public function boot()
    {
        Paginator::useBootstrap();

        // --- 1. AKILLI YENLEME HASH' ---
        try {
            if (!app()->runningInConsole()) {
                // Eer SystemController yoksa buras hata verebilir, geici olarak try-catch iinde kalsn
                $systemHash = \App\Http\Controllers\SystemController::calculateSystemHash();
                View::share('globalDataHash', $systemHash);
            }
        } catch (\Exception $e) {
            View::share('globalDataHash', '');
        }

        // --- 2. BLDRM SAYILARI ---
        View::composer('*', function ($view) {
            $totalPending = 0;
            if (Auth::check()) {
                $user = Auth::user();
                // Modelin namespace'ini tam yazdndan emin ol
                $maintenanceQuery = \App\Models\MaintenancePlan::where('status', 'pending_approval');

                if ($user->role !== 'admin') {
                    // User modelinde isManagerOrDirector fonksiyonu olduundan emin olmalsn
                    if (method_exists($user, 'isManagerOrDirector') && $user->isManagerOrDirector() && $user->department_id) {
                        $maintenanceQuery->whereHas('user', fn($q) => $q->where('department_id', $user->department_id));
                    } else {
                        $maintenanceQuery->where('id', 0);
                    }
                }
                $totalPending = $maintenanceQuery->count();
            }
            $view->with('globalPendingCount', $totalPending);
        });
        User::observe(UserObserver::class);
        Shipment::observe(BusinessUnitObserver::class);
        ProductionPlan::observe(BusinessUnitObserver::class);
        Event::observe(BusinessUnitObserver::class);
        VehicleAssignment::observe(BusinessUnitObserver::class);
        Travel::observe(BusinessUnitObserver::class);
        MaintenancePlan::observe(BusinessUnitObserver::class);
        MaintenancePlan::observe(KanbanModelObserver::class);
        Shipment::observe(KanbanModelObserver::class);
        ProductionPlan::observe(KanbanModelObserver::class);
        Event::observe(KanbanModelObserver::class);
    }
}

----------------------------------------
DOSYA YOLU: app\Providers\AuthServiceProvider.php
----------------------------------------

<?php

namespace App\Providers;

use Illuminate\Foundation\Support\Providers\AuthServiceProvider as ServiceProvider;
use Illuminate\Support\Facades\Gate;
use App\Models\User;
use App\Models\Team;
use App\Models\VehicleAssignment;

class AuthServiceProvider extends ServiceProvider
{
    protected $policies = [
        // 'App\Models\Model' => 'App\Policies\ModelPolicy',
    ];

    public function boot(): void
    {
        $this->registerPolicies();

        // --- 1. DEPARTMAN ERM YETKS (ANA MANTIK) ---
        // Blade dosyasnda @can('access-department', 'uretim') eklinde kullanacaz.
        Gate::define('access-department', function ($user, $departmentSlug) {

            // Admin her yere girebilir
            if ($user->role === 'admin') {
                return true;
            }

            // Global ynetici (departman olmayan ynetici) her yeri grebilir
            if ($user->role === 'ynetici' && is_null($user->department_id)) {
                return true;
            }

            // Kullancnn departman ilikisi ykl m kontrol et, yoksa yklemeye al veya null dn
            if (!$user->relationLoaded('department')) {
                $user->load('department');
            }

            // Eer kullancnn departman yoksa hi bir yere giremez (Admin hari)
            if (!$user->department) {
                return false;
            }

            // SLUG KONTROL (Veritabanndaki slug ile koddan gelen slug eleiyor mu?)
            // rn: Kullancnn DB slug' 'uretim' ise ve $departmentSlug 'uretim' gelirse TRUE dner.
            return $user->department->slug === $departmentSlug;
        });

        // --- 2. DER YARDIMCI YETKLER ---

        Gate::define('is-global-manager', function ($user) {
            return $user->role === 'admin' || ($user->role === 'ynetici' && is_null($user->department_id));
        });

        Gate::define('access-admin-features', fn(User $user) => $user->role === 'admin');

        // Rezervasyon Yetkisi (AppServiceProvider'dan buraya tadk)
        Gate::define('manage_bookings', function ($user) {
            // User modelinde hasPermission fonksiyonu yoksa hata vermesin diye kontrol ekledik
            return method_exists($user, 'hasPermission') ? $user->hasPermission('manage_bookings') : false;
        });

        // Ara Grev Ynetimi
        Gate::define('manage-assignment', function (User $user, VehicleAssignment $assignment) {
            if (in_array($user->role, ['admin', 'ynetici', 'mdr', 'mudur'])) {
                return true;
            }
            if ($user->id === $assignment->user_id) {
                return true;
            }
            // Bireysel Atama
            if ($assignment->responsible_type === User::class && $assignment->responsible_id === $user->id) {
                return true;
            }
            // Takm Atamas
            if ($assignment->responsible_type === Team::class) {
                // teams ilikisinin User modelinde tanml olduundan emin olun
                return $user->teams()->where('id', $assignment->responsible_id)->exists();
            }
            return false;
        });
    }
}

----------------------------------------
DOSYA YOLU: app\Providers\BroadcastServiceProvider.php
----------------------------------------

<?php

namespace App\Providers;

use Illuminate\Support\Facades\Broadcast;
use Illuminate\Support\ServiceProvider;

class BroadcastServiceProvider extends ServiceProvider
{
    /**
     * Bootstrap any application services.
     *
     * @return void
     */
    public function boot()
    {
        Broadcast::routes();

        require base_path('routes/channels.php');
    }
}


----------------------------------------
DOSYA YOLU: app\Providers\EventServiceProvider.php
----------------------------------------

<?php

namespace App\Providers;

use Illuminate\Auth\Events\Registered;
use Illuminate\Auth\Listeners\SendEmailVerificationNotification;
use Illuminate\Foundation\Support\Providers\EventServiceProvider as ServiceProvider;
use Illuminate\Support\Facades\Event;
use Illuminate\Auth\Events\Login;
use Illuminate\Auth\Events\Failed;
use Illuminate\Auth\Events\Logout;
use App\Listeners\LogSuccessfulLogin;
use App\Listeners\LogFailedLogin;
use App\Listeners\LogLogout;

class EventServiceProvider extends ServiceProvider
{
    /**
     * The event to listener mappings for the application.
     *
     * @var array<class-string, array<int, class-string>>
     */
    protected $listen = [
        Registered::class => [
            SendEmailVerificationNotification::class,
        ],
        \Illuminate\Auth\Events\Failed::class => [
            \App\Listeners\LogFailedLogin::class,
        ],
            // 1. Baarl Giri
        Login::class => [
            LogSuccessfulLogin::class,
        ],

            // 2. Hatal Giri
        Failed::class => [
            LogFailedLogin::class,
        ],

            // 3. k (Henz dosyan yok, aada oluturacaz)
        Logout::class => [
            LogLogout::class,
        ],

    ];

    /**
     * Register any events for your application.
     *
     * @return void
     */
    public function boot()
    {
        //
    }

    /**
     * Determine if events and listeners should be automatically discovered.
     *
     * @return bool
     */
    public function shouldDiscoverEvents()
    {
        return false;
    }
}


----------------------------------------
DOSYA YOLU: app\Providers\RouteServiceProvider.php
----------------------------------------

<?php

namespace App\Providers;

use Illuminate\Cache\RateLimiting\Limit;
use Illuminate\Foundation\Support\Providers\RouteServiceProvider as ServiceProvider;
use Illuminate\Http\Request;
use Illuminate\Support\Facades\RateLimiter;
use Illuminate\Support\Facades\Route;

class RouteServiceProvider extends ServiceProvider
{
    /**
     * The path to the "home" route for your application.
     *
     * Typically, users are redirected here after authentication.
     *
     * @var string
     */
    public const HOME = '/welcome';

    /**
     * Define your route model bindings, pattern filters, and other route configuration.
     *
     * @return void
     */
    public function boot()
    {
        $this->configureRateLimiting();

        $this->routes(function () {
            Route::middleware('api')
                ->prefix('api')
                ->group(base_path('routes/api.php'));

            Route::middleware('web')
                ->group(base_path('routes/web.php'));
        });
    }

    /**
     * Configure the rate limiters for the application.
     *
     * @return void
     */
    protected function configureRateLimiting()
    {
        RateLimiter::for('api', function (Request $request) {
            return Limit::perMinute(60)->by($request->user()?->id ?: $request->ip());
        });
    }
}


----------------------------------------
DOSYA YOLU: app\Services\CsvExporter.php
----------------------------------------

<?php

namespace App\Services;

use Illuminate\Database\Eloquent\Builder;

class CsvExporter
{
    /**
     * Herhangi bir sorguyu CSV olarak da aktarr.
     *
     * @param Builder $query Veritaban sorgusu (get() yaplmam hali)
     * @param array $headers CSV'nin ilk satrnda yazacak balklar
     * @param callable $rowMapper Her bir satrn nasl ileneceini belirleyen fonksiyon
     * @param string $fileName ndirilecek dosyann ad
     */
    public static function streamDownload(Builder $query, array $headers, callable $rowMapper, string $fileName)
    {
        // HTTP Balklar
        $httpHeaders = [
            "Content-type" => "text/csv; charset=utf-8",
            "Content-Disposition" => "attachment; filename=$fileName",
            "Pragma" => "no-cache",
            "Cache-Control" => "must-revalidate, post-check=0, pre-check=0",
            "Expires" => "0"
        ];

        // Stream Callback Fonksiyonu
        $callback = function () use ($query, $headers, $rowMapper) {
            $file = fopen('php://output', 'w');

            // Excel iin Trke karakter destei (BOM)
            fputs($file, "\xEF\xBB\xBF");

            // 1. Satr: Balklar yaz
            fputcsv($file, $headers, ';');

            // Veriyi para para ek (Memory dostu cursor)
            foreach ($query->cursor() as $record) {
                // Controller'dan gelen formatlama fonksiyonunu altr
                $row = $rowMapper($record);

                // Satr dosyaya yaz
                fputcsv($file, $row, ';');
            }

            fclose($file);
        };

        return response()->stream($callback, 200, $httpHeaders);
    }
}

----------------------------------------
DOSYA YOLU: app\Services\KanbanService.php
----------------------------------------

<?php

namespace App\Services;

use App\Models\KanbanCard;
use Illuminate\Support\Facades\DB;

class KanbanService
{
    /**
     * Bir kart tar ve eski/yeni stunlardaki sralamay dzeltir.
     */
    public function moveCard($cardId, $targetColumnId, $newIndex)
    {
        return DB::transaction(function () use ($cardId, $targetColumnId, $newIndex) {
            $card = KanbanCard::findOrFail($cardId);

            $originalColumnId = $card->column_id;
            $originalIndex = $card->sort_order;

            // -- AYNI STUN NDE HAREKET --
            if ($originalColumnId == $targetColumnId) {
                if ($originalIndex == $newIndex)
                    return true; // Deiiklik yok

                // Aradaki kartlar kaydr
                if ($originalIndex < $newIndex) {
                    // Aa tama: Aradakileri yukar (-1) ek
                    KanbanCard::where('column_id', $originalColumnId)
                        ->whereBetween('sort_order', [$originalIndex + 1, $newIndex])
                        ->decrement('sort_order');
                } else {
                    // Yukar tama: Aradakileri aa (+1) it
                    KanbanCard::where('column_id', $originalColumnId)
                        ->whereBetween('sort_order', [$newIndex, $originalIndex - 1])
                        ->increment('sort_order');
                }

                $card->sort_order = $newIndex;
                $card->save();
            }
            // -- FARKLI STUNA HAREKET --
            else {
                // 1. Hedef stunda yer a (Girecei yerden sonrakileri it)
                KanbanCard::where('column_id', $targetColumnId)
                    ->where('sort_order', '>=', $newIndex)
                    ->increment('sort_order');

                // 2. Kart ta
                $card->column_id = $targetColumnId;
                $card->sort_order = $newIndex;
                $card->save();

                // 3. ESK STUNDAK BOLUU KAPAT (Re-indexing)
                $this->reorderColumn($originalColumnId);
            }

            return true;
        });
    }

    /**
     * Bir stundaki tm kartlar 0'dan balayarak yeniden sralar (Gap Closing)
     */
    private function reorderColumn($columnId)
    {
        $cards = KanbanCard::where('column_id', $columnId)
            ->orderBy('sort_order', 'asc')
            ->get();

        foreach ($cards as $index => $c) {
            // Sadece sras yanl olanlar gncelle (Performans)
            if ($c->sort_order !== $index) {
                $c->update(['sort_order' => $index]);
            }
        }
    }
    /**
     * Belirli bir fabrikann tm panolarn ve zet istatistiklerini getirir.
     * Dashboard/Welcome ekran iin optimize edilmitir.
     */
    public function getDashboardSummary($businessUnitId)
    {
        return \App\Models\KanbanBoard::where('business_unit_id', $businessUnitId)
            ->with([
                'columns' => function ($query) {
                    // Her stundaki kart saysn veritaban seviyesinde say (Performans)
                    $query->withCount('cards');
                }
            ])
            ->get()
            ->map(function ($board) {
                $activeTaskCount = $board->columns
                    ->filter(function ($col) {
                        return !in_array($col->slug, ['done', 'completed', 'bitti', 'cancelled', 'iptal', 'teslim-edildi', 'siparis-iptal-edildi']);
                    })
                    ->sum('cards_count');
                return (object) [
                    'name' => $board->name,
                    'scope' => $board->module_scope,
                    'column_count' => $board->columns->count(),
                    'total_tasks' => $activeTaskCount,// Toplam i yk
                    'route' => route('kanban.board', ['scope' => $board->module_scope]),
                    'icon' => $this->getIconForScope($board->module_scope), // Grsel ikon
                    'color' => $this->getColorForScope($board->module_scope) // Grsel renk
                ];
            });
    }

    // Yardmc (Private) Metotlar - UI Mantn serviste tutuyoruz
    private function getIconForScope($scope)
    {
        return match ($scope) {
            'maintenance' => 'fa-tools',
            'logistics' => 'fa-truck',
            'production' => 'fa-industry',
            'admin' => 'fa-calendar-check',
            default => 'fa-clipboard-list',
        };
    }

    private function getColorForScope($scope)
    {
        return match ($scope) {
            'maintenance' => 'danger',   // Krmz
            'logistics' => 'primary',    // Mavi
            'production' => 'warning',   // Sar
            'admin' => 'success',        // Yeil
            default => 'secondary',
        };
    }
}

----------------------------------------
DOSYA YOLU: app\Services\StatisticsService.php
----------------------------------------

<?php

namespace App\Services;

use App\Models\Shipment;
use App\Models\ProductionPlan;
use App\Models\Event;
use App\Models\VehicleAssignment;
use App\Models\Travel;
use App\Models\MaintenancePlan;
use App\Models\MaintenanceType;
use App\Models\MaintenanceAsset;
use App\Models\Vehicle;
use App\Models\Department;
use App\Data\StatisticsData;
use Illuminate\Support\Facades\DB;
use Illuminate\Support\Facades\Auth;
use Carbon\Carbon;
use Carbon\CarbonPeriod;
use Illuminate\Support\Str;
use Illuminate\Support\Collection;

class StatisticsService
{
    /**
     * GENEL BAKI (Sadece Yneticiler Grr)
     */
    public function getGenelBakisData(Carbon $startDate, Carbon $endDate, Collection $allowedDepartments, $unitId = null): StatisticsData
    {
        $labels = [];
        $data = [];
        $user = Auth::user();

        foreach ($allowedDepartments as $dept) {
            $slug = $dept->slug;
            $count = 0;

            // Her sorguya ->when($unitId...) eklendi
            if ($slug === 'lojistik') {
                $count = Shipment::forUser($user)
                    ->when($unitId, fn($q) => $q->where('business_unit_id', $unitId))
                    ->whereBetween('created_at', [$startDate, $endDate])
                    ->count();
            } elseif ($slug === 'uretim') {
                $count = ProductionPlan::forUser($user)
                    ->when($unitId, fn($q) => $q->where('business_unit_id', $unitId))
                    ->whereBetween('week_start_date', [$startDate, $endDate])
                    ->count();
            } elseif ($slug === 'hizmet') {
                $events = Event::forUser($user)
                    ->when($unitId, fn($q) => $q->where('business_unit_id', $unitId))
                    ->whereBetween('start_datetime', [$startDate, $endDate])
                    ->count();

                $travels = Travel::forUser($user)
                    ->when($unitId, fn($q) => $q->where('business_unit_id', $unitId))
                    ->whereBetween('start_date', [$startDate, $endDate])
                    ->count();

                $count = $events + $travels;
            } elseif ($slug === 'bakim') {
                $count = MaintenancePlan::forUser($user)
                    ->when($unitId, fn($q) => $q->where('business_unit_id', $unitId))
                    ->whereBetween('planned_start_date', [$startDate, $endDate])
                    ->count();
            }

            $labels[] = $dept->name;
            $data[] = $count;
        }

        $chartData = [
            'departmentSummary' => [
                'title' => 'Departman Bazl Aktivite Dalm',
                'labels' => $labels,
                'data' => $data
            ]
        ];

        return new StatisticsData(
            chartData: $chartData,
            shipmentsForFiltering: [],
            productionPlansForFiltering: [],
            eventsForFiltering: [],
            assignmentsForFiltering: [],
            vehiclesForFiltering: [],
            monthlyLabels: [],
            maintenancePlansForFiltering: [],
            maintenanceTypes: [],
            assets: []
        );
    }

    /**
     * LOJSTK VERLER
     */
    public function getLojistikStatsData(Carbon $startDate, Carbon $endDate, string $viewLevel = 'basic', $unitId = null): StatisticsData
    {
        $user = Auth::user();

        // 1. Ana Sorgu (Helper'a gnderilecek)
        $shipmentQuery = Shipment::forUser($user)
            ->when($unitId, fn($q) => $q->where('business_unit_id', $unitId))
            ->whereNotNull('cikis_tarihi')
            ->whereBetween('cikis_tarihi', [$startDate, $endDate]);

        // 2. Grafikleri Hazrla (Helper Metod)
        $chartData = $this->prepareLojistikCharts($shipmentQuery, $viewLevel);

        // 3. Filtreleme Listesi (Burada kalabilir)
        $shipmentsForFiltering = (clone $shipmentQuery)
            ->select(['arac_tipi', 'kargo_icerigi', 'shipment_type'])
            ->get()
            ->map(function ($shipment) {
                return [
                    'vehicle' => $this->normalizeVehicleType($shipment->arac_tipi ?? 'Bilinmiyor'),
                    'cargo' => $this->normalizeCargoContent($shipment->kargo_icerigi ?? 'Bilinmiyor'),
                    'shipment_type' => $shipment->shipment_type
                ];
            })
            ->values()->all();

        return new StatisticsData(
            chartData: $chartData,
            shipmentsForFiltering: $shipmentsForFiltering
        );
    }

    /**
     * RETM VERLER
     */
    public function getUretimStatsData(Carbon $startDate, Carbon $endDate, string $viewLevel = 'basic', $unitId = null): StatisticsData
    {
        $chartData = [];
        $user = Auth::user();

        // Filtre Eklendi
        $productionQuery = ProductionPlan::forUser($user)
            ->when($unitId, fn($q) => $q->where('business_unit_id', $unitId))
            ->whereBetween('week_start_date', [$startDate, $endDate])
            ->whereNotNull('week_start_date');

        // 1. Haftalk Plan Says
        $weeklyPlanCounts = (clone $productionQuery)->select([DB::raw('YEARWEEK(week_start_date, 1) as year_week'), DB::raw('COUNT(*) as count')])
            ->groupBy('year_week')->orderBy('year_week')->pluck('count', 'year_week');
        $weeklyLabels = [];
        $weeklyData = [];
        $currentWeek = $startDate->copy()->startOfWeek();
        while ($currentWeek->lte($endDate)) {
            $yearWeek = $currentWeek->format('oW');
            $weeklyLabels[] = $currentWeek->format('W') . '. Hafta';
            $weeklyData[] = $weeklyPlanCounts[$yearWeek] ?? 0;
            $currentWeek->addWeek();
        }
        $chartData['weekly_prod'] = ['labels' => $weeklyLabels, 'data' => $weeklyData, 'title' => ' Haftalk retim Plan Says'];

        // 2. Stratejik Veriler
        if ($viewLevel === 'full') {
            $monthlyPlanCounts = (clone $productionQuery)->select([DB::raw('YEAR(week_start_date) as year'), DB::raw('MONTH(week_start_date) as month'), DB::raw('COUNT(*) as count')])
                ->groupBy('year', 'month')->orderBy('year')->orderBy('month')->get();
            $monthlyLabels = [];
            $monthlyData = [];
            $currentMonth = $startDate->copy()->startOfMonth();
            while ($currentMonth->lte($endDate)) {
                $year = $currentMonth->year;
                $month = $currentMonth->month;
                $count = $monthlyPlanCounts->where('year', $year)->where('month', $month)->first()?->count ?? 0;
                $monthlyLabels[] = $currentMonth->translatedFormat('M Y');
                $monthlyData[] = $count;
                $currentMonth->addMonth();
            }
            $chartData['monthly_prod'] = ['labels' => $monthlyLabels, 'data' => $monthlyData, 'title' => ' Aylk retim Plan Trendi'];
        } else {
            $chartData['monthly_prod'] = null;
        }

        // 3. Filtreleme Listesi
        $allPlansRaw = (clone $productionQuery)->whereNotNull('plan_details')->get(['plan_details']);
        $flatDetails = [];
        foreach ($allPlansRaw as $plan) {
            if (is_array($plan->plan_details)) {
                foreach ($plan->plan_details as $detail) {
                    $machine = trim(strval($detail['machine'] ?? 'Bilinmiyor'));
                    $product = is_numeric($detail['product'] ?? 'Bilinmiyor') ? 'rn-' . $detail['product'] : trim(strval($detail['product'] ?? 'Bilinmiyor'));
                    if ($machine !== 'Bilinmiyor' && $product !== 'Bilinmiyor') {
                        $flatDetails[] = [
                            'machine' => $machine,
                            'product' => $product,
                            'quantity' => (int) ($detail['quantity'] ?? 0)
                        ];
                    }
                }
            }
        }

        return new StatisticsData(
            chartData: $chartData,
            productionPlansForFiltering: $flatDetails
        );
    }

    /**
     * HZMET (DAR LER) VERLER
     */
    public function getHizmetStatsData(Carbon $startDate, Carbon $endDate, string $viewLevel = 'basic', $unitId = null): StatisticsData
    {
        $eventTypesList = $this->getEventTypes();

        // Helper fonksiyonlara $unitId gnderiyoruz
        $pieChartData = $this->getHizmetPieChartData($startDate, $endDate, $eventTypesList, $unitId);

        $chartData = [
            'event_type_pie' => $pieChartData,
        ];

        $eventsForFiltering = $this->getHizmetEventFilterData($startDate, $endDate, $eventTypesList, $unitId);

        return new StatisticsData(
            chartData: $chartData,
            eventsForFiltering: $eventsForFiltering,
            assignmentsForFiltering: [],
            vehiclesForFiltering: [],
            monthlyLabels: []
        );
    }

    /**
     * BAKIM VERLER
     */
    public function getBakimStatsData(Carbon $startDate, Carbon $endDate, string $viewLevel = 'basic', $unitId = null): StatisticsData
    {
        $user = Auth::user();

        $maintenancePlans = MaintenancePlan::forUser($user)
            ->when($unitId, fn($q) => $q->where('business_unit_id', $unitId))
            ->whereBetween('planned_start_date', [$startDate, $endDate])->get();

        $maintenanceTypes = MaintenanceType::select('id', 'name')->orderBy('name')->get()->toArray();
        $assets = MaintenanceAsset::select('id', 'name')->orderBy('name')->get()->toArray();

        // DZELTME 1: ->map->count() yerine Closure kullanm
        // VS Code bunu artk bir Collection olarak tanr, integer olarak deil.
        $typeCounts = $maintenancePlans->groupBy('maintenance_type_id')
            ->map(fn($group) => $group->count());

        $typeLabels = [];
        $typeData = [];
        foreach ($typeCounts as $typeId => $count) {
            $foundType = collect($maintenanceTypes)->firstWhere('id', $typeId);
            $typeName = $foundType ? $foundType['name'] : 'Bilinmiyor';
            $typeLabels[] = $typeName;
            $typeData[] = $count;
        }

        // 2. Stratejik Veriler
        $assetLabels = [];
        $assetData = [];
        $monthlyLabels = [];
        $monthlyData = [];

        if ($viewLevel === 'full') {
            // DZELTME 2: ->map->count() yine ak hale getirildi
            // sortDesc() hatas burada dzelir.
            $assetCounts = $maintenancePlans->groupBy('maintenance_asset_id')
                ->map(fn($group) => $group->count())
                ->sortDesc()
                ->take(5);

            foreach ($assetCounts as $assetId => $count) {
                $foundAsset = collect($assets)->firstWhere('id', $assetId);
                $assetName = $foundAsset ? $foundAsset['name'] : 'Bilinmiyor';
                $assetLabels[] = Str::limit($assetName, 20);
                $assetData[] = $count;
            }

            // Aylk Bakm Yk
            $monthlyCounts = $maintenancePlans->groupBy(fn($d) => $d->planned_start_date->format('Y-m'))
                ->map(fn($group) => $group->count()); // Buras zaten map iinde ama garanti olsun diye fn ile yazdm

            $currentMonth = $startDate->copy()->startOfMonth();
            while ($currentMonth->lte($endDate)) {
                $key = $currentMonth->format('Y-m');
                $monthlyLabels[] = $currentMonth->translatedFormat('M Y');
                $monthlyData[] = $monthlyCounts[$key] ?? 0;
                $currentMonth->addMonth();
            }
        }

        $chartData = [
            'type_dist' => ['labels' => $typeLabels, 'data' => $typeData],
            'top_assets' => ($viewLevel === 'full') ? ['labels' => $assetLabels, 'data' => $assetData, 'title' => ' En Sk Arzalananlar'] : null,
            'monthly_maintenance' => ($viewLevel === 'full') ? ['labels' => $monthlyLabels, 'data' => $monthlyData, 'title' => ' Aylk Bakm Yk'] : null,
        ];

        // 3. Filtreleme Verisi
        $maintenancePlansForFiltering = $maintenancePlans->map(fn($m) => [
            'type_id' => $m->maintenance_type_id,
            'asset_id' => $m->maintenance_asset_id,
            'status' => $m->status
        ])->values()->all();

        return new StatisticsData(
            chartData: $chartData,
            maintenancePlansForFiltering: $maintenancePlansForFiltering,
            maintenanceTypes: $maintenanceTypes,
            assets: $assets
        );
    }

    /**
     * ULATIRMA DEPARTMANI VERLER
     */
    public function getUlastirmaStatsData(Carbon $startDate, Carbon $endDate, string $viewLevel = 'basic', $unitId = null): StatisticsData
    {
        $user = Auth::user();

        // 1. Veriyi ek
        $assignments = VehicleAssignment::forUser($user)
            ->when($unitId, fn($q) => $q->where('business_unit_id', $unitId))
            ->with('vehicle')
            ->whereBetween('start_time', [$startDate, $endDate])
            ->get();

        // 2. Grafikleri Hazrla (Yardmc metoda tadk)
        $chartData = $this->prepareUlastirmaCharts($assignments, $startDate, $endDate, $viewLevel);

        // 3. Filtreleme Verilerini Hazrla
        $assignmentsForFiltering = $assignments->map(function ($a) {
            return [
                'vehicle_plate' => $a->vehicle->plate_number ?? 'Bilinmiyor',
                'driver_name' => $a->driver_name ?? 'Atanmad',
                'status' => $a->status
            ];
        })->values()->all();

        return new StatisticsData(
            chartData: $chartData,
            assignmentsForFiltering: $assignmentsForFiltering,
            vehiclesForFiltering: Vehicle::select('id', 'plate_number')->get()->toArray()
        );
    }

    // --- YARDIMCI METODLAR ---

    public function getHizmetPieChartData($startDate, $endDate, array $eventTypesList, $unitId = null): array
    {
        $user = Auth::user();

        // Filtre Eklendi
        $eventTypeCounts = Event::forUser($user)
            ->when($unitId, fn($q) => $q->where('business_unit_id', $unitId))
            ->select(['event_type', DB::raw('COUNT(*) as count')])
            ->whereNotNull('event_type')
            ->whereBetween('start_datetime', [$startDate, $endDate])
            ->groupBy('event_type')->pluck('count', 'event_type')
            ->mapWithKeys(function ($count, $key) use ($eventTypesList) {
                return [$eventTypesList[$key] ?? ucfirst($key) => $count];
            });

        // Filtre Eklendi
        $travelCount = Travel::forUser($user)
            ->when($unitId, fn($q) => $q->where('business_unit_id', $unitId))
            ->whereBetween('start_date', [$startDate, $endDate])->count();

        if ($travelCount > 0) {
            $eventTypeCounts['Seyahat Plan'] = $travelCount;
        }

        return [
            'labels' => $eventTypeCounts->keys()->all(),
            'data' => $eventTypeCounts->values()->all(),
            'title' => 'Etkinlik ve Seyahat Dalm'
        ];
    }

    public function getHizmetEventFilterData($startDate, $endDate, array $eventTypesList, $unitId = null): array
    {
        $user = Auth::user();

        // Filtre Eklendi
        $eventsForFiltering = Event::forUser($user)
            ->when($unitId, fn($q) => $q->where('business_unit_id', $unitId))
            ->whereBetween('start_datetime', [$startDate, $endDate])
            ->get(['event_type', 'location'])
            ->map(function ($event) use ($eventTypesList) {
                return [
                    'type_name' => $eventTypesList[$event->event_type] ?? ucfirst($event->event_type),
                    'type_slug' => $event->event_type,
                    'group' => 'Etkinlikler',
                ];
            });

        // Filtre Eklendi
        $travelsForFiltering = Travel::forUser($user)
            ->when($unitId, fn($q) => $q->where('business_unit_id', $unitId))
            ->whereBetween('start_date', [$startDate, $endDate])
            ->get(['name'])
            ->map(function ($travel) {
                return [
                    'type_name' => 'Seyahat Plan',
                    'type_slug' => 'travel',
                    'group' => 'Seyahatler',
                ];
            });

        return $eventsForFiltering->merge($travelsForFiltering)->all();
    }

    // Normalizasyon ve Statik Veriler (Deiiklik Yok)
    public function getHizmetVehicleFilterData(): array
    {
        return Vehicle::orderBy('plate_number')->get(['id', 'plate_number'])->all();
    }
    public function normalizeCargoContent($cargo)
    {
        if (empty($cargo))
            return 'Bilinmiyor';
        $normalized = mb_strtoupper(trim($cargo), 'UTF-8');
        $normalized = Str::ascii($normalized);
        $specialCases = ['LEVBA' => 'LEVHA', 'LEVBE' => 'LEVHA', 'PLASTIC' => 'PLASTK', 'KAPAK' => 'KAPAK', 'PLASTK' => 'PLASTK', 'LEVHA' => 'LEVHA'];
        return $specialCases[$normalized] ?? $normalized;
    }
    public function normalizeVehicleType($vehicle)
    {
        if (empty($vehicle))
            return 'Bilinmiyor';
        $normalized = mb_strtoupper(trim($vehicle), 'UTF-8');
        $vehicleMapping = ['TIR' => 'TIR', 'TR' => 'TIR', 'TRUCK' => 'TIR', 'GEMI' => 'GEMI', 'GEM' => 'GEMI', 'SHIP' => 'GEMI', 'KAMYON' => 'KAMYON', 'TRUCK_SMALL' => 'KAMYON', 'KAMYONET' => 'KAMYON'];
        return $vehicleMapping[$normalized] ?? $normalized;
    }
    public function getEventTypes()
    {
        return ['toplanti' => 'Toplant', 'egitim' => 'Eitim', 'fuar' => 'Fuar', 'gezi' => 'Gezi', 'musteri_ziyareti' => 'Mteri Ziyareti', 'misafir_karsilama' => 'Misafir Karlama', 'diger' => 'Dier'];
    }
    /**
     * Ulatrma grafikleri iin yardmc metod
     */
    private function prepareUlastirmaCharts($assignments, $startDate, $endDate, $viewLevel): array
    {
        // A. Grev Durum Dalm (Pie Chart)
        $statusCounts = $assignments->groupBy('status')->map(fn($group) => $group->count());

        $statusLabels = $statusCounts->keys()->map(fn($s) => match ($s) {
            'pending' => 'Bekleyen',
            'approved' => 'Onayl',
            'in_progress' => 'Sryor',
            'completed' => 'Tamamland',
            'cancelled' => 'ptal',
            default => ucfirst($s)
        });

        $chartData = [
            'status_pie' => ['labels' => $statusLabels->all(), 'data' => $statusCounts->values()->all(), 'title' => 'Grev Durumlar'],
        ];

        // B. Stratejik Grafikler
        if ($viewLevel === 'full') {
            // En ok Kullanlan Aralar
            $vehicleUsage = $assignments->groupBy('vehicle_id')
                ->map(fn($group) => $group->count())
                ->sortDesc()
                ->take(5);

            $vehicleLabels = [];
            $vehicleData = [];

            foreach ($vehicleUsage as $vehId => $count) {
                $assign = $assignments->firstWhere('vehicle_id', $vehId);
                $vehicleLabels[] = $assign->vehicle->plate_number ?? 'Bilinmiyor';
                $vehicleData[] = $count;
            }

            $chartData['top_vehicles'] = ['labels' => $vehicleLabels, 'data' => $vehicleData, 'title' => ' En ok Grev Yapan Aralar'];

            // Aylk Grev Younluu
            $monthlyCounts = $assignments->groupBy(fn($d) => $d->start_time->format('Y-m'))
                ->map(fn($group) => $group->count());

            $monthlyLabels = [];
            $monthlyData = [];
            $currentMonth = $startDate->copy()->startOfMonth();

            while ($currentMonth->lte($endDate)) {
                $key = $currentMonth->format('Y-m');
                $monthlyLabels[] = $currentMonth->translatedFormat('M Y');
                $monthlyData[] = $monthlyCounts[$key] ?? 0;
                $currentMonth->addMonth();
            }
            $chartData['monthly_trend'] = ['labels' => $monthlyLabels, 'data' => $monthlyData, 'title' => ' Aylk Grev Grafii'];
        } else {
            $chartData['top_vehicles'] = null;
            $chartData['monthly_trend'] = null;
        }

        return $chartData;
    }
    /**
     * Lojistik grafikleri iin hesaplama yapan yardmc metod
     */
    private function prepareLojistikCharts($shipmentQuery, string $viewLevel): array
    {
        $chartData = [];

        // 1. Saatlik Younluk
        $hourlyLabels = array_map(fn($h) => str_pad($h, 2, '0', STR_PAD_LEFT) . ':00', range(0, 23));
        $hourlyCounts = array_fill_keys(range(0, 23), 0);
        $hourlyDbData = (clone $shipmentQuery)->select([DB::raw('HOUR(cikis_tarihi) as hour'), DB::raw('COUNT(*) as count')])->groupBy('hour')->pluck('count', 'hour');

        foreach ($hourlyDbData as $hour => $count) {
            if (isset($hourlyCounts[$hour]))
                $hourlyCounts[$hour] = $count;
        }
        $chartData['hourly'] = ['labels' => $hourlyLabels, 'data' => array_values($hourlyCounts), 'title' => ' Saatlik Sevkiyat Younluu'];

        // 2. Haftalk Younluk
        $dayLabels = ['Pzt', 'Sal', 'ar', 'Per', 'Cum', 'Cmt', 'Paz'];
        $dayCounts = array_fill(0, 7, 0);
        $dayMap = [2 => 0, 3 => 1, 4 => 2, 5 => 3, 6 => 4, 7 => 5, 1 => 6];
        $dailyDbData = (clone $shipmentQuery)->select([DB::raw('DAYOFWEEK(cikis_tarihi) as day_of_week'), DB::raw('COUNT(*) as count')])->groupBy('day_of_week')->pluck('count', 'day_of_week');

        foreach ($dailyDbData as $dayNum => $count) {
            if (isset($dayMap[$dayNum]))
                $dayCounts[$dayMap[$dayNum]] = $count;
        }
        $chartData['daily'] = ['labels' => $dayLabels, 'data' => $dayCounts, 'title' => ' Haftalk Sevkiyat Younluu'];

        // 3. Stratejik Veriler (Full View)
        if ($viewLevel === 'full') {
            // Aylk
            $monthLabels = ['Oca', 'ub', 'Mar', 'Nis', 'May', 'Haz', 'Tem', 'Au', 'Eyl', 'Eki', 'Kas', 'Ara'];
            $monthCounts = array_fill(0, 12, 0);
            $monthlyDbData = (clone $shipmentQuery)->select([DB::raw('MONTH(cikis_tarihi) as month'), DB::raw('COUNT(*) as count')])->groupBy('month')->pluck('count', 'month');

            foreach ($monthlyDbData as $monthNum => $count) {
                if ($monthNum >= 1 && $monthNum <= 12)
                    $monthCounts[$monthNum - 1] = $count;
            }
            $chartData['monthly'] = ['labels' => $monthLabels, 'data' => $monthCounts, 'title' => 'Aylk Sevkiyat Dalm'];

            // Yllk
            $yearlyDbData = (clone $shipmentQuery)->select([DB::raw('YEAR(cikis_tarihi) as year'), DB::raw('COUNT(*) as count')])->groupBy('year')->orderBy('year')->pluck('count', 'year');
            $chartData['yearly'] = ['labels' => $yearlyDbData->keys()->map(fn($y) => (string) $y)->all(), 'data' => $yearlyDbData->values()->all(), 'title' => 'Yllk Toplam Sevkiyat'];
        } else {
            $chartData['monthly'] = null;
            $chartData['yearly'] = null;
        }

        // 4. Ara Tipi Pasta Grafii
        $vehicleTypeData = (clone $shipmentQuery)->select(['arac_tipi', DB::raw('COUNT(*) as count')])->whereNotNull('arac_tipi')->groupBy('arac_tipi')->get()
            ->groupBy(fn($item) => $this->normalizeVehicleType($item->arac_tipi))
            ->map(fn($group) => $group->sum('count'));

        $chartData['pie'] = ['labels' => $vehicleTypeData->keys()->map(fn($tip) => $tip ?? 'Bilinmiyor')->all(), 'data' => $vehicleTypeData->values()->all(), 'title' => 'Ara Tipi Dalm'];

        return $chartData;
    }
}

----------------------------------------
DOSYA YOLU: app\Traits\HasBusinessUnit.php
----------------------------------------

<?php

namespace App\Traits;

use App\Models\BusinessUnit;
use Illuminate\Database\Eloquent\Builder;
use Illuminate\Database\Eloquent\Model;
use Illuminate\Support\Facades\Session;
use Illuminate\Support\Facades\Auth;

trait HasBusinessUnit
{
    /**
     * Model "boot" edildiinde otomatik alacak metod.
     * sim standard: boot[TraitAdi]
     */
    public static function bootHasBusinessUnit()
    {
        // 1. OTOMATK FLTRELEME (READ)
        static::addGlobalScope('business_unit_scope', function (Builder $builder) {

            // A) NCE SESSION KONTROL (En Yksek ncelik)
            // Admin bile olsa, eer yukardan "Levha" fabrikas seildiyse sadece onu grmeli.
            if (Session::has('active_unit_id')) {
                $builder->where('business_unit_id', Session::get('active_unit_id'));
                return; // Filtre uyguland, ilem tamam.
            }

            // B) SESSION YOKSA -> ROL KONTROL
            $user = Auth::user();
            if (!$user)
                return;

            // Admin ise ve birim semediyse her eyi grsn
            if ($user->hasRole(['admin', 'super-admin'])) {
                return;
            }

            // C) ZEL YETK KONTROL (Modele has yetki varsa)
            // rn: Event modelinde 'manage_all_events' yetkisi tanmlysa
            if (isset(static::$globalPermission) && $user->can(static::$globalPermission)) {
                return;
            }

            // D) STANDART KULLANICI KISITLAMASI
            // Hibir seim yoksa sadece yetkili olduu birimleri grsn
            $authorizedUnitIds = $user->businessUnits->pluck('id');

            if ($authorizedUnitIds->isEmpty()) {
                // Yetkisi yoksa, imkansz bir sorgu (0=1) ile bo liste dndr
                $builder->whereRaw('1 = 0');
            } else {
                $builder->whereIn('business_unit_id', $authorizedUnitIds);
            }
        });

        // 2. OTOMATK KAYIT (CREATE)
        // Veri eklerken seili birimi otomatik kaydet
        static::creating(function (Model $model) {
            if (Session::has('active_unit_id')) {
                $model->business_unit_id = Session::get('active_unit_id');
            }
        });
    }

    /**
     * liki Tanm
     */
    public function businessUnit()
    {
        return $this->belongsTo(BusinessUnit::class);
    }
}

----------------------------------------
DOSYA YOLU: app\Traits\HasDynamicAttributes.php
----------------------------------------

<?php

namespace App\Traits;

use App\Models\CustomFieldDefinition;
use Illuminate\Support\Facades\Auth;
use Illuminate\Support\Facades\Session;
use Illuminate\Validation\Rule;

trait HasDynamicAttributes
{

    // Bu model iin tanml dinamik alanlar getir
    public static function getCustomFields()
    {
        // 1. Aktif  Birimini Algla (Session ncelikli, yoksa User)
        $activeBusinessUnitId = Session::get('active_unit_id')
            ?? (Auth::check() ? Auth::user()->business_unit_id : null);

        // 2. Sorguyu Olutur
        return CustomFieldDefinition::where('model_scope', self::class)
            ->where('is_active', true)
            // [KRTK GNCELLEME]: Sadece genel veya bu birime zel alanlar getir
            ->where(function ($query) use ($activeBusinessUnitId) {
                $query->whereNull('business_unit_id'); // Tm birimler iin olanlar
    
                if ($activeBusinessUnitId) {
                    $query->orWhere('business_unit_id', $activeBusinessUnitId); // Sadece bu birim iin olanlar
                }
            })
            ->orderBy('order')
            ->get();
    }

    // Validasyon kurallarn dinamik ret
    public static function getDynamicValidationRules()
    {
        $fields = self::getCustomFields();
        $rules = [];

        foreach ($fields as $field) {
            // Formdan gelen veri 'extras.alan_adi' eklinde olacak
            $ruleKey = 'extras.' . $field->key;

            // 1. Temel Zorunluluk Kural
            $fieldRules = $field->is_required ? ['required'] : ['nullable'];

            // 2. Tip Bazl Kurallar
            switch ($field->type) {
                // METN TPLER
                case 'text':            // Ksa metin
                case 'string':
                    $fieldRules[] = 'string';
                    $fieldRules[] = 'max:255';
                    break;

                case 'textarea':        // Uzun metin
                case 'editor':          // Rich text editor
                    $fieldRules[] = 'string';
                    $fieldRules[] = 'max:10000'; // Makul bir st snr
                    break;

                case 'password':        // Olur da ifreli alan gerekirse
                    $fieldRules[] = 'string';
                    $fieldRules[] = 'min:6';
                    break;

                // SAYISAL TPLER
                case 'number':          // Hem tam say hem ondalk olabilir
                case 'decimal':
                case 'money':           // Para birimi
                    $fieldRules[] = 'numeric';
                    break;

                case 'integer':         // Sadece tam say (rn: Adet)
                    $fieldRules[] = 'integer';
                    break;

                // LETM & WEB
                case 'email':
                    $fieldRules[] = 'email';
                    $fieldRules[] = 'max:255';
                    break;

                case 'url':             // Web sitesi linki
                case 'website':
                    $fieldRules[] = 'url';
                    $fieldRules[] = 'max:255';
                    break;

                case 'phone':           // Telefon (Regex opsiyonel, genelde string tutulur)
                case 'tel':
                    $fieldRules[] = 'string';
                    $fieldRules[] = 'max:20';
                    // stersen regex: $fieldRules[] = 'regex:/^([0-9\s\-\+\(\)]*)$/';
                    break;

                // TARH & SAAT
                case 'date':
                    $fieldRules[] = 'date';
                    break;

                case 'datetime':
                case 'datetime-local':
                    $fieldRules[] = 'date'; // Laravel datetime' date olarak kabul eder
                    break;

                case 'time':
                    $fieldRules[] = 'date_format:H:i'; // Saat format (rn: 14:30)
                    break;

                // SEM KUTULARI (Kritik Ksm)
                case 'select':          // Tekli seim
                case 'radio':           // Radio buton grubu
                    // Adminin tanmlad seenekler (options) dnda bir veri gelemez!
                    if (!empty($field->options) && is_array($field->options)) {
                        $fieldRules[] = Rule::in($field->options);
                    }
                    break;

                case 'multi_select':    // oklu seim (Array dner)
                case 'checkbox_group':
                    $fieldRules[] = 'array';
                    // Array iindeki her bir eleman, tanml options iinde olmal
                    if (!empty($field->options) && is_array($field->options)) {
                        // extras.key.* kural ekliyoruz
                        $rules[$ruleKey . '.*'] = Rule::in($field->options);
                    }
                    break;

                case 'boolean':         // Tekli Checkbox (Onay kutusu)
                case 'checkbox':
                    $fieldRules[] = 'boolean'; // true, false, 1, 0, "1", "0" kabul eder
                    break;

                // DOSYA (Opsiyonel - JSON iinde dosya yolu tutulacaksa)
                case 'file':
                    // Not: Dosya ykleme mant Controller'da ayrca ele alnmal,
                    // buradaki validasyon sadece dosya tipi kontrol iindir.
                    $fieldRules[] = 'file';
                    $fieldRules[] = 'max:10240'; // 10MB
                    break;
            }

            // Ana kural setini diziye ata
            $rules[$ruleKey] = $fieldRules;
        }

        return $rules;
    }
}

----------------------------------------
DOSYA YOLU: app\Traits\HasKanban.php
----------------------------------------

<?php

namespace App\Traits;

use App\Models\KanbanCard;
use App\Models\KanbanColumn;

trait HasKanban
{
    /**
     * Polimorfik liki: Bu iin (MaintenancePlan, Shipment vb.) Kanban kart.
     */
    public function kanbanCard()
    {
        return $this->morphOne(KanbanCard::class, 'model');
    }

    /**
     * Yardmc Method: in u anki statsn (stun adn) metin olarak dner.
     * Kullanm: $plan->current_status
     */
    public function getCurrentStatusAttribute()
    {
        return $this->kanbanCard?->column?->title ?? 'Tanmsz'; // Null ise 'Tanmsz' yazar
    }

    /**
     * Yardmc Method: Bu ii belirli bir panonun varsaylan stununa atar.
     * (Yeni kayt oluturulurken kullanlr)
     */
    public function assignToDefaultColumn($boardId)
    {
        $defaultColumn = KanbanColumn::where('board_id', $boardId)
            ->where('is_default', true)
            ->first();

        if ($defaultColumn) {
            $this->kanbanCard()->create([
                'column_id' => $defaultColumn->id,
                'sort_order' => 9999, // En sona ekle
            ]);
        }
    }
}

----------------------------------------
DOSYA YOLU: app\Traits\Loggable.php
----------------------------------------

<?php

namespace App\Traits;

use Spatie\Activitylog\LogOptions;
use Spatie\Activitylog\Traits\LogsActivity;
use Illuminate\Support\Str;

trait Loggable
{
    // Spatie'nin ana Trait'ini buraya dahil ediyoruz
    use LogsActivity;

    // --- BLM 1: v3/v4 STL LOG ADI AYARLAMASI ---

    /**
     * Log adn tutacak statik zellik (v4.7.3'te Gerekli)
     */
    protected static $logName = 'default';

    /**
     * Bu 'boot' metodu, log adn model adndan otomatik olarak atar.
     */
    public static function bootLoggable()
    {
        // Model adn al (rn: "CustomerVisit" -> "Customer Visit")
        static::$logName = Str::of(class_basename(new static()))->snake(' ')->title();
    }

    // --- BLM 2: v4/v5 STL DER AYARLAR ---

    /**
     * Bu metod, v4.7.3'te ZORUNLUDUR.
     * Logun 'ieriini' ayarlar.
     */
    public function getActivitylogOptions(): LogOptions
    {
        // Model adn al (rn: "CustomerVisit" -> "customer visit")
        $modelNameLower = Str::of(class_basename($this))->snake(' ')->lower();

        return LogOptions::defaults()

            // DKKAT: ->logName() METODU BURADAN KALDIRILDI! Hata buydu.

            // Tm alanlar logla
            ->logAll()

            // Bu alanlar deiirse log atma (gereksiz kalabalk yapmasn)
            ->dontLogIfAttributesChangedOnly([
                'remember_token',
                'created_at',
                'updated_at',
                'deleted_at'
            ])

            // 'password' alann gizle
            ->logOnlyDirty()

            // Deiiklik yoksa bo log atma
            ->dontSubmitEmptyLogs()

            // Log mesajn ayarla
            ->setDescriptionForEvent(function (string $eventName) use ($modelNameLower) {
                if ($eventName === 'created') {
                    return "yeni bir {$modelNameLower} kayd oluturdu.";
                }
                if ($eventName === 'updated') {
                    return "bir {$modelNameLower} kaydn gncelledi.";
                }
                if ($eventName === 'deleted') {
                    return "bir {$modelNameLower} kaydn sildi.";
                }
                return "bir {$modelNameLower} kayd ile {$eventName} ilemi yapt.";
            });
    }
}


----------------------------------------
DOSYA YOLU: app\View\Components\DynamicFields.php
----------------------------------------

<?php

namespace App\View\Components;

use Illuminate\View\Component;

class DynamicFields extends Component
{
    /**
     * Create a new component instance.
     *
     * @return void
     */
    public function __construct()
    {
        //
    }

    /**
     * Get the view / contents that represent the component.
     *
     * @return \Illuminate\Contracts\View\View|\Closure|string
     */
    public function render()
    {
        return view('components.dynamic-fields');
    }
}


----------------------------------------
DOSYA YOLU: config\activitylog.php
----------------------------------------

<?php

return [

    /*
     * If set to false, no activities will be saved to the database.
     */
    'enabled' => env('ACTIVITY_LOGGER_ENABLED', true),

    /*
     * When the clean-command is executed, all recording activities older than
     * the number of days specified here will be deleted.
     */
    'delete_records_older_than_days' => 365,

    /*
     * If no log name is passed to the activity() helper
     * we use this default log name.
     */
    'default_log_name' => 'default',

    /*
     * You can specify an auth driver here that gets user models.
     * If this is null we'll use the current Laravel auth driver.
     */
    'default_auth_driver' => null,

    /*
     * If set to true, the subject returns soft deleted models.
     */
    'subject_returns_soft_deleted_models' => false,

    /*
     * This model will be used to log activity.
     * It should implement the Spatie\Activitylog\Contracts\Activity interface
     * and extend Illuminate\Database\Eloquent\Model.
     */
    'activity_model' => \Spatie\Activitylog\Models\Activity::class,

    /*
     * This is the name of the table that will be created by the migration and
     * used by the Activity model shipped with this package.
     */
    'table_name' => 'activity_log',

    /*
     * This is the database connection that will be used by the migration and
     * the Activity model shipped with this package. In case it's not set
     * Laravel's database.default will be used instead.
     */
    'database_connection' => env('ACTIVITY_LOGGER_DB_CONNECTION'),
];


----------------------------------------
DOSYA YOLU: config\app.php
----------------------------------------

<?php

use Illuminate\Support\Facades\Facade;

return [

    /*
    |--------------------------------------------------------------------------
    | Application Name
    |--------------------------------------------------------------------------
    |
    | This value is the name of your application. This value is used when the
    | framework needs to place the application's name in a notification or
    | any other location as required by the application or its packages.
    |
    */

    'name' => env('APP_NAME', 'Laravel'),

    /*
    |--------------------------------------------------------------------------
    | Application Environment
    |--------------------------------------------------------------------------
    |
    | This value determines the "environment" your application is currently
    | running in. This may determine how you prefer to configure various
    | services the application utilizes. Set this in your ".env" file.
    |
    */

    'env' => env('APP_ENV', 'production'),

    /*
    |--------------------------------------------------------------------------
    | Application Debug Mode
    |--------------------------------------------------------------------------
    |
    | When your application is in debug mode, detailed error messages with
    | stack traces will be shown on every error that occurs within your
    | application. If disabled, a simple generic error page is shown.
    |
    */

    'debug' => (bool) env('APP_DEBUG', false),

    /*
    |--------------------------------------------------------------------------
    | Application URL
    |--------------------------------------------------------------------------
    |
    | This URL is used by the console to properly generate URLs when using
    | the Artisan command line tool. You should set this to the root of
    | your application so that it is used when running Artisan tasks.
    |
    */

    'url' => env('APP_URL', 'http://localhost'),

    'asset_url' => env('ASSET_URL'),

    /*
    |--------------------------------------------------------------------------
    | Application Timezone
    |--------------------------------------------------------------------------
    |
    | Here you may specify the default timezone for your application, which
    | will be used by the PHP date and date-time functions. We have gone
    | ahead and set this to a sensible default for you out of the box.
    |
    */

    'timezone' => 'Europe/Istanbul',

    /*
    |--------------------------------------------------------------------------
    | Application Locale Configuration
    |--------------------------------------------------------------------------
    |
    | The application locale determines the default locale that will be used
    | by the translation service provider. You are free to set this value
    | to any of the locales which will be supported by the application.
    |
    */

    'locale' => 'tr',

    /*
    |--------------------------------------------------------------------------
    | Application Fallback Locale
    |--------------------------------------------------------------------------
    |
    | The fallback locale determines the locale to use when the current one
    | is not available. You may change the value to correspond to any of
    | the language folders that are provided through your application.
    |
    */

    'fallback_locale' => 'en',

    /*
    |--------------------------------------------------------------------------
    | Faker Locale
    |--------------------------------------------------------------------------
    |
    | This locale will be used by the Faker PHP library when generating fake
    | data for your database seeds. For example, this will be used to get
    | localized telephone numbers, street address information and more.
    |
    */

    'faker_locale' => 'tr_TR',

    /*
    |--------------------------------------------------------------------------
    | Encryption Key
    |--------------------------------------------------------------------------
    |
    | This key is used by the Illuminate encrypter service and should be set
    | to a random, 32 character string, otherwise these encrypted strings
    | will not be safe. Please do this before deploying an application!
    |
    */

    'key' => env('APP_KEY'),

    'cipher' => 'AES-256-CBC',

    /*
    |--------------------------------------------------------------------------
    | Maintenance Mode Driver
    |--------------------------------------------------------------------------
    |
    | These configuration options determine the driver used to determine and
    | manage Laravel's "maintenance mode" status. The "cache" driver will
    | allow maintenance mode to be controlled across multiple machines.
    |
    | Supported drivers: "file", "cache"
    |
    */

    'maintenance' => [
        'driver' => 'file',
        // 'store'  => 'redis',
    ],

    /*
    |--------------------------------------------------------------------------
    | Autoloaded Service Providers
    |--------------------------------------------------------------------------
    |
    | The service providers listed here will be automatically loaded on the
    | request to your application. Feel free to add your own services to
    | this array to grant expanded functionality to your applications.
    |
    */

    'providers' => [

        /*
         * Laravel Framework Service Providers...
         */
        Illuminate\Auth\AuthServiceProvider::class,
        Illuminate\Broadcasting\BroadcastServiceProvider::class,
        Illuminate\Bus\BusServiceProvider::class,
        Illuminate\Cache\CacheServiceProvider::class,
        Illuminate\Foundation\Providers\ConsoleSupportServiceProvider::class,
        Illuminate\Cookie\CookieServiceProvider::class,
        Illuminate\Database\DatabaseServiceProvider::class,
        Illuminate\Encryption\EncryptionServiceProvider::class,
        Illuminate\Filesystem\FilesystemServiceProvider::class,
        Illuminate\Foundation\Providers\FoundationServiceProvider::class,
        Illuminate\Hashing\HashServiceProvider::class,
        Illuminate\Mail\MailServiceProvider::class,
        Illuminate\Notifications\NotificationServiceProvider::class,
        Illuminate\Pagination\PaginationServiceProvider::class,
        Illuminate\Pipeline\PipelineServiceProvider::class,
        Illuminate\Queue\QueueServiceProvider::class,
        Illuminate\Redis\RedisServiceProvider::class,
        Illuminate\Auth\Passwords\PasswordResetServiceProvider::class,
        Illuminate\Session\SessionServiceProvider::class,
        Illuminate\Translation\TranslationServiceProvider::class,
        Illuminate\Validation\ValidationServiceProvider::class,
        Illuminate\View\ViewServiceProvider::class,
        //Biscolab\ReCaptcha\ReCaptchaServiceProvider::class,

        /*
         * Package Service Providers...
         */

        /*
         * Application Service Providers...
         */
        App\Providers\AppServiceProvider::class,
        App\Providers\AuthServiceProvider::class,
        // App\Providers\BroadcastServiceProvider::class,
        App\Providers\EventServiceProvider::class,
        App\Providers\RouteServiceProvider::class



    ],

    /*
    |--------------------------------------------------------------------------
    | Class Aliases
    |--------------------------------------------------------------------------
    |
    | This array of class aliases will be registered when this application
    | is started. However, feel free to register as many as you wish as
    | the aliases are "lazy" loaded so they don't hinder performance.
    |
    */

    'aliases' => Facade::defaultAliases()->merge([
        // 'ExampleClass' => App\Example\ExampleClass::class,
        'View' => Illuminate\Support\Facades\View::class,
        'ReCaptcha' => Biscolab\ReCaptcha\Facades\ReCaptcha::class,

    ])->toArray(),

];


----------------------------------------
DOSYA YOLU: config\auth.php
----------------------------------------

<?php

return [

    /*
    |--------------------------------------------------------------------------
    | Authentication Defaults
    |--------------------------------------------------------------------------
    |
    | This option controls the default authentication "guard" and password
    | reset options for your application. You may change these defaults
    | as required, but they're a perfect start for most applications.
    |
    */

    'defaults' => [
        'guard' => 'web',
        'passwords' => 'users',
    ],

    /*
    |--------------------------------------------------------------------------
    | Authentication Guards
    |--------------------------------------------------------------------------
    |
    | Next, you may define every authentication guard for your application.
    | Of course, a great default configuration has been defined for you
    | here which uses session storage and the Eloquent user provider.
    |
    | All authentication drivers have a user provider. This defines how the
    | users are actually retrieved out of your database or other storage
    | mechanisms used by this application to persist your user's data.
    |
    | Supported: "session"
    |
    */

    'guards' => [
        'web' => [
            'driver' => 'session',
            'provider' => 'users',
        ],
    ],

    /*
    |--------------------------------------------------------------------------
    | User Providers
    |--------------------------------------------------------------------------
    |
    | All authentication drivers have a user provider. This defines how the
    | users are actually retrieved out of your database or other storage
    | mechanisms used by this application to persist your user's data.
    |
    | If you have multiple user tables or models you may configure multiple
    | sources which represent each model / table. These sources may then
    | be assigned to any extra authentication guards you have defined.
    |
    | Supported: "database", "eloquent"
    |
    */

    'providers' => [
        'users' => [
            'driver' => 'eloquent',
            'model' => App\Models\User::class
        ],

        // 'users' => [
        //     'driver' => 'database',
        //     'table' => 'users',
        // ],
    ],

    /*
    |--------------------------------------------------------------------------
    | Resetting Passwords
    |--------------------------------------------------------------------------
    |
    | You may specify multiple password reset configurations if you have more
    | than one user table or model in the application and you want to have
    | separate password reset settings based on the specific user types.
    |
    | The expire time is the number of minutes that each reset token will be
    | considered valid. This security feature keeps tokens short-lived so
    | they have less time to be guessed. You may change this as needed.
    |
    */

    'passwords' => [
        'users' => [
            'provider' => 'users',
            'table' => 'password_resets',
            'expire' => 60,
            'throttle' => 60,
        ],
    ],

    /*
    |--------------------------------------------------------------------------
    | Password Confirmation Timeout
    |--------------------------------------------------------------------------
    |
    | Here you may define the amount of seconds before a password confirmation
    | times out and the user is prompted to re-enter their password via the
    | confirmation screen. By default, the timeout lasts for three hours.
    |
    */

    'password_timeout' => 10800,

];


----------------------------------------
DOSYA YOLU: config\broadcasting.php
----------------------------------------

<?php

return [

    /*
    |--------------------------------------------------------------------------
    | Default Broadcaster
    |--------------------------------------------------------------------------
    |
    | This option controls the default broadcaster that will be used by the
    | framework when an event needs to be broadcast. You may set this to
    | any of the connections defined in the "connections" array below.
    |
    | Supported: "pusher", "ably", "redis", "log", "null"
    |
    */

    'default' => env('BROADCAST_DRIVER', 'null'),

    /*
    |--------------------------------------------------------------------------
    | Broadcast Connections
    |--------------------------------------------------------------------------
    |
    | Here you may define all of the broadcast connections that will be used
    | to broadcast events to other systems or over websockets. Samples of
    | each available type of connection are provided inside this array.
    |
    */

    'connections' => [

        'pusher' => [
            'driver' => 'pusher',
            'key' => env('PUSHER_APP_KEY'),
            'secret' => env('PUSHER_APP_SECRET'),
            'app_id' => env('PUSHER_APP_ID'),
            'options' => [
                'host' => env('PUSHER_HOST') ?: 'api-'.env('PUSHER_APP_CLUSTER', 'mt1').'.pusher.com',
                'port' => env('PUSHER_PORT', 443),
                'scheme' => env('PUSHER_SCHEME', 'https'),
                'encrypted' => true,
                'useTLS' => env('PUSHER_SCHEME', 'https') === 'https',
            ],
            'client_options' => [
                // Guzzle client options: https://docs.guzzlephp.org/en/stable/request-options.html
            ],
        ],

        'ably' => [
            'driver' => 'ably',
            'key' => env('ABLY_KEY'),
        ],

        'redis' => [
            'driver' => 'redis',
            'connection' => 'default',
        ],

        'log' => [
            'driver' => 'log',
        ],

        'null' => [
            'driver' => 'null',
        ],

    ],

];


----------------------------------------
DOSYA YOLU: config\cache.php
----------------------------------------

<?php

use Illuminate\Support\Str;

return [

    /*
    |--------------------------------------------------------------------------
    | Default Cache Store
    |--------------------------------------------------------------------------
    |
    | This option controls the default cache connection that gets used while
    | using this caching library. This connection is used when another is
    | not explicitly specified when executing a given caching function.
    |
    */

    'default' => 'file',

    /*
    |--------------------------------------------------------------------------
    | Cache Stores
    |--------------------------------------------------------------------------
    |
    | Here you may define all of the cache "stores" for your application as
    | well as their drivers. You may even define multiple stores for the
    | same cache driver to group types of items stored in your caches.
    |
    | Supported drivers: "apc", "array", "database", "file",
    |         "memcached", "redis", "dynamodb", "octane", "null"
    |
    */

    'stores' => [

        'apc' => [
            'driver' => 'apc',
        ],

        'array' => [
            'driver' => 'array',
            'serialize' => false,
        ],

        'database' => [
            'driver' => 'database',
            'table' => 'cache',
            'connection' => null,
            'lock_connection' => null,
        ],

        'file' => [
            'driver' => 'file',
            'path' => storage_path('framework/cache/data'),
        ],

        'memcached' => [
            'driver' => 'memcached',
            'persistent_id' => env('MEMCACHED_PERSISTENT_ID'),
            'sasl' => [
                env('MEMCACHED_USERNAME'),
                env('MEMCACHED_PASSWORD'),
            ],
            'options' => [
                // Memcached::OPT_CONNECT_TIMEOUT => 2000,
            ],
            'servers' => [
                [
                    'host' => env('MEMCACHED_HOST', '127.0.0.1'),
                    'port' => env('MEMCACHED_PORT', 11211),
                    'weight' => 100,
                ],
            ],
        ],

        'redis' => [
            'driver' => 'redis',
            'connection' => 'cache',
            'lock_connection' => 'default',
        ],

        'dynamodb' => [
            'driver' => 'dynamodb',
            'key' => env('AWS_ACCESS_KEY_ID'),
            'secret' => env('AWS_SECRET_ACCESS_KEY'),
            'region' => env('AWS_DEFAULT_REGION', 'us-east-1'),
            'table' => env('DYNAMODB_CACHE_TABLE', 'cache'),
            'endpoint' => env('DYNAMODB_ENDPOINT'),
        ],

        'octane' => [
            'driver' => 'octane',
        ],

    ],

    /*
    |--------------------------------------------------------------------------
    | Cache Key Prefix
    |--------------------------------------------------------------------------
    |
    | When utilizing the APC, database, memcached, Redis, or DynamoDB cache
    | stores there might be other applications using the same cache. For
    | that reason, you may prefix every cache key to avoid collisions.
    |
    */

    'prefix' => env('CACHE_PREFIX', Str::slug(env('APP_NAME', 'laravel'), '_') . '_cache_'),

];


----------------------------------------
DOSYA YOLU: config\cors.php
----------------------------------------

<?php

return [

    /*
    |--------------------------------------------------------------------------
    | Cross-Origin Resource Sharing (CORS) Configuration
    |--------------------------------------------------------------------------
    |
    | Here you may configure your settings for cross-origin resource sharing
    | or "CORS". This determines what cross-origin operations may execute
    | in web browsers. You are free to adjust these settings as needed.
    |
    | To learn more: https://developer.mozilla.org/en-US/docs/Web/HTTP/CORS
    |
    */

    'paths' => ['api/*', 'sanctum/csrf-cookie'],

    'allowed_methods' => ['*'],

    'allowed_origins' => ['*'],

    'allowed_origins_patterns' => [],

    'allowed_headers' => ['*'],

    'exposed_headers' => [],

    'max_age' => 0,

    'supports_credentials' => false,

];


----------------------------------------
DOSYA YOLU: config\database.php
----------------------------------------

<?php

use Illuminate\Support\Str;

return [

    /*
    |--------------------------------------------------------------------------
    | Default Database Connection Name
    |--------------------------------------------------------------------------
    |
    | Here you may specify which of the database connections below you wish
    | to use as your default connection for all database work. Of course
    | you may use many connections at once using the Database library.
    |
    */

    'default' => env('DB_CONNECTION', 'mysql'),

    /*
    |--------------------------------------------------------------------------
    | Database Connections
    |--------------------------------------------------------------------------
    |
    | Here are each of the database connections setup for your application.
    | Of course, examples of configuring each database platform that is
    | supported by Laravel is shown below to make development simple.
    |
    |
    | All database work in Laravel is done through the PHP PDO facilities
    | so make sure you have the driver for your particular database of
    | choice installed on your machine before you begin development.
    |
    */

    'connections' => [

        'sqlite' => [
            'driver' => 'sqlite',
            'url' => env('DATABASE_URL'),
            'database' => env('DB_DATABASE', database_path('database.sqlite')),
            'prefix' => '',
            'foreign_key_constraints' => env('DB_FOREIGN_KEYS', true),
        ],

        'mysql' => [
            'driver' => 'mysql',
            'url' => env('DATABASE_URL'),
            'host' => env('DB_HOST', '127.0.0.1'),
            'port' => env('DB_PORT', '3306'),
            'database' => env('DB_DATABASE', 'forge'),
            'username' => env('DB_USERNAME', 'forge'),
            'password' => env('DB_PASSWORD', ''),
            'unix_socket' => env('DB_SOCKET', ''),
            'charset' => 'utf8mb4',
            'collation' => 'utf8mb4_unicode_ci',
            'prefix' => '',
            'prefix_indexes' => true,
            'strict' => true,
            'engine' => null,
            'options' => extension_loaded('pdo_mysql') ? array_filter([
                PDO::MYSQL_ATTR_SSL_CA => env('MYSQL_ATTR_SSL_CA'),
            ]) : [],
        ],

        'pgsql' => [
            'driver' => 'pgsql',
            'url' => env('DATABASE_URL'),
            'host' => env('DB_HOST', '127.0.0.1'),
            'port' => env('DB_PORT', '5432'),
            'database' => env('DB_DATABASE', 'forge'),
            'username' => env('DB_USERNAME', 'forge'),
            'password' => env('DB_PASSWORD', ''),
            'charset' => 'utf8',
            'prefix' => '',
            'prefix_indexes' => true,
            'search_path' => 'public',
            'sslmode' => 'prefer',
        ],

        'sqlsrv' => [
            'driver' => 'sqlsrv',
            'url' => env('DATABASE_URL'),
            'host' => env('DB_HOST', 'localhost'),
            'port' => env('DB_PORT', '1433'),
            'database' => env('DB_DATABASE', 'forge'),
            'username' => env('DB_USERNAME', 'forge'),
            'password' => env('DB_PASSWORD', ''),
            'charset' => 'utf8',
            'prefix' => '',
            'prefix_indexes' => true,
            // 'encrypt' => env('DB_ENCRYPT', 'yes'),
            // 'trust_server_certificate' => env('DB_TRUST_SERVER_CERTIFICATE', 'false'),
        ],

    ],

    /*
    |--------------------------------------------------------------------------
    | Migration Repository Table
    |--------------------------------------------------------------------------
    |
    | This table keeps track of all the migrations that have already run for
    | your application. Using this information, we can determine which of
    | the migrations on disk haven't actually been run in the database.
    |
    */

    'migrations' => 'migrations',

    /*
    |--------------------------------------------------------------------------
    | Redis Databases
    |--------------------------------------------------------------------------
    |
    | Redis is an open source, fast, and advanced key-value store that also
    | provides a richer body of commands than a typical key-value system
    | such as APC or Memcached. Laravel makes it easy to dig right in.
    |
    */

    'redis' => [

        'client' => env('REDIS_CLIENT', 'phpredis'),

        'options' => [
            'cluster' => env('REDIS_CLUSTER', 'redis'),
            'prefix' => env('REDIS_PREFIX', Str::slug(env('APP_NAME', 'laravel'), '_').'_database_'),
        ],

        'default' => [
            'url' => env('REDIS_URL'),
            'host' => env('REDIS_HOST', '127.0.0.1'),
            'username' => env('REDIS_USERNAME'),
            'password' => env('REDIS_PASSWORD'),
            'port' => env('REDIS_PORT', '6379'),
            'database' => env('REDIS_DB', '0'),
        ],

        'cache' => [
            'url' => env('REDIS_URL'),
            'host' => env('REDIS_HOST', '127.0.0.1'),
            'username' => env('REDIS_USERNAME'),
            'password' => env('REDIS_PASSWORD'),
            'port' => env('REDIS_PORT', '6379'),
            'database' => env('REDIS_CACHE_DB', '1'),
        ],

    ],

];


----------------------------------------
DOSYA YOLU: config\filesystems.php
----------------------------------------

<?php

return [

    /*
    |--------------------------------------------------------------------------
    | Default Filesystem Disk
    |--------------------------------------------------------------------------
    |
    | Here you may specify the default filesystem disk that should be used
    | by the framework. The "local" disk, as well as a variety of cloud
    | based disks are available to your application. Just store away!
    |
    */

    'default' => env('FILESYSTEM_DISK', 'local'),

    /*
    |--------------------------------------------------------------------------
    | Filesystem Disks
    |--------------------------------------------------------------------------
    |
    | Here you may configure as many filesystem "disks" as you wish, and you
    | may even configure multiple disks of the same driver. Defaults have
    | been set up for each driver as an example of the required values.
    |
    | Supported Drivers: "local", "ftp", "sftp", "s3"
    |
    */

    'disks' => [

        'local' => [
            'driver' => 'local',
            'root' => storage_path('app'),
            'throw' => false,
        ],

        'public' => [
            'driver' => 'local',
            'root' => storage_path('app/public'),
            'url' => env('ASSET_URL', env('APP_URL')) . '/storage',
            'visibility' => 'public',
            'throw' => false,
        ],

        's3' => [
            'driver' => 's3',
            'key' => env('AWS_ACCESS_KEY_ID'),
            'secret' => env('AWS_SECRET_ACCESS_KEY'),
            'region' => env('AWS_DEFAULT_REGION'),
            'bucket' => env('AWS_BUCKET'),
            'url' => env('AWS_URL'),
            'endpoint' => env('AWS_ENDPOINT'),
            'use_path_style_endpoint' => env('AWS_USE_PATH_STYLE_ENDPOINT', false),
            'throw' => false,
        ],

    ],

    /*
    |--------------------------------------------------------------------------
    | Symbolic Links
    |--------------------------------------------------------------------------
    |
    | Here you may configure the symbolic links that will be created when the
    | `storage:link` Artisan command is executed. The array keys should be
    | the locations of the links and the values should be their targets.
    |
    */

    'links' => [
        public_path('storage') => storage_path('app/public'),
    ],

];


----------------------------------------
DOSYA YOLU: config\hashing.php
----------------------------------------

<?php

return [

    /*
    |--------------------------------------------------------------------------
    | Default Hash Driver
    |--------------------------------------------------------------------------
    |
    | This option controls the default hash driver that will be used to hash
    | passwords for your application. By default, the bcrypt algorithm is
    | used; however, you remain free to modify this option if you wish.
    |
    | Supported: "bcrypt", "argon", "argon2id"
    |
    */

    'driver' => 'bcrypt',

    /*
    |--------------------------------------------------------------------------
    | Bcrypt Options
    |--------------------------------------------------------------------------
    |
    | Here you may specify the configuration options that should be used when
    | passwords are hashed using the Bcrypt algorithm. This will allow you
    | to control the amount of time it takes to hash the given password.
    |
    */

    'bcrypt' => [
        'rounds' => env('BCRYPT_ROUNDS', 10),
    ],

    /*
    |--------------------------------------------------------------------------
    | Argon Options
    |--------------------------------------------------------------------------
    |
    | Here you may specify the configuration options that should be used when
    | passwords are hashed using the Argon algorithm. These will allow you
    | to control the amount of time it takes to hash the given password.
    |
    */

    'argon' => [
        'memory' => 65536,
        'threads' => 1,
        'time' => 4,
    ],

];


----------------------------------------
DOSYA YOLU: config\logging.php
----------------------------------------

<?php

use Monolog\Handler\NullHandler;
use Monolog\Handler\StreamHandler;
use Monolog\Handler\SyslogUdpHandler;

return [

    /*
    |--------------------------------------------------------------------------
    | Default Log Channel
    |--------------------------------------------------------------------------
    |
    | This option defines the default log channel that gets used when writing
    | messages to the logs. The name specified in this option should match
    | one of the channels defined in the "channels" configuration array.
    |
    */

    'default' => env('LOG_CHANNEL', 'stack'),

    /*
    |--------------------------------------------------------------------------
    | Deprecations Log Channel
    |--------------------------------------------------------------------------
    |
    | This option controls the log channel that should be used to log warnings
    | regarding deprecated PHP and library features. This allows you to get
    | your application ready for upcoming major versions of dependencies.
    |
    */

    'deprecations' => [
        'channel' => env('LOG_DEPRECATIONS_CHANNEL', 'null'),
        'trace' => false,
    ],

    /*
    |--------------------------------------------------------------------------
    | Log Channels
    |--------------------------------------------------------------------------
    |
    | Here you may configure the log channels for your application. Out of
    | the box, Laravel uses the Monolog PHP logging library. This gives
    | you a variety of powerful log handlers / formatters to utilize.
    |
    | Available Drivers: "single", "daily", "slack", "syslog",
    |                    "errorlog", "monolog",
    |                    "custom", "stack"
    |
    */

    'channels' => [
        'stack' => [
            'driver' => 'stack',
            'channels' => ['single'],
            'ignore_exceptions' => false,
        ],

        'single' => [
            'driver' => 'single',
            'path' => storage_path('logs/laravel.log'),
            'level' => env('LOG_LEVEL', 'debug'),
        ],

        'daily' => [
            'driver' => 'daily',
            'path' => storage_path('logs/laravel.log'),
            'level' => env('LOG_LEVEL', 'debug'),
            'days' => 14,
        ],

        'slack' => [
            'driver' => 'slack',
            'url' => env('LOG_SLACK_WEBHOOK_URL'),
            'username' => 'Laravel Log',
            'emoji' => ':boom:',
            'level' => env('LOG_LEVEL', 'critical'),
        ],

        'papertrail' => [
            'driver' => 'monolog',
            'level' => env('LOG_LEVEL', 'debug'),
            'handler' => env('LOG_PAPERTRAIL_HANDLER', SyslogUdpHandler::class),
            'handler_with' => [
                'host' => env('PAPERTRAIL_URL'),
                'port' => env('PAPERTRAIL_PORT'),
                'connectionString' => 'tls://'.env('PAPERTRAIL_URL').':'.env('PAPERTRAIL_PORT'),
            ],
        ],

        'stderr' => [
            'driver' => 'monolog',
            'level' => env('LOG_LEVEL', 'debug'),
            'handler' => StreamHandler::class,
            'formatter' => env('LOG_STDERR_FORMATTER'),
            'with' => [
                'stream' => 'php://stderr',
            ],
        ],

        'syslog' => [
            'driver' => 'syslog',
            'level' => env('LOG_LEVEL', 'debug'),
        ],

        'errorlog' => [
            'driver' => 'errorlog',
            'level' => env('LOG_LEVEL', 'debug'),
        ],

        'null' => [
            'driver' => 'monolog',
            'handler' => NullHandler::class,
        ],

        'emergency' => [
            'path' => storage_path('logs/laravel.log'),
        ],
    ],

];


----------------------------------------
DOSYA YOLU: config\mail.php
----------------------------------------

<?php

return [

    /*
    |--------------------------------------------------------------------------
    | Default Mailer
    |--------------------------------------------------------------------------
    |
    | This option controls the default mailer that is used to send any email
    | messages sent by your application. Alternative mailers may be setup
    | and used as needed; however, this mailer will be used by default.
    |
    */

    'default' => env('MAIL_MAILER', 'smtp'),

    /*
    |--------------------------------------------------------------------------
    | Mailer Configurations
    |--------------------------------------------------------------------------
    |
    | Here you may configure all of the mailers used by your application plus
    | their respective settings. Several examples have been configured for
    | you and you are free to add your own as your application requires.
    |
    | Laravel supports a variety of mail "transport" drivers to be used while
    | sending an e-mail. You will specify which one you are using for your
    | mailers below. You are free to add additional mailers as required.
    |
    | Supported: "smtp", "sendmail", "mailgun", "ses",
    |            "postmark", "log", "array", "failover"
    |
    */

    'mailers' => [
        'smtp' => [
            'transport' => 'smtp',
            'host' => env('MAIL_HOST', 'smtp.mailgun.org'),
            'port' => env('MAIL_PORT', 587),
            'encryption' => env('MAIL_ENCRYPTION', 'tls'),
            'username' => env('MAIL_USERNAME'),
            'password' => env('MAIL_PASSWORD'),
            'timeout' => null,
            'local_domain' => env('MAIL_EHLO_DOMAIN'),
        ],

        'ses' => [
            'transport' => 'ses',
        ],

        'mailgun' => [
            'transport' => 'mailgun',
        ],

        'postmark' => [
            'transport' => 'postmark',
        ],

        'sendmail' => [
            'transport' => 'sendmail',
            'path' => env('MAIL_SENDMAIL_PATH', '/usr/sbin/sendmail -bs -i'),
        ],

        'log' => [
            'transport' => 'log',
            'channel' => env('MAIL_LOG_CHANNEL'),
        ],

        'array' => [
            'transport' => 'array',
        ],

        'failover' => [
            'transport' => 'failover',
            'mailers' => [
                'smtp',
                'log',
            ],
        ],
    ],

    /*
    |--------------------------------------------------------------------------
    | Global "From" Address
    |--------------------------------------------------------------------------
    |
    | You may wish for all e-mails sent by your application to be sent from
    | the same address. Here, you may specify a name and address that is
    | used globally for all e-mails that are sent by your application.
    |
    */

    'from' => [
        'address' => env('MAIL_FROM_ADDRESS', 'hello@example.com'),
        'name' => env('MAIL_FROM_NAME', 'Example'),
    ],

    /*
    |--------------------------------------------------------------------------
    | Markdown Mail Settings
    |--------------------------------------------------------------------------
    |
    | If you are using Markdown based email rendering, you may configure your
    | theme and component paths here, allowing you to customize the design
    | of the emails. Or, you may simply stick with the Laravel defaults!
    |
    */

    'markdown' => [
        'theme' => 'default',

        'paths' => [
            resource_path('views/vendor/mail'),
        ],
    ],

];


----------------------------------------
DOSYA YOLU: config\permission.php
----------------------------------------

<?php

return [

    'models' => [

        /*
         * When using the "HasPermissions" trait from this package, we need to know which
         * Eloquent model should be used to retrieve your permissions. Of course, it
         * is often just the "Permission" model but you may use whatever you like.
         *
         * The model you want to use as a Permission model needs to implement the
         * `Spatie\Permission\Contracts\Permission` contract.
         */

        'permission' => Spatie\Permission\Models\Permission::class,

        /*
         * When using the "HasRoles" trait from this package, we need to know which
         * Eloquent model should be used to retrieve your roles. Of course, it
         * is often just the "Role" model but you may use whatever you like.
         *
         * The model you want to use as a Role model needs to implement the
         * `Spatie\Permission\Contracts\Role` contract.
         */

        'role' => Spatie\Permission\Models\Role::class,

    ],

    'table_names' => [

        /*
         * When using the "HasRoles" trait from this package, we need to know which
         * table should be used to retrieve your roles. We have chosen a basic
         * default value but you may easily change it to any table you like.
         */

        'roles' => 'roles',

        /*
         * When using the "HasPermissions" trait from this package, we need to know which
         * table should be used to retrieve your permissions. We have chosen a basic
         * default value but you may easily change it to any table you like.
         */

        'permissions' => 'permissions',

        /*
         * When using the "HasPermissions" trait from this package, we need to know which
         * table should be used to retrieve your models permissions. We have chosen a
         * basic default value but you may easily change it to any table you like.
         */

        'model_has_permissions' => 'model_has_permissions',

        /*
         * When using the "HasRoles" trait from this package, we need to know which
         * table should be used to retrieve your models roles. We have chosen a
         * basic default value but you may easily change it to any table you like.
         */

        'model_has_roles' => 'model_has_roles',

        /*
         * When using the "HasRoles" trait from this package, we need to know which
         * table should be used to retrieve your roles permissions. We have chosen a
         * basic default value but you may easily change it to any table you like.
         */

        'role_has_permissions' => 'role_has_permissions',
    ],

    'column_names' => [
        /*
         * Change this if you want to name the related pivots other than defaults
         */
        'role_pivot_key' => null, // default 'role_id',
        'permission_pivot_key' => null, // default 'permission_id',

        /*
         * Change this if you want to name the related model primary key other than
         * `model_id`.
         *
         * For example, this would be nice if your primary keys are all UUIDs. In
         * that case, name this `model_uuid`.
         */

        'model_morph_key' => 'model_id',

        /*
         * Change this if you want to use the teams feature and your related model's
         * foreign key is other than `team_id`.
         */

        'team_foreign_key' => 'team_id',
    ],

    /*
     * When set to true, the method for checking permissions will be registered on the gate.
     * Set this to false if you want to implement custom logic for checking permissions.
     */

    'register_permission_check_method' => true,

    /*
     * When set to true, Laravel\Octane\Events\OperationTerminated event listener will be registered
     * this will refresh permissions on every TickTerminated, TaskTerminated and RequestTerminated
     * NOTE: This should not be needed in most cases, but an Octane/Vapor combination benefited from it.
     */
    'register_octane_reset_listener' => false,

    /*
     * Events will fire when a role or permission is assigned/unassigned:
     * \Spatie\Permission\Events\RoleAttached
     * \Spatie\Permission\Events\RoleDetached
     * \Spatie\Permission\Events\PermissionAttached
     * \Spatie\Permission\Events\PermissionDetached
     *
     * To enable, set to true, and then create listeners to watch these events.
     */
    'events_enabled' => false,

    /*
     * Teams Feature.
     * When set to true the package implements teams using the 'team_foreign_key'.
     * If you want the migrations to register the 'team_foreign_key', you must
     * set this to true before doing the migration.
     * If you already did the migration then you must make a new migration to also
     * add 'team_foreign_key' to 'roles', 'model_has_roles', and 'model_has_permissions'
     * (view the latest version of this package's migration file)
     */

    'teams' => false,

    /*
     * The class to use to resolve the permissions team id
     */
    'team_resolver' => \Spatie\Permission\DefaultTeamResolver::class,

    /*
     * Passport Client Credentials Grant
     * When set to true the package will use Passports Client to check permissions
     */

    'use_passport_client_credentials' => false,

    /*
     * When set to true, the required permission names are added to exception messages.
     * This could be considered an information leak in some contexts, so the default
     * setting is false here for optimum safety.
     */

    'display_permission_in_exception' => false,

    /*
     * When set to true, the required role names are added to exception messages.
     * This could be considered an information leak in some contexts, so the default
     * setting is false here for optimum safety.
     */

    'display_role_in_exception' => false,

    /*
     * By default wildcard permission lookups are disabled.
     * See documentation to understand supported syntax.
     */

    'enable_wildcard_permission' => false,

    /*
     * The class to use for interpreting wildcard permissions.
     * If you need to modify delimiters, override the class and specify its name here.
     */
    // 'wildcard_permission' => Spatie\Permission\WildcardPermission::class,

    /* Cache-specific settings */

    'cache' => [

        /*
         * By default all permissions are cached for 24 hours to speed up performance.
         * When permissions or roles are updated the cache is flushed automatically.
         */

        'expiration_time' => \DateInterval::createFromDateString('24 hours'),

        /*
         * The cache key used to store all permissions.
         */

        'key' => 'spatie.permission.cache',

        /*
         * You may optionally indicate a specific cache driver to use for permission and
         * role caching using any of the `store` drivers listed in the cache.php config
         * file. Using 'default' here means to use the `default` set in cache.php.
         */

        'store' => 'default',
    ],
];


----------------------------------------
DOSYA YOLU: config\queue.php
----------------------------------------

<?php

return [

    /*
    |--------------------------------------------------------------------------
    | Default Queue Connection Name
    |--------------------------------------------------------------------------
    |
    | Laravel's queue API supports an assortment of back-ends via a single
    | API, giving you convenient access to each back-end using the same
    | syntax for every one. Here you may define a default connection.
    |
    */

    'default' => env('QUEUE_CONNECTION', 'sync'),

    /*
    |--------------------------------------------------------------------------
    | Queue Connections
    |--------------------------------------------------------------------------
    |
    | Here you may configure the connection information for each server that
    | is used by your application. A default configuration has been added
    | for each back-end shipped with Laravel. You are free to add more.
    |
    | Drivers: "sync", "database", "beanstalkd", "sqs", "redis", "null"
    |
    */

    'connections' => [

        'sync' => [
            'driver' => 'sync',
        ],

        'database' => [
            'driver' => 'database',
            'table' => 'jobs',
            'queue' => 'default',
            'retry_after' => 90,
            'after_commit' => false,
        ],

        'beanstalkd' => [
            'driver' => 'beanstalkd',
            'host' => 'localhost',
            'queue' => 'default',
            'retry_after' => 90,
            'block_for' => 0,
            'after_commit' => false,
        ],

        'sqs' => [
            'driver' => 'sqs',
            'key' => env('AWS_ACCESS_KEY_ID'),
            'secret' => env('AWS_SECRET_ACCESS_KEY'),
            'prefix' => env('SQS_PREFIX', 'https://sqs.us-east-1.amazonaws.com/your-account-id'),
            'queue' => env('SQS_QUEUE', 'default'),
            'suffix' => env('SQS_SUFFIX'),
            'region' => env('AWS_DEFAULT_REGION', 'us-east-1'),
            'after_commit' => false,
        ],

        'redis' => [
            'driver' => 'redis',
            'connection' => 'default',
            'queue' => env('REDIS_QUEUE', 'default'),
            'retry_after' => 90,
            'block_for' => null,
            'after_commit' => false,
        ],

    ],

    /*
    |--------------------------------------------------------------------------
    | Failed Queue Jobs
    |--------------------------------------------------------------------------
    |
    | These options configure the behavior of failed queue job logging so you
    | can control which database and table are used to store the jobs that
    | have failed. You may change them to any database / table you wish.
    |
    */

    'failed' => [
        'driver' => env('QUEUE_FAILED_DRIVER', 'database-uuids'),
        'database' => env('DB_CONNECTION', 'mysql'),
        'table' => 'failed_jobs',
    ],

];


----------------------------------------
DOSYA YOLU: config\recaptcha.php
----------------------------------------

<?php

/**
 * Copyright (c) 2017 - present
 * LaravelGoogleRecaptcha - recaptcha.php
 * author: Roberto Belotti - roby.belotti@gmail.com
 * web : robertobelotti.com, github.com/biscolab
 * Initial version created on: 12/9/2018
 * MIT license: https://github.com/biscolab/laravel-recaptcha/blob/master/LICENSE
 */

/**
 * To configure correctly please visit https://developers.google.com/recaptcha/docs/start
 */
return [

    /**
     *
     * The site key
     * get site key @ www.google.com/recaptcha/admin
     *
     */
    'api_site_key'                 => env('RECAPTCHA_SITE_KEY', ''),

    /**
     *
     * The secret key
     * get secret key @ www.google.com/recaptcha/admin
     *
     */
    'api_secret_key'               => env('RECAPTCHA_SECRET_KEY', ''),

    /**
     *
     * ReCATCHA version
     * Supported: "v2", "invisible", "v3",
     *
     * get more info @ https://developers.google.com/recaptcha/docs/versions
     *
     */
    'version'                      => 'v2',

    /**
     *
     * The curl timout in seconds to validate a recaptcha token
     * @since v3.5.0
     *
     */
    'curl_timeout'                 => 10,

    /**
     *
     * IP addresses for which validation will be skipped
     * IP/CIDR netmask eg. 127.0.0.0/24, also 127.0.0.1 is accepted and /32 assumed
     *
     */
    'skip_ip'                      => env('RECAPTCHA_SKIP_IP', []),

    /**
     *
     * Default route called to check the Google reCAPTCHA token
     * @since v3.2.0
     *
     */
    'default_validation_route'     => 'biscolab-recaptcha/validate',

    /**
     *
     * The name of the parameter used to send Google reCAPTCHA token to verify route
     * @since v3.2.0
     *
     */
    'default_token_parameter_name' => 'token',

    /**
     *
     * The default Google reCAPTCHA language code
     * It has no effect with v3
     * @see   https://developers.google.com/recaptcha/docs/language
     * @since v3.6.0
     *
     */
    'default_language'             => null,

    /**
     *
     * The default form ID. Only for "invisible" reCAPTCHA
     * @since v4.0.0
     *
     */
    'default_form_id'              => 'biscolab-recaptcha-invisible-form',

    /**
     *
     * Deferring the render can be achieved by specifying your onload callback function and adding parameters to the JavaScript resource.
     * It has no effect with v3 and invisible
     * @see   https://developers.google.com/recaptcha/docs/display#explicit_render
     * @since v4.0.0
     * Supported true, false
     *
     */
    'explicit'                     => false,

    /**
     *
     * Set API domain. You can use "www.recaptcha.net" in case "www.google.com" is not accessible.
     * (no check will be made on the entered value)
     * @see   https://developers.google.com/recaptcha/docs/faq#can-i-use-recaptcha-globally
     * @since v4.3.0
     * Default 'www.google.com' (ReCaptchaBuilder::DEFAULT_RECAPTCHA_API_DOMAIN)
     *
     */
    'api_domain'                   => 'www.google.com',

    /**
     *
     * Set `true` when the error message must be null
     * @since v5.1.0
     * Default false
     *
     */
    'empty_message' => false,

    /**
     *
     * Set either the error message or the errom message translation key
     * @since v5.1.0
     * Default 'validation.recaptcha'
     *
     */
    'error_message_key' => 'validation.recaptcha',

    /**
     *
     * g-recaptcha tag attributes and grecaptcha.render parameters (v2 only)
     * @see   https://developers.google.com/recaptcha/docs/display#render_param
     * @since v4.0.0
     */
    'tag_attributes'               => [

        /**
         * The color theme of the widget.
         * Supported "light", "dark"
         */
        'theme'            => 'light',

        /**
         * The size of the widget.
         * Supported "normal", "compact"
         */
        'size'             => 'normal',

        /**
         * The tabindex of the widget and challenge.
         * If other elements in your page use tabindex, it should be set to make user navigation easier.
         */
        'tabindex'         => 0,

        /**
         * The name of your callback function, executed when the user submits a successful response.
         * The g-recaptcha-response token is passed to your callback.
         * DO NOT SET "biscolabOnloadCallback"
         */
        'callback'         => null,

        /**
         * The name of your callback function, executed when the reCAPTCHA response expires and the user needs to re-verify.
         * DO NOT SET "biscolabOnloadCallback"
         */
        'expired-callback' => null,

        /**
         * The name of your callback function, executed when reCAPTCHA encounters an error (usually network connectivity) and cannot continue until connectivity is restored.
         * If you specify a function here, you are responsible for informing the user that they should retry.
         * DO NOT SET "biscolabOnloadCallback"
         */
        'error-callback'   => null,
    ]
];


----------------------------------------
DOSYA YOLU: config\sanctum.php
----------------------------------------

<?php

use Laravel\Sanctum\Sanctum;

return [

    /*
    |--------------------------------------------------------------------------
    | Stateful Domains
    |--------------------------------------------------------------------------
    |
    | Requests from the following domains / hosts will receive stateful API
    | authentication cookies. Typically, these should include your local
    | and production domains which access your API via a frontend SPA.
    |
    */

    'stateful' => explode(',', env('SANCTUM_STATEFUL_DOMAINS', sprintf(
        '%s%s',
        'localhost,localhost:3000,127.0.0.1,127.0.0.1:8000,::1',
        Sanctum::currentApplicationUrlWithPort()
    ))),

    /*
    |--------------------------------------------------------------------------
    | Sanctum Guards
    |--------------------------------------------------------------------------
    |
    | This array contains the authentication guards that will be checked when
    | Sanctum is trying to authenticate a request. If none of these guards
    | are able to authenticate the request, Sanctum will use the bearer
    | token that's present on an incoming request for authentication.
    |
    */

    'guard' => ['web'],

    /*
    |--------------------------------------------------------------------------
    | Expiration Minutes
    |--------------------------------------------------------------------------
    |
    | This value controls the number of minutes until an issued token will be
    | considered expired. If this value is null, personal access tokens do
    | not expire. This won't tweak the lifetime of first-party sessions.
    |
    */

    'expiration' => null,

    /*
    |--------------------------------------------------------------------------
    | Sanctum Middleware
    |--------------------------------------------------------------------------
    |
    | When authenticating your first-party SPA with Sanctum you may need to
    | customize some of the middleware Sanctum uses while processing the
    | request. You may change the middleware listed below as required.
    |
    */

    'middleware' => [
        'verify_csrf_token' => App\Http\Middleware\VerifyCsrfToken::class,
        'encrypt_cookies' => App\Http\Middleware\EncryptCookies::class,
    ],

];


----------------------------------------
DOSYA YOLU: config\services.php
----------------------------------------

<?php

return [

    /*
    |--------------------------------------------------------------------------
    | Third Party Services
    |--------------------------------------------------------------------------
    |
    | This file is for storing the credentials for third party services such
    | as Mailgun, Postmark, AWS and more. This file provides the de facto
    | location for this type of information, allowing packages to have
    | a conventional file to locate the various service credentials.
    |
    */

    'mailgun' => [
        'domain' => env('MAILGUN_DOMAIN'),
        'secret' => env('MAILGUN_SECRET'),
        'endpoint' => env('MAILGUN_ENDPOINT', 'api.mailgun.net'),
        'scheme' => 'https',
    ],

    'postmark' => [
        'token' => env('POSTMARK_TOKEN'),
    ],

    'ses' => [
        'key' => env('AWS_ACCESS_KEY_ID'),
        'secret' => env('AWS_SECRET_ACCESS_KEY'),
        'region' => env('AWS_DEFAULT_REGION', 'us-east-1'),
    ],
    'recaptcha' => [
        'site_key' => env('RECAPTCHA_SITE_KEY'),
        'secret' => env('RECAPTCHA_SECRET_KEY'),
    ],

];


----------------------------------------
DOSYA YOLU: config\session.php
----------------------------------------

<?php

use Illuminate\Support\Str;

return [

    /*
    |--------------------------------------------------------------------------
    | Default Session Driver
    |--------------------------------------------------------------------------
    |
    | This option controls the default session "driver" that will be used on
    | requests. By default, we will use the lightweight native driver but
    | you may specify any of the other wonderful drivers provided here.
    |
    | Supported: "file", "cookie", "database", "apc",
    |            "memcached", "redis", "dynamodb", "array"
    |
    */

    'driver' => env('SESSION_DRIVER', 'file'),

    /*
    |--------------------------------------------------------------------------
    | Session Lifetime
    |--------------------------------------------------------------------------
    |
    | Here you may specify the number of minutes that you wish the session
    | to be allowed to remain idle before it expires. If you want them
    | to immediately expire on the browser closing, set that option.
    |
    */

    'lifetime' => env('SESSION_LIFETIME', 120),

    'expire_on_close' => false,

    /*
    |--------------------------------------------------------------------------
    | Session Encryption
    |--------------------------------------------------------------------------
    |
    | This option allows you to easily specify that all of your session data
    | should be encrypted before it is stored. All encryption will be run
    | automatically by Laravel and you can use the Session like normal.
    |
    */

    'encrypt' => false,

    /*
    |--------------------------------------------------------------------------
    | Session File Location
    |--------------------------------------------------------------------------
    |
    | When using the native session driver, we need a location where session
    | files may be stored. A default has been set for you but a different
    | location may be specified. This is only needed for file sessions.
    |
    */

    'files' => storage_path('framework/sessions'),

    /*
    |--------------------------------------------------------------------------
    | Session Database Connection
    |--------------------------------------------------------------------------
    |
    | When using the "database" or "redis" session drivers, you may specify a
    | connection that should be used to manage these sessions. This should
    | correspond to a connection in your database configuration options.
    |
    */

    'connection' => env('SESSION_CONNECTION'),

    /*
    |--------------------------------------------------------------------------
    | Session Database Table
    |--------------------------------------------------------------------------
    |
    | When using the "database" session driver, you may specify the table we
    | should use to manage the sessions. Of course, a sensible default is
    | provided for you; however, you are free to change this as needed.
    |
    */

    'table' => 'sessions',

    /*
    |--------------------------------------------------------------------------
    | Session Cache Store
    |--------------------------------------------------------------------------
    |
    | While using one of the framework's cache driven session backends you may
    | list a cache store that should be used for these sessions. This value
    | must match with one of the application's configured cache "stores".
    |
    | Affects: "apc", "dynamodb", "memcached", "redis"
    |
    */

    'store' => env('SESSION_STORE'),

    /*
    |--------------------------------------------------------------------------
    | Session Sweeping Lottery
    |--------------------------------------------------------------------------
    |
    | Some session drivers must manually sweep their storage location to get
    | rid of old sessions from storage. Here are the chances that it will
    | happen on a given request. By default, the odds are 2 out of 100.
    |
    */

    'lottery' => [2, 100],

    /*
    |--------------------------------------------------------------------------
    | Session Cookie Name
    |--------------------------------------------------------------------------
    |
    | Here you may change the name of the cookie used to identify a session
    | instance by ID. The name specified here will get used every time a
    | new session cookie is created by the framework for every driver.
    |
    */

    'cookie' => env(
        'SESSION_COOKIE',
        Str::slug(env('APP_NAME', 'laravel'), '_').'_session'
    ),

    /*
    |--------------------------------------------------------------------------
    | Session Cookie Path
    |--------------------------------------------------------------------------
    |
    | The session cookie path determines the path for which the cookie will
    | be regarded as available. Typically, this will be the root path of
    | your application but you are free to change this when necessary.
    |
    */

    'path' => '/',

    /*
    |--------------------------------------------------------------------------
    | Session Cookie Domain
    |--------------------------------------------------------------------------
    |
    | Here you may change the domain of the cookie used to identify a session
    | in your application. This will determine which domains the cookie is
    | available to in your application. A sensible default has been set.
    |
    */

    'domain' => env('SESSION_DOMAIN'),

    /*
    |--------------------------------------------------------------------------
    | HTTPS Only Cookies
    |--------------------------------------------------------------------------
    |
    | By setting this option to true, session cookies will only be sent back
    | to the server if the browser has a HTTPS connection. This will keep
    | the cookie from being sent to you when it can't be done securely.
    |
    */

    'secure' => env('SESSION_SECURE_COOKIE'),

    /*
    |--------------------------------------------------------------------------
    | HTTP Access Only
    |--------------------------------------------------------------------------
    |
    | Setting this value to true will prevent JavaScript from accessing the
    | value of the cookie and the cookie will only be accessible through
    | the HTTP protocol. You are free to modify this option if needed.
    |
    */

    'http_only' => true,

    /*
    |--------------------------------------------------------------------------
    | Same-Site Cookies
    |--------------------------------------------------------------------------
    |
    | This option determines how your cookies behave when cross-site requests
    | take place, and can be used to mitigate CSRF attacks. By default, we
    | will set this value to "lax" since this is a secure default value.
    |
    | Supported: "lax", "strict", "none", null
    |
    */

    'same_site' => 'lax',

];


----------------------------------------
DOSYA YOLU: config\view.php
----------------------------------------

<?php

return [

    /*
    |--------------------------------------------------------------------------
    | View Storage Paths
    |--------------------------------------------------------------------------
    |
    | Most templating systems load templates from disk. Here you may specify
    | an array of paths that should be checked for your views. Of course
    | the usual Laravel view path has already been registered for you.
    |
    */

    'paths' => [
        resource_path('views'),
    ],

    /*
    |--------------------------------------------------------------------------
    | Compiled View Path
    |--------------------------------------------------------------------------
    |
    | This option determines where all the compiled Blade templates will be
    | stored for your application. Typically, this is within the storage
    | directory. However, as usual, you are free to change this value.
    |
    */

    'compiled' => env(
        'VIEW_COMPILED_PATH',
        realpath(storage_path('framework/views'))
    ),

];


----------------------------------------
DOSYA YOLU: database\factories\UserFactory.php
----------------------------------------

<?php

namespace Database\Factories;

use Illuminate\Database\Eloquent\Factories\Factory;
use Illuminate\Support\Str;

/**
 * @extends \Illuminate\Database\Eloquent\Factories\Factory<\App\Models\User>
 */
class UserFactory extends Factory
{
    /**
     * Define the model's default state.
     *
     * @return array<string, mixed>
     */
    public function definition()
    {
        return [
            'name' => fake()->name(),
            'email' => fake()->unique()->safeEmail(),
            'email_verified_at' => now(),
            'password' => '$2y$10$92IXUNpkjO0rOQ5byMi.Ye4oKoEa3Ro9llC/.og/at2.uheWG/igi', // password
            'remember_token' => Str::random(10),
        ];
    }

    /**
     * Indicate that the model's email address should be unverified.
     *
     * @return static
     */
    public function unverified()
    {
        return $this->state(fn (array $attributes) => [
            'email_verified_at' => null,
        ]);
    }
}


----------------------------------------
DOSYA YOLU: database\migrations\2014_10_12_000000_create_users_table.php
----------------------------------------

<?php

use Illuminate\Database\Migrations\Migration;
use Illuminate\Database\Schema\Blueprint;
use Illuminate\Support\Facades\Schema;

return new class extends Migration
{
    /**
     * Run the migrations.
     *
     * @return void
     */
    public function up()
    {
        Schema::create('users', function (Blueprint $table) {
            $table->id();
            $table->string('name');
            $table->string('email')->unique();
            $table->timestamp('email_verified_at')->nullable();
            $table->string('password');
            $table->enum('role', ['admin', 'ynetici', 'kullanc'])->default('kullanc');
            $table->rememberToken();
            $table->timestamps();
        });
    }

    /**
     * Reverse the migrations.
     *
     * @return void
     */
    public function down()
    {
        Schema::dropIfExists('users');
    }
};


----------------------------------------
DOSYA YOLU: database\migrations\2014_10_12_100000_create_password_resets_table.php
----------------------------------------

<?php

use Illuminate\Database\Migrations\Migration;
use Illuminate\Database\Schema\Blueprint;
use Illuminate\Support\Facades\Schema;

return new class extends Migration
{
    /**
     * Run the migrations.
     *
     * @return void
     */
    public function up()
    {
        Schema::create('password_resets', function (Blueprint $table) {
            $table->string('email')->index();
            $table->string('token');
            $table->timestamp('created_at')->nullable();
        });
    }

    /**
     * Reverse the migrations.
     *
     * @return void
     */
    public function down()
    {
        Schema::dropIfExists('password_resets');
    }
};


----------------------------------------
DOSYA YOLU: database\migrations\2019_08_19_000000_create_failed_jobs_table.php
----------------------------------------

<?php

use Illuminate\Database\Migrations\Migration;
use Illuminate\Database\Schema\Blueprint;
use Illuminate\Support\Facades\Schema;

return new class extends Migration
{
    /**
     * Run the migrations.
     *
     * @return void
     */
    public function up()
    {
        Schema::create('failed_jobs', function (Blueprint $table) {
            $table->id();
            $table->string('uuid')->unique();
            $table->text('connection');
            $table->text('queue');
            $table->longText('payload');
            $table->longText('exception');
            $table->timestamp('failed_at')->useCurrent();
        });
    }

    /**
     * Reverse the migrations.
     *
     * @return void
     */
    public function down()
    {
        Schema::dropIfExists('failed_jobs');
    }
};


----------------------------------------
DOSYA YOLU: database\migrations\2019_12_14_000001_create_personal_access_tokens_table.php
----------------------------------------

<?php

use Illuminate\Database\Migrations\Migration;
use Illuminate\Database\Schema\Blueprint;
use Illuminate\Support\Facades\Schema;

return new class extends Migration
{
    /**
     * Run the migrations.
     *
     * @return void
     */
    public function up()
    {
        Schema::create('personal_access_tokens', function (Blueprint $table) {
            $table->id();
            $table->morphs('tokenable');
            $table->string('name');
            $table->string('token', 64)->unique();
            $table->text('abilities')->nullable();
            $table->timestamp('last_used_at')->nullable();
            $table->timestamp('expires_at')->nullable();
            $table->timestamps();
        });
    }

    /**
     * Reverse the migrations.
     *
     * @return void
     */
    public function down()
    {
        Schema::dropIfExists('personal_access_tokens');
    }
};


----------------------------------------
DOSYA YOLU: database\migrations\2025_10_17_143507_create_shipments_table.php
----------------------------------------

<?php

use Illuminate\Database\Migrations\Migration;
use Illuminate\Database\Schema\Blueprint;
use Illuminate\Support\Facades\Schema;

return new class extends Migration
{
    /**
     * Run the migrations.
     *
     * @return void
     */
    public function up()
    {
        Schema::create('shipments', function (Blueprint $table) {
            $table->id();
            // Bu kayd hangi kullancnn oluturduunu bilmek iin.
            // `users` tablosundaki id'ye balanr.
            $table->foreignId('user_id')->constrained()->onDelete('cascade');

            $table->string('arac_tipi'); // tr, gemi, kamyon vb.
            $table->string('plaka')->nullable(); // Gemi gibi aralarn plakas olmayabilir
            $table->string('dorse_plakasi')->nullable(); // Sadece tr iin
            $table->string('sofor_adi')->nullable();
            $table->string('kargo_icerigi');
            $table->string('kargo_tipi');
            $table->string('kargo_miktari');
            $table->dateTime('cikis_tarihi');
            $table->dateTime('tahmini_varis_tarihi');

            // Gemi iin limanlar gibi araca zel, dinamik verileri esnek bir ekilde saklamak iin
            $table->json('ekstra_bilgiler')->nullable();

            $table->text('aciklamalar')->nullable();

            $table->timestamps(); // created_at ve updated_at stunlarn oluturur
        });
    }

    /**
     * Reverse the migrations.
     *
     * @return void
     */
    public function down()
    {
        Schema::dropIfExists('shipments');
    }
};


----------------------------------------
DOSYA YOLU: database\migrations\2025_10_18_140215_add_ship_fields_to_shipments_table.php
----------------------------------------

<?php

use Illuminate\Database\Migrations\Migration;
use Illuminate\Database\Schema\Blueprint;
use Illuminate\Support\Facades\Schema;

return new class extends Migration
{
    /**
     * Run the migrations.
     */
    public function up(): void
    {
        Schema::table('shipments', function (Blueprint $table) {
            // Yeni gemi alanlarn ekliyoruz (nullable, nk sadece gemi iin geerli)
            $table->string('imo_numarasi')->nullable()->after('sofor_adi');
            $table->string('gemi_adi')->nullable()->after('imo_numarasi');
            $table->string('kalkis_limani')->nullable()->after('gemi_adi');
            $table->string('varis_limani')->nullable()->after('kalkis_limani');
        });
    }

    /**
     * Reverse the migrations.
     */
    public function down(): void
    {
        Schema::table('shipments', function (Blueprint $table) {
            // Geri alma ilemi: Eklediimiz stunlar kaldryoruz
            $table->dropColumn(['imo_numarasi', 'gemi_adi', 'kalkis_limani', 'varis_limani']);
        });
    }
};

----------------------------------------
DOSYA YOLU: database\migrations\2025_10_20_121959_create_birims_table.php
----------------------------------------

<?php

use Illuminate\Database\Migrations\Migration;
use Illuminate\Database\Schema\Blueprint;
use Illuminate\Support\Facades\Schema;

return new class extends Migration
{
    /**
     * Run the migrations.
     *
     * @return void
     */
    public function up()
    {
        Schema::create('birims', function (Blueprint $table) {
            $table->id();
            $table->string('ad')->unique(); // rn: Ton, Adet, Koli
            $table->timestamps();
        });
    }

    /**
     * Reverse the migrations.
     *
     * @return void
     */
    public function down()
    {
        Schema::dropIfExists('birims');
    }
};


----------------------------------------
DOSYA YOLU: database\migrations\2025_10_21_105250_add_dosya_yolu_to_shipments_table.php
----------------------------------------

<?php

use Illuminate\Database\Migrations\Migration;
use Illuminate\Database\Schema\Blueprint;
use Illuminate\Support\Facades\Schema;

return new class extends Migration
{
    /**
     * Run the migrations.
     *
     * @return void
     */
    public function up()
    {
        Schema::table('shipments', function (Blueprint $table) {
            $table->string('dosya_yolu')->nullable()->after('aciklamalar');
        });
    }

    /**
     * Reverse the migrations.
     *
     * @return void
     */
    public function down()
    {
        Schema::table('shipments', function (Blueprint $table) {
            $table->dropColumn('dosya_yolu');
        });
    }
};


----------------------------------------
DOSYA YOLU: database\migrations\2025_10_22_074520_add_kalkis_varis_noktasi_to_shipments_table.php
----------------------------------------

<?php

use Illuminate\Database\Migrations\Migration;
use Illuminate\Database\Schema\Blueprint;
use Illuminate\Support\Facades\Schema;

return new class extends Migration
{
    /**
     * Run the migrations.
     *
     * @return void
     */
    public function up()
    {
        Schema::table('shipments', function (Blueprint $table) {
            $table->string('kalkis_noktasi')->nullable()->after('varis_limani');
            $table->string('varis_noktasi')->nullable()->after('kalkis_noktasi');
        });
    }

    /**
     * Reverse the migrations.
     *
     * @return void
     */
    public function down()
    {
        Schema::table('shipments', function (Blueprint $table) {
            $table->dropColumn(['kalkis_noktasi', 'varis_noktasi']);
        });
    }
};


----------------------------------------
DOSYA YOLU: database\migrations\2025_10_22_081210_add_soft_deletes_to_shipments_table.php
----------------------------------------

<?php

use Illuminate\Database\Migrations\Migration;
use Illuminate\Database\Schema\Blueprint;
use Illuminate\Support\Facades\Schema;

return new class extends Migration
{
    /**
     * Run the migrations.
     *
     * @return void
     */
    public function up()
    {
        Schema::table('shipments', function (Blueprint $table) {
            $table->softDeletes();
        });
    }

    /**
     * Reverse the migrations.
     *
     * @return void
     */
    public function down()
    {
        Schema::table('shipments', function (Blueprint $table) {
            $table->dropSoftDeletes();
        });
    }
};


----------------------------------------
DOSYA YOLU: database\migrations\2025_10_22_082749_add_onaylanma_tarihi_to_shipments_table.php
----------------------------------------

<?php

use Illuminate\Database\Migrations\Migration;
use Illuminate\Database\Schema\Blueprint;
use Illuminate\Support\Facades\Schema;

return new class extends Migration
{
    /**
     * Run the migrations.
     *
     * @return void
     */
    public function up()
    {
        Schema::table('shipments', function (Blueprint $table) {
            $table->timestamp('onaylanma_tarihi')
                ->nullable()
                ->after('varis_noktasi');
            $table->foreignId('onaylayan_user_id')
                ->nullable()
                ->after('onaylanma_tarihi') // Artk bu stun var olacak
                ->constrained('users')
                ->onDelete('set null');
        });
    }

    /**
     * Reverse the migrations.
     *
     * @return void
     */
    public function down()
    {
        Schema::table('shipments', function (Blueprint $table) {
            $table->dropForeign(['onaylayan_user_id']);
            $table->dropColumn('onaylanma_tarihi');
        });
    }
};


----------------------------------------
DOSYA YOLU: database\migrations\2025_10_24_083111_add_shipment_type_to_shipments_table.php
----------------------------------------

<?php

use Illuminate\Database\Migrations\Migration;
use Illuminate\Database\Schema\Blueprint;
use Illuminate\Support\Facades\Schema;

return new class extends Migration
{
    /**
     * Run the migrations.
     *
     * @return void
     */
    public function up()
    {
        Schema::table('shipments', function (Blueprint $table) {
            $table->string('shipment_type')->nullable()->after('id');
        });
    }

    /**
     * Reverse the migrations.
     *
     * @return void
     */
    public function down()
    {
        Schema::table('shipments', function (Blueprint $table) {
            $table->dropColumn('shipment_type');
        });
    }
};


----------------------------------------
DOSYA YOLU: database\migrations\2025_10_28_063737_create_departments_table.php
----------------------------------------

<?php

use Illuminate\Database\Migrations\Migration;
use Illuminate\Database\Schema\Blueprint;
use Illuminate\Support\Facades\Schema;

return new class extends Migration
{
    /**
     * Run the migrations.
     *
     * @return void
     */
    public function up()
    {
        Schema::create('departments', function (Blueprint $table) {
            $table->id();
            $table->string('name'); // rn: "Lojistik", "retim", "Hizmet"
            $table->string('slug')->unique(); // rn: "lojistik", "uretim", "hizmet"
            $table->timestamps();
        });
    }

    /**
     * Reverse the migrations.
     *
     * @return void
     */
    public function down()
    {
        Schema::dropIfExists('departments');
    }
};


----------------------------------------
DOSYA YOLU: database\migrations\2025_10_28_063844_add_department_id_to_users_table.php
----------------------------------------

<?php

use Illuminate\Database\Migrations\Migration;
use Illuminate\Database\Schema\Blueprint;
use Illuminate\Support\Facades\Schema;

return new class extends Migration
{
    /**
     * Run the migrations.
     *
     * @return void
     */
    public function up()
    {
        Schema::table('users', function (Blueprint $table) {
            $table->foreignId('department_id')
                ->nullable() // Balangta null olabilir, sonradan atama yaparz
                ->constrained('departments') // 'departments' tablosundaki 'id'ye balanr
                ->onDelete('set null'); // Birim silinirse kullancnn birimi null olsun
        });
    }

    /**
     * Reverse the migrations.
     *
     * @return void
     */
    public function down()
    {
        Schema::table('users', function (Blueprint $table) {
            //
        });
    }
};


----------------------------------------
DOSYA YOLU: database\migrations\2025_10_28_080152_create_production_plans_table.php
----------------------------------------

<?php

use Illuminate\Database\Migrations\Migration;
use Illuminate\Database\Schema\Blueprint;
use Illuminate\Support\Facades\Schema;

return new class extends Migration
{
    /**
     * Run the migrations.
     *
     * @return void
     */
    public function up()
    {
        Schema::create('production_plans', function (Blueprint $table) {
            $table->id();

            // Plan hangi kullancnn eklediini bilmek iin
            $table->foreignId('user_id')
                ->constrained('users')
                ->onDelete('cascade'); // Kullanc silinirse planlar da silinsin

            $table->string('plan_title'); // rn: "42. Hafta retim Plan"
            $table->date('week_start_date'); // Plann ait olduu haftann balang tarihi (Pazartesi)

            // Plann detaylarn (makine, rn, adet vs.) esnek bir yapda
            // tutmak iin JSON trn kullanmak ok faydaldr.
            $table->json('plan_details')->nullable();

            $table->timestamps();
        });
    }

    /**
     * Reverse the migrations.
     *
     * @return void
     */
    public function down()
    {
        Schema::dropIfExists('production_plans');
    }
};


----------------------------------------
DOSYA YOLU: database\migrations\2025_10_28_084615_create_events_table.php
----------------------------------------

<?php

use Illuminate\Database\Migrations\Migration;
use Illuminate\Database\Schema\Blueprint;
use Illuminate\Support\Facades\Schema;

return new class extends Migration
{
    /**
     * Run the migrations.
     *
     * @return void
     */
    public function up()
    {
        Schema::create('events', function (Blueprint $table) {
            $table->id();

            // Etkinlii hangi kullancnn ekledii
            $table->foreignId('user_id')
                ->constrained('users')
                ->onDelete('cascade');

            $table->string('title'); // rn: "ABC Firmas Mteri Ziyareti", "Siber Gvenlik Eitimi"
            $table->text('description')->nullable(); // Etkinlik hakknda detaylar

            // Bu iki alan, hem "Hizmet" takvimi hem de "Genel KKSAN Takvimi" iin kritik neme sahip
            $table->dateTime('start_datetime'); // Etkinlik Balang Tarihi ve Saati
            $table->dateTime('end_datetime');   // Etkinlik Biti Tarihi ve Saati

            $table->string('location')->nullable(); // rn: "Toplant Odas A", "stanbul Fuar Merkezi"

            // Talebinizdeki (fuar, gezi, eitim, toplant, misafir) kategorilendirme iin:
            $table->string('event_type');

            $table->timestamps();
        });
    }

    /**
     * Reverse the migrations.
     *
     * @return void
     */
    public function down()
    {
        Schema::dropIfExists('events');
    }
};


----------------------------------------
DOSYA YOLU: database\migrations\2025_10_28_091827_create_vehicles_table.php
----------------------------------------

<?php

use Illuminate\Database\Migrations\Migration;
use Illuminate\Database\Schema\Blueprint;
use Illuminate\Support\Facades\Schema;

return new class extends Migration {
    /**
     * Run the migrations.
     *
     * @return void
     */
    public function up()
    {
        Schema::create('vehicles', function (Blueprint $table) {
            $table->id();
            $table->string('plate_number')->unique(); // Plaka (Benzersiz)
            $table->enum('type', ['company', 'logistics']); // irket arac veya Nakliye arac
            $table->string('brand_model')->nullable(); // rn: "Ford Transit", "Fiat Doblo"
            $table->text('description')->nullable(); // Arala ilgili notlar
            $table->boolean('is_active')->default(true); // Ara kullanmda m?
            $table->timestamps();
            $table->softDeletes(); // Soft delete destei
        });
    }

    /**
     * Reverse the migrations.
     *
     * @return void
     */
    public function down()
    {
        Schema::dropIfExists('vehicles');
    }
};

----------------------------------------
DOSYA YOLU: database\migrations\2025_10_28_092008_create_vehicle_assignments_table.php
----------------------------------------

<?php

use Illuminate\Database\Migrations\Migration;
use Illuminate\Database\Schema\Blueprint;
use Illuminate\Support\Facades\Schema;

return new class extends Migration {
    /**
     * Run the migrations.
     *
     * @return void
     */
    public function up()
    {
        Schema::create('vehicle_assignments', function (Blueprint $table) {
            $table->id();

            // ========== GREV TP ==========
            $table->enum('assignment_type', ['vehicle', 'general'])
                ->comment('vehicle: Ara gerektiren grev, general: Genel grev');

            // ========== ARA BLGS (Sadece vehicle tipinde) ==========
            $table->foreignId('vehicle_id')
                ->nullable()
                ->constrained('vehicles')
                ->onDelete('cascade');
            $table->enum('vehicle_type', ['company', 'logistics'])
                ->nullable()
                ->comment('company: irket arac, logistics: Nakliye arac');

            // ========== SORUMLU BLGS (Polymorphic) ==========
            $table->enum('responsible_type', ['user', 'team'])
                ->comment('user: Tek kii, team: Takm');
            $table->unsignedBigInteger('responsible_id')
                ->comment('User ID veya Team ID');

            // Index for polymorphic relation
            $table->index(['responsible_type', 'responsible_id']);

            // ========== GREV DETAYLARI ==========
            $table->string('title'); // Grev bal
            $table->text('task_description'); // Grevin aklamas
            $table->string('destination')->nullable(); // Grev yeri
            $table->dateTime('start_time'); // Balang zaman
            $table->dateTime('end_time'); // Biti zaman
            $table->text('notes')->nullable(); // Ek notlar

            // ========== GREV DURUMU ==========
            $table->enum('status', ['pending', 'in_progress', 'completed', 'cancelled'])
                ->default('pending')
                ->comment('Grev durumu');

            // ========== NAKLYE ZEL ALANLARI (Sadece logistics tipinde) ==========
            $table->decimal('initial_km', 10, 2)->nullable()->comment('k km');
            $table->decimal('final_km', 10, 2)->nullable()->comment('Dn km');
            $table->decimal('initial_fuel', 10, 2)->nullable()->comment('k yakt miktar (litre)');
            $table->decimal('final_fuel', 10, 2)->nullable()->comment('Dn yakt miktar (litre)');
            $table->decimal('fuel_cost', 10, 2)->nullable()->comment('Yakt maliyeti (TL)');

            // ========== KM OLUTURDU ==========
            $table->foreignId('created_by_user_id')
                ->constrained('users')
                ->onDelete('cascade')
                ->comment('Grevi kim oluturdu');

            // ========== TALEP EDEN ==========
            $table->string('requester_name')->nullable()
                ->comment('Talebi yapan departman/kii ad');
            $table->foreignId('requester_user_id')->nullable()
                ->constrained('users')
                ->onDelete('set null')
                ->comment('Talebi yapan kullanc (varsa)');

            $table->timestamps();
            $table->softDeletes();
        });
    }

    /**
     * Reverse the migrations.
     *
     * @return void
     */
    public function down()
    {
        Schema::dropIfExists('vehicle_assignments');
    }
};

----------------------------------------
DOSYA YOLU: database\migrations\2025_10_28_140847_create_service_schedules_table.php
----------------------------------------

<?php

use Illuminate\Database\Migrations\Migration;
use Illuminate\Database\Schema\Blueprint;
use Illuminate\Support\Facades\Schema;

return new class extends Migration
{
    /**
     * Run the migrations.
     *
     * @return void
     */
    public function up()
    {
        Schema::create('service_schedules', function (Blueprint $table) {
            $table->id();
            $table->string('name'); // rn: "Sabah Kargo Turu", "leden Sonra Servisi"
            $table->time('departure_time'); // Sadece saat, rn: "10:00:00", "15:00:00"
            $table->integer('cutoff_minutes')->default(30); // Kalktan ka dakika nce grev alm durur

            // Bu sefere varsaylan olarak hangi aracn atand (A Arac vb.)
            $table->foreignId('default_vehicle_id')
                ->nullable()
                ->constrained('vehicles') // 'vehicles' tablosuna balanr
                ->onDelete('set null'); // Ara silinirse bu alan null olur

            $table->boolean('is_active')->default(true); // Bu sefer aktif mi?
            $table->timestamps();
        });
    }

    /**
     * Reverse the migrations.
     *
     * @return void
     */
    public function down()
    {
        Schema::dropIfExists('service_schedules');
    }
};


----------------------------------------
DOSYA YOLU: database\migrations\2025_10_30_060120_add_soft_deletes_to_events_table.php
----------------------------------------

<?php

use Illuminate\Database\Migrations\Migration;
use Illuminate\Database\Schema\Blueprint;
use Illuminate\Support\Facades\Schema;

return new class extends Migration
{
    /**
     * Run the migrations.
     *
     * @return void
     */
    public function up()
    {
        Schema::table('events', function (Blueprint $table) {
            $table->softDeletes();
        });
    }

    /**
     * Reverse the migrations.
     *
     * @return void
     */
    public function down()
    {
        Schema::table('events', function (Blueprint $table) {
            // Geri alma ilemi iin 'deleted_at' stununu kaldrr
            $table->dropSoftDeletes();
        });
    }
};


----------------------------------------
DOSYA YOLU: database\migrations\2025_10_31_121524_add_deleted_at_to_vehicles_table.php
----------------------------------------

<?php

use Illuminate\Database\Migrations\Migration;
use Illuminate\Database\Schema\Blueprint;
use Illuminate\Support\Facades\Schema;

return new class extends Migration
{
    /**
     * Run the migrations.
     *
     * @return void
     */
    public function up()
    {
        Schema::table('vehicles', function (Blueprint $table) {
            $table->softDeletes();
        });
    }

    /**
     * Reverse the migrations.
     *
     * @return void
     */
    public function down()
    {
        Schema::table('vehicles', function (Blueprint $table) {
            $table->dropSoftDeletes();
        });
    }
};


----------------------------------------
DOSYA YOLU: database\migrations\2025_10_31_121713_add_deleted_at_to_vehicle_assignments_table.php
----------------------------------------

<?php

use Illuminate\Database\Migrations\Migration;
use Illuminate\Database\Schema\Blueprint;
use Illuminate\Support\Facades\Schema;

return new class extends Migration
{
    /**
     * Run the migrations.
     *
     * @return void
     */
    public function up()
    {
        Schema::table('vehicle_assignments', function (Blueprint $table) {
            $table->softDeletes();
        });
    }

    /**
     * Reverse the migrations.
     *
     * @return void
     */
    public function down()
    {
        Schema::table('vehicle_assignments', function (Blueprint $table) {
            $table->dropSoftDeletes();
        });
    }
};


----------------------------------------
DOSYA YOLU: database\migrations\2025_10_31_121820_add_deleted_at_to_users_table.php
----------------------------------------

<?php

use Illuminate\Database\Migrations\Migration;
use Illuminate\Database\Schema\Blueprint;
use Illuminate\Support\Facades\Schema;

return new class extends Migration
{
    /**
     * Run the migrations.
     *
     * @return void
     */
    public function up()
    {
        if (!Schema::hasColumn('users', 'deleted_at')) {
            Schema::table('users', function (Blueprint $table) {
                $table->timestamp('deleted_at')->nullable();
            });
        }
    }

    /**
     * Reverse the migrations.
     *
     * @return void
     */
    public function down()
    {
        if (Schema::hasColumn('users', 'deleted_at')) {
            Schema::table('users', function (Blueprint $table) {
                $table->dropColumn('deleted_at');
            });
        }
    }
};


----------------------------------------
DOSYA YOLU: database\migrations\2025_10_31_121921_add_deleted_at_to_service_schedules_table.php
----------------------------------------

<?php

use Illuminate\Database\Migrations\Migration;
use Illuminate\Database\Schema\Blueprint;
use Illuminate\Support\Facades\Schema;

return new class extends Migration
{
    /**
     * Run the migrations.
     *
     * @return void
     */
    public function up()
    {
        Schema::table('service_schedules', function (Blueprint $table) {
            $table->softDeletes();
        });
    }

    /**
     * Reverse the migrations.
     *
     * @return void
     */
    public function down()
    {
        Schema::table('service_schedules', function (Blueprint $table) {
            $table->dropSoftDeletes();
        });
    }
};


----------------------------------------
DOSYA YOLU: database\migrations\2025_10_31_122018_add_deleted_at_to_production_plans_table.php
----------------------------------------

<?php

use Illuminate\Database\Migrations\Migration;
use Illuminate\Database\Schema\Blueprint;
use Illuminate\Support\Facades\Schema;

return new class extends Migration
{
    /**
     * Run the migrations.
     *
     * @return void
     */
    public function up()
    {
        Schema::table('production_plans', function (Blueprint $table) {
            $table->softDeletes();
        });
    }

    /**
     * Reverse the migrations.
     *
     * @return void
     */
    public function down()
    {
        Schema::table('production_plans', function (Blueprint $table) {
            $table->dropSoftDeletes();
        });
    }
};


----------------------------------------
DOSYA YOLU: database\migrations\2025_10_31_122122_add_deleted_at_to_departments_table.php
----------------------------------------

<?php

use Illuminate\Database\Migrations\Migration;
use Illuminate\Database\Schema\Blueprint;
use Illuminate\Support\Facades\Schema;

return new class extends Migration
{
    /**
     * Run the migrations.
     *
     * @return void
     */
    public function up()
    {
        Schema::table('departments', function (Blueprint $table) {
            $table->softDeletes();
        });
    }

    /**
     * Reverse the migrations.
     *
     * @return void
     */
    public function down()
    {
        Schema::table('departments', function (Blueprint $table) {
            $table->dropSoftDeletes();
        });
    }
};


----------------------------------------
DOSYA YOLU: database\migrations\2025_10_31_122346_add_deleted_at_to_birims_table.php
----------------------------------------

<?php

use Illuminate\Database\Migrations\Migration;
use Illuminate\Database\Schema\Blueprint;
use Illuminate\Support\Facades\Schema;

return new class extends Migration
{
    /**
     * Run the migrations.
     *
     * @return void
     */
    public function up()
    {
        Schema::table('birims', function (Blueprint $table) {
            $table->softDeletes();
        });
    }

    /**
     * Reverse the migrations.
     *
     * @return void
     */
    public function down()
    {
        Schema::table('birims', function (Blueprint $table) {
            $table->dropSoftDeletes();
        });
    }
};


----------------------------------------
DOSYA YOLU: database\migrations\2025_11_05_105341_add_is_important_to_events_table.php
----------------------------------------

<?php

use Illuminate\Database\Migrations\Migration;
use Illuminate\Database\Schema\Blueprint;
use Illuminate\Support\Facades\Schema;

return new class extends Migration
{
    /**
     * Run the migrations.
     *
     * @return void
     */
    public function up()
    {
        Schema::table('events', function (Blueprint $table) {
            $table->boolean('is_important')->default(false);
        });
    }

    /**
     * Reverse the migrations.
     *
     * @return void
     */
    public function down()
    {
        Schema::table('events', function (Blueprint $table) {
            $table->dropColumn('is_important');
        });
    }
};


----------------------------------------
DOSYA YOLU: database\migrations\2025_11_05_105425_add_is_important_to_production_plans_table.php
----------------------------------------

<?php

use Illuminate\Database\Migrations\Migration;
use Illuminate\Database\Schema\Blueprint;
use Illuminate\Support\Facades\Schema;

return new class extends Migration
{
    /**
     * Run the migrations.
     *
     * @return void
     */
    public function up()
    {
        Schema::table('production_plans', function (Blueprint $table) {
            $table->boolean('is_important')->default(false);
        });
    }

    /**
     * Reverse the migrations.
     *
     * @return void
     */
    public function down()
    {
        Schema::table('production_plans', function (Blueprint $table) {
            $table->dropColumn('is_important');
        });
    }
};


----------------------------------------
DOSYA YOLU: database\migrations\2025_11_05_105519_add_is_important_to_shipments_table.php
----------------------------------------

<?php

use Illuminate\Database\Migrations\Migration;
use Illuminate\Database\Schema\Blueprint;
use Illuminate\Support\Facades\Schema;

return new class extends Migration
{
    /**
     * Run the migrations.
     *
     * @return void
     */
    public function up()
    {
        Schema::table('shipments', function (Blueprint $table) {
            $table->boolean('is_important')->default(false);
        });
    }

    /**
     * Reverse the migrations.
     *
     * @return void
     */
    public function down()
    {
        Schema::table('shipments', function (Blueprint $table) {
            $table->dropColumn('is_important');
        });
    }
};


----------------------------------------
DOSYA YOLU: database\migrations\2025_11_05_105613_add_is_important_to_vehicle_assignments_table.php
----------------------------------------

<?php

use Illuminate\Database\Migrations\Migration;
use Illuminate\Database\Schema\Blueprint;
use Illuminate\Support\Facades\Schema;

return new class extends Migration
{
    /**
     * Run the migrations.
     *
     * @return void
     */
    public function up()
    {
        Schema::table('vehicle_assignments', function (Blueprint $table) {
            $table->boolean('is_important')->default(false);
        });
    }

    /**
     * Reverse the migrations.
     *
     * @return void
     */
    public function down()
    {
        Schema::table('vehicle_assignments', function (Blueprint $table) {
            $table->dropColumn('is_important');
        });
    }
};


----------------------------------------
DOSYA YOLU: database\migrations\2025_11_06_121559_add_is_important_columns.php
----------------------------------------

<?php

use Illuminate\Database\Migrations\Migration;
use Illuminate\Database\Schema\Blueprint;
use Illuminate\Support\Facades\Schema;

return new class extends Migration
{
    /**
     * Run the migrations.
     *
     * @return void
     */
    public function up()
    {
        Schema::table('shipments', function (Blueprint $table) {
            $table->boolean('is_important')->default(false)->after('user_id');
        });

        Schema::table('production_plans', function (Blueprint $table) {
            $table->boolean('is_important')->default(false)->after('user_id');
        });

        Schema::table('events', function (Blueprint $table) {
            $table->boolean('is_important')->default(false)->after('user_id');
        });

        Schema::table('vehicle_assignments', function (Blueprint $table) {
            $table->boolean('is_important')->default(false)->after('user_id');
        });
    }

    /**
     * Reverse the migrations.
     *
     * @return void
     */
    public function down()
    {
        Schema::table('shipments', function (Blueprint $table) {
            $table->dropColumn('is_important');
        });

        Schema::table('production_plans', function (Blueprint $table) {
            $table->dropColumn('is_important');
        });

        Schema::table('events', function (Blueprint $table) {
            $table->dropColumn('is_important');
        });

        Schema::table('vehicle_assignments', function (Blueprint $table) {
            $table->dropColumn('is_important');
        });
    }
};


----------------------------------------
DOSYA YOLU: database\migrations\2025_11_07_092324_create_customers_table.php
----------------------------------------

<?php

use Illuminate\Database\Migrations\Migration;
use Illuminate\Database\Schema\Blueprint;
use Illuminate\Support\Facades\Schema;

return new class extends Migration
{
    /**
     * Run the migrations.
     *
     * @return void
     */
    public function up()
    {
        Schema::create('customers', function (Blueprint $table) {
            $table->id();
            $table->string('name'); // Mteri Unvan
            $table->string('contact_person')->nullable(); // lgili Kii
            $table->string('email')->nullable()->unique();
            $table->string('phone')->nullable();
            $table->text('address')->nullable();
            $table->timestamps();
        });
    }

    /**
     * Reverse the migrations.
     *
     * @return void
     */
    public function down()
    {
        Schema::dropIfExists('customers');
    }
};


----------------------------------------
DOSYA YOLU: database\migrations\2025_11_07_102356_create_media_table.php
----------------------------------------

<?php

use Illuminate\Support\Facades\Schema;
use Illuminate\Database\Schema\Blueprint;
use Illuminate\Database\Migrations\Migration;

class CreateMediaTable extends Migration
{
    public function up()
    {
        Schema::create('media', function (Blueprint $table) {
            $table->bigIncrements('id');

            $table->morphs('model');
            $table->uuid('uuid')->nullable()->unique();
            $table->string('collection_name');
            $table->string('name');
            $table->string('file_name');
            $table->string('mime_type')->nullable();
            $table->string('disk');
            $table->string('conversions_disk')->nullable();
            $table->unsignedBigInteger('size');
            $table->json('manipulations');
            $table->json('custom_properties');
            $table->json('generated_conversions');
            $table->json('responsive_images');
            $table->unsignedInteger('order_column')->nullable()->index();

            $table->nullableTimestamps();
        });
    }
}


----------------------------------------
DOSYA YOLU: database\migrations\2025_11_07_102446_create_customer_machines_table.php
----------------------------------------

<?php

use Illuminate\Database\Migrations\Migration;
use Illuminate\Database\Schema\Blueprint;
use Illuminate\Support\Facades\Schema;

return new class extends Migration
{
    /**
     * Run the migrations.
     *
     * @return void
     */
    public function up()
    {
        Schema::create('customer_machines', function (Blueprint $table) {
            $table->id();
            $table->foreignId('customer_id')->constrained('customers')->onDelete('cascade');
            $table->string('model');
            $table->string('serial_number')->nullable()->unique();
            $table->date('installation_date')->nullable();
            $table->timestamps();
        });
    }

    /**
     * Reverse the migrations.
     *
     * @return void
     */
    public function down()
    {
        Schema::dropIfExists('customer_machines');
    }
};


----------------------------------------
DOSYA YOLU: database\migrations\2025_11_07_102543_create_complaints_table.php
----------------------------------------

<?php

use Illuminate\Database\Migrations\Migration;
use Illuminate\Database\Schema\Blueprint;
use Illuminate\Support\Facades\Schema;

return new class extends Migration
{
    /**
     * Run the migrations.
     *
     * @return void
     */
    public function up()
    {
        Schema::create('complaints', function (Blueprint $table) {
            $table->id();
            $table->foreignId('customer_id')->constrained('customers')->onDelete('cascade');
            $table->foreignId('user_id')->constrained('users'); // Kayd aan
            $table->foreignId('customer_machine_id')->nullable()->constrained('customer_machines');
            $table->string('title');
            $table->text('description');
            $table->string('status')->default('open'); // open, in_progress, resolved
            $table->timestamps();
        });
    }

    /**
     * Reverse the migrations.
     *
     * @return void
     */
    public function down()
    {
        Schema::dropIfExists('complaints');
    }
};


----------------------------------------
DOSYA YOLU: database\migrations\2025_11_07_102616_create_test_results_table.php
----------------------------------------

<?php

use Illuminate\Database\Migrations\Migration;
use Illuminate\Database\Schema\Blueprint;
use Illuminate\Support\Facades\Schema;

return new class extends Migration
{
    /**
     * Run the migrations.
     *
     * @return void
     */
    public function up()
    {
        Schema::create('test_results', function (Blueprint $table) {
            $table->id();
            $table->foreignId('customer_id')->constrained('customers')->onDelete('cascade');
            $table->foreignId('user_id')->constrained('users'); // Ykleyen
            $table->foreignId('customer_machine_id')->nullable()->constrained('customer_machines');
            $table->string('test_name'); // rn: "Parti No 123 - ekme Testi"
            $table->date('test_date');
            $table->text('summary')->nullable();
            $table->timestamps();
        });
    }

    /**
     * Reverse the migrations.
     *
     * @return void
     */
    public function down()
    {
        Schema::dropIfExists('test_results');
    }
};


----------------------------------------
DOSYA YOLU: database\migrations\2025_11_07_102934_create_travel_table.php
----------------------------------------

<?php

use Illuminate\Database\Migrations\Migration;
use Illuminate\Database\Schema\Blueprint;
use Illuminate\Support\Facades\Schema;

return new class extends Migration
{
    /**
     * Run the migrations.
     *
     * @return void
     */
    public function up()
    {
        Schema::create('travels', function (Blueprint $table) { // <-- OUL (DORU)
            $table->id();
            $table->foreignId('user_id')->constrained('users');
            $table->string('name');
            $table->date('start_date');
            $table->date('end_date');
            $table->string('status')->default('planned');
            $table->timestamps();
        });
    }

    /**
     * Reverse the migrations.
     *
     * @return void
     */
    public function down()
    {
        Schema::dropIfExists('travel');
    }
};


----------------------------------------
DOSYA YOLU: database\migrations\2025_11_07_103014_create_customer_visits_table.php
----------------------------------------

<?php

use Illuminate\Database\Migrations\Migration;
use Illuminate\Database\Schema\Blueprint;
use Illuminate\Support\Facades\Schema;

return new class extends Migration
{
    /**
     * Run the migrations.
     *
     * @return void
     */
    public function up()
    {
        Schema::create('customer_visits', function (Blueprint $table) {
            $table->id();
            // Bu kayt, senin 'Event' tablonla eleecek
            $table->foreignId('event_id')->constrained('events')->onDelete('cascade');

            // Bu kayt, bir mteriye bal olmal
            $table->foreignId('customer_id')->constrained('customers')->onDelete('cascade');

            // Bu kayt, opsiyonel olarak bir seyahate bal olabilir
            $table->foreignId('travel_id')->nullable()->constrained('travels')->onDelete('set null');

            // CRM Alanlar
            $table->string('visit_purpose'); // satis_sonrasi, egitim, rutin_ziyaret, vb.
            $table->boolean('has_machine')->nullable();
            $table->text('after_sales_notes')->nullable();
            // ... (bir nceki cevapta bahsettiimiz dier tm CRM alanlar)

            $table->timestamps();
        });
    }

    /**
     * Reverse the migrations.
     *
     * @return void
     */
    public function down()
    {
        Schema::dropIfExists('customer_visits');
    }
};


----------------------------------------
DOSYA YOLU: database\migrations\2025_11_07_103959_create_customer_activity_logs_table.php
----------------------------------------

<?php

use Illuminate\Database\Migrations\Migration;
use Illuminate\Database\Schema\Blueprint;
use Illuminate\Support\Facades\Schema;

return new class extends Migration
{
    /**
     * Run the migrations.
     *
     * @return void
     */
    public function up()
    {
        Schema::create('customer_activity_logs', function (Blueprint $table) {
            $table->id();
            $table->foreignId('user_id')->nullable()->constrained('users')->onDelete('set null'); // Yapan
            $table->string('model_type'); // Hangi model? (Customer, Complaint, vb.)
            $table->unsignedBigInteger('model_id'); // Hangi ID?
            $table->string('action'); // created, updated, deleted
            $table->json('changes')->nullable(); // Neler deiti?
            $table->timestamps();

            $table->index(['model_type', 'model_id']);
        });
    }

    /**
     * Reverse the migrations.
     *
     * @return void
     */
    public function down()
    {
        Schema::dropIfExists('customer_activity_logs');
    }
};


----------------------------------------
DOSYA YOLU: database\migrations\2025_11_07_111119_add_soft_deletes_to_customers_table.php
----------------------------------------

<?php

use Illuminate\Database\Migrations\Migration;
use Illuminate\Database\Schema\Blueprint;
use Illuminate\Support\Facades\Schema;

return new class extends Migration
{
    /**
     * Run the migrations.
     *
     * @return void
     */
    public function up()
    {
        Schema::table('customers', function (Blueprint $table) {
            $table->softDeletes();
        });
    }

    /**
     * Reverse the migrations.
     *
     * @return void
     */
    public function down()
    {
        Schema::table('customers', function (Blueprint $table) {
            $table->dropSoftDeletes();
        });
    }
};


----------------------------------------
DOSYA YOLU: database\migrations\2025_11_07_115546_update_visits_for_machine_relation.php
----------------------------------------

<?php

use Illuminate\Database\Migrations\Migration;
use Illuminate\Database\Schema\Blueprint;
use Illuminate\Support\Facades\Schema;

return new class extends Migration
{
    /**
     * Run the migrations.
     *
     * @return void
     */
    public function up()
    {
        Schema::table('customer_visits', function (Blueprint $table) {
            // Yeni 'customer_machine_id' stununu ekle (nullable, opsiyonel)
            $table->foreignId('customer_machine_id')
                ->nullable() // Her ziyaret bir makineyle ilgili olmayabilir
                ->after('travel_id') // travel_id'den sonra gelsin
                ->constrained('customer_machines') // customer_machines tablosuna bala
                ->onDelete('set null'); // Makine silinirse bu ID null olsun

            // 'has_machine' stununu kaldr
            if (Schema::hasColumn('customer_visits', 'has_machine')) {
                $table->dropColumn('has_machine');
            }
        });
    }

    /**
     * Reverse the migrations.
     *
     * @return void
     */
    public function down()
    {
        Schema::table('customer_visits', function (Blueprint $table) {
            //
        });
    }
};


----------------------------------------
DOSYA YOLU: database\migrations\2025_11_07_134021_add_booking_details_to_travels_table.php
----------------------------------------

<?php

use Illuminate\Database\Migrations\Migration;
use Illuminate\Database\Schema\Blueprint;
use Illuminate\Support\Facades\Schema;

return new class extends Migration
{
    /**
     * Run the migrations.
     *
     * @return void
     */
    public function up()
    {
        Schema::table('travels', function (Blueprint $table) {
            $table->text('transportation_details')->nullable()->after('status');
            $table->text('accommodation_details')->nullable()->after('transportation_details');
        });
    }

    /**
     * Reverse the migrations.
     *
     * @return void
     */
    public function down()
    {
        Schema::table('travels', function (Blueprint $table) {
            $table->dropColumn(['transportation_details', 'accommodation_details']);
        });
    }
};


----------------------------------------
DOSYA YOLU: database\migrations\2025_11_07_135129_remove_booking_details_from_travels_table.php
----------------------------------------

<?php

use Illuminate\Database\Migrations\Migration;
use Illuminate\Database\Schema\Blueprint;
use Illuminate\Support\Facades\Schema;

return new class extends Migration
{
    /**
     * Run the migrations.
     *
     * @return void
     */
    public function up()
    {
        Schema::table('travels', function (Blueprint $table) {
            $table->dropColumn(['transportation_details', 'accommodation_details']);
        });
    }

    /**
     * Reverse the migrations.
     *
     * @return void
     */
    public function down()
    {
        Schema::table('travels', function (Blueprint $table) {
            $table->text('transportation_details')->nullable();
            $table->text('accommodation_details')->nullable();
        });
    }
};


----------------------------------------
DOSYA YOLU: database\migrations\2025_11_07_135225_create_bookings_table.php
----------------------------------------

<?php

use Illuminate\Database\Migrations\Migration;
use Illuminate\Database\Schema\Blueprint;
use Illuminate\Support\Facades\Schema;

return new class extends Migration
{
    /**
     * Run the migrations.
     *
     * @return void
     */
    public function up()
    {
        Schema::create('bookings', function (Blueprint $table) {
            $table->id();

            // Hangi Seyahat Planna ait?
            $table->foreignId('travel_id')->constrained('travels')->onDelete('cascade');

            // Rezervasyonu kim ekledi?
            $table->foreignId('user_id')->constrained('users')->onDelete('cascade');

            // Rezervasyon Tipi (Uu, Otel vb.)
            $table->string('type'); // 'flight', 'hotel', 'car_rental', 'train', 'other'

            // Rezervasyon Bilgileri
            $table->string('provider_name')->nullable(); // rn: "Trk Hava Yollar", "Hilton"
            $table->string('confirmation_code')->nullable(); // rn: "PNR: ABC123"
            $table->decimal('cost', 10, 2)->nullable(); // Masraf takibi iin

            // Tarihler
            $table->dateTime('start_datetime')->nullable(); // Uu kalk / Otel Check-in
            $table->dateTime('end_datetime')->nullable(); // Uu var / Otel Check-out

            $table->text('notes')->nullable(); // Ek notlar
            $table->timestamps();
        });
    }

    /**
     * Reverse the migrations.
     *
     * @return void
     */
    public function down()
    {
        Schema::dropIfExists('bookings');
    }
};


----------------------------------------
DOSYA YOLU: database\migrations\2025_11_10_060344_add_is_important_to_travels_table.php
----------------------------------------

<?php

use Illuminate\Database\Migrations\Migration;
use Illuminate\Database\Schema\Blueprint;
use Illuminate\Support\Facades\Schema;

return new class extends Migration
{
    /**
     * Run the migrations.
     *
     * @return void
     */
    public function up()
    {
        Schema::table('travels', function (Blueprint $table) {
            $table->boolean('is_important')->default(false)->after('status');
        });
    }

    /**
     * Reverse the migrations.
     *
     * @return void
     */
    public function down()
    {
        Schema::table('travels', function (Blueprint $table) {
            $table->dropColumn('is_important');
        });
    }
};


----------------------------------------
DOSYA YOLU: database\migrations\2025_11_11_122657_create_activity_log_table.php
----------------------------------------

<?php

use Illuminate\Support\Facades\Schema;
use Illuminate\Database\Schema\Blueprint;
use Illuminate\Database\Migrations\Migration;

class CreateActivityLogTable extends Migration
{
    public function up()
    {
        Schema::connection(config('activitylog.database_connection'))->create(config('activitylog.table_name'), function (Blueprint $table) {
            $table->bigIncrements('id');
            $table->string('log_name')->nullable();
            $table->text('description');
            $table->nullableMorphs('subject', 'subject');
            $table->nullableMorphs('causer', 'causer');
            $table->json('properties')->nullable();
            $table->timestamps();
            $table->index('log_name');
        });
    }

    public function down()
    {
        Schema::connection(config('activitylog.database_connection'))->dropIfExists(config('activitylog.table_name'));
    }
}


----------------------------------------
DOSYA YOLU: database\migrations\2025_11_11_122658_add_event_column_to_activity_log_table.php
----------------------------------------

<?php

use Illuminate\Support\Facades\Schema;
use Illuminate\Database\Schema\Blueprint;
use Illuminate\Database\Migrations\Migration;

class AddEventColumnToActivityLogTable extends Migration
{
    public function up()
    {
        Schema::connection(config('activitylog.database_connection'))->table(config('activitylog.table_name'), function (Blueprint $table) {
            $table->string('event')->nullable()->after('subject_type');
        });
    }

    public function down()
    {
        Schema::connection(config('activitylog.database_connection'))->table(config('activitylog.table_name'), function (Blueprint $table) {
            $table->dropColumn('event');
        });
    }
}


----------------------------------------
DOSYA YOLU: database\migrations\2025_11_11_122659_add_batch_uuid_column_to_activity_log_table.php
----------------------------------------

<?php

use Illuminate\Support\Facades\Schema;
use Illuminate\Database\Schema\Blueprint;
use Illuminate\Database\Migrations\Migration;

class AddBatchUuidColumnToActivityLogTable extends Migration
{
    public function up()
    {
        Schema::connection(config('activitylog.database_connection'))->table(config('activitylog.table_name'), function (Blueprint $table) {
            $table->uuid('batch_uuid')->nullable()->after('properties');
        });
    }

    public function down()
    {
        Schema::connection(config('activitylog.database_connection'))->table(config('activitylog.table_name'), function (Blueprint $table) {
            $table->dropColumn('batch_uuid');
        });
    }
}


----------------------------------------
DOSYA YOLU: database\migrations\2025_11_13_065659_add_visit_details_to_events_table.php
----------------------------------------

<?php

use Illuminate\Database\Migrations\Migration;
use Illuminate\Database\Schema\Blueprint;
use Illuminate\Support\Facades\Schema;

return new class extends Migration {
    /**
     * Run the migrations.
     *
     * @return void
     */
    public function up()
    {
        Schema::table('events', function (Blueprint $table) {
            $table->string('visit_status')->default('planlandi')->after('event_type');
            $table->text('cancellation_reason')->nullable()->after('visit_status');
        });
    }

    /**
     * Reverse the migrations.
     *
     * @return void
     */
    public function down()
    {
        Schema::table('events', function (Blueprint $table) {
            $table->dropColumn(['visit_status', 'cancellation_reason']);
        });
    }
};


----------------------------------------
DOSYA YOLU: database\migrations\2025_11_13_070706_update_events_table_for_crm.php
----------------------------------------

<?php

use Illuminate\Database\Migrations\Migration;
use Illuminate\Database\Schema\Blueprint;
use Illuminate\Support\Facades\Schema;

return new class extends Migration {
    /**
     * Run the migrations.
     *
     * @return void
     */
    public function up()
    {
        Schema::table('events', function (Blueprint $table) {
            // 1. customer_id stunu yoksa ekle
            if (!Schema::hasColumn('events', 'customer_id')) {
                $table->foreignId('customer_id')->nullable()->constrained('customers')->onDelete('set null');
            }

            // 2. customer_machine_id stunu yoksa ekle
            // DKKAT: Veritabannzdaki tablo ad 'customer_machines' mi yoksa 'customermachines' mi? 
            // Laravel standartlarna gre oul olur. Eer hata alrsanz buray kontrol edin.
            if (!Schema::hasColumn('events', 'customer_machine_id')) {
                // Tablo ad 'customer_machines' olarak varsayld. 
                // Eer sizin tablo adnz farklysa (rn: customer_machine) aadaki 'customer_machines' ksmn dzeltin.
                $table->foreignId('customer_machine_id')->nullable()->constrained('customer_machines')->onDelete('set null');
            }

            // 3. visit_status stunu yoksa ekle
            if (!Schema::hasColumn('events', 'visit_status')) {
                $table->string('visit_status')->default('planlandi')->after('event_type');
            }

            // 4. cancellation_reason stunu yoksa ekle
            if (!Schema::hasColumn('events', 'cancellation_reason')) {
                $table->text('cancellation_reason')->nullable()->after('visit_status');
            }

            // 5. visit_purpose stunu yoksa ekle
            if (!Schema::hasColumn('events', 'visit_purpose')) {
                $table->string('visit_purpose')->nullable();
            }

            // 6. after_sales_notes stunu yoksa ekle
            if (!Schema::hasColumn('events', 'after_sales_notes')) {
                $table->text('after_sales_notes')->nullable();
            }
        });
    }

    /**
     * Reverse the migrations.
     *
     * @return void
     */
    public function down()
    {
        Schema::table('events', function (Blueprint $table) {
            $table->dropForeign(['customer_id']);
            $table->dropForeign(['customer_machine_id']);
            $table->dropColumn(['customer_id', 'customer_machine_id', 'visit_status', 'cancellation_reason', 'visit_purpose', 'after_sales_notes']);
        });
    }
};


----------------------------------------
DOSYA YOLU: database\migrations\2025_11_14_110645_create_teams_table.php
----------------------------------------

<?php

use Illuminate\Database\Migrations\Migration;
use Illuminate\Database\Schema\Blueprint;
use Illuminate\Support\Facades\Schema;

return new class extends Migration {
    /**
     * Run the migrations.
     *
     * @return void
     */
    public function up()
    {
        Schema::create('teams', function (Blueprint $table) {
            $table->id();
            $table->string('name');
            $table->text('description')->nullable(); // Takm aklamas
            $table->foreignId('created_by_user_id')
                ->constrained('users')
                ->onDelete('cascade'); // Kullanc silinirse takm da silinsin
            $table->boolean('is_active')->default(true); // Aktif/Pasif
            $table->timestamps();
            $table->softDeletes(); // Soft delete destei
        });
    }

    /**
     * Reverse the migrations.
     *
     * @return void
     */
    public function down()
    {
        Schema::dropIfExists('teams');
    }
};

----------------------------------------
DOSYA YOLU: database\migrations\2025_11_14_110700_create_team_user_table.php
----------------------------------------

<?php

use Illuminate\Database\Migrations\Migration;
use Illuminate\Database\Schema\Blueprint;
use Illuminate\Support\Facades\Schema;

return new class extends Migration {
    /**
     * Run the migrations.
     *
     * @return void
     */
    public function up()
    {
        Schema::create('team_user', function (Blueprint $table) {
            $table->id(); // Pivot tablolarda ID olmas bazen yararldr
            $table->foreignId('team_id')
                ->constrained('teams')
                ->onDelete('cascade'); // Takm silinirse yelikler de silinsin
            $table->foreignId('user_id')
                ->constrained('users')
                ->onDelete('cascade'); // Kullanc silinirse yelikler de silinsin
            $table->timestamps(); // Ne zaman eklendiini takip iin

            // Ayn kullanc ayn takma birden fazla eklenemesin
            $table->unique(['team_id', 'user_id']);
        });
    }

    /**
     * Reverse the migrations.
     *
     * @return void
     */
    public function down()
    {
        Schema::dropIfExists('team_user');
    }
};

----------------------------------------
DOSYA YOLU: database\migrations\2025_11_14_110816_update_vehicle_assignments_table_for_polymorphism.php
----------------------------------------

<?php

use Illuminate\Database\Migrations\Migration;
use Illuminate\Database\Schema\Blueprint;
use Illuminate\Support\Facades\Schema;

return new class extends Migration {
    /**
     * Run the migrations.
     *
     * @return void
     */
    public function up()
    {
        Schema::table('vehicle_assignments', function (Blueprint $table) {

            // 1. "Grev Sepeti" (Tr)
            // 'company_vehicle', 'logistics', 'personal'
            $table->string('assignment_type')->default('company_vehicle')->after('id');

            // 2. "Sorumlu" (Polimorfik)
            // responsible_id (User ID veya Team ID)
            // responsible_type (App\Models\User veya App\Models\Team)
            // 'id'den sonra ekleyelim ki mantksal dursun
            $table->morphs('responsible', 'idx_responsible_assignment');

            // 3. "Kaynak" (Polimorfik)
            // resource_id (Vehicle ID veya null)
            // resource_type (App\Models\Vehicle veya null)
            $table->nullableMorphs('resource', 'idx_resource_assignment');

            // 4. "Nakliye Grevi" iin zel alanlar
            $table->decimal('start_km', 10, 2)->nullable()->after('notes');
            $table->string('start_fuel_level')->nullable()->after('start_km');
            $table->decimal('fuel_cost', 10, 2)->nullable()->after('start_fuel_level');

            // 5. Mevcut stunlar yeni sisteme uyumlu hale getirme

            // Talep edeni ID olarak tutmak daha salkldr. 
            // 'users' tablonuz olduu iin bunu ekliyoruz.
            $table->foreignId('created_by_user_id')
                ->nullable()
                ->after('id')
                ->constrained('users');

            // 'requester_name' artk zorunlu olmayabilir, nk ID'yi tutuyoruz
            $table->string('requester_name')->nullable()->change();

            // Mevcut 'vehicle_id' stunu artk 'resource' morfu ile ynetilecek.
            // Yeni 'kiisel' grevlerde bu stun bo olacak, bu yzden 'nullable' yapyoruz.
            // (Eer zaten 'nullable' deilse)
            $table->foreignId('vehicle_id')->nullable()->change();

        });
    }

    /**
     * Reverse the migrations.
     *
     * @return void
     */
    public function down()
    {
        Schema::table('vehicle_assignments', function (Blueprint $table) {
            // Geri alma ilemleri (migration' geri almak isterseniz)
            $table->dropColumn('assignment_type');
            $table->dropMorphs('responsible', 'idx_responsible_assignment');
            $table->dropMorphs('resource', 'idx_resource_assignment');
            $table->dropColumn(['start_km', 'start_fuel_level', 'fuel_cost']);
            $table->dropForeign(['created_by_user_id']);
            $table->dropColumn('created_by_user_id');
            // 'requester_name' ve 'vehicle_id'yi eski zorunlu hallerine
            // (eer yleyse) dndrmek iin 'change' metotlar eklenebilir.
        });
    }
};


----------------------------------------
DOSYA YOLU: database\migrations\2025_11_14_112153_remove_created_by_user_id_from_vehicle_assignments_table.php
----------------------------------------

<?php

use Illuminate\Database\Migrations\Migration;
use Illuminate\Database\Schema\Blueprint;
use Illuminate\Support\Facades\Schema;

return new class extends Migration {
    /**
     * Run the migrations.
     *
     * @return void
     */
    public function up()
    {
        Schema::table('vehicle_assignments', function (Blueprint $table) {
            $table->dropForeign(['created_by_user_id']);
            $table->dropColumn('created_by_user_id');
        });
    }

    /**
     * Reverse the migrations.
     *
     * @return void
     */
    public function down()
    {
        Schema::table('vehicle_assignments', function (Blueprint $table) {
            $table->foreignId('created_by_user_id')
                ->nullable()
                ->after('id')
                ->constrained('users');
        });
    }
};


----------------------------------------
DOSYA YOLU: database\migrations\2025_11_14_150758_add_title_to_vehicle_assignments_table.php
----------------------------------------

<?php

use Illuminate\Database\Migrations\Migration;
use Illuminate\Database\Schema\Blueprint;
use Illuminate\Support\Facades\Schema;

return new class extends Migration {
    /**
     * Run the migrations.
     *
     * @return void
     */
    public function up()
    {
        Schema::table('vehicle_assignments', function (Blueprint $table) {
            $table->string('title')->after('assignment_type');
        });
    }

    /**
     * Reverse the migrations.
     *
     * @return void
     */
    public function down()
    {
        Schema::table('vehicle_assignments', function (Blueprint $table) {
            $table->dropColumn('title');
        });
    }
};


----------------------------------------
DOSYA YOLU: database\migrations\2025_11_14_150931_add_status_to_vehicle_assignments_table.php
----------------------------------------

<?php

use Illuminate\Database\Migrations\Migration;
use Illuminate\Database\Schema\Blueprint;
use Illuminate\Support\Facades\Schema;

return new class extends Migration {
    /**
     * Run the migrations.
     *
     * @return void
     */
    public function up()
    {
        Schema::table('vehicle_assignments', function (Blueprint $table) {
            $table->string('status')->default('pending')->after('notes');
        });
    }

    /**
     * Reverse the migrations.
     *
     * @return void
     */
    public function down()
    {
        Schema::table('vehicle_assignments', function (Blueprint $table) {
            $table->dropColumn('status');
        });
    }
};


----------------------------------------
DOSYA YOLU: database\migrations\2025_11_17_103909_add_description_to_teams_table.php
----------------------------------------

<?php

use Illuminate\Database\Migrations\Migration;
use Illuminate\Database\Schema\Blueprint;
use Illuminate\Support\Facades\Schema;

return new class extends Migration {
    /**
     * Run the migrations.
     *
     * @return void
     */
    public function up()
    {
        if (!Schema::hasColumn('teams', 'description')) {
            Schema::table('teams', function (Blueprint $table) {
                $table->string('description', 1000)->nullable()->after('name');
            });
        }
    }

    /**
     * Reverse the migrations.
     *
     * @return void
     */
    public function down()
    {
        Schema::table('teams', function (Blueprint $table) {
            $table->dropColumn('description');
        });
    }
};


----------------------------------------
DOSYA YOLU: database\migrations\2025_11_17_104232_add_timestamps_to_team_user_table.php
----------------------------------------

<?php

use Illuminate\Database\Migrations\Migration;
use Illuminate\Database\Schema\Blueprint;
use Illuminate\Support\Facades\Schema;

return new class extends Migration {
    /**
     * Run the migrations.
     *
     * @return void
     */
    public function up()
    {
        if (!Schema::hasColumn('team_user', 'created_at')) {
            Schema::table('team_user', function (Blueprint $table) {
                $table->timestamps();
            });
        }
    }

    /**
     * Reverse the migrations.
     *
     * @return void
     */
    public function down()
    {
        Schema::table('team_user', function (Blueprint $table) {
            $table->dropTimestamps();
        });
    }
};


----------------------------------------
DOSYA YOLU: database\migrations\2025_11_17_105229_add_deleted_at_to_teams_table.php
----------------------------------------

<?php

use Illuminate\Database\Migrations\Migration;
use Illuminate\Database\Schema\Blueprint;
use Illuminate\Support\Facades\Schema;

return new class extends Migration {
    /**
     * Run the migrations.
     *
     * @return void
     */
    public function up()
    {
        Schema::table('teams', function (Blueprint $table) {
            if (!Schema::hasColumn('teams', 'deleted_at')) { //  KONTROL EKLEYN
                $table->softDeletes();
            }
        });
    }

    /**
     * Reverse the migrations.
     *
     * @return void
     */
    public function down()
    {
        Schema::table('teams', function (Blueprint $table) {
            if (Schema::hasColumn('teams', 'deleted_at')) { //  KONTROL EKLEYN
                $table->dropSoftDeletes();
            }
        });
    }
};


----------------------------------------
DOSYA YOLU: database\migrations\2025_11_18_070937_create_jobs_table.php
----------------------------------------

<?php

use Illuminate\Database\Migrations\Migration;
use Illuminate\Database\Schema\Blueprint;
use Illuminate\Support\Facades\Schema;

return new class extends Migration
{
    /**
     * Run the migrations.
     *
     * @return void
     */
    public function up()
    {
        Schema::create('jobs', function (Blueprint $table) {
            $table->bigIncrements('id');
            $table->string('queue')->index();
            $table->longText('payload');
            $table->unsignedTinyInteger('attempts');
            $table->unsignedInteger('reserved_at')->nullable();
            $table->unsignedInteger('available_at');
            $table->unsignedInteger('created_at');
        });
    }

    /**
     * Reverse the migrations.
     *
     * @return void
     */
    public function down()
    {
        Schema::dropIfExists('jobs');
    }
};


----------------------------------------
DOSYA YOLU: database\migrations\2025_11_24_082540_create_logistics_vehicles_table.php
----------------------------------------

<?php

use Illuminate\Database\Migrations\Migration;
use Illuminate\Database\Schema\Blueprint;
use Illuminate\Support\Facades\Schema;

return new class extends Migration {
    /**
     * Run the migrations.
     *
     * @return void
     */
    public function up()
    {
        Schema::create('logistics_vehicles', function (Blueprint $table) {
            $table->id();
            $table->string('plate_number'); // Plaka
            $table->string('brand');        // Marka
            $table->string('model');        // Model
            $table->decimal('capacity', 8, 2)->nullable(); // Yk kapasitesi
            $table->decimal('current_km', 10, 2)->default(0); // Gncel KM
            $table->string('fuel_type')->nullable(); // Dizel vs.
            $table->string('status')->default('active');
            $table->timestamps();
        });
    }

    /**
     * Reverse the migrations.
     *
     * @return void
     */
    public function down()
    {
        Schema::dropIfExists('logistics_vehicles');
    }
};


----------------------------------------
DOSYA YOLU: database\migrations\2025_11_24_082950_update_vehicle_assignments_for_polymorphism.php
----------------------------------------

<?php

use Illuminate\Database\Migrations\Migration;
use Illuminate\Database\Schema\Blueprint;
use Illuminate\Support\Facades\Schema;

return new class extends Migration {
    /**
     * Run the migrations.
     *
     * @return void
     */
    public function up()
    {
        Schema::table('vehicle_assignments', function (Blueprint $table) {
            $table->dropForeign(['vehicle_id']);
            $table->string('vehicle_type')->nullable()->after('vehicle_id');
            $table->index(['vehicle_id', 'vehicle_type']);
        });
    }

    /**
     * Reverse the migrations.
     *
     * @return void
     */
    public function down()
    {
        Schema::table('vehicle_assignments', function (Blueprint $table) {
            $table->dropColumn('vehicle_type');
            $table->foreign('vehicle_id')->references('id')->on('vehicles')->onDelete('set null');
        });
    }
};


----------------------------------------
DOSYA YOLU: database\migrations\2025_11_24_090445_add_soft_deletes_to_logistics_vehicles_table.php
----------------------------------------

<?php

use Illuminate\Database\Migrations\Migration;
use Illuminate\Database\Schema\Blueprint;
use Illuminate\Support\Facades\Schema;

return new class extends Migration {
    /**
     * Run the migrations.
     *
     * @return void
     */
    public function up()
    {
        Schema::table('logistics_vehicles', function (Blueprint $table) {
            $table->softDeletes();
        });
    }

    /**
     * Reverse the migrations.
     *
     * @return void
     */
    public function down()
    {
        Schema::table('logistics_vehicles', function (Blueprint $table) {
            $table->dropSoftDeletes();
        });
    }
};


----------------------------------------
DOSYA YOLU: database\migrations\2025_11_24_151347_create_customer_activities_table.php
----------------------------------------

<?php

use Illuminate\Database\Migrations\Migration;
use Illuminate\Database\Schema\Blueprint;
use Illuminate\Support\Facades\Schema;

return new class extends Migration {
    /**
     * Run the migrations.
     *
     * @return void
     */
    public function up()
    {
        Schema::create('customer_activities', function (Blueprint $table) {
            $table->id();
            $table->foreignId('customer_id')->constrained()->onDelete('cascade'); // Mteri silinirse aktiviteleri de silinsin
            $table->foreignId('user_id')->constrained(); // Aktiviteyi giren personel
            $table->string('type'); // phone, email, meeting, note
            $table->text('description'); // Grme detaylar
            $table->dateTime('activity_date'); // Ne zaman yapld?
            $table->timestamps();
        });
    }

    /**
     * Reverse the migrations.
     *
     * @return void
     */
    public function down()
    {
        Schema::dropIfExists('customer_activities');
    }
};


----------------------------------------
DOSYA YOLU: database\migrations\2025_11_24_151431_add_customer_id_to_vehicle_assignments_table.php
----------------------------------------

<?php

use Illuminate\Database\Migrations\Migration;
use Illuminate\Database\Schema\Blueprint;
use Illuminate\Support\Facades\Schema;

return new class extends Migration {
    /**
     * Run the migrations.
     *
     * @return void
     */
    public function up()
    {
        Schema::table('vehicle_assignments', function (Blueprint $table) {
            $table->foreignId('customer_id')->nullable()->after('user_id')->constrained()->onDelete('set null');
        });
    }

    /**
     * Reverse the migrations.
     *
     * @return void
     */
    public function down()
    {
        Schema::table('vehicle_assignments', function (Blueprint $table) {
            $table->dropForeign(['customer_id']);
            $table->dropColumn('customer_id');
        });
    }
};


----------------------------------------
DOSYA YOLU: database\migrations\2025_11_25_091853_create_maintenance_types_table.php
----------------------------------------

<?php

use Illuminate\Database\Migrations\Migration;
use Illuminate\Database\Schema\Blueprint;
use Illuminate\Support\Facades\Schema;

return new class extends Migration {
    /**
     * Run the migrations.
     *
     * @return void
     */
    public function up()
    {
        Schema::create('maintenance_types', function (Blueprint $table) {
            $table->id();
            $table->string('name'); // Elektronik, Mekanik
            $table->string('color_code')->default('#333333'); // Takvimde ayrt etmek iin renk
            $table->timestamps();
        });
    }

    /**
     * Reverse the migrations.
     *
     * @return void
     */
    public function down()
    {
        Schema::dropIfExists('maintenance_types');
    }
};


----------------------------------------
DOSYA YOLU: database\migrations\2025_11_25_091921_create_maintenance_assets_table.php
----------------------------------------

<?php

use Illuminate\Database\Migrations\Migration;
use Illuminate\Database\Schema\Blueprint;
use Illuminate\Support\Facades\Schema;

return new class extends Migration {
    /**
     * Run the migrations.
     *
     * @return void
     */
    public function up()
    {
        Schema::create('maintenance_assets', function (Blueprint $table) {
            $table->id();
            $table->string('name'); // CNC-01, Jeneratr
            $table->string('category')->default('machine'); // machine, zone, facility
            $table->string('code')->nullable(); // Envanter kodu
            $table->string('location')->nullable(); // Konum
            $table->text('description')->nullable(); // Teknik detay
            $table->boolean('is_active')->default(true); // Pasif cihazlar listede kmaz
            $table->timestamps();
        });
    }

    /**
     * Reverse the migrations.
     *
     * @return void
     */
    public function down()
    {
        Schema::dropIfExists('maintenance_assets');
    }
};


----------------------------------------
DOSYA YOLU: database\migrations\2025_11_25_091943_create_maintenance_plans_table.php
----------------------------------------

<?php

use Illuminate\Database\Migrations\Migration;
use Illuminate\Database\Schema\Blueprint;
use Illuminate\Support\Facades\Schema;

return new class extends Migration {
    /**
     * Run the migrations. ANA TABLO, TM OPERASYONUN DND YER
     *
     * @return void
     */
    public function up()
    {
        Schema::create('maintenance_plans', function (Blueprint $table) {
            $table->id();

            // likiler
            $table->foreignId('user_id')->constrained(); // Plan aan kii
            $table->foreignId('maintenance_type_id')->constrained('maintenance_types'); // Hangi birim?
            $table->foreignId('maintenance_asset_id')->constrained('maintenance_assets'); // Hangi makine?

            // Detaylar
            $table->string('title');
            $table->text('description')->nullable();
            $table->string('priority')->default('normal'); // low, normal, high, critical

            // Durum (pending, in_progress, completed, cancelled)
            $table->string('status')->default('pending');

            // Planlanan Tarihler
            $table->dateTime('planned_start_date');
            $table->dateTime('planned_end_date');

            // Gerekleen Tarihler (Gecikme analizi iin)
            $table->dateTime('actual_start_date')->nullable();
            $table->dateTime('actual_end_date')->nullable();

            $table->timestamps();
        });
    }

    /**
     * Reverse the migrations.
     *
     * @return void
     */
    public function down()
    {
        Schema::dropIfExists('maintenance_plans');
    }
};


----------------------------------------
DOSYA YOLU: database\migrations\2025_11_25_091957_create_maintenance_files_table.php
----------------------------------------

<?php

use Illuminate\Database\Migrations\Migration;
use Illuminate\Database\Schema\Blueprint;
use Illuminate\Support\Facades\Schema;

return new class extends Migration {
    /**
     * Run the migrations.
     *
     * @return void
     */
    public function up()
    {
        Schema::create('maintenance_files', function (Blueprint $table) {
            $table->id();
            $table->foreignId('maintenance_plan_id')->constrained('maintenance_plans')->onDelete('cascade');
            $table->string('file_path');
            $table->string('file_name'); // Orijinal ad
            $table->string('file_type'); // pdf, jpg
            $table->timestamps();
        });
    }

    /**
     * Reverse the migrations.
     *
     * @return void
     */
    public function down()
    {
        Schema::dropIfExists('maintenance_files');
    }
};


----------------------------------------
DOSYA YOLU: database\migrations\2025_11_25_092012_create_maintenance_time_entries_table.php
----------------------------------------

<?php

use Illuminate\Database\Migrations\Migration;
use Illuminate\Database\Schema\Blueprint;
use Illuminate\Support\Facades\Schema;

return new class extends Migration {
    /**
     * Run the migrations.
     *
     * @return void
     */
    public function up()
    {
        Schema::create('maintenance_time_entries', function (Blueprint $table) {
            $table->id();
            $table->foreignId('maintenance_plan_id')->constrained('maintenance_plans')->onDelete('cascade');
            $table->foreignId('user_id')->constrained(); // alan teknisyen

            $table->dateTime('start_time');
            $table->dateTime('end_time')->nullable(); // Null ise u an alyor

            $table->integer('duration_minutes')->default(0);
            $table->text('note')->nullable();

            $table->timestamps();
        });
    }

    /**
     * Reverse the migrations.
     *
     * @return void
     */
    public function down()
    {
        Schema::dropIfExists('maintenance_time_entries');
    }
};


----------------------------------------
DOSYA YOLU: database\migrations\2025_11_25_092029_create_maintenance_activity_logs_table.php
----------------------------------------

<?php

use Illuminate\Database\Migrations\Migration;
use Illuminate\Database\Schema\Blueprint;
use Illuminate\Support\Facades\Schema;

return new class extends Migration {
    /**
     * Run the migrations.
     *
     * @return void
     */
    public function up()
    {
        Schema::create('maintenance_activity_logs', function (Blueprint $table) {
            $table->id();
            $table->foreignId('maintenance_plan_id')->constrained('maintenance_plans')->onDelete('cascade');
            $table->foreignId('user_id')->constrained();

            $table->string('action'); // status_change, file_upload
            $table->text('description');
            $table->timestamps();
        });
    }

    /**
     * Reverse the migrations.
     *
     * @return void
     */
    public function down()
    {
        Schema::dropIfExists('maintenance_activity_logs');
    }
};


----------------------------------------
DOSYA YOLU: database\migrations\2025_11_25_145638_add_soft_deletes_to_maintenance_tables.php
----------------------------------------

<?php

use Illuminate\Database\Migrations\Migration;
use Illuminate\Database\Schema\Blueprint;
use Illuminate\Support\Facades\Schema;

return new class extends Migration {
    /**
     * Run the migrations.
     *
     * @return void
     */
    public function up()
    {
        Schema::table('maintenance_tables', function (Blueprint $table) {
            // Ana Tablolar
            Schema::table('maintenance_plans', function (Blueprint $table) {
                $table->softDeletes();
            });
            Schema::table('maintenance_assets', function (Blueprint $table) {
                $table->softDeletes();
            });
            Schema::table('maintenance_types', function (Blueprint $table) {
                $table->softDeletes();
            });

            // Yan Tablolar
            Schema::table('maintenance_files', function (Blueprint $table) {
                $table->softDeletes();
            });
            Schema::table('maintenance_time_entries', function (Blueprint $table) {
                $table->softDeletes();
            });
        });
    }

    /**
     * Reverse the migrations.
     *
     * @return void
     */
    public function down()
    {
        Schema::table('maintenance_plans', function (Blueprint $table) {
            $table->dropSoftDeletes();
        });
        Schema::table('maintenance_assets', function (Blueprint $table) {
            $table->dropSoftDeletes();
        });
        Schema::table('maintenance_types', function (Blueprint $table) {
            $table->dropSoftDeletes();
        });
        Schema::table('maintenance_files', function (Blueprint $table) {
            $table->dropSoftDeletes();
        });
        Schema::table('maintenance_time_entries', function (Blueprint $table) {
            $table->dropSoftDeletes();
        });
    }
};


----------------------------------------
DOSYA YOLU: database\migrations\2025_11_25_161719_add_details_to_maintenance_assets_table.php
----------------------------------------

<?php

use Illuminate\Database\Migrations\Migration;
use Illuminate\Database\Schema\Blueprint;
use Illuminate\Support\Facades\Schema;

return new class extends Migration {
    /**
     * Run the migrations.
     *
     * @return void
     */
    public function up()
    {
        Schema::table('maintenance_assets', function (Blueprint $table) {
            $table->string('brand')->nullable()->after('name'); // Marka (Husky, Netstal)
            $table->string('model')->nullable()->after('brand'); // Model
            $table->string('serial_number')->nullable()->after('model'); // Seri No
            $table->year('manufacturing_year')->nullable()->after('serial_number'); // retim Yl
        });
    }

    /**
     * Reverse the migrations.
     *
     * @return void
     */
    public function down()
    {
        Schema::table('maintenance_assets', function (Blueprint $table) {
            $table->dropColumn(['brand', 'model', 'serial_number', 'manufacturing_year']);
        });
    }
};


----------------------------------------
DOSYA YOLU: database\migrations\2025_11_26_162944_create_roles_table.php
----------------------------------------

<?php

use Illuminate\Database\Migrations\Migration;
use Illuminate\Database\Schema\Blueprint;
use Illuminate\Support\Facades\Schema;

return new class extends Migration {
    /**
     * Run the migrations.
     *
     * @return void
     */
    public function up()
    {
        Schema::create('roles', function (Blueprint $table) {
            $table->id();
            $table->string('name'); // rn: Mdr
            $table->string('slug')->unique(); // rn: mudur (Kodda kullanacaz)
            $table->timestamps();
        });
    }

    /**
     * Reverse the migrations.
     *
     * @return void
     */
    public function down()
    {
        Schema::dropIfExists('roles');
    }
};


----------------------------------------
DOSYA YOLU: database\migrations\2025_11_26_164015_create_department_user_table.php
----------------------------------------

<?php

use Illuminate\Database\Migrations\Migration;
use Illuminate\Database\Schema\Blueprint;
use Illuminate\Support\Facades\Schema;

return new class extends Migration {
    /**
     * Run the migrations.
     *
     * @return void
     */
    public function up()
    {
        Schema::create('department_user', function (Blueprint $table) {
            $table->id();
            $table->foreignId('user_id')->constrained()->onDelete('cascade');

            // DKKAT: departments tablonuz zaten var, ona balanyoruz.
            $table->foreignId('department_id')->constrained()->onDelete('cascade');

            // Bir kullanc ayn departmana iki kere eklenmesin
            $table->unique(['user_id', 'department_id']);
        });
    }

    /**
     * Reverse the migrations.
     *
     * @return void
     */
    public function down()
    {
        Schema::dropIfExists('department_user');
    }
};


----------------------------------------
DOSYA YOLU: database\migrations\2025_11_26_164034_create_role_user_table.php
----------------------------------------

<?php

use Illuminate\Database\Migrations\Migration;
use Illuminate\Database\Schema\Blueprint;
use Illuminate\Support\Facades\Schema;

return new class extends Migration {
    /**
     * Run the migrations.
     *
     * @return void
     */
    public function up()
    {
        Schema::create('role_user', function (Blueprint $table) {
            $table->id();
            $table->foreignId('user_id')->constrained()->onDelete('cascade');
            $table->foreignId('role_id')->constrained()->onDelete('cascade');
            $table->unique(['user_id', 'role_id']);
        });
    }

    /**
     * Reverse the migrations.
     *
     * @return void
     */
    public function down()
    {
        Schema::dropIfExists('role_user');
    }
};


----------------------------------------
DOSYA YOLU: database\migrations\2025_11_26_180343_update_status_enum_in_maintenance_plans_table.php
----------------------------------------

<?php

use Illuminate\Database\Migrations\Migration;
use Illuminate\Database\Schema\Blueprint;
use Illuminate\Support\Facades\Schema;
use Illuminate\Support\Facades\DB;

return new class extends Migration {
    /**
     * Run the migrations.
     *
     * @return void
     */
    public function up()
    {
        DB::statement("ALTER TABLE maintenance_plans MODIFY COLUMN status ENUM('pending', 'in_progress', 'completed', 'cancelled', 'pending_approval') DEFAULT 'pending'");
    }

    /**
     * Reverse the migrations.
     *
     * @return void
     */
    public function down()
    {
        DB::statement("ALTER TABLE maintenance_plans MODIFY COLUMN status ENUM('pending', 'in_progress', 'completed', 'cancelled') DEFAULT 'pending'");

    }
};


----------------------------------------
DOSYA YOLU: database\migrations\2025_11_27_113355_add_completion_note_to_maintenance_plans.php
----------------------------------------

<?php

use Illuminate\Database\Migrations\Migration;
use Illuminate\Database\Schema\Blueprint;
use Illuminate\Support\Facades\Schema;

return new class extends Migration {
    /**
     * Run the migrations.
     *
     * @return void
     */
    public function up()
    {
        Schema::table('maintenance_plans', function (Blueprint $table) {
            $table->text('completion_note')->nullable()->after('actual_end_date');
        });
    }

    /**
     * Reverse the migrations.
     *
     * @return void
     */
    public function down()
    {
        Schema::table('maintenance_plans', function (Blueprint $table) {
            $table->dropColumn('completion_note');
        });
    }
};


----------------------------------------
DOSYA YOLU: database\migrations\2025_11_28_114437_add_assigned_by_to_vehicle_assignments_table.php
----------------------------------------

<?php

use Illuminate\Database\Migrations\Migration;
use Illuminate\Database\Schema\Blueprint;
use Illuminate\Support\Facades\Schema;

return new class extends Migration {
    /**
     * Run the migrations.
     *
     * @return void
     */
    public function up()
    {
        Schema::table('vehicle_assignments', function (Blueprint $table) {
            $table->unsignedBigInteger('assigned_by')->nullable()->after('status');
        });
    }

    /**
     * Reverse the migrations.
     *
     * @return void
     */
    public function down()
    {
        Schema::table('vehicle_assignments', function (Blueprint $table) {
            //
        });
    }
};


----------------------------------------
DOSYA YOLU: database\migrations\2025_11_28_114653_create_notifications_table.php
----------------------------------------

<?php

use Illuminate\Database\Migrations\Migration;
use Illuminate\Database\Schema\Blueprint;
use Illuminate\Support\Facades\Schema;

return new class extends Migration
{
    /**
     * Run the migrations.
     *
     * @return void
     */
    public function up()
    {
        Schema::create('notifications', function (Blueprint $table) {
            $table->uuid('id')->primary();
            $table->string('type');
            $table->morphs('notifiable');
            $table->text('data');
            $table->timestamp('read_at')->nullable();
            $table->timestamps();
        });
    }

    /**
     * Reverse the migrations.
     *
     * @return void
     */
    public function down()
    {
        Schema::dropIfExists('notifications');
    }
};


----------------------------------------
DOSYA YOLU: database\migrations\2025_12_01_104357_add_tracking_columns_to_vehicle_assignments_table.php
----------------------------------------

<?php

use Illuminate\Database\Migrations\Migration;
use Illuminate\Database\Schema\Blueprint;
use Illuminate\Support\Facades\Schema;

return new class extends Migration {
    /**
     * Run the migrations.
     *
     * @return void
     */
    public function up()
    {
        Schema::table('vehicle_assignments', function (Blueprint $table) {
            // Eer start_km yoksa onu da ekleyelim, varsa hata vermesin diye kontrol edebiliriz
            // Ama temiz olsun diye garanti eksik olanlar ekliyoruz:

            if (!Schema::hasColumn('vehicle_assignments', 'start_km')) {
                $table->decimal('start_km', 10, 1)->nullable()->after('vehicle_id')->comment('Balang Kilometresi');
            }

            if (!Schema::hasColumn('vehicle_assignments', 'end_km')) {
                $table->decimal('end_km', 10, 1)->nullable()->after('start_km')->comment('Biti Kilometresi');
            }

            if (!Schema::hasColumn('vehicle_assignments', 'start_fuel_level')) {
                $table->string('start_fuel_level')->nullable()->after('end_km')->comment('Balang Yakt: full, 1/2 vb.');
            }

            if (!Schema::hasColumn('vehicle_assignments', 'end_fuel_level')) {
                $table->string('end_fuel_level')->nullable()->after('start_fuel_level')->comment('Biti Yakt');
            }

            if (!Schema::hasColumn('vehicle_assignments', 'fuel_cost')) {
                $table->decimal('fuel_cost', 10, 2)->nullable()->after('end_fuel_level')->comment('Yakt Maliyeti (TL)');
            }
        });
    }

    public function down()
    {
        Schema::table('vehicle_assignments', function (Blueprint $table) {
            $table->dropColumn(['start_km', 'end_km', 'start_fuel_level', 'end_fuel_level', 'fuel_cost']);
        });
    }
};


----------------------------------------
DOSYA YOLU: database\migrations\2025_12_01_172237_create_files_table.php
----------------------------------------

<?php

use Illuminate\Database\Migrations\Migration;
use Illuminate\Database\Schema\Blueprint;
use Illuminate\Support\Facades\Schema;

return new class extends Migration {
    /**
     * Run the migrations.
     *
     * @return void
     */
    public function up()
    {
        Schema::create('files', function (Blueprint $table) {
            $table->id();
            // morphs: Hangi modele ait olduunu tutar (model_type + model_id)
            $table->morphs('fileable');
            $table->string('path'); // Dosya yolu
            $table->string('original_name'); // Dosyann orijinal ad (fatura.pdf)
            $table->string('mime_type')->nullable(); // pdf, jpg, png vs.
            $table->unsignedBigInteger('uploaded_by'); // Ykleyen kii
            $table->timestamps();
        });
    }

    /**
     * Reverse the migrations.
     *
     * @return void
     */
    public function down()
    {
        Schema::dropIfExists('files');
    }
};


----------------------------------------
DOSYA YOLU: database\migrations\2025_12_02_115236_create_event_types_table.php
----------------------------------------

<?php

use Illuminate\Database\Migrations\Migration;
use Illuminate\Database\Schema\Blueprint;
use Illuminate\Support\Facades\Schema;

return new class extends Migration {
    /**
     * Run the migrations.
     *
     * @return void
     */
    public function up()
    {
        Schema::create('event_types', function (Blueprint $table) {
            $table->id();
            $table->string('name'); // rn: Toplant
            $table->string('slug')->unique(); // rn: toplanti (Kod tarafnda kontrol iin)
            $table->string('color')->default('#3699FF'); // stersen her tura renk de verebilirsin
            $table->timestamps();
        });
    }

    /**
     * Reverse the migrations.
     *
     * @return void
     */
    public function down()
    {
        Schema::dropIfExists('event_types');
    }
};


----------------------------------------
DOSYA YOLU: database\migrations\2025_12_02_115607_add_event_type_id_to_events_table.php
----------------------------------------

<?php

use Illuminate\Database\Migrations\Migration;
use Illuminate\Database\Schema\Blueprint;
use Illuminate\Support\Facades\Schema;

return new class extends Migration {
    /**
     * Run the migrations.
     *
     * @return void
     */
    public function up()
    {
        Schema::table('events', function (Blueprint $table) {
            $table->foreignId('event_type_id')->nullable()->constrained('event_types');
        });
    }

    /**
     * Reverse the migrations.
     *
     * @return void
     */
    public function down()
    {
        Schema::table('events', function (Blueprint $table) {
            $table->dropForeign(['event_type_id']);
            $table->dropColumn('event_type_id');
        });
    }
};


----------------------------------------
DOSYA YOLU: database\migrations\2025_12_03_154710_add_time_columns_to_travels_table.php
----------------------------------------

<?php

use Illuminate\Database\Migrations\Migration;
use Illuminate\Database\Schema\Blueprint;
use Illuminate\Support\Facades\Schema;

return new class extends Migration {
    /**
     * Run the migrations.
     *
     * @return void
     */
    public function up()
    {
        Schema::table('travels', function (Blueprint $table) {
            $table->time('start_time')->nullable()->after('start_date');
            $table->time('end_time')->nullable()->after('end_date');
        });
    }

    /**
     * Reverse the migrations.
     *
     * @return void
     */
    public function down()
    {
        Schema::table('travels', function (Blueprint $table) {
            $table->dropColumn('start_time', 'end_time');
        });
    }
};


----------------------------------------
DOSYA YOLU: database\migrations\2025_12_03_164625_make_bookings_polymorphic.php
----------------------------------------

<?php

use Illuminate\Database\Migrations\Migration;
use Illuminate\Database\Schema\Blueprint;
use Illuminate\Support\Facades\Schema;

return new class extends Migration {
    /**
     * Run the migrations.
     *
     * @return void
     */
    public function up()
    {
        Schema::table('bookings', function (Blueprint $table) {
            $table->unsignedBigInteger('bookable_id')->nullable()->after('id');
            $table->string('bookable_type')->nullable()->after('bookable_id');
        });
        \DB::table('bookings')->whereNotNull('travel_id')->update([
            'bookable_id' => \DB::raw('travel_id'),
            'bookable_type' => 'App\Models\Travel'
        ]);

        Schema::table('bookings', function (Blueprint $table) {
            $table->dropForeign(['travel_id']);
            $table->dropColumn('travel_id');
        });
    }

    /**
     * Reverse the migrations.
     *
     * @return void
     */
    public function down()
    {
        Schema::table('bookings', function (Blueprint $table) {
            $table->unsignedBigInteger('travel_id')->nullable();
            $table->foreign('travel_id')->references('id')->on('travels')->onDelete('cascade');
        });

        \DB::table('bookings')->where('bookable_type', 'App\Models\Travel')->update([
            'travel_id' => \DB::raw('bookable_id')
        ]);

        Schema::table('bookings', function (Blueprint $table) {
            $table->dropColumn(['bookable_id', 'bookable_type']);
        });
    }
};


----------------------------------------
DOSYA YOLU: database\migrations\2025_12_04_100054_add_status_to_bookings_table.php
----------------------------------------

<?php

use Illuminate\Database\Migrations\Migration;
use Illuminate\Database\Schema\Blueprint;
use Illuminate\Support\Facades\Schema;

return new class extends Migration {
    /**
     * Run the migrations.
     *
     * @return void
     */
    public function up()
    {
        Schema::table('bookings', function (Blueprint $table) {
            // Varsaylan olarak 'planned' (planland) 
            // Dier seenekler: completed, cancelled, postponed
            $table->string('status')->default('planned')->after('cost');
        });
    }

    /**
     * Reverse the migrations.
     *
     * @return void
     */
    public function down()
    {
        Schema::table('bookings', function (Blueprint $table) {
            $table->dropColumn('status');
        });
    }
};


----------------------------------------
DOSYA YOLU: database\migrations\2025_12_04_145638_create_custom_permissions_table.php
----------------------------------------

<?php

use Illuminate\Database\Migrations\Migration;
use Illuminate\Database\Schema\Blueprint;
use Illuminate\Support\Facades\Schema;

return new class extends Migration {
    /**
     * Run the migrations.
     *
     * @return void
     */
    public function up()
    {
        // 1. YETKLER TABLOSU
        // Spatie'den fark: 'guard_name' yok, 'key' var.
        Schema::create('permissions', function (Blueprint $table) {
            $table->id();
            $table->string('key')->unique(); // Kodda kullanacamz anahtar (rn: manage_bookings)
            $table->string('name'); // Ekranda grnecek isim (rn: Rezervasyon Ynetimi)
            $table->timestamps();
        });

        // 2. ROL-YETK ARA TABLOSU
        // Senin mevcut 'roles' tablon ile yeni 'permissions' tablosunu balar.
        Schema::create('permission_role', function (Blueprint $table) {
            $table->id();

            // Senin mevcut 'roles' tablonun ID'sine balanr
            $table->foreignId('role_id')->constrained('roles')->onDelete('cascade');

            // Yukardaki 'permissions' tablosuna balanr
            $table->foreignId('permission_id')->constrained('permissions')->onDelete('cascade');

            $table->timestamps();
        });
    }

    /**
     * Reverse the migrations.
     *
     * @return void
     */
    public function down()
    {
        Schema::dropIfExists('permission_role');
        Schema::dropIfExists('permissions');
    }
};


----------------------------------------
DOSYA YOLU: database\migrations\2025_12_06_092332_create_shipments_vehicle_types_table.php
----------------------------------------

<?php

use Illuminate\Database\Migrations\Migration;
use Illuminate\Database\Schema\Blueprint;
use Illuminate\Support\Facades\Schema;

return new class extends Migration {
    /**
     * Run the migrations.
     *
     * @return void
     */
    public function up()
    {
        Schema::create('shipments_vehicle_types', function (Blueprint $table) {
            $table->id();
            $table->string('name'); // rn: Tr, Kamyon, Gemi
            $table->string('slug')->nullable(); // rn: tir, kamyon (url iin)
            $table->timestamps();
        });
    }

    /**
     * Reverse the migrations.
     *
     * @return void
     */
    public function down()
    {
        Schema::dropIfExists('shipments_vehicle_types');
    }
};


----------------------------------------
DOSYA YOLU: database\migrations\2025_12_11_100144_create_business_units_table.php
----------------------------------------

<?php

use Illuminate\Database\Migrations\Migration;
use Illuminate\Database\Schema\Blueprint;
use Illuminate\Support\Facades\Schema;

return new class extends Migration {
    /**
     * Run the migrations.
     *
     * @return void
     */
    public function up()
    {
        Schema::create('business_units', function (Blueprint $table) {
            $table->id();
            $table->string('name'); // rnek: Coped, Preform, Stre
            $table->string('code')->nullable(); // rnek: COP, PRE (Raporlarda ksaltma iin)
            $table->string('slug')->unique(); // URL dostu isim (coped-fabrikasi)
            $table->boolean('is_active')->default(true); // Yarn bir birim kapanrsa veriyi silme, pasife ek.
            $table->softDeletes(); // Senior kural: Asla fiziksel silme yapma.
            $table->timestamps();
        });
    }

    /**
     * Reverse the migrations.
     *
     * @return void
     */
    public function down()
    {
        Schema::dropIfExists('business_units');
    }
};


----------------------------------------
DOSYA YOLU: database\migrations\2025_12_11_100354_create_business_unit_user_table.php
----------------------------------------

<?php

use Illuminate\Database\Migrations\Migration;
use Illuminate\Database\Schema\Blueprint;
use Illuminate\Support\Facades\Schema;

return new class extends Migration {
    /**
     * Run the migrations.
     *
     * @return void
     */
    public function up()
    {
        Schema::create('business_unit_user', function (Blueprint $table) {
            $table->id();
            // Hangi Kullanc?
            $table->foreignId('user_id')->constrained()->onDelete('cascade');
            // Hangi Birim?
            $table->foreignId('business_unit_id')->constrained()->onDelete('cascade');

            // Bu kullancnn bu birimdeki zel rol var m? (Opsiyonel ama hayat kurtarr)
            // rnein Ahmet Lojistik Mdrdr ama Coped biriminde sadece "zleyici"dir.
            $table->string('role_in_unit')->nullable();

            $table->timestamps();

            // Ayn kullanc ayn birime iki kere eklenmesin
            $table->unique(['user_id', 'business_unit_id']);
        });
    }

    /**
     * Reverse the migrations.
     *
     * @return void
     */
    public function down()
    {
        Schema::dropIfExists('business_unit_user');
    }
};


----------------------------------------
DOSYA YOLU: database\migrations\2025_12_11_100524_add_business_unit_id_to_operational_tables.php
----------------------------------------

<?php

use Illuminate\Database\Migrations\Migration;
use Illuminate\Database\Schema\Blueprint;
use Illuminate\Support\Facades\Schema;

return new class extends Migration {
    /**
     * Run the migrations.
     *
     * @return void
     */
    public function up()
    {
        // Dizi iindeki tablolara tek seferde ekleme yapalm (Dinamik yaklam)
        $tables = [
            'shipments',
            'production_plans',
            'maintenance_assets',
            'vehicles',
            'complaints',
            'bookings'
        ];

        foreach ($tables as $tableName) {
            // Tablo var m kontrol (Hata almamak iin)
            if (Schema::hasTable($tableName)) {
                Schema::table($tableName, function (Blueprint $table) {
                    // foreignId ile ekliyoruz, nullable yapyoruz ki mevcut veriler patlamasn.
                    // leride verileri doldurunca nullable' kaldrabilirsin.
                    $table->foreignId('business_unit_id')
                        ->nullable()
                        ->after('id') // ID'den hemen sonra gelsin, gze arpsn
                        ->constrained('business_units');
                });
            }
        }
    }

    /**
     * Reverse the migrations.
     *
     * @return void
     */
    public function down()
    {
        $tables = ['shipments', 'production_plans', 'maintenance_assets', 'vehicles', 'complaints', 'bookings'];

        foreach ($tables as $tableName) {
            if (Schema::hasTable($tableName)) {
                Schema::table($tableName, function (Blueprint $table) {
                    $table->dropForeign(['business_unit_id']);
                    $table->dropColumn('business_unit_id');
                });
            }
        }
    }
};


----------------------------------------
DOSYA YOLU: database\migrations\2025_12_11_100615_add_audit_fields_to_tables.php
----------------------------------------

<?php

use Illuminate\Database\Migrations\Migration;
use Illuminate\Database\Schema\Blueprint;
use Illuminate\Support\Facades\Schema;

return new class extends Migration {
    /**
     * Run the migrations.
     *
     * @return void
     */
    public function up()
    {
        // Hangi tablolar izlenmeli? Neredeyse hepsi.
        $tables = [
            'shipments',
            'production_plans',
            'maintenance_plans',
            'complaints',
            'vehicles',
            'bookings',
            'events',
            'logistics_vehicles',
            'maintenance_assets',
            'maintenance_files',
            'travels',
            'vehicle_assignments'
        ];

        foreach ($tables as $tableName) {
            if (Schema::hasTable($tableName)) {
                Schema::table($tableName, function (Blueprint $table) {
                    // Kayd oluturan kii
                    $table->foreignId('created_by')->nullable()->constrained('users');

                    // Soft Delete (Eer tabloda yoksa ekle)
                    if (!Schema::hasColumn($table->getTable(), 'deleted_at')) {
                        $table->softDeletes();
                    }
                });
            }
        }
    }

    /**
     * Reverse the migrations.
     *
     * @return void
     */
    public function down()
    {
        Schema::table('tables', function (Blueprint $table) {
            //
        });
    }
};


----------------------------------------
DOSYA YOLU: database\migrations\2025_12_11_110919_create_permission_tables.php
----------------------------------------

<?php

use Illuminate\Database\Migrations\Migration;
use Illuminate\Database\Schema\Blueprint;
use Illuminate\Support\Facades\Schema;

return new class extends Migration
{
    /**
     * Run the migrations.
     */
    public function up(): void
    {
        $teams = config('permission.teams');
        $tableNames = config('permission.table_names');
        $columnNames = config('permission.column_names');
        $pivotRole = $columnNames['role_pivot_key'] ?? 'role_id';
        $pivotPermission = $columnNames['permission_pivot_key'] ?? 'permission_id';

        throw_if(empty($tableNames), Exception::class, 'Error: config/permission.php not loaded. Run [php artisan config:clear] and try again.');
        throw_if($teams && empty($columnNames['team_foreign_key'] ?? null), Exception::class, 'Error: team_foreign_key on config/permission.php not loaded. Run [php artisan config:clear] and try again.');

        Schema::create($tableNames['permissions'], static function (Blueprint $table) {
            // $table->engine('InnoDB');
            $table->bigIncrements('id'); // permission id
            $table->string('name');       // For MyISAM use string('name', 225); // (or 166 for InnoDB with Redundant/Compact row format)
            $table->string('guard_name'); // For MyISAM use string('guard_name', 25);
            $table->timestamps();

            $table->unique(['name', 'guard_name']);
        });

        Schema::create($tableNames['roles'], static function (Blueprint $table) use ($teams, $columnNames) {
            // $table->engine('InnoDB');
            $table->bigIncrements('id'); // role id
            if ($teams || config('permission.testing')) { // permission.testing is a fix for sqlite testing
                $table->unsignedBigInteger($columnNames['team_foreign_key'])->nullable();
                $table->index($columnNames['team_foreign_key'], 'roles_team_foreign_key_index');
            }
            $table->string('name');       // For MyISAM use string('name', 225); // (or 166 for InnoDB with Redundant/Compact row format)
            $table->string('guard_name'); // For MyISAM use string('guard_name', 25);
            $table->timestamps();
            if ($teams || config('permission.testing')) {
                $table->unique([$columnNames['team_foreign_key'], 'name', 'guard_name']);
            } else {
                $table->unique(['name', 'guard_name']);
            }
        });

        Schema::create($tableNames['model_has_permissions'], static function (Blueprint $table) use ($tableNames, $columnNames, $pivotPermission, $teams) {
            $table->unsignedBigInteger($pivotPermission);

            $table->string('model_type');
            $table->unsignedBigInteger($columnNames['model_morph_key']);
            $table->index([$columnNames['model_morph_key'], 'model_type'], 'model_has_permissions_model_id_model_type_index');

            $table->foreign($pivotPermission)
                ->references('id') // permission id
                ->on($tableNames['permissions'])
                ->onDelete('cascade');
            if ($teams) {
                $table->unsignedBigInteger($columnNames['team_foreign_key']);
                $table->index($columnNames['team_foreign_key'], 'model_has_permissions_team_foreign_key_index');

                $table->primary([$columnNames['team_foreign_key'], $pivotPermission, $columnNames['model_morph_key'], 'model_type'],
                    'model_has_permissions_permission_model_type_primary');
            } else {
                $table->primary([$pivotPermission, $columnNames['model_morph_key'], 'model_type'],
                    'model_has_permissions_permission_model_type_primary');
            }

        });

        Schema::create($tableNames['model_has_roles'], static function (Blueprint $table) use ($tableNames, $columnNames, $pivotRole, $teams) {
            $table->unsignedBigInteger($pivotRole);

            $table->string('model_type');
            $table->unsignedBigInteger($columnNames['model_morph_key']);
            $table->index([$columnNames['model_morph_key'], 'model_type'], 'model_has_roles_model_id_model_type_index');

            $table->foreign($pivotRole)
                ->references('id') // role id
                ->on($tableNames['roles'])
                ->onDelete('cascade');
            if ($teams) {
                $table->unsignedBigInteger($columnNames['team_foreign_key']);
                $table->index($columnNames['team_foreign_key'], 'model_has_roles_team_foreign_key_index');

                $table->primary([$columnNames['team_foreign_key'], $pivotRole, $columnNames['model_morph_key'], 'model_type'],
                    'model_has_roles_role_model_type_primary');
            } else {
                $table->primary([$pivotRole, $columnNames['model_morph_key'], 'model_type'],
                    'model_has_roles_role_model_type_primary');
            }
        });

        Schema::create($tableNames['role_has_permissions'], static function (Blueprint $table) use ($tableNames, $pivotRole, $pivotPermission) {
            $table->unsignedBigInteger($pivotPermission);
            $table->unsignedBigInteger($pivotRole);

            $table->foreign($pivotPermission)
                ->references('id') // permission id
                ->on($tableNames['permissions'])
                ->onDelete('cascade');

            $table->foreign($pivotRole)
                ->references('id') // role id
                ->on($tableNames['roles'])
                ->onDelete('cascade');

            $table->primary([$pivotPermission, $pivotRole], 'role_has_permissions_permission_id_role_id_primary');
        });

        app('cache')
            ->store(config('permission.cache.store') != 'default' ? config('permission.cache.store') : null)
            ->forget(config('permission.cache.key'));
    }

    /**
     * Reverse the migrations.
     */
    public function down(): void
    {
        $tableNames = config('permission.table_names');

        throw_if(empty($tableNames), Exception::class, 'Error: config/permission.php not found and defaults could not be merged. Please publish the package configuration before proceeding, or drop the tables manually.');

        Schema::drop($tableNames['role_has_permissions']);
        Schema::drop($tableNames['model_has_roles']);
        Schema::drop($tableNames['model_has_permissions']);
        Schema::drop($tableNames['roles']);
        Schema::drop($tableNames['permissions']);
    }
};


----------------------------------------
DOSYA YOLU: database\migrations\2025_12_11_115634_add_business_unit_id_to_maintenance_plans.php
----------------------------------------

<?php

use Illuminate\Database\Migrations\Migration;
use Illuminate\Database\Schema\Blueprint;
use Illuminate\Support\Facades\Schema;

return new class extends Migration {
    /**
     * Run the migrations.
     *
     * @return void
     */
    public function up()
    {
        Schema::table('maintenance_plans', function (Blueprint $table) {
            // Eer stun zaten varsa hata vermesin diye kontrol ediyoruz
            if (!Schema::hasColumn('maintenance_plans', 'business_unit_id')) {
                $table->foreignId('business_unit_id')
                    ->nullable() // Mevcut veriler patlamasn diye nullable
                    ->after('id')
                    ->constrained('business_units');
            }
        });
    }

    /**
     * Reverse the migrations.
     *
     * @return void
     */
    public function down()
    {
        Schema::table('maintenance_plans', function (Blueprint $table) {
            if (Schema::hasColumn('maintenance_plans', 'business_unit_id')) {
                $table->dropForeign(['business_unit_id']);
                $table->dropColumn('business_unit_id');
            }
        });
    }
};


----------------------------------------
DOSYA YOLU: database\migrations\2025_12_11_120048_add_business_unit_id_to_missing_tables.php
----------------------------------------

<?php

use Illuminate\Database\Migrations\Migration;
use Illuminate\Database\Schema\Blueprint;
use Illuminate\Support\Facades\Schema;

return new class extends Migration {
    /**
     * Run the migrations.
     *
     * @return void
     */
    public function up()
    {
        // Eksik olma ihtimali yksek olan tablolar listesi
        $tables = ['events', 'vehicle_assignments', 'travels'];

        foreach ($tables as $tableName) {
            // Tablo veritabannda var m?
            if (Schema::hasTable($tableName)) {
                Schema::table($tableName, function (Blueprint $table) use ($tableName) {
                    // Stun zaten var m? Yoksa ekle.
                    if (!Schema::hasColumn($tableName, 'business_unit_id')) {
                        $table->foreignId('business_unit_id')
                            ->nullable()
                            ->after('id') // ID'den sonraya koy
                            ->constrained('business_units');
                    }
                });
            }
        }
    }

    /**
     * Reverse the migrations.
     *
     * @return void
     */
    public function down()
    {
        $tables = ['events', 'vehicle_assignments', 'travels'];

        foreach ($tables as $tableName) {
            if (Schema::hasTable($tableName)) {
                Schema::table($tableName, function (Blueprint $table) use ($tableName) {
                    if (Schema::hasColumn($tableName, 'business_unit_id')) {
                        $table->dropForeign(['business_unit_id']);
                        $table->dropColumn('business_unit_id');
                    }
                });
            }
        }
    }
};


----------------------------------------
DOSYA YOLU: database\migrations\2025_12_11_153026_create_todos_table.php
----------------------------------------

<?php

use Illuminate\Database\Migrations\Migration;
use Illuminate\Database\Schema\Blueprint;
use Illuminate\Support\Facades\Schema;

return new class extends Migration {
    /**
     * Run the migrations.
     *
     * @return void
     */
    public function up()
    {
        Schema::create('todos', function (Blueprint $table) {
            $table->id();
            $table->foreignId('user_id')->constrained()->onDelete('cascade'); // Sahibi

            // letme Birimi (Fabrika) Balants - Kritik!
            $table->foreignId('business_unit_id')->nullable()->constrained()->onDelete('cascade');

            $table->string('title'); // Grev Bal
            $table->text('description')->nullable(); // Detay
            $table->dateTime('due_date')->nullable(); // Son Tarih (Varsa takvimde grnr)
            $table->boolean('is_completed')->default(false); // Tamamland m?
            $table->enum('priority', ['low', 'medium', 'high'])->default('medium'); // ncelik

            $table->softDeletes();
            $table->timestamps();
        });
    }

    /**
     * Reverse the migrations.
     *
     * @return void
     */
    public function down()
    {
        Schema::dropIfExists('todos');
    }
};


----------------------------------------
DOSYA YOLU: database\migrations\2025_12_15_142040_create_shipment_stops_table.php
----------------------------------------

<?php

use Illuminate\Database\Migrations\Migration;
use Illuminate\Database\Schema\Blueprint;
use Illuminate\Support\Facades\Schema;

return new class extends Migration {
    /**
     * Run the migrations.
     *
     * @return void
     */
    public function up()
    {
        Schema::create('shipment_stops', function (Blueprint $table) {
            $table->id();

            // Ana sevkiyat ile balant
            $table->unsignedBigInteger('shipment_id');

            // Durak/Mteri Ad (Nereye urad?)
            $table->string('location_name');

            // ndirilen Miktar (rn: 300 Ton)
            $table->string('dropped_amount');

            // Kalan Miktar (rn: 500 Ton - Bunu otomatik hesaplayp yazacaz)
            $table->string('remaining_amount');

            // lem Tarihi (Ne zaman indirdi?)
            $table->dateTime('stop_date');

            // Teslim Alan / Aklama
            $table->string('receiver_name')->nullable(); // Teslim alan
            $table->text('note')->nullable(); // Ekstra notlar

            $table->timestamps();

            // liki (shipments tablosundaki id silinirse bu duraklar da silinsin)
            $table->foreign('shipment_id')
                ->references('id')
                ->on('shipments')
                ->onDelete('cascade');
        });
    }

    /**
     * Reverse the migrations.
     *
     * @return void
     */
    public function down()
    {
        Schema::dropIfExists('shipment_stops');
    }
};


----------------------------------------
DOSYA YOLU: database\migrations\2025_12_16_145442_add_business_unit_id_to_maintenance_activity_logs_table.php
----------------------------------------

<?php

use Illuminate\Database\Migrations\Migration;
use Illuminate\Database\Schema\Blueprint;
use Illuminate\Support\Facades\Schema;

return new class extends Migration {
    /**
     * Run the migrations.
     *
     * @return void
     */
    public function up()
    {
        Schema::table('maintenance_activity_logs', function (Blueprint $table) {
            // Stunu ekliyoruz
            $table->unsignedBigInteger('business_unit_id')->nullable()->after('id');
        });
    }

    public function down()
    {
        Schema::table('maintenance_activity_logs', function (Blueprint $table) {
            $table->dropColumn('business_unit_id');
        });
    }
};


----------------------------------------
DOSYA YOLU: database\migrations\2025_12_16_150315_add_business_unit_id_to_all_tables.php
----------------------------------------

<?php

use Illuminate\Database\Migrations\Migration;
use Illuminate\Database\Schema\Blueprint;
use Illuminate\Support\Facades\Schema;

return new class extends Migration {
    /**
     * Stun eklenecek tablolarn listesi.
     */
    protected $tables = [
        'customer_activities',
        'customer_activity_logs',
        'customer_machines',
        'customer_visits',
        'logistics_vehicles',
        'service_schedules',
        'shipment_stops',
        'teams',
        'test_results',
        'maintenance_activity_logs' // Az nce hata aldn tabloyu da ekledim, garanti olsun.
    ];

    public function up(): void
    {
        foreach ($this->tables as $tableName) {
            // Tablo var m kontrol et (Hata almamak iin)
            if (Schema::hasTable($tableName)) {

                // Stun zaten var m kontrol et (Tekrar altrlrsa patlamasn)
                if (!Schema::hasColumn($tableName, 'business_unit_id')) {

                    Schema::table($tableName, function (Blueprint $table) {
                        // Stunu 'id'den hemen sonraya ekle, indeksle ve bo geilebilir yap
                        $table->unsignedBigInteger('business_unit_id')
                            ->nullable()
                            ->index()
                            ->after('id');
                    });
                }
            }
        }
    }

    public function down(): void
    {
        foreach ($this->tables as $tableName) {
            if (Schema::hasTable($tableName) && Schema::hasColumn($tableName, 'business_unit_id')) {
                Schema::table($tableName, function (Blueprint $table) {
                    $table->dropColumn('business_unit_id');
                });
            }
        }
    }
};

----------------------------------------
DOSYA YOLU: database\migrations\2026_01_02_165108_create_custom_field_definitions_table.php
----------------------------------------

<?php

use Illuminate\Database\Migrations\Migration;
use Illuminate\Database\Schema\Blueprint;
use Illuminate\Support\Facades\Schema;

return new class extends Migration {
    /**
     * Run the migrations.
     *
     * @return void
     */
    public function up()
    {
        Schema::create('custom_field_definitions', function (Blueprint $table) {
            $table->id();
            // Hangi Model iin? (rn: 'App\Models\Shipment' veya 'shipment')
            $table->string('model_scope')->index();

            $table->string('key');    // form_input_name
            $table->string('label');  // Ekranda grnen isim
            $table->string('type');   // text, select, date, number, boolean
            $table->json('options')->nullable(); // Select ise seenekler
            $table->boolean('is_required')->default(false);
            $table->integer('order')->default(0);
            $table->boolean('is_active')->default(true); // Alan silmek yerine pasife ekmek iin

            $table->unique(['model_scope', 'key']); // Ayn modelde ayn key olamaz
            $table->timestamps();
        });
    }

    /**
     * Reverse the migrations.
     *
     * @return void
     */
    public function down()
    {
        Schema::dropIfExists('custom_field_definitions');
    }
};


----------------------------------------
DOSYA YOLU: database\migrations\2026_01_02_165537_add_extras_column_to_tables.php
----------------------------------------

<?php

use Illuminate\Database\Migrations\Migration;
use Illuminate\Database\Schema\Blueprint;
use Illuminate\Support\Facades\Schema;

return new class extends Migration {
    protected $tables = [
        'meetings',           // Toplantlar
        'shipments',          // Lojistik / Sevkiyatlar
        'events',             // Takvim Etkinlikleri
        'vehicles',           // Aralar
        'maintenance_plans',  // Bakm Planlar
        'production_plans',   // retim Planlar
        'users',              // Belki personele de ek alan istersin (Kan grubu vb.)
    ];

    public function up()
    {
        foreach ($this->tables as $tableName) {
            // Tablo veritabannda var m diye kontrol edelim (Hata almamak iin)
            if (Schema::hasTable($tableName)) {
                Schema::table($tableName, function (Blueprint $table) {
                    // Eer daha nce eklenmediyse 'extras' stununu ekle
                    if (!Schema::hasColumn($table->getTable(), 'extras')) {
                        $table->json('extras')->nullable()->after('updated_at');
                    }
                });
            }
        }
    }

    public function down()
    {
        foreach ($this->tables as $tableName) {
            if (Schema::hasTable($tableName)) {
                Schema::table($tableName, function (Blueprint $table) {
                    if (Schema::hasColumn($table->getTable(), 'extras')) {
                        $table->dropColumn('extras');
                    }
                });
            }
        }
    }
};


----------------------------------------
DOSYA YOLU: database\migrations\2026_01_05_175123_add_business_unit_id_to_custom_field_definitions_table.php
----------------------------------------

<?php

use Illuminate\Database\Migrations\Migration;
use Illuminate\Database\Schema\Blueprint;
use Illuminate\Support\Facades\Schema;

return new class extends Migration {
    public function up()
    {
        Schema::table('custom_field_definitions', function (Blueprint $table) {
            $table->foreignId('business_unit_id')
                ->nullable()
                ->after('model_scope')
                ->constrained('business_units')
                ->onDelete('cascade');
        });
    }

    public function down()
    {
        Schema::table('custom_field_definitions', function (Blueprint $table) {
            $table->dropForeign(['business_unit_id']);
            $table->dropColumn('business_unit_id');
        });
    }
};


----------------------------------------
DOSYA YOLU: database\migrations\2026_01_07_102203_create_kanban_tables.php
----------------------------------------

<?php

use Illuminate\Database\Migrations\Migration;
use Illuminate\Database\Schema\Blueprint;
use Illuminate\Support\Facades\Schema;

return new class extends Migration {
    public function up()
    {
        // 1. KANBAN PANOLARI (BOARDS)
        // Hangi fabrika (business_unit) hangi modl iin pano kullanyor?
        Schema::create('kanban_boards', function (Blueprint $table) {
            $table->id();
            $table->unsignedBigInteger('business_unit_id'); // Fabrika/Birim ID (Senin yapna uygun)
            $table->string('name'); // rn: "Kopet Lojistik Panosu"

            // Hangi modle ait olduunu belirten scope (Kod tarafnda switch iin)
            // Deerler: 'maintenance', 'logistics', 'production', 'admin'
            $table->string('module_scope');

            $table->timestamps();

            // Bir fabrikada, bir modln sadece bir panosu olabilir (Opsiyonel kst)
            $table->unique(['business_unit_id', 'module_scope'], 'unique_board_per_unit');
        });

        // 2. KANBAN STUNLARI (COLUMNS)
        // Bekleyen, lemde, Onayland vb.
        Schema::create('kanban_columns', function (Blueprint $table) {
            $table->id();
            $table->foreignId('board_id')->constrained('kanban_boards')->onDelete('cascade');
            $table->string('title'); // Ekranda grnen isim
            $table->string('slug'); // Kod tarafnda yakalamak iin (rn: 'waiting', 'processing')
            $table->integer('order_index')->default(0); // Stunlarn yan yana sralamas
            $table->string('color_class')->nullable()->default('bg-gray-100'); // UI Renkleri
            $table->boolean('is_default')->default(false); // Yeni kartlar buraya dsn
            $table->timestamps();
        });

        // 3. KANBAN KARTLARI (CARDS) - POLIMORFIK YAPI
        // Mevcut tablolarn (shipments, maintenance_plans vs.) Kanban'daki izdm
        Schema::create('kanban_cards', function (Blueprint $table) {
            $table->id();
            $table->foreignId('column_id')->constrained('kanban_columns')->onDelete('cascade');

            // SHRL KISIM: Polymorphic liki
            // model_type -> 'App\Models\Shipment', 'App\Models\MaintenancePlan' vb.
            // model_id   -> lgili tablonun ID'si
            $table->morphs('model');

            $table->integer('sort_order')->default(0); // Stun iindeki yukar-aa sralamas
            $table->timestamps();

            // Performans iin Indexler
            // Bir stundaki kartlar hzl ekmek iin:
            $table->index(['column_id', 'sort_order']);
            // Bir modldeki (rn: shipment #15) kart hzl bulmak iin composite index zaten morphs ile gelir.
        });
    }

    public function down()
    {
        Schema::dropIfExists('kanban_cards');
        Schema::dropIfExists('kanban_columns');
        Schema::dropIfExists('kanban_boards');
    }
};

----------------------------------------
DOSYA YOLU: database\migrations\2026_01_07_155238_add_business_unit_id_to_users_table.php
----------------------------------------

<?php

use Illuminate\Database\Migrations\Migration;
use Illuminate\Database\Schema\Blueprint;
use Illuminate\Support\Facades\Schema;

return new class extends Migration {
    public function up()
    {
        Schema::table('users', function (Blueprint $table) {
            // business_unit_id stununu ekliyoruz (nullable olabilir, belki fabrika personeli deildir)
            $table->unsignedBigInteger('business_unit_id')->nullable()->after('id');

            // Opsiyonel: Foreign Key (Eer business_units tablon varsa)
            $table->foreign('business_unit_id')->references('id')->on('business_units')->nullOnDelete();
        });
    }

    public function down()
    {
        Schema::table('users', function (Blueprint $table) {
            $table->dropColumn('business_unit_id');
        });
    }
};


----------------------------------------
DOSYA YOLU: database\migrations\2026_01_07_171006_add_status_to_shipments_table.php
----------------------------------------

<?php

use Illuminate\Database\Migrations\Migration;
use Illuminate\Database\Schema\Blueprint;
use Illuminate\Support\Facades\Schema;

return new class extends Migration {
    public function up()
    {
        Schema::table('shipments', function (Blueprint $table) {
            // Varsaylan olarak 'pending' (Bekliyor) olsun
            $table->string('shipment_status')->default('pending')->after('business_unit_id');
        });
    }

    public function down()
    {
        Schema::table('shipments', function (Blueprint $table) {
            $table->dropColumn('shipment_status');
        });
    }
};


----------------------------------------
DOSYA YOLU: database\migrations\2026_01_08_171522_create_expenses_table.php
----------------------------------------

<?php

use Illuminate\Database\Migrations\Migration;
use Illuminate\Database\Schema\Blueprint;
use Illuminate\Support\Facades\Schema;

return new class extends Migration {
    public function up()
    {
        Schema::create('expenses', function (Blueprint $table) {
            $table->id();
            // Polymorphic iliki: Hem Travel, hem Event, hem de baka modllere balanabilir.
            $table->morphs('expensable');

            $table->string('category'); // Ulam, Konaklama, Yemek vb.
            $table->decimal('amount', 10, 2); // Tutar
            $table->string('currency', 3)->default('TRY'); // Para Birimi
            $table->string('description')->nullable(); // Aklama
            $table->date('receipt_date')->nullable(); // Fi Tarihi

            $table->unsignedBigInteger('created_by')->nullable(); // Ekleyen kullanc
            $table->timestamps();
            $table->softDeletes();
        });
    }

    public function down()
    {
        Schema::dropIfExists('expenses');
    }
};


----------------------------------------
DOSYA YOLU: database\seeders\AdminUserSeeder.php
----------------------------------------

<?php

namespace Database\Seeders;

use Illuminate\Database\Console\Seeds\WithoutModelEvents;
use Illuminate\Database\Seeder;
use Illuminate\Support\Facades\DB;
use Illuminate\Support\Facades\Hash;

class AdminUserSeeder extends Seeder
{
    /**
     * Run the database seeds.
     *
     * @return void
     */
    public function run()
    {
        DB::table('users')->insert([
            'name' => 'Admin User',
            'email' => 'admin@koksan.com',
            'password' => Hash::make('adminkoksan123'),
            'role' => 'admin',
            'email_verified_at' => now(),
            'created_at' => now(),
            'updated_at' => now(),
        ]);
    }
}


----------------------------------------
DOSYA YOLU: database\seeders\BirimSeeder.php
----------------------------------------

<?php

namespace Database\Seeders;

use Illuminate\Database\Console\Seeds\WithoutModelEvents;
use Illuminate\Database\Seeder;
  use App\Models\Birim;

class BirimSeeder extends Seeder
{
    /**
     * Run the database seeds.
     *
     * @return void
     */
    public function run()
    {
        Birim::create(['ad' => 'Ton']);
        Birim::create(['ad' => 'Adet']);
        Birim::create(['ad' => 'Palet']);
        Birim::create(['ad' => 'Koli']);
        Birim::create(['ad' => 'Litre']);
    }
}


----------------------------------------
DOSYA YOLU: database\seeders\DatabaseSeeder.php
----------------------------------------

<?php

namespace Database\Seeders;

// use Illuminate\Database\Console\Seeds\WithoutModelEvents;
use Illuminate\Database\Seeder;

class DatabaseSeeder extends Seeder
{
    /**
     * Seed the application's database.
     *
     * @return void
     */
    public function run()
    {
        // 1. nce eski verileri temizle (Mevcut kodunda vard, koruyoruz)
        $this->call(TransactionalDataCleanerSeeder::class);

        // 2. KRTK ADIM: Rolleri ve zinleri Ykle (Spatie)
        $this->call(RolePermissionSeeder::class);

        // 3. Admin Kullancs (Eer AdminUserSeeder'n varsa onu da aabilirsin)
        // $this->call(AdminUserSeeder::class);

        // 4. Dier veriler...
        // $this->call(MaintenanceSeeder::class);
        // $this->call(ShipmentsVehicleTypeSeeder::class);
    }
}

----------------------------------------
DOSYA YOLU: database\seeders\DepartmentSeeder.php
----------------------------------------

<?php

namespace Database\Seeders;

use Illuminate\Database\Console\Seeds\WithoutModelEvents;
use Illuminate\Database\Seeder;
use App\Models\Department;
use Illuminate\Support\Str;

class DepartmentSeeder extends Seeder
{
    /**
     * Run the database seeds.
     *
     * @return void
     */
    public function run(): void
    {
        $departments = [
            'Lojistik',
            'retim',
            'Hizmet'
        ];

        foreach ($departments as $departmentName) {
            Department::firstOrCreate([
                'slug' => Str::slug($departmentName)
            ], [
                'name' => $departmentName
            ]);
        }
    }
}


----------------------------------------
DOSYA YOLU: database\seeders\MaintenanceSeeder.php
----------------------------------------

<?php

namespace Database\Seeders;

use Illuminate\Database\Console\Seeds\WithoutModelEvents;
use Illuminate\Database\Seeder;
use App\Models\MaintenanceType;
use App\Models\MaintenanceAsset;

class MaintenanceSeeder extends Seeder
{
    /**
     * Run the database seeds.
     *
     * @return void
     */
    public function run()
    {
        // 1. BAKIM TRLER (Departman Alt Birimleri)
        // firstOrCreate kullanyoruz ki seeder' yanllkla 2 kere altrrsan ayn veriyi tekrar yazmasn.
        $types = [
            ['name' => 'Elektronik Bakm', 'color_code' => '#3498db'], // Mavi
            ['name' => 'Mekanik Bakm', 'color_code' => '#e74c3c'],   // Krmz
            ['name' => 'Yardmc letmeler', 'color_code' => '#2ecc71'], // Yeil
        ];

        foreach ($types as $type) {
            MaintenanceType::firstOrCreate(['name' => $type['name']], $type);
        }

        // 2. VARLIKLAR (Makineler, Zonelar, Tesisat)
        // Category stunu sayesinde hepsini tek tabloda ama ayr kategorilerde tutuyoruz.
        $assets = [
            // MAKNELER
            [
                'name' => 'CNC Lazer Kesim - 01',
                'category' => 'machine',
                'code' => 'CNC-LZR-01',
                'location' => 'retim Hol A',
                'description' => 'Ana retim lazer kesim makinesi. 3kW g.',
                'is_active' => true
            ],
            [
                'name' => 'Abkant Bkm - 03',
                'category' => 'machine',
                'code' => 'ABK-03',
                'location' => 'Bkm Hatt',
                'description' => 'Durmazlar marka abkant.',
                'is_active' => true
            ],
            [
                'name' => 'Vidal Kompresr',
                'category' => 'machine',
                'code' => 'KOMP-01',
                'location' => 'Kompresr Odas',
                'description' => 'Tm fabrikann hava ihtiyacn karlar.',
                'is_active' => true
            ],

            // ZONELAR (Blgeler)
            [
                'name' => 'Ykleme Rampas A',
                'category' => 'zone',
                'code' => 'ZONE-A',
                'location' => 'Lojistik Depo',
                'description' => 'Tr ykleme alan.',
                'is_active' => true
            ],
            [
                'name' => 'Yemekhane Binas',
                'category' => 'zone',
                'code' => 'ZONE-YMK',
                'location' => 'dari Bina Yan',
                'description' => 'Personel yemekhanesi ve mutfak.',
                'is_active' => true
            ],

            // TESSAT / SSTEMLER
            [
                'name' => 'Yangn Sndrme Sistemi',
                'category' => 'facility',
                'code' => 'FIRE-SYS',
                'location' => 'Tm Fabrika',
                'description' => 'Sprinkler ve pompa dairesi dahil.',
                'is_active' => true
            ],
        ];

        foreach ($assets as $asset) {
            MaintenanceAsset::firstOrCreate(['code' => $asset['code']], $asset);
        }
    }
}


----------------------------------------
DOSYA YOLU: database\seeders\RolePermissionSeeder.php
----------------------------------------

<?php

namespace Database\Seeders;

use Illuminate\Database\Seeder;
use Spatie\Permission\Models\Role;
use Spatie\Permission\Models\Permission;
use App\Models\User;

class RolePermissionSeeder extends Seeder
{
    public function run()
    {
        // 1. Cache Temizlii
        app()[\Spatie\Permission\PermissionRegistrar::class]->forgetCachedPermissions();

        // 2. ZNLER (Yetkiler) - Senin grseldeki 'manage_bookings'i de ekledim
        $permissions = [
            'view_dashboard',
            'view_logistics',
            'view_production',
            'view_maintenance',
            'view_administrative',
            'manage_users',
            'manage_bookings', // Rezervasyon ynetimi
            'manage_fleet',    // Filo ynetimi
            'approve_maintenance',
        ];

        foreach ($permissions as $permission) {
            Permission::firstOrCreate(['name' => $permission]);
        }

        // 3. ROLLER - Grselindeki verileri buraya iledim
        $roles = [
            'admin' => Permission::all(), // Admin her eyi yapar
            'yonetici' => Permission::all(),
            'mudur' => ['view_logistics', 'view_production'],
            'lojistik_personeli' => ['view_logistics'],
            'uretim_personeli' => ['view_production'],
            'idari_isler_personeli' => ['view_administrative'],
            'bakim_personeli' => ['view_maintenance'],
            'booking_manager' => ['view_administrative', 'manage_bookings'], // Rezervasyon Sorumlusu
            'fleet_manager' => ['view_administrative', 'manage_fleet'],      // Filo Sorumlusu
            'user' => ['view_dashboard'], // Standart kullanc
        ];

        foreach ($roles as $roleName => $rolePermissions) {
            // Rol olutur
            $role = Role::firstOrCreate(['name' => $roleName]);
            // Yetkileri ata
            $role->givePermissionTo($rolePermissions);
        }
    }
}

----------------------------------------
DOSYA YOLU: database\seeders\ServiceScheduleSeeder.php
----------------------------------------

<?php

namespace Database\Seeders;

use Illuminate\Database\Console\Seeds\WithoutModelEvents;
use Illuminate\Database\Seeder;
use App\Models\ServiceSchedule;
use App\Models\Vehicle;
use Illuminate\Support\Facades\DB;

class ServiceScheduleSeeder extends Seeder
{
    /**
     * Run the database seeds.
     *
     * @return void
     */
    public function run()
    {
        DB::table('service_schedules')->truncate();
        $defaultVehicle = Vehicle::where('is_active', true)->first();

        ServiceSchedule::firstOrCreate(
            ['name' => 'Sabah Kargo Turu'],
            [
                'departure_time' => '09:00:00',
                'cutoff_minutes' => 30, // 09:30 son
                'default_vehicle_id' => $defaultVehicle?->id
            ]
        );

        ServiceSchedule::firstOrCreate(
            ['name' => 'leden Sonra Kargo Turu'],
            [
                'departure_time' => '13:00:00',
                'cutoff_minutes' => 30, // 13:30 son
                'default_vehicle_id' => $defaultVehicle?->id
            ]
        );
    }
}


----------------------------------------
DOSYA YOLU: database\seeders\ShipmentsVehicleTypeSeeder.php
----------------------------------------

<?php

namespace Database\Seeders;

use Illuminate\Database\Console\Seeds\WithoutModelEvents;
use Illuminate\Database\Seeder;
use App\Models\ShipmentsVehicleType;

class ShipmentsVehicleTypeSeeder extends Seeder
{
    /**
     * Run the database seeds.
     *
     * @return void
     */
    public function run()
    {
        $types = [
            'Tr',
            'Kamyon',
            'Gemi',
            'Kamyonet'
        ];
        foreach ($types as $type) {
            ShipmentsVehicleType::firstOrCreate(['name' => $type]);
        }
    }
}


----------------------------------------
DOSYA YOLU: database\seeders\TransactionalDataCleanerSeeder.php
----------------------------------------

<?php

namespace Database\Seeders;

use Illuminate\Database\Seeder;
use Illuminate\Support\Facades\DB;
use Illuminate\Support\Facades\Schema;

class TransactionalDataCleanerSeeder extends Seeder
{
    /**
     * Run the database seeds.
     *
     * @return void
     */
    public function run()
    {
        // 1. Foreign Key kontroln kapat (Hata almamak iin art)
        Schema::disableForeignKeyConstraints();

        // 2. TEMZLENECEK TABLOLAR LSTES
        // Buraya "Demirbalar" hari, silinmesini istediin operasyonel tablolar yazyoruz.
        $tablesToTruncate = [
            'vehicle_assignments',       // Senin ana alma alann
            'notifications',             // Bildirimler
            'activity_log',              // Loglar
            'customer_activity_logs',
            'customer_activities',
            'customer_visits',
            'failed_jobs',
            'jobs',
            'test_results',
            'bookings',
            'complaints',
            'travels',
            'shipments',
            'maintenance_activity_logs',
            'maintenance_time_entries',
            'service_schedules',
            'files',                     // Dosya kaytlar (fiziksel dosyalar silmez, db kaydn siler)
            'media',
            'password_resets',
            'personal_access_tokens',
            'customers',
            'customer_machines',
            'vehicles',
            'logistics_vehicles',
        ];

        foreach ($tablesToTruncate as $table) {
            // Tablonun var olup olmadn kontrol et (Hata nleyici)
            if (Schema::hasTable($table)) {
                DB::table($table)->truncate();
                $this->command->info("Tablo temizlendi: $table");
            }
        }

        // 3. Foreign Key kontroln tekrar a
        Schema::enableForeignKeyConstraints();
    }
}

----------------------------------------
DOSYA YOLU: lang\en\auth.php
----------------------------------------

<?php

return [

    /*
    |--------------------------------------------------------------------------
    | Authentication Language Lines
    |--------------------------------------------------------------------------
    |
    | The following language lines are used during authentication for various
    | messages that we need to display to the user. You are free to modify
    | these language lines according to your application's requirements.
    |
    */

    'failed' => 'These credentials do not match our records.',
    'password' => 'The provided password is incorrect.',
    'throttle' => 'Too many login attempts. Please try again in :seconds seconds.',

];


----------------------------------------
DOSYA YOLU: lang\en\pagination.php
----------------------------------------

<?php

return [

    /*
    |--------------------------------------------------------------------------
    | Pagination Language Lines
    |--------------------------------------------------------------------------
    |
    | The following language lines are used by the paginator library to build
    | the simple pagination links. You are free to change them to anything
    | you want to customize your views to better match your application.
    |
    */

    'previous' => '&laquo; Previous',
    'next' => 'Next &raquo;',

];


----------------------------------------
DOSYA YOLU: lang\en\passwords.php
----------------------------------------

<?php

return [

    /*
    |--------------------------------------------------------------------------
    | Password Reset Language Lines
    |--------------------------------------------------------------------------
    |
    | The following language lines are the default lines which match reasons
    | that are given by the password broker for a password update attempt
    | has failed, such as for an invalid token or invalid new password.
    |
    */

    'reset' => 'Your password has been reset!',
    'sent' => 'We have emailed your password reset link!',
    'throttled' => 'Please wait before retrying.',
    'token' => 'This password reset token is invalid.',
    'user' => "We can't find a user with that email address.",

];


----------------------------------------
DOSYA YOLU: lang\en\validation.php
----------------------------------------

<?php

return [

    /*
    |--------------------------------------------------------------------------
    | Validation Language Lines
    |--------------------------------------------------------------------------
    |
    | The following language lines contain the default error messages used by
    | the validator class. Some of these rules have multiple versions such
    | as the size rules. Feel free to tweak each of these messages here.
    |
    */

    'accepted' => 'The :attribute must be accepted.',
    'accepted_if' => 'The :attribute must be accepted when :other is :value.',
    'active_url' => 'The :attribute is not a valid URL.',
    'after' => 'The :attribute must be a date after :date.',
    'after_or_equal' => 'The :attribute must be a date after or equal to :date.',
    'alpha' => 'The :attribute must only contain letters.',
    'alpha_dash' => 'The :attribute must only contain letters, numbers, dashes and underscores.',
    'alpha_num' => 'The :attribute must only contain letters and numbers.',
    'array' => 'The :attribute must be an array.',
    'ascii' => 'The :attribute must only contain single-byte alphanumeric characters and symbols.',
    'before' => 'The :attribute must be a date before :date.',
    'before_or_equal' => 'The :attribute must be a date before or equal to :date.',
    'between' => [
        'array' => 'The :attribute must have between :min and :max items.',
        'file' => 'The :attribute must be between :min and :max kilobytes.',
        'numeric' => 'The :attribute must be between :min and :max.',
        'string' => 'The :attribute must be between :min and :max characters.',
    ],
    'boolean' => 'The :attribute field must be true or false.',
    'confirmed' => 'The :attribute confirmation does not match.',
    'current_password' => 'The password is incorrect.',
    'date' => 'The :attribute is not a valid date.',
    'date_equals' => 'The :attribute must be a date equal to :date.',
    'date_format' => 'The :attribute does not match the format :format.',
    'decimal' => 'The :attribute must have :decimal decimal places.',
    'declined' => 'The :attribute must be declined.',
    'declined_if' => 'The :attribute must be declined when :other is :value.',
    'different' => 'The :attribute and :other must be different.',
    'digits' => 'The :attribute must be :digits digits.',
    'digits_between' => 'The :attribute must be between :min and :max digits.',
    'dimensions' => 'The :attribute has invalid image dimensions.',
    'distinct' => 'The :attribute field has a duplicate value.',
    'doesnt_end_with' => 'The :attribute may not end with one of the following: :values.',
    'doesnt_start_with' => 'The :attribute may not start with one of the following: :values.',
    'email' => 'The :attribute must be a valid email address.',
    'ends_with' => 'The :attribute must end with one of the following: :values.',
    'enum' => 'The selected :attribute is invalid.',
    'exists' => 'The selected :attribute is invalid.',
    'file' => 'The :attribute must be a file.',
    'filled' => 'The :attribute field must have a value.',
    'gt' => [
        'array' => 'The :attribute must have more than :value items.',
        'file' => 'The :attribute must be greater than :value kilobytes.',
        'numeric' => 'The :attribute must be greater than :value.',
        'string' => 'The :attribute must be greater than :value characters.',
    ],
    'gte' => [
        'array' => 'The :attribute must have :value items or more.',
        'file' => 'The :attribute must be greater than or equal to :value kilobytes.',
        'numeric' => 'The :attribute must be greater than or equal to :value.',
        'string' => 'The :attribute must be greater than or equal to :value characters.',
    ],
    'image' => 'The :attribute must be an image.',
    'in' => 'The selected :attribute is invalid.',
    'in_array' => 'The :attribute field does not exist in :other.',
    'integer' => 'The :attribute must be an integer.',
    'ip' => 'The :attribute must be a valid IP address.',
    'ipv4' => 'The :attribute must be a valid IPv4 address.',
    'ipv6' => 'The :attribute must be a valid IPv6 address.',
    'json' => 'The :attribute must be a valid JSON string.',
    'lowercase' => 'The :attribute must be lowercase.',
    'lt' => [
        'array' => 'The :attribute must have less than :value items.',
        'file' => 'The :attribute must be less than :value kilobytes.',
        'numeric' => 'The :attribute must be less than :value.',
        'string' => 'The :attribute must be less than :value characters.',
    ],
    'lte' => [
        'array' => 'The :attribute must not have more than :value items.',
        'file' => 'The :attribute must be less than or equal to :value kilobytes.',
        'numeric' => 'The :attribute must be less than or equal to :value.',
        'string' => 'The :attribute must be less than or equal to :value characters.',
    ],
    'mac_address' => 'The :attribute must be a valid MAC address.',
    'max' => [
        'array' => 'The :attribute must not have more than :max items.',
        'file' => 'The :attribute must not be greater than :max kilobytes.',
        'numeric' => 'The :attribute must not be greater than :max.',
        'string' => 'The :attribute must not be greater than :max characters.',
    ],
    'max_digits' => 'The :attribute must not have more than :max digits.',
    'mimes' => 'The :attribute must be a file of type: :values.',
    'mimetypes' => 'The :attribute must be a file of type: :values.',
    'min' => [
        'array' => 'The :attribute must have at least :min items.',
        'file' => 'The :attribute must be at least :min kilobytes.',
        'numeric' => 'The :attribute must be at least :min.',
        'string' => 'The :attribute must be at least :min characters.',
    ],
    'min_digits' => 'The :attribute must have at least :min digits.',
    'missing' => 'The :attribute field must be missing.',
    'missing_if' => 'The :attribute field must be missing when :other is :value.',
    'missing_unless' => 'The :attribute field must be missing unless :other is :value.',
    'missing_with' => 'The :attribute field must be missing when :values is present.',
    'missing_with_all' => 'The :attribute field must be missing when :values are present.',
    'multiple_of' => 'The :attribute must be a multiple of :value.',
    'not_in' => 'The selected :attribute is invalid.',
    'not_regex' => 'The :attribute format is invalid.',
    'numeric' => 'The :attribute must be a number.',
    'password' => [
        'letters' => 'The :attribute must contain at least one letter.',
        'mixed' => 'The :attribute must contain at least one uppercase and one lowercase letter.',
        'numbers' => 'The :attribute must contain at least one number.',
        'symbols' => 'The :attribute must contain at least one symbol.',
        'uncompromised' => 'The given :attribute has appeared in a data leak. Please choose a different :attribute.',
    ],
    'present' => 'The :attribute field must be present.',
    'prohibited' => 'The :attribute field is prohibited.',
    'prohibited_if' => 'The :attribute field is prohibited when :other is :value.',
    'prohibited_unless' => 'The :attribute field is prohibited unless :other is in :values.',
    'prohibits' => 'The :attribute field prohibits :other from being present.',
    'regex' => 'The :attribute format is invalid.',
    'required' => 'The :attribute field is required.',
    'required_array_keys' => 'The :attribute field must contain entries for: :values.',
    'required_if' => 'The :attribute field is required when :other is :value.',
    'required_if_accepted' => 'The :attribute field is required when :other is accepted.',
    'required_unless' => 'The :attribute field is required unless :other is in :values.',
    'required_with' => 'The :attribute field is required when :values is present.',
    'required_with_all' => 'The :attribute field is required when :values are present.',
    'required_without' => 'The :attribute field is required when :values is not present.',
    'required_without_all' => 'The :attribute field is required when none of :values are present.',
    'same' => 'The :attribute and :other must match.',
    'size' => [
        'array' => 'The :attribute must contain :size items.',
        'file' => 'The :attribute must be :size kilobytes.',
        'numeric' => 'The :attribute must be :size.',
        'string' => 'The :attribute must be :size characters.',
    ],
    'starts_with' => 'The :attribute must start with one of the following: :values.',
    'string' => 'The :attribute must be a string.',
    'timezone' => 'The :attribute must be a valid timezone.',
    'unique' => 'The :attribute has already been taken.',
    'uploaded' => 'The :attribute failed to upload.',
    'uppercase' => 'The :attribute must be uppercase.',
    'url' => 'The :attribute must be a valid URL.',
    'ulid' => 'The :attribute must be a valid ULID.',
    'uuid' => 'The :attribute must be a valid UUID.',

    /*
    |--------------------------------------------------------------------------
    | Custom Validation Language Lines
    |--------------------------------------------------------------------------
    |
    | Here you may specify custom validation messages for attributes using the
    | convention "attribute.rule" to name the lines. This makes it quick to
    | specify a specific custom language line for a given attribute rule.
    |
    */

    'custom' => [
        'attribute-name' => [
            'rule-name' => 'custom-message',
        ],
    ],

    /*
    |--------------------------------------------------------------------------
    | Custom Validation Attributes
    |--------------------------------------------------------------------------
    |
    | The following language lines are used to swap our attribute placeholder
    | with something more reader friendly such as "E-Mail Address" instead
    | of "email". This simply helps us make our message more expressive.
    |
    */

    'attributes' => [],

];


----------------------------------------
DOSYA YOLU: lang\tr\auth.php
----------------------------------------

<?php

return [

    /*
    |--------------------------------------------------------------------------
    | Authentication Language Lines
    |--------------------------------------------------------------------------
    |
    | The following language lines are used during authentication for various
    | messages that we need to display to the user. You are free to modify
    | these language lines according to your application's requirements.
    |
    */

    'failed' => 'Bu bilgiler kaytlarmzla uyumuyor.',
    'password' => 'Yanl parola!',
    'throttle' => 'ok fazla giri denemesi yapld. Ltfen :seconds saniye iinde tekrar deneyin.',

];


----------------------------------------
DOSYA YOLU: lang\tr\pagination.php
----------------------------------------

<?php

return [
    'previous' => '&laquo; nceki',
    'next' => 'Sonraki &raquo;',
];

----------------------------------------
DOSYA YOLU: lang\tr\roles.php
----------------------------------------

<?php

return [
    'admin' => 'Admin',
    'yonetici' => 'Ynetici',
    'mudur' => 'Mdr',
    'booking_manager' => 'Rezervasyon Sorumlusu',
    'fleet_manager' => 'Filo Yneticisi',
    'user' => 'Kullanc',
    'lojistik_personeli' => 'Lojistik Personeli',
    'uretim_personeli' => 'retim Personeli',
    'idari_isler_personeli' => 'dari ler Personeli',
    'bakim_personeli' => 'Bakm Personeli',
];

----------------------------------------
DOSYA YOLU: lang\tr\turkceDogrulamaMesajlari.php
----------------------------------------

<?php

return [
    'accepted' => ':attribute kabul edilmelidir.',
    'active_url' => ':attribute geerli bir URL olmaldr.',
    'after' => ':attribute undan daha eski bir tarih olmaldr :date.',
    'after_or_equal' => ':attribute undan daha eski veya ayn tarihte olmaldr :date.',
    'alpha' => ':attribute sadece harflerden olumaldr.',
    'alpha_dash' => ':attribute sadece harfler, rakamlar ve tirelerden olumaldr.',
    'alpha_num' => ':attribute sadece harfler ve rakamlar iermelidir.',
    'array' => ':attribute bir dizi olmaldr.',
    'before' => ':attribute undan daha nceki bir tarih olmaldr :date.',
    'before_or_equal' => ':attribute undan daha nceki veya ayn tarihte olmaldr :date.',
    'between' => [
        'numeric' => ':attribute :min - :max arasnda olmaldr.',
        'file' => ':attribute :min - :max arasndaki kilobayt deeri olmaldr.',
        'string' => ':attribute :min - :max arasnda karakterden olumaldr.',
        'array' => ':attribute :min - :max arasnda nesneye sahip olmaldr.',
    ],
    'boolean' => ':attribute sadece doru veya yanl olmaldr.',
    'confirmed' => ':attribute tekrar elemiyor.',
    'date' => ':attribute geerli bir tarih olmaldr.',
    'date_equals' => 'The :attribute must be a date equal to :date.',
    'date_format' => ':attribute :format biimi ile elemiyor.',
    'different' => ':attribute ile :other birbirinden farkl olmaldr.',
    'digits' => ':attribute :digits rakam olmaldr.',
    'digits_between' => ':attribute :min ile :max arasnda rakam olmaldr.',
    'dimensions' => ':attribute grsel lleri geersiz.',
    'distinct' => ':attribute alan yinelenen bir deere sahip.',
    'email' => ':attribute biimi geersiz.',
    'exists' => 'Seili :attribute geersiz.',
    'file' => ':attribute bir dosya olmaldr.',
    'filled' => ':attribute alannn doldurulmas zorunludur.',
    'gt' => [
        'numeric' => 'The :attribute must be greater than :value.',
        'file' => 'The :attribute must be greater than :value kilobytes.',
        'string' => 'The :attribute must be greater than :value characters.',
        'array' => 'The :attribute must have more than :value items.',
    ],
    'gte' => [
        'numeric' => 'The :attribute must be greater than or equal :value.',
        'file' => 'The :attribute must be greater than or equal :value kilobytes.',
        'string' => 'The :attribute must be greater than or equal :value characters.',
        'array' => 'The :attribute must have :value items or more.',
    ],
    'image' => ':attribute alan resim dosyas olmaldr.',
    'in' => ':attribute deeri geersiz.',
    'in_array' => ':attribute alan :other iinde mevcut deil.',
    'integer' => ':attribute tamsay olmaldr.',
    'ip' => ':attribute geerli bir IP adresi olmaldr.',
    'ipv4' => ':attribute geerli bir IPv4 adresi olmaldr.',
    'ipv6' => ':attribute geerli bir IPv6 adresi olmaldr.',
    'json' => ':attribute geerli bir JSON deikeni olmaldr.',
    'lt' => [
        'numeric' => 'The :attribute must be less than :value.',
        'file' => 'The :attribute must be less than :value kilobytes.',
        'string' => 'The :attribute must be less than :value characters.',
        'array' => 'The :attribute must have less than :value items.',
    ],
    'lte' => [
        'numeric' => 'The :attribute must be less than or equal :value.',
        'file' => 'The :attribute must be less than or equal :value kilobytes.',
        'string' => 'The :attribute must be less than or equal :value characters.',
        'array' => 'The :attribute must not have more than :value items.',
    ],
    'max' => [
        'numeric' => ':attribute deeri :max deerinden kk olmaldr.',
        'file' => ':attribute deeri :max kilobayt deerinden kk olmaldr.',
        'string' => ':attribute deeri :max karakter deerinden kk olmaldr.',
        'array' => ':attribute deeri :max adedinden az nesneye sahip olmaldr.',
    ],
    'mimes' => ':attribute dosya biimi :values olmaldr.',
    'mimetypes' => ':attribute dosya biimi :values olmaldr.',
    'min' => [
        'numeric' => ':attribute deeri :min deerinden byk olmaldr.',
        'file' => ':attribute deeri :min kilobayt deerinden byk olmaldr.',
        'string' => ':attribute deeri :min karakter deerinden byk olmaldr.',
        'array' => ':attribute en az :min nesneye sahip olmaldr.',
    ],
    'not_in' => 'Seili :attribute geersiz.',
    'not_regex' => 'The :attribute format is invalid.',
    'numeric' => ':attribute say olmaldr.',
    'present' => ':attribute alan mevcut olmaldr.',
    'regex' => ':attribute biimi geersiz.',
    'required' => ':attribute alan gereklidir.',
    'required_if' => ':attribute alan, :other :value deerine sahip olduunda zorunludur.',
    'required_unless' => ':attribute alan, :other alan :values deerlerinden birine sahip olmadnda zorunludur.',
    'required_with' => ':attribute alan :values varken zorunludur.',
    'required_with_all' => ':attribute alan herhangi bir :values deeri varken zorunludur.',
    'required_without' => ':attribute alan :values yokken zorunludur.',
    'required_without_all' => ':attribute alan :values deerlerinden herhangi biri yokken zorunludur.',
    'same' => ':attribute ile :other elemelidir.',
    'size' => [
        'numeric' => ':attribute :size olmaldr.',
        'file' => ':attribute :size kilobyte olmaldr.',
        'string' => ':attribute :size karakter olmaldr.',
        'array' => ':attribute :size nesneye sahip olmaldr.',
    ],
    'starts_with' => ':attribute unlardan biriyle balamaldr: :values',
    'string' => ':attribute dizge olmaldr.',
    'timezone' => ':attribute geerli bir saat dilimi olmaldr.',
    'unique' => ':attribute daha nceden kayt edilmi.',
    'uploaded' => ':attribute yklemesi baarsz.',
    'url' => ':attribute biimi geersiz.',
    'uuid' => ':attribute geerli bir UUID olmaldr.',

    'custom' => [
        'attribute-name' => [
            'rule-name' => 'custom-message',
        ],
    ],
];

----------------------------------------
DOSYA YOLU: lang\tr\turkceKimlikDogrulamaMesajlari.php
----------------------------------------

<?php

return [
    /*
    |--------------------------------------------------------------------------
    | Kimlik Dorulama
    |--------------------------------------------------------------------------
    |
    | Aadaki metinler kimlik dorulama (giri) srasnda kullanclara
    | gsterilebilecek eitli mesajlar iermektedir. Bu metinleri
    | uygulamanzn gereksinimlerine gre dzenlemekte zgrsnz.
    |
    */

    'failed'   => 'Girilmi olan kullanc verileri sistemdekiler ile elememektedir.',
    'password' => 'Girilen ifre yanl.',
    'throttle' => 'ok fazla giri denemesi yapld. Ltfen :seconds saniye sonra tekrar deneyiz.',
];


----------------------------------------
DOSYA YOLU: lang\tr\turkceSifreSifirlamaMesajlari.php
----------------------------------------

<?php

return [
    /*
    |--------------------------------------------------------------------------
    | Parola Sfrlama
    |--------------------------------------------------------------------------
    |
    | Aadaki metinler, parolasn unutan kullanclara gnderilen
    | e-postalarda veya parola sfrlama ilemlerinde gsterilen mesajlardr.
    |
    */

    'reset'     => 'Parolanz sfrland!',
    'sent'      => 'Parola sfrlama balantnz e-posta ile gnderildi!',
    'throttled' => 'Ltfen tekrar denemeden nce bekleyin.',
    'token'     => 'Parola sfrlama adresi/kodu geersiz.',
    'user'      => 'Bu e-posta adresine sahip bir kullanc bulunamad.',
];


----------------------------------------
DOSYA YOLU: resources\css\app.css
----------------------------------------


----------------------------------------
DOSYA YOLU: resources\js\app.js
----------------------------------------

import './bootstrap';


----------------------------------------
DOSYA YOLU: resources\js\bootstrap.js
----------------------------------------

import 'bootstrap';

/**
 * We'll load the axios HTTP library which allows us to easily issue requests
 * to our Laravel back-end. This library automatically handles sending the
 * CSRF token as a header based on the value of the "XSRF" token cookie.
 */

import axios from 'axios';
window.axios = axios;

window.axios.defaults.headers.common['X-Requested-With'] = 'XMLHttpRequest';

/**
 * Echo exposes an expressive API for subscribing to channels and listening
 * for events that are broadcast by Laravel. Echo and event broadcasting
 * allows your team to easily build robust real-time web applications.
 */

// import Echo from 'laravel-echo';

// import Pusher from 'pusher-js';
// window.Pusher = Pusher;

// window.Echo = new Echo({
//     broadcaster: 'pusher',
//     key: import.meta.env.VITE_PUSHER_APP_KEY,
//     cluster: import.meta.env.VITE_PUSHER_APP_CLUSTER ?? 'mt1',
//     wsHost: import.meta.env.VITE_PUSHER_HOST ?? `ws-${import.meta.env.VITE_PUSHER_APP_CLUSTER}.pusher.com`,
//     wsPort: import.meta.env.VITE_PUSHER_PORT ?? 80,
//     wssPort: import.meta.env.VITE_PUSHER_PORT ?? 443,
//     forceTLS: (import.meta.env.VITE_PUSHER_SCHEME ?? 'https') === 'https',
//     enabledTransports: ['ws', 'wss'],
// });


----------------------------------------
DOSYA YOLU: resources\views\general-calendar.blade.php
----------------------------------------

@extends('layouts.app')
@section('title', 'Genel KKSAN Takvimi')

@push('styles')
    <style>
        /* === 1. SAYFA VE LAYOUT === */
        #app>main.py-4 {
            padding: 2.5rem 0 !important;
            min-height: calc(100vh - 72px);
            background: linear-gradient(-45deg, #dbe4ff, #fde2ff, #d9fcf7, #fff0d9);
            background-size: 400% 400%;
            animation: gradientWave 18s ease infinite;
        }

        @keyframes gradientWave {
            0% {
                background-position: 0% 50%;
            }

            50% {
                background-position: 100% 50%;
            }

            100% {
                background-position: 0% 50%;
            }
        }

        .wide-container {
            max-width: 95% !important;
            margin-left: auto;
            margin-right: auto;
        }

        /* === 2. KART TASARIMLARI === */
        .create-shipment-card {
            border-radius: 1.25rem;
            box-shadow: 0 8px 32px rgba(0, 0, 0, 0.08);
            border: 1px solid rgba(255, 255, 255, 0.4);
            background-color: rgba(255, 255, 255, 0.85);
            backdrop-filter: blur(10px);
            transition: transform 0.2s ease, box-shadow 0.2s ease;
        }

        .create-shipment-card:hover {
            transform: translateY(-2px);
            box-shadow: 0 12px 40px rgba(0, 0, 0, 0.12);
        }

        .create-shipment-card .card-header {
            background: linear-gradient(135deg, rgba(102, 126, 234, 0.1), rgba(118, 75, 162, 0.1));
            border-bottom: 1px solid rgba(102, 126, 234, 0.2);
            font-weight: 700;
            font-size: 1.1rem;
            color: #2d3748;
            padding: 1.25rem 1.5rem;
            border-radius: 1.25rem 1.25rem 0 0;
        }

        .create-shipment-card .card-body {
            padding: 1.5rem;
        }

        /* === 3. FULLCALENDAR YLETRMELER === */
        #calendar {
            background: rgba(255, 255, 255, 0.4);
            border-radius: 1rem;
            padding: 10px;
        }

        .fc .fc-daygrid-day-frame {
            min-height: 160px !important;
            transition: background-color 0.2s;
        }

        .fc .fc-daygrid-day.fc-day-today {
            background-color: rgba(102, 126, 234, 0.08) !important;
        }

        /* === TAKVM YAZI BOYUTLARI === */
        .fc .fc-col-header-cell-cushion {
            /* Gn isimlerini (Pzt, Sal) bytelim */
            font-size: 1.1rem;
            padding-top: 10px;
            padding-bottom: 10px;
        }

        .fc-daygrid-day-number {
            /* Ayn gn numaralarn bytelim */
            font-size: 1.1rem;
            font-weight: bold;
            color: #4a5568;
            padding: 8px !important;
        }

        .fc-event {
            border: none !important;
            margin: 1px 2px !important;
            padding: 4px 8px;
            font-size: 0.9rem;
            margin-bottom: 2px !important;
            border-radius: 4px;
            box-shadow: 0 1px 3px rgba(0, 0, 0, 0.05);
            cursor: pointer;
            transition: transform 0.2s;
        }

        .fc-event:hover {
            transform: scale(1.03);
            z-index: 50;
        }

        .fc-event-main {
            white-space: nowrap;
            overflow: hidden;
            text-overflow: ellipsis;
            display: block !important;
        }

        .fc-daygrid-more-link {
            color: #667EEA !important;
            font-weight: 700;
            font-size: 0.75rem;
            text-decoration: none;
        }

        .fc .fc-button-primary {
            background: linear-gradient(135deg, #667EEA, #764BA2);
            border: none;
            font-weight: 600;
        }

        /* === 4. BUTON VE ALERT STLLER === */
        .btn-animated-gradient {
            background: linear-gradient(-45deg, #667EEA, #F093FB, #4FD1C5, #FBD38D);
            background-size: 400% 400%;
            animation: gradientWave 18s ease infinite;
            border: none;
            color: white;
            font-weight: 700;
            border-radius: 0.75rem;
            padding: 0.75rem 1.5rem;
            text-transform: uppercase;
            letter-spacing: 0.5px;
            transition: transform 0.2s ease-out, box-shadow 0.2s ease-out;
        }

        .btn-animated-gradient:hover {
            color: white;
            transform: scale(1.05) translateY(-2px);
            box-shadow: 0 8px 20px rgba(0, 0, 0, 0.15);
        }

        .btn-info {
            background: linear-gradient(135deg, #4FD1C5, #38B2AC);
            color: white !important;
            border: none;
        }

        .btn-secondary {
            background: linear-gradient(135deg, #718096, #4a5568);
            color: white;
            border: none;
        }

        .btn-primary {
            background: linear-gradient(135deg, #667EEA, #764BA2);
            border: none;
        }

        .btn-danger {
            background: linear-gradient(135deg, #FC8181, #F56565);
            color: white;
            border: none;
        }

        .btn:hover {
            transform: translateY(-2px);
            box-shadow: 0 6px 16px rgba(0, 0, 0, 0.15);
        }

        .alert {
            border-radius: 1rem;
            border: none;
            backdrop-filter: blur(10px);
        }

        .alert-success {
            background: rgba(72, 187, 120, 0.15);
            color: #2f855a;
            border-left: 4px solid #48bb78;
        }

        .alert-danger {
            background: rgba(245, 101, 101, 0.15);
            color: #c53030;
            border-left: 4px solid #f56565;
        }

        /* === 5. MODAL STLLER === */
        .modal-backdrop.show {
            background: rgba(0, 0, 0, 0.6);
            backdrop-filter: blur(8px);
        }

        #detailModal .modal-content {
            border: none;
            border-radius: 24px;
            box-shadow: 0 25px 80px rgba(0, 0, 0, 0.25);
            background: rgba(255, 255, 255, 0.98);
        }

        #detailModal .modal-header {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
            padding: 2rem 2.5rem;
            position: relative;
            overflow: hidden;
        }

        #detailModal .modal-header::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background: url('data:image/svg+xml,<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 1440 320"><path fill="rgba(255,255,255,0.1)" d="M0,96L48,112C96,128,192,160,288,160C384,160,480,128,576,122.7C672,117,768,139,864,154.7C960,171,1056,181,1152,165.3C1248,149,1344,107,1392,85.3L1440,64L1440,320L1392,320C1344,320,1248,320,1152,320C1056,320,960,320,864,320C768,320,672,320,576,320C480,320,384,320,288,320C192,320,96,320,48,320L0,320Z"></path></svg>') bottom center / cover no-repeat;
            opacity: 0.3;
            pointer-events: none;
        }

        #detailModal .btn-close {
            background-color: rgba(255, 255, 255, 0.2);
            border-radius: 50%;
            width: 40px;
            height: 40px;
            color: white;
            opacity: 1;
            display: flex;
            align-items: center;
            justify-content: center;
        }

        #detailModal .btn-close:hover {
            background-color: rgba(255, 255, 255, 0.4);
            transform: rotate(90deg);
        }

        .modal-info-card {
            background: white;
            border-radius: 16px;
            padding: 1.5rem;
            margin-bottom: 1.5rem;
            border: 1px solid rgba(102, 126, 234, 0.15);
            box-shadow: 0 4px 15px rgba(0, 0, 0, 0.06);
            transition: all 0.3s ease;
        }

        .modal-info-card:hover {
            transform: translateY(-2px);
            box-shadow: 0 8px 25px rgba(102, 126, 234, 0.15);
        }

        #modalEditButton {
            background: linear-gradient(135deg, #ffa726, #fb8c00);
            color: white;
            box-shadow: 0 4px 15px rgba(255, 167, 38, 0.4);
        }

        #modalExportButton {
            background: linear-gradient(135deg, #4fd1c5, #38b2ac);
            color: white;
            box-shadow: 0 4px 15px rgba(79, 209, 197, 0.4);
        }

        #modalOnayForm .btn-success {
            background: linear-gradient(135deg, #48bb78, #38a169);
            color: white;
            box-shadow: 0 4px 15px rgba(72, 187, 120, 0.4);
        }

        #modalOnayKaldirForm .btn-warning {
            background: linear-gradient(135deg, #f6ad55, #ed8936);
            color: white;
            box-shadow: 0 4px 15px rgba(246, 173, 85, 0.4);
        }

        #modalDeleteForm .btn-danger {
            background: linear-gradient(135deg, #fc8181, #f56565);
            color: white;
            box-shadow: 0 4px 15px rgba(245, 101, 101, 0.4);
        }

        .modal-loading {
            display: flex;
            justify-content: center;
            align-items: center;
            min-height: 200px;
        }

        .modal-spinner {
            border: 4px solid rgba(102, 126, 234, 0.2);
            border-top: 4px solid #667eea;
            border-radius: 50%;
            width: 48px;
            height: 48px;
            animation: spin 1s linear infinite;
        }

        .fc-event-holiday {
            font-weight: 600;
            border: none !important;
            background: linear-gradient(135deg, #ff6b6b 0%, #ee5a6f 100%) !important;
            box-shadow: 0 2px 8px rgba(220, 53, 69, 0.3);
            border-radius: 4px;
            position: relative;
            overflow: hidden;
            padding: 3px 6px;
            font-size: 11px;
            white-space: nowrap;
            text-overflow: ellipsis;
            max-width: 100%;
            display: block;
            transition: all 0.3s ease;
            cursor: pointer;
        }

        .fc-event-holiday::before {
            content: '';
            position: absolute;
            top: 0;
            left: -100%;
            width: 100%;
            height: 100%;
            background: linear-gradient(90deg, transparent, rgba(255, 255, 255, 0.3), transparent);
            animation: shine 3s infinite;
            pointer-events: none;
        }

        .fc-event-holiday:hover {
            transform: scale(1.05);
            z-index: 1000;
            white-space: normal;
            min-width: max-content;
            box-shadow: 0 4px 12px rgba(220, 53, 69, 0.5);
            overflow: visible;
        }

        @keyframes shine {
            to {
                left: 100%;
            }
        }

        @keyframes spin {
            0% {
                transform: rotate(0deg);
            }

            100% {
                transform: rotate(360deg);
            }
        }

        .event-important-pulse {
            border: 2px solid #ff4136 !important;
            animation: pulse-animation 2s infinite;
        }

        @keyframes pulse-animation {
            0% {
                box-shadow: 0 0 0 0 rgba(255, 65, 54, 0.7);
            }

            70% {
                box-shadow: 0 0 0 10px rgba(255, 65, 54, 0);
            }

            100% {
                box-shadow: 0 0 0 0 rgba(255, 65, 54, 0);
            }
        }

        .custom-calendar-tooltip .tooltip-inner {
            background-color: #ffffff !important;
            color: #2d3748 !important;
            box-shadow: 0 10px 30px rgba(0, 0, 0, 0.15) !important;
            border: 1px solid rgba(102, 126, 234, 0.2);
            border-radius: 12px !important;
            padding: 12px 16px !important;
            font-size: 0.9rem;
            max-width: 300px;
            text-align: left;
            font-family: system-ui, -apple-system, sans-serif;
            z-index: 10000;
        }

        .custom-calendar-tooltip .tooltip-arrow::before {
            border-top-color: #ffffff !important;
            border-bottom-color: #ffffff !important;
            border-left-color: #ffffff !important;
            border-right-color: #ffffff !important;
        }

        .tooltip-title-styled {
            font-weight: 700;
            color: #667EEA;
            margin-bottom: 4px;
            display: block;
            border-bottom: 1px solid #f0f0f0;
            padding-bottom: 4px;
        }

        .tooltip-desc-styled {
            font-size: 0.8rem;
            color: #718096;
            line-height: 1.4;
        }

        /* === MOBL N ZEL AYARLAR (RESPONSIVE KORUMA) === */
        @media (max-width: 768px) {
            .wide-container {
                max-width: 100% !important;
                padding: 0 10px;
            }

            /* Mobilde hcreler ok uzun olursa ekran kaydrmak zorlar, mobilde ksalm */
            .fc .fc-daygrid-day-frame {
                min-height: 80px !important;
            }

            .fc-event {
                font-size: 0.75rem !important;
                /* Mobilde fontu kltelim */
                padding: 2px 4px !important;
            }

            .fc .fc-toolbar-title {
                font-size: 1.2rem !important;
                /* Bal mobilde tamamas iin kltelim */
            }
        }
    </style>
@endpush

@section('content')
    <div class="container-fluid wide-container">
        <div class="row justify-content-center">
            <div class="col-md-11">
                <div class="card create-shipment-card">
                    <div class="card-header"> Genel KKSAN Takvimi</div>
                    <div class="card-body">
                        {{-- FLTRELEME ALANI (BAKIM EKLEND) --}}
                        @php
                            // Admin veya Departman Olmayan Ynetici ise TRUE
                            $canFilter =
                                Auth::user()->role === 'admin' ||
                                (Auth::user()->role === 'ynetici' && is_null(Auth::user()->department_id));
                        @endphp

                        @if ($canFilter)
                            <div class="calendar-filters p-3 mb-3"
                                style="background: rgba(102, 126, 234, 0.05); border-radius: 0.75rem;">
                                <strong class="me-3"><i class="fa-solid fa-filter"></i> Filtrele:</strong>

                                <div class="form-check form-check-inline">
                                    <input class="form-check-input" type="checkbox" value="lojistik" id="filterLojistik"
                                        checked>
                                    <label class="form-check-label" for="filterLojistik"
                                        style="color: #667EEA;">Lojistik</label>
                                </div>
                                <div class="form-check form-check-inline">
                                    <input class="form-check-input" type="checkbox" value="uretim" id="filterUretim"
                                        checked>
                                    <label class="form-check-label" for="filterUretim"
                                        style="color: #4FD1C5;">retim</label>
                                </div>
                                <div class="form-check form-check-inline">
                                    <input class="form-check-input" type="checkbox" value="hizmet" id="filterHizmet"
                                        checked>
                                    <label class="form-check-label" for="filterHizmet" style="color: #F093FB;">dari
                                        ler</label>
                                </div>
                                {{-- YEN EKLENEN BAKIM FLTRES --}}
                                <div class="form-check form-check-inline">
                                    <input class="form-check-input" type="checkbox" value="bakim" id="filterBakim" checked>
                                    <label class="form-check-label" for="filterBakim" style="color: #ED8936;">Bakm</label>
                                </div>

                                <div class="form-check form-check-inline">
                                    <input class="form-check-input" type="checkbox" value="important" id="filterImportant">
                                    <label class="form-check-label" for="filterImportant"
                                        style="color: #dc3545;"><strong>Sadece
                                            nemliler</strong></label>
                                </div>
                            </div>
                        @endif
                        <div id='calendar' data-current-user-id="{{ Auth::id() }}"
                            data-user-role="{{ Auth::user()->role }}" data-user-dept="{{ Auth::user()->department_id }}"
                            {{-- YEN: Sadece bu roller checkbox' grebilir (Edit yetkisinden bamsz) --}}
                            data-can-mark-important="{{ in_array(mb_strtolower(Auth::user()->role), ['admin', 'ynetici', 'mdr']) ? 'true' : 'false' }}">
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>

    {{-- MODAL (HOME SAYFASI LE AYNI YAPI) --}}
    <div class="modal fade" id="detailModal" tabindex="-1" aria-labelledby="modalTitle" aria-hidden="true">
        <div class="modal-dialog modal-dialog-centered modal-dialog-scrollable">
            <div class="modal-content">
                <div class="modal-header">
                    <h5 class="modal-title" id="modalTitle"><i class="fas fa-info-circle"></i> <span>Detaylar</span></h5>
                    <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"><i
                            class="fa-solid fa-xmark"></i></button>
                </div>
                <div class="modal-body">
                    <div id="modalOnayBadge" style="display: none;">
                        <div class="d-flex align-items-center justify-content-between">
                            <div><strong> Onayland</strong>
                                <div class="small mt-1"><i class="fas fa-calendar-check me-1"></i> <span
                                        id="modalOnayBadgeTarih"></span></div>
                                <div class="small"><i class="fas fa-user me-1"></i> <span
                                        id="modalOnayBadgeKullanici"></span></div>
                            </div>
                            <i class="fas fa-check-circle fa-3x" style="opacity: 0.5;"></i>
                        </div>
                    </div>
                    <div id="modalImportantCheckboxContainer" class="d-flex align-items-center justify-content-between"
                        style="display: none;">
                        <label for="modalImportantCheckbox" class="form-check-label"><i
                                class="fas fa-exclamation-circle me-1"></i> Bu Veriyi nemli Olarak aretle</label>
                        <input type="checkbox" id="modalImportantCheckbox" class="form-check-input">
                    </div>
                    <div id="modalDynamicBody">
                        <div class="modal-loading">
                            <div class="modal-spinner"></div>
                        </div>
                    </div>
                </div>
                <div class="modal-footer">
                    <a href="#" id="modalEditButton" class="btn" style="display: none;"><i
                            class="fas fa-edit me-2"></i> Dzenle</a>
                    <a href="#" id="modalExportButton" class="btn" style="display: none;"><i
                            class="fas fa-file-excel me-2"></i> Excel ndir</a>

                    <form method="POST" id="modalOnayForm" style="display: none;" class="d-inline">@csrf<button
                            type="submit" class="btn btn-success"><i class="fas fa-check me-2"></i> Tesise
                            Ulat</button></form>
                    <form method="POST" id="modalOnayKaldirForm" style="display: none;" class="d-inline">@csrf
                        @method('DELETE')<button type="submit" class="btn btn-warning"><i class="fas fa-undo me-2"></i>
                            Onay Kaldr</button></form>
                    <form method="POST" id="modalDeleteForm" style="display: none;" class="d-inline"
                        onsubmit="return confirm('Silmek istediinize emin misiniz?');">@csrf @method('DELETE')<button
                            type="submit" class="btn btn-danger"><i class="fas fa-trash me-2"></i> Sil</button></form>

                    <button type="button" class="btn btn-secondary" data-bs-dismiss="modal"><i
                            class="fas fa-times me-2"></i> Kapat</button>
                </div>
            </div>
        </div>
    </div>
    @include('partials.calendar-modal')
@endsection

@section('page_scripts')
    <script src='https://cdn.jsdelivr.net/npm/fullcalendar@6.1.13/index.global.min.js'></script>
    <script src='https://cdn.jsdelivr.net/npm/@fullcalendar/google-calendar@6.1.13/index.global.min.js'></script>
    <script>
        function getCsrfToken() {
            return document.querySelector('meta[name="csrf-token"]')?.getAttribute('content');
        }

        document.addEventListener('DOMContentLoaded', function() {
            const urlParams = new URLSearchParams(window.location.search);
            const dateFromUrl = urlParams.get('date');

            // URL'den Modal Parametrelerini Al
            const urlModalId = urlParams.get('open_modal_id');
            const urlModalType = urlParams.get('open_modal_type');

            const currentUserRole = "{{ Auth::user()->role }}";
            const calendarEventsUrl = "{{ route('web.calendar.events') }}";
            const toggleImportantUrl = "{{ route('calendar.toggleImportant') }}";

            var detailModal = new bootstrap.Modal(document.getElementById('detailModal'));

            function hardResetModalUI() {
                const ids = ['modalEditButton', 'modalExportButton', 'modalOnayForm', 'modalOnayKaldirForm',
                    'modalDeleteForm', 'modalOnayBadge', 'modalImportantCheckboxContainer'
                ];
                ids.forEach(id => {
                    const el = document.getElementById(id);
                    if (el) {
                        el.style.display = 'none';
                        el.classList.remove('d-inline', 'd-block');
                    }
                });
                document.getElementById('modalTitle').innerHTML = '';
                document.getElementById('modalDynamicBody').innerHTML =
                    '<div class="modal-loading"><div class="modal-spinner"></div></div>';
                const exportBtn = document.getElementById('modalExportButton');
                if (exportBtn) exportBtn.innerHTML = '<i class="fas fa-file-excel me-2"></i> Excel ndir';
            }

            function openUniversalModal(props) {
                console.log('--- MODAL AILIYOR (GENEL) ---', props.eventType);
                hardResetModalUI();

                if (!props || !props.eventType) return;

                // === 1. DNAMK EVR VE STL HARTASI ===
                const statusMap = {
                    'Critical': {
                        text: 'Kritik',
                        class: 'bg-danger text-white'
                    },
                    'High': {
                        text: 'Yksek',
                        class: 'bg-warning text-dark'
                    },
                    'Medium': {
                        text: 'Orta',
                        class: 'bg-info text-white'
                    },
                    'Low': {
                        text: 'Dk',
                        class: 'bg-success text-white'
                    },
                    'Normal': {
                        text: 'Normal',
                        class: 'bg-secondary text-white'
                    },
                    'Pending': {
                        text: 'Beklemede',
                        class: 'bg-warning text-dark'
                    },
                    'Active': {
                        text: 'Aktif',
                        class: 'bg-success text-white'
                    }
                };

                // DOM Elementleri
                const modalTitle = document.getElementById('modalTitle');
                const modalBody = document.getElementById('modalDynamicBody');
                const modalEditButton = document.getElementById('modalEditButton');
                const modalExportButton = document.getElementById('modalExportButton');
                const modalDeleteForm = document.getElementById('modalDeleteForm');
                const modalOnayForm = document.getElementById('modalOnayForm');
                const modalOnayKaldirForm = document.getElementById('modalOnayKaldirForm');
                const modalOnayBadge = document.getElementById('modalOnayBadge');
                const modalImportantContainer = document.getElementById('modalImportantCheckboxContainer');
                const modalImportantCheckbox = document.getElementById('modalImportantCheckbox');
                const calendarEl = document.getElementById('calendar');

                // === YEN YETKLENDRME VE GVENLK MANTII ===
                const currentUserId = parseInt(calendarEl.dataset.currentUserId, 10);
                const currentUserRole = calendarEl.dataset.userRole;
                const currentUserDept = calendarEl.dataset.userDept;
                const canMarkImportant = calendarEl.dataset.canMarkImportant === 'true';

                const eventOwnerId = props.user_id;
                const eventDeptId = props.department_id;

                let canModify = false;

                if (currentUserRole === 'admin') {
                    canModify = true;
                } else if (eventOwnerId && eventOwnerId === currentUserId) {
                    canModify = true;
                } else if (currentUserRole === 'ynetici') {
                    if (!currentUserDept || (eventDeptId && String(currentUserDept) === String(eventDeptId))) {
                        canModify = true;
                    }
                }

                // === UI GNCELLEMELER: NEML BUTONU GRNRL ===
                if (modalImportantContainer) {
                    const isVehicleTask = (props.model_type === 'vehicle_assignment');
                    let shouldShowCheckbox = false;

                    if (canMarkImportant) {
                        shouldShowCheckbox = true;
                    } else if (isVehicleTask && canModify) {
                        shouldShowCheckbox = true;
                    }

                    if (shouldShowCheckbox) {
                        modalImportantContainer.style.display = 'flex';
                        modalImportantCheckbox.checked = props.is_important || false;
                        modalImportantCheckbox.disabled = false;
                        modalImportantCheckbox.dataset.modelType = props.model_type;
                        modalImportantCheckbox.dataset.modelId = props.id;
                    } else {
                        modalImportantContainer.style.setProperty('display', 'none', 'important');
                    }
                }

                modalTitle.innerHTML = `<span>${props.title || 'Detaylar'}</span>`;

                if (canModify && props.editUrl && props.editUrl !== '#') {
                    modalEditButton.href = props.editUrl;
                    modalEditButton.style.display = 'inline-block';
                }
                if (canModify && props.deleteUrl && modalDeleteForm) {
                    modalDeleteForm.action = props.deleteUrl;
                    modalDeleteForm.style.display = 'inline-block';
                }

                // === DNAMK ERK OLUTURMA (HTML) ===
                let html = '';
                let icon = 'fa-info-circle';
                let typeTitle = 'Etkinlik Detaylar';

                if (props.eventType === 'shipment') {
                    icon = 'fa-truck';
                    typeTitle = 'Sevkiyat Bilgileri';
                } else if (props.eventType === 'travel') {
                    icon = 'fa-plane';
                    typeTitle = 'Seyahat Bilgileri';
                } else if (props.eventType === 'maintenance') {
                    icon = 'fa-screwdriver-wrench';
                    typeTitle = 'Bakm Bilgileri';
                } else if (props.eventType === 'production') {
                    icon = 'fa-industry';
                    typeTitle = 'retim Bilgileri';
                }

                html += `<div class="modal-info-card">
                <h6 class="text-primary fw-bold mb-3 border-bottom pb-2">
                    <i class="fas ${icon} me-2"></i>${typeTitle}
                </h6>
                <div class="table-responsive">
                    <table class="table table-borderless table-sm m-0 align-middle"><tbody>`;

                const excludeKeys = ['Aklama', 'Notlar', 'Aklamalar', 'Dosya Yolu', 'Plan Detaylar',
                    'Onay Durumu', 'Onaylayan'
                ];

                if (props.details && typeof props.details === 'object') {
                    Object.entries(props.details).forEach(([key, value]) => {
                        if (excludeKeys.includes(key)) return;
                        if (value === null || value === undefined || value === '' || value === '-') return;

                        let displayValue = '-';
                        if (value && typeof value === 'object' && value.is_badge) {
                            displayValue =
                                `<span class="badge ${value.class} px-3 py-2 rounded-pill fw-normal">${value.text}</span>`;
                        } else if (value !== null) {
                            const strValue = String(value).trim();
                            if (statusMap[strValue]) {
                                const mapItem = statusMap[strValue];
                                displayValue =
                                    `<span class="badge ${mapItem.class} px-3 py-2 rounded-pill fw-normal">${mapItem.text}</span>`;
                            } else {
                                const dateRegex = /^(\d{1,2}\.\d{1,2}\.\d{4})\s(\d{1,2}:\d{2})$/;
                                const match = strValue.match(dateRegex);
                                if (match) {
                                    displayValue = `<div class="d-flex gap-2">
                                            <span class="badge bg-light text-dark border border-secondary fw-normal"><i class="fas fa-calendar-alt text-primary me-1"></i> ${match[1]}</span>
                                            <span class="badge bg-light text-dark border fw-normal"><i class="fas fa-clock text-warning me-1"></i> ${match[2]}</span>
                                    </div>`;
                                } else {
                                    displayValue = strValue;
                                }
                            }
                        }
                        html +=
                            `<tr><td class="text-dark fw-bolder" style="width: 35%;">${key}:</td><td class="text-dark">${displayValue}</td></tr>`;
                    });
                }
                html += `</tbody></table></div></div>`;

                if (props.eventType === 'production' && props.details['Plan Detaylar']) {
                    html +=
                        '<div class="modal-info-card"><h6 class="text-primary fw-bold mb-2">retim Kalemleri</h6><table class="table table-sm table-striped"><thead><tr><th>Makine</th><th>rn</th><th>Adet</th></tr></thead><tbody>';
                    props.details['Plan Detaylar'].forEach(i => {
                        html += `<tr><td>${i.machine}</td><td>${i.product}</td><td>${i.quantity}</td></tr>`;
                    });
                    html += '</tbody></table></div>';
                }

                if (props.details && props.details['Dosya Yolu']) {
                    html +=
                        `<div class="text-center mt-3 mb-3"><a href="${props.details['Dosya Yolu']}" target="_blank" class="btn btn-outline-primary btn-sm"><i class="fas fa-paperclip me-2"></i> Dosyay Grntle</a></div>`;
                }

                const aciklama = props.details['Aklamalar'] || props.details['Notlar'] || props.details[
                    'Aklama'];
                if (aciklama) {
                    html +=
                        `<div class="modal-notes-box mt-3 p-3 bg-light rounded border"><div class="modal-notes-title fw-bold mb-2 text-primary"><i class="fas fa-sticky-note me-1"></i> Aklama / Notlar</div><p class="mb-0 text-secondary" style="white-space: pre-wrap;">${aciklama}</p></div>`;
                }

                // Butonlar (Onay, Export vb.)
                if (props.eventType === 'shipment') {
                    modalExportButton.href = props.exportUrl || '#';
                    modalExportButton.style.display = 'inline-block';
                    if (props.details['Onay Durumu']) {
                        modalOnayBadge.style.display = 'block';
                        document.getElementById('modalOnayBadgeTarih').textContent = props.details['Onay Durumu'];
                        document.getElementById('modalOnayBadgeKullanici').textContent = props.details[
                            'Onaylayan'] || '';
                        if (modalOnayKaldirForm) {
                            modalOnayKaldirForm.action = props.onayKaldirUrl;
                            modalOnayKaldirForm.style.display = 'inline-block';
                        }
                    } else {
                        if (modalOnayForm) {
                            modalOnayForm.action = props.onayUrl;
                            modalOnayForm.style.display = 'inline-block';
                        }
                    }
                } else if (props.eventType === 'travel') {
                    if (modalOnayForm) modalOnayForm.style.display = 'none';
                    if (canModify && props.url) {
                        modalExportButton.href = props.url;
                        modalExportButton.target = "_blank";
                        modalExportButton.innerHTML = '<i class="fas fa-plane-departure me-2"></i> Detaya Git';
                        modalExportButton.style.display = 'inline-block';
                    }
                } else if (props.eventType === 'maintenance') {
                    if (canModify && props.url) {
                        modalExportButton.href = props.url;
                        modalExportButton.innerHTML = '<i class="fas fa-eye me-2"></i> Detaya Git';
                        modalExportButton.style.display = 'inline-block';
                    }
                }

                modalBody.innerHTML = html;
                detailModal.show();
            }

            var calendarEl = document.getElementById('calendar');
            var calendar = new FullCalendar.Calendar(calendarEl, {
                initialView: 'dayGridMonth',
                initialDate: dateFromUrl || new Date(),
                locale: 'tr',
                headerToolbar: {
                    left: 'prev,next today',
                    center: 'title',
                    right: 'dayGridMonth,timeGridWeek,timeGridDay,listWeek'
                },
                buttonText: {
                    today: 'Bugn',
                    month: 'Ay',
                    week: 'Hafta',
                    day: 'Gn',
                    list: 'Liste'
                },
                slotEventOverlap: false,
                dayMaxEvents: 5,
                height: 'auto',
                eventTimeFormat: {
                    hour: '2-digit',
                    minute: '2-digit',
                    meridiem: false,
                    hour12: false
                },
                displayEventEnd: true,
                eventDisplay: 'list-item',
                eventSources: [{
                    url: calendarEventsUrl,
                    failure: () => alert('Veri hatas!')
                }, {
                    googleCalendarId: 'tr.turkish#holiday@group.v.calendar.google.com',
                    color: '#dc3545',
                    className: 'fc-event-holiday',
                    googleCalendarApiKey: 'AIzaSyAQmEWGR-krGzcCk1r8R69ER-NyZM2BeWM'
                }],
                eventClick: function(info) {
                    info.jsEvent.preventDefault();
                    if (info.event.extendedProps && info.event.extendedProps.eventType)
                        openUniversalModal(info.event.extendedProps);
                },
                eventDidMount: function(info) {
                    if (info.event.extendedProps && info.event.extendedProps.is_important)
                        info.el.classList.add('event-important-pulse');

                    try {
                        let title = info.event.title;
                        let desc = '';
                        if (info.event.extendedProps?.details?.['Aklama']) desc = info.event
                            .extendedProps.details['Aklama'];
                        else if (info.event.start) {
                            let start = info.event.start.toLocaleTimeString('tr-TR', {
                                hour: '2-digit',
                                minute: '2-digit'
                            });
                            if (start !== '00:00') desc = `Saat: ${start}`;
                        }
                        let tooltipContent =
                            `<div class="text-start"><span class="tooltip-title-styled">${title}</span>${desc ? `<span class="tooltip-desc-styled">${desc}</span>` : ''}</div>`;
                        if (typeof bootstrap !== 'undefined') {
                            new bootstrap.Tooltip(info.el, {
                                title: tooltipContent,
                                html: true,
                                placement: 'top',
                                trigger: 'hover',
                                container: 'body',
                                customClass: 'custom-calendar-tooltip',
                                delay: {
                                    "show": 100,
                                    "hide": 100
                                }
                            });
                        } else {
                            info.el.setAttribute('title', title + (desc ? ' - ' + desc : ''));
                        }
                    } catch (error) {
                        console.warn('Tooltip hatas:', error);
                    }
                }
            });

            calendar.render();
            setInterval(function() {
                console.log('Veriler arkaplanda gncelleniyor...');
                calendar.refetchEvents();
            }, 30000);

            // === YEN EKLENEN KISIM: URL'DEN MODAL AMA ===
            // Veriler tam yklendiinde (Ajax veya Google Calendar fark etmez) tetiklenir
            function checkAndOpenModalFromUrl(events) {
                if (urlModalId && urlModalType) {
                    const idNum = parseInt(urlModalId, 10);
                    const foundEvent = events.find(e => {
                        // FullCalendar event objesi iinde extendedProps'a bakyoruz
                        const props = e.extendedProps || {};
                        return props.id === idNum && props.model_type === urlModalType;
                    });

                    if (foundEvent) {
                        console.log('URL Modal Bulundu:', foundEvent);
                        openUniversalModal(foundEvent.extendedProps);

                        // Modal bir daha amamak iin URL'i temizle
                        const newUrl = window.location.pathname + window.location.search.replace(
                            /[\?&]open_modal_id=[^&]+/, '').replace(/[\?&]open_modal_type=[^&]+/, '');
                        window.history.replaceState({}, document.title, newUrl);
                    }
                }
            }

            // FullCalendar eventsSet hook'u yerine manuel bir listener ekleyebiliriz ama
            // en garantisi, veri kayna yklendiinde (loading: false olduunda) kontrol etmektir.
            // Ancak FullCalendar v6'da bu biraz karmak olabilir. 
            // Basit zm: lk yklemeden sonra (render'dan hemen sonra) mevcut eventlere bakmak,
            // yetmezse 1-2 saniye sonra tekrar bakmak.

            // 1. Yntem: Hemen bak (Eer veriler HTML iinde geldiyse alr, AJAX ise bo dner)
            checkAndOpenModalFromUrl(calendar.getEvents());

            // 2. Yntem: Loading bittiinde tetiklenecek bir listener eklemek daha salkl.
            // Ancak yukardaki konfigrasyonda 'loading' callback yok. 
            // O yzden basit bir timeout ile deneyelim (Ajax bitiini beklemek iin).
            setTimeout(() => {
                checkAndOpenModalFromUrl(calendar.getEvents());
            }, 1500); // 1.5 saniye bekle ve dene

            // === SON ===

            function applyCalendarFilters() {
                const isChecked = (id) => {
                    const el = document.getElementById(id);
                    return el ? el.checked : true;
                };
                const showLojistik = isChecked('filterLojistik');
                const showUretim = isChecked('filterUretim');
                const showHizmet = isChecked('filterHizmet');
                const showBakim = isChecked('filterBakim');
                const showImportant = isChecked('filterImportant');

                let eventSource = calendar.getEventSources()[0];
                if (eventSource) {
                    eventSource.remove();
                }

                calendar.addEventSource({
                    url: calendarEventsUrl,
                    extraParams: {
                        lojistik: showLojistik ? 1 : 0,
                        uretim: showUretim ? 1 : 0,
                        hizmet: showHizmet ? 1 : 0,
                        bakim: showBakim ? 1 : 0,
                        important_only: showImportant ? 1 : 0
                    },
                    // Ajax baarl olduunda da modal kontrol yapalm
                    success: function(rawEvents) {
                        // FullCalendar rawEvents'i ilemeden nce buraya der,
                        // ama biz ilenmi eventlere (getEvents) ihtiya duyuyoruz.
                        // O yzden yine kk bir timeout ile UI'n oturmasn bekleyelim.
                        setTimeout(() => {
                            checkAndOpenModalFromUrl(calendar.getEvents());
                        }, 500);
                    }
                });
            }

            const filters = document.querySelectorAll('.calendar-filters .form-check-input');
            filters.forEach(filter => filter.addEventListener('change', applyCalendarFilters));

            const btnOnay = document.getElementById('modalOnayForm');
            if (btnOnay) btnOnay.addEventListener('submit', e => {
                if (!confirm('Onaylyor musunuz?')) e.preventDefault();
            });
            const btnSil = document.getElementById('modalDeleteForm');
            if (btnSil) btnSil.addEventListener('submit', e => {
                if (!confirm('Silinsin mi?')) e.preventDefault();
            });

            const chkImportant = document.getElementById('modalImportantCheckbox');
            if (chkImportant) {
                chkImportant.addEventListener('change', function() {
                    const isChecked = this.checked;
                    this.disabled = true;
                    fetch(toggleImportantUrl, {
                            method: 'POST',
                            headers: {
                                'Content-Type': 'application/json',
                                'X-CSRF-TOKEN': getCsrfToken(),
                                'Accept': 'application/json'
                            },
                            body: JSON.stringify({
                                model_id: this.dataset.modelId,
                                model_type: this.dataset.modelType,
                                is_important: isChecked
                            })
                        })
                        .then(res => res.json())
                        .then(data => {
                            if (data.success === false) {
                                alert('HATA: ' + (data.message || 'Yetkiniz yok.'));
                                this.checked = !isChecked;
                            } else {
                                calendar.refetchEvents();
                            }
                        })
                        .catch(err => {
                            console.error(err);
                            alert('Bir balant hatas olutu.');
                            this.checked = !isChecked;
                        })
                        .finally(() => {
                            this.disabled = false;
                        });
                });
            }
        });
    </script>
@endsection


----------------------------------------
DOSYA YOLU: resources\views\home.blade.php
----------------------------------------

@extends('layouts.app')

@section('title', 'Benim Takvimim')

@push('styles')
    <style>
        /* === 1. SAYFA VE LAYOUT (ORJNAL TASARIM) === */
        #app>main.py-4 {
            padding: 2.5rem 0 !important;
            min-height: calc(100vh - 72px);
            background: linear-gradient(-45deg, #dbe4ff, #fde2ff, #d9fcf7, #fff0d9);
            background-size: 400% 400%;
            animation: gradientWave 18s ease infinite;
        }

        @keyframes gradientWave {
            0% {
                background-position: 0% 50%;
            }

            50% {
                background-position: 100% 50%;
            }

            100% {
                background-position: 0% 50%;
            }
        }

        .wide-container {
            max-width: 95% !important;
            margin-left: auto;
            margin-right: auto;
        }

        /* === 2. KART TASARIMLARI === */
        .create-shipment-card {
            border-radius: 1.25rem;
            box-shadow: 0 8px 32px rgba(0, 0, 0, 0.08);
            border: 1px solid rgba(255, 255, 255, 0.4);
            background-color: rgba(255, 255, 255, 0.85);
            backdrop-filter: blur(10px);
            transition: transform 0.2s ease, box-shadow 0.2s ease;
        }

        .create-shipment-card:hover {
            transform: translateY(-2px);
            box-shadow: 0 12px 40px rgba(0, 0, 0, 0.12);
        }

        .create-shipment-card .card-header {
            background: linear-gradient(135deg, rgba(102, 126, 234, 0.1), rgba(118, 75, 162, 0.1));
            border-bottom: 1px solid rgba(102, 126, 234, 0.2);
            font-weight: 700;
            font-size: 1.1rem;
            color: #2d3748;
            padding: 1.25rem 1.5rem;
            border-radius: 1.25rem 1.25rem 0 0;
        }

        .create-shipment-card .card-body {
            padding: 1.5rem;
        }

        /* === 3. FULLCALENDAR YLETRMELER === */
        #calendar {
            background: rgba(255, 255, 255, 0.4);
            border-radius: 1rem;
            padding: 10px;
        }

        .fc .fc-daygrid-day-frame {
            min-height: 160px !important;
            transition: background-color 0.2s;
        }

        .fc .fc-daygrid-day.fc-day-today {
            background-color: rgba(102, 126, 234, 0.08) !important;
        }

        /* === TAKVM YAZI BOYUTLARI === */
        .fc .fc-col-header-cell-cushion {
            /* Gn isimlerini (Pzt, Sal) bytelim */
            font-size: 1.1rem;
            padding-top: 10px;
            padding-bottom: 10px;
        }

        .fc-daygrid-day-number {
            /* Ayn gn numaralarn bytelim */
            font-size: 1.1rem;
            font-weight: bold;
            color: #4a5568;
            padding: 8px !important;
        }

        .fc-event {
            border: none !important;
            margin: 1px 2px !important;
            padding: 4px 8px;
            font-size: 0.9rem !important;
            margin-bottom: 2px !important;
            border-radius: 4px;
            box-shadow: 0 1px 3px rgba(0, 0, 0, 0.05);
            cursor: pointer;
            transition: transform 0.2s;
        }

        .fc-event:hover {
            transform: scale(1.03);
            z-index: 50;
        }

        .fc-event-main {
            white-space: nowrap;
            overflow: hidden;
            text-overflow: ellipsis;
            display: block !important;
        }

        .fc-daygrid-more-link {
            color: #667EEA !important;
            font-weight: 700;
            font-size: 0.75rem;
            text-decoration: none;
        }

        .fc .fc-button-primary {
            background: linear-gradient(135deg, #667EEA, #764BA2);
            border: none;
            font-weight: 600;
        }

        /* === 4. BUTON VE ALERT STLLER === */
        .btn-animated-gradient {
            background: linear-gradient(-45deg, #667EEA, #F093FB, #4FD1C5, #FBD38D);
            background-size: 400% 400%;
            animation: gradientWave 18s ease infinite;
            border: none;
            color: white;
            font-weight: 700;
            border-radius: 0.75rem;
            padding: 0.75rem 1.5rem;
            text-transform: uppercase;
            letter-spacing: 0.5px;
            transition: transform 0.2s ease-out, box-shadow 0.2s ease-out;
        }

        .btn-animated-gradient:hover {
            color: white;
            transform: scale(1.05) translateY(-2px);
            box-shadow: 0 8px 20px rgba(0, 0, 0, 0.15);
        }

        .btn-info {
            background: linear-gradient(135deg, #4FD1C5, #38B2AC);
            color: white !important;
            border: none;
        }

        .btn-secondary {
            background: linear-gradient(135deg, #718096, #4a5568);
            color: white;
            border: none;
        }

        .btn-primary {
            background: linear-gradient(135deg, #667EEA, #764BA2);
            border: none;
        }

        .btn-danger {
            background: linear-gradient(135deg, #FC8181, #F56565);
            color: white;
            border: none;
        }

        .btn:hover {
            transform: translateY(-2px);
            box-shadow: 0 6px 16px rgba(0, 0, 0, 0.15);
        }

        .alert {
            border-radius: 1rem;
            border: none;
            backdrop-filter: blur(10px);
        }

        .alert-success {
            background: rgba(72, 187, 120, 0.15);
            color: #2f855a;
            border-left: 4px solid #48bb78;
        }

        .alert-danger {
            background: rgba(245, 101, 101, 0.15);
            color: #c53030;
            border-left: 4px solid #f56565;
        }

        /* === 5. MODAL STLLER === */
        .modal-backdrop.show {
            background: rgba(0, 0, 0, 0.6);
            backdrop-filter: blur(8px);
        }

        #detailModal .modal-content {
            border: none;
            border-radius: 24px;
            box-shadow: 0 25px 80px rgba(0, 0, 0, 0.25);
            background: rgba(255, 255, 255, 0.98);
        }

        #detailModal .modal-header {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
            padding: 2rem 2.5rem;
            position: relative;
            overflow: hidden;
        }

        #detailModal .modal-header::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background: url('data:image/svg+xml,<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 1440 320"><path fill="rgba(255,255,255,0.1)" d="M0,96L48,112C96,128,192,160,288,160C384,160,480,128,576,122.7C672,117,768,139,864,154.7C960,171,1056,181,1152,165.3C1248,149,1344,107,1392,85.3L1440,64L1440,320L1392,320C1344,320,1248,320,1152,320C1056,320,960,320,864,320C768,320,672,320,576,320C480,320,384,320,288,320C192,320,96,320,48,320L0,320Z"></path></svg>') bottom center / cover no-repeat;
            opacity: 0.3;
            pointer-events: none;
        }

        #detailModal .btn-close {
            background-color: rgba(255, 255, 255, 0.2);
            border-radius: 50%;
            width: 40px;
            height: 40px;
            color: white;
            opacity: 1;
            display: flex;
            align-items: center;
            justify-content: center;
        }

        #detailModal .btn-close:hover {
            background-color: rgba(255, 255, 255, 0.4);
            transform: rotate(90deg);
        }

        .modal-info-card {
            background: white;
            border-radius: 16px;
            padding: 1.5rem;
            margin-bottom: 1.5rem;
            border: 1px solid rgba(102, 126, 234, 0.15);
            box-shadow: 0 4px 15px rgba(0, 0, 0, 0.06);
            transition: all 0.3s ease;
        }

        .modal-info-card:hover {
            transform: translateY(-2px);
            box-shadow: 0 8px 25px rgba(102, 126, 234, 0.15);
        }

        #modalEditButton {
            background: linear-gradient(135deg, #ffa726, #fb8c00);
            color: white;
            box-shadow: 0 4px 15px rgba(255, 167, 38, 0.4);
        }

        #modalExportButton {
            background: linear-gradient(135deg, #4fd1c5, #38b2ac);
            color: white;
            box-shadow: 0 4px 15px rgba(79, 209, 197, 0.4);
        }

        #modalOnayForm .btn-success {
            background: linear-gradient(135deg, #48bb78, #38a169);
            color: white;
            box-shadow: 0 4px 15px rgba(72, 187, 120, 0.4);
        }

        #modalOnayKaldirForm .btn-warning {
            background: linear-gradient(135deg, #f6ad55, #ed8936);
            color: white;
            box-shadow: 0 4px 15px rgba(246, 173, 85, 0.4);
        }

        #modalDeleteForm .btn-danger {
            background: linear-gradient(135deg, #fc8181, #f56565);
            color: white;
            box-shadow: 0 4px 15px rgba(245, 101, 101, 0.4);
        }

        .modal-loading {
            display: flex;
            justify-content: center;
            align-items: center;
            min-height: 200px;
        }

        .modal-spinner {
            border: 4px solid rgba(102, 126, 234, 0.2);
            border-top: 4px solid #667eea;
            border-radius: 50%;
            width: 48px;
            height: 48px;
            animation: spin 1s linear infinite;
        }

        .fc-event-holiday {
            font-weight: 600;
            border: none !important;
            background: linear-gradient(135deg, #ff6b6b 0%, #ee5a6f 100%) !important;
            box-shadow: 0 2px 8px rgba(220, 53, 69, 0.3);
            border-radius: 4px;
            position: relative;
            overflow: hidden;
            padding: 3px 6px;
            font-size: 11px;
            white-space: nowrap;
            text-overflow: ellipsis;
            max-width: 100%;
            display: block;
            transition: all 0.3s ease;
            cursor: pointer;
        }

        .fc-event-holiday::before {
            content: '';
            position: absolute;
            top: 0;
            left: -100%;
            width: 100%;
            height: 100%;
            background: linear-gradient(90deg, transparent, rgba(255, 255, 255, 0.3), transparent);
            animation: shine 3s infinite;
            pointer-events: none;
        }

        .fc-event-holiday:hover {
            transform: scale(1.05);
            z-index: 1000;
            white-space: normal;
            min-width: max-content;
            box-shadow: 0 4px 12px rgba(220, 53, 69, 0.5);
            overflow: visible;
        }

        @keyframes shine {
            to {
                left: 100%;
            }
        }

        @keyframes spin {
            0% {
                transform: rotate(0deg);
            }

            100% {
                transform: rotate(360deg);
            }
        }

        .event-important-pulse {
            border: 2px solid #ff4136 !important;
            animation: pulse-animation 2s infinite;
        }

        @keyframes pulse-animation {
            0% {
                box-shadow: 0 0 0 0 rgba(255, 65, 54, 0.7);
            }

            70% {
                box-shadow: 0 0 0 10px rgba(255, 65, 54, 0);
            }

            100% {
                box-shadow: 0 0 0 0 rgba(255, 65, 54, 0);
            }
        }

        .custom-calendar-tooltip .tooltip-inner {
            background-color: #ffffff !important;
            color: #2d3748 !important;
            box-shadow: 0 10px 30px rgba(0, 0, 0, 0.15) !important;
            border: 1px solid rgba(102, 126, 234, 0.2);
            border-radius: 12px !important;
            padding: 12px 16px !important;
            font-size: 0.9rem;
            max-width: 300px;
            text-align: left;
            font-family: system-ui, -apple-system, sans-serif;
            z-index: 10000;
        }

        .custom-calendar-tooltip .tooltip-arrow::before {
            border-top-color: #ffffff !important;
            border-bottom-color: #ffffff !important;
            border-left-color: #ffffff !important;
            border-right-color: #ffffff !important;
        }

        .tooltip-title-styled {
            font-weight: 700;
            color: #667EEA;
            margin-bottom: 4px;
            display: block;
            border-bottom: 1px solid #f0f0f0;
            padding-bottom: 4px;
        }

        .tooltip-desc-styled {
            font-size: 0.8rem;
            color: #718096;
            line-height: 1.4;
        }

        /* === MOBL N ZEL AYARLAR (RESPONSIVE KORUMA) === */
        @media (max-width: 768px) {
            .wide-container {
                max-width: 100% !important;
                padding: 0 10px;
            }

            .fc .fc-daygrid-day-frame {
                min-height: 80px !important;
            }

            .fc-event {
                font-size: 0.75rem !important;
                padding: 2px 4px !important;
            }

            .fc .fc-toolbar-title {
                font-size: 1.2rem !important;
            }
        }
    </style>
@endpush

@section('content')
    <div class="container-fluid wide-container">

        @if (session('success'))
            <div class="alert alert-success alert-dismissible fade show" role="alert">
                <strong></strong> {{ session('success') }}
                <button type="button" class="btn-close" data-bs-dismiss="alert" aria-label="Close"></button>
            </div>
        @endif
        @if (session('error'))
            <div class="alert alert-danger alert-dismissible fade show" role="alert">
                <strong></strong> {{ session('error') }}
                <button type="button" class="btn-close" data-bs-dismiss="alert" aria-label="Close"></button>
            </div>
        @endif

        {{-- DNAMK LAYOUT MANTII --}}
        @php
            $hasStats = !empty($chartData);
        @endphp

        <div class="row justify-content-center">

            {{-- 
                TAKVM STUNU 
                Mantk: Eer istatistik varsa ($hasStats true) -> col-md-9 (sola yasl, yanna bir ey gelecek)
                Eer istatistik yoksa ($hasStats false) -> col-md-12 (tam genilik)
            --}}
            <div class="{{ $hasStats ? 'col-md-9' : 'col-md-12' }} transition-all">
                <div class="card create-shipment-card">
                    <div class="card-header">
                         {{ $departmentName }} Takvimi
                    </div>
                    <div class="card-body">
                        @php
                            $canFilter =
                                Auth::user()->role === 'admin' ||
                                (Auth::user()->role === 'ynetici' && is_null(Auth::user()->department_id));
                        @endphp

                        @if ($canFilter)
                            {{-- FLTRELEME KODLARIN BURADA AYNI KALACAK --}}
                            <div class="calendar-filters p-3 mb-3"
                                style="background: rgba(102, 126, 234, 0.05); border-radius: 0.75rem;">
                                <strong class="me-3"><i class="fa-solid fa-filter"></i> Filtrele:</strong>
                                {{-- ... (Filtre inputlar buraya gelecek, senin kodunla ayn) ... --}}
                                <div class="form-check form-check-inline">
                                    <input class="form-check-input" type="checkbox" value="lojistik" id="filterLojistik"
                                        checked>
                                    <label class="form-check-label" for="filterLojistik"
                                        style="color: #667EEA;">Lojistik</label>
                                </div>
                                <div class="form-check form-check-inline">
                                    <input class="form-check-input" type="checkbox" value="uretim" id="filterUretim"
                                        checked>
                                    <label class="form-check-label" for="filterUretim"
                                        style="color: #4FD1C5;">retim</label>
                                </div>
                                <div class="form-check form-check-inline">
                                    <input class="form-check-input" type="checkbox" value="hizmet" id="filterHizmet"
                                        checked>
                                    <label class="form-check-label" for="filterHizmet" style="color: #F093FB;">dari
                                        ler</label>
                                </div>
                                <div class="form-check form-check-inline">
                                    <input class="form-check-input" type="checkbox" value="bakim" id="filterBakim" checked>
                                    <label class="form-check-label" for="filterBakim" style="color: #ED8936;">Bakm</label>
                                </div>
                                <span class="mx-2">|</span>
                                <div class="form-check form-check-inline">
                                    <input class="form-check-input" type="checkbox" value="important" id="filterImportant">
                                    <label class="form-check-label" for="filterImportant"
                                        style="color: #dc3545;"><strong>Sadece nemliler</strong></label>
                                </div>
                            </div>
                        @endif

                        <div id="calendar" data-events='@json($events)'
                            data-is-authorized="{{ in_array(mb_strtolower(Auth::user()->role), ['admin', 'ynetici', 'mdr']) ? 'true' : 'false' }}"
                            data-current-user-id="{{ Auth::id() }}" data-can-filter="{{ $canFilter ? 'true' : 'false' }}"
                            data-user-dept="{{ $departmentSlug ?? '' }}">
                        </div>
                    </div>
                </div>
            </div>

            {{-- 
                STATSTK STUNU
                Mantk: @if kontrol ile sarmaladk. 
                Eer veri yoksa bu div (col-md-3) H OLUTURULMAZ.
                Bylece sa tarafta boluk kalmaz.
            --}}
            @if ($hasStats)
                <div class="col-md-3">
                    {{-- STATSTK KARTI --}}
                    <div class="card create-shipment-card">
                        <div class="card-header">
                             {{ $statsTitle ?? 'statistikler' }}
                        </div>
                        <div class="card-body" id="stats-card-body">
                            {{-- SENN STATSTK KODLARIN BURADA AYNEN DURACAK --}}
                            @if ($departmentSlug === 'lojistik')
                                <div id="chart-lojistik-1" class="mb-3"></div>
                                <hr class="my-3">
                                <div id="chart-lojistik-2" class="mb-3"></div>
                                <hr class="my-3">
                                <div id="chart-lojistik-3"></div>
                            @elseif($departmentSlug === 'uretim')
                                <div id="chart-uretim-1" class="mb-3"></div>
                                <hr class="my-3">
                                <div id="chart-uretim-2" class="mb-3"></div>
                                <hr class="my-3">
                                <div id="chart-uretim-3"></div>
                            @elseif($departmentSlug === 'hizmet' || $departmentSlug === 'idari-isler')
                                <div id="chart-hizmet-1" class="mb-3"></div>
                                <hr class="my-3">
                                <div id="chart-hizmet-2" class="mb-3"></div>
                                <hr class="my-3">
                                <div id="chart-hizmet-3"></div>
                            @elseif($departmentSlug === 'bakim')
                                <div id="chart-bakim-1" class="mb-3"></div>
                                <hr class="my-3">
                                <div id="chart-bakim-2" class="mb-3"></div>
                                <hr class="my-3">
                                <div id="chart-bakim-3"></div>
                            @endif

                            @if (Route::has('statistics.index'))
                                <hr>
                                <div class="text-center">
                                    <a href="{{ route('statistics.index') }}">Daha Fazla statistik Grntle</a>
                                </div>
                            @endif
                        </div>
                    </div>
                </div>
            @endif
        </div>
    </div>

    {{-- MODAL YAPISI --}}
    <div class="modal fade" id="detailModal" tabindex="-1" aria-labelledby="modalTitle" aria-hidden="true">
        <div class="modal-dialog modal-dialog-centered modal-dialog-scrollable">
            <div class="modal-content">
                <div class="modal-header">
                    <h5 class="modal-title" id="modalTitle"><i class="fas fa-info-circle"></i> <span>Detaylar</span></h5>
                    <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"><i
                            class="fa-solid fa-xmark"></i></button>
                </div>

                <div class="modal-body">
                    <div id="modalOnayBadge" style="display: none;">
                        <div class="d-flex align-items-center justify-content-between">
                            <div>
                                <strong> Onayland</strong>
                                <div class="small mt-1"><i class="fas fa-calendar-check me-1"></i> <span
                                        id="modalOnayBadgeTarih"></span></div>
                                <div class="small"><i class="fas fa-user me-1"></i> <span
                                        id="modalOnayBadgeKullanici"></span></div>
                            </div>
                            <i class="fas fa-check-circle fa-3x" style="opacity: 0.5;"></i>
                        </div>
                    </div>

                    <div id="modalImportantCheckboxContainer" class="d-flex align-items-center justify-content-between"
                        style="display: none;">
                        <label for="modalImportantCheckbox" class="form-check-label"><i
                                class="fas fa-exclamation-circle me-1"></i> Bu Veriyi nemli Olarak aretle</label>
                        <input type="checkbox" id="modalImportantCheckbox" class="form-check-input">
                    </div>

                    <div id="modalDynamicBody">
                        <div class="modal-loading">
                            <div class="modal-spinner"></div>
                        </div>
                    </div>
                </div>

                <div class="modal-footer">
                    <a href="#" id="modalEditButton" class="btn" style="display: none;"><i
                            class="fas fa-edit me-2"></i> Dzenle</a>
                    <a href="#" id="modalExportButton" class="btn" style="display: none;"><i
                            class="fas fa-file-excel me-2"></i> Excel ndir</a>

                    <form method="POST" id="modalOnayForm" style="display: none;" class="d-inline">
                        @csrf
                        <button type="submit" class="btn btn-success"><i class="fas fa-check me-2"></i> Tesise
                            Ulat</button>
                    </form>

                    <form method="POST" id="modalOnayKaldirForm" style="display: none;" class="d-inline">
                        @csrf @method('DELETE')
                        <button type="submit" class="btn btn-warning"><i class="fas fa-undo me-2"></i> Onay
                            Kaldr</button>
                    </form>

                    <form method="POST" id="modalDeleteForm" style="display: none;" class="d-inline"
                        onsubmit="return confirm('Bu kayd silmek istediinizden emin misiniz?');">
                        @csrf @method('DELETE')
                        <button type="submit" class="btn btn-danger"><i class="fas fa-trash me-2"></i> Sil</button>
                    </form>

                    <button type="button" class="btn btn-secondary" data-bs-dismiss="modal"><i
                            class="fas fa-times me-2"></i> Kapat</button>
                </div>
            </div>
        </div>
    </div>
    {{-- @include('partials.calendar-modal') --}}
@endsection

@section('page_scripts')
    <script src='https://cdn.jsdelivr.net/npm/fullcalendar@6.1.13/index.global.min.js'></script>
    <script src='https://cdn.jsdelivr.net/npm/@fullcalendar/google-calendar@6.1.13/index.global.min.js'></script>
    {{-- GRAFKLER N APEXCHARTS --}}
    <script src="https://cdn.jsdelivr.net/npm/apexcharts"></script>

    <script>
        function getCsrfToken() {
            return document.querySelector('meta[name="csrf-token"]')?.getAttribute('content');
        }

        document.addEventListener('DOMContentLoaded', function() {
            const urlParams = new URLSearchParams(window.location.search);
            const dateFromUrl = urlParams.get('date');
            const urlModalId = urlParams.get('open_modal_id');
            const urlModalType = urlParams.get('open_modal_type');
            const currentUserRole = "{{ Auth::user()->role }}";
            const calendarEventsUrl = "{{ route('web.calendar.events') }}";
            const toggleImportantUrl = "{{ route('calendar.toggleImportant') }}";

            // === 1. PHP'DEN GELEN VERY AL (JSON) ===
            // Eer backend veri gndermediyse bo obje kabul et
            const chartData = @json($chartData ?? []);
            const deptSlug = "{{ $departmentSlug ?? '' }}";

            // Ortak Grafik Ayarlar
            const commonChartOptions = {
                chart: {
                    background: 'transparent',
                    toolbar: {
                        show: false
                    },
                    fontFamily: 'inherit'
                },
                colors: ['#667EEA', '#764BA2', '#F093FB', '#4FD1C5', '#FBD38D', '#FF6B6B'],
                dataLabels: {
                    enabled: false
                },
                stroke: {
                    curve: 'smooth'
                }
            };

            function renderChart(id, options) {
                if (document.querySelector("#" + id)) {
                    var chart = new ApexCharts(document.querySelector("#" + id), options);
                    chart.render();
                }
            }

            // === 2. DNAMK GRAFK ZM ===
            // Burada artk chartData deikeni kullanlyor.

            // --- LOJSTK ---
            if (deptSlug === 'lojistik' && chartData.lojistik) {
                // Grafik 1: Sefer Durumlar
                if (chartData.lojistik.pie_series) {
                    renderChart('chart-lojistik-1', {
                        ...commonChartOptions,
                        series: chartData.lojistik.pie_series, // rn: [10, 5, 2]
                        chart: {
                            type: 'donut',
                            height: 250
                        },
                        labels: chartData.lojistik.pie_labels || ['Tamamlanan', 'Yolda', 'Bekleyen'],
                        title: {
                            text: 'Sevkiyat Durumu',
                            align: 'left',
                            style: {
                                fontSize: '14px',
                                color: '#718096'
                            }
                        }
                    });
                }

                // Grafik 2: Gnlk Sefer
                if (chartData.lojistik.bar_series) {
                    renderChart('chart-lojistik-2', {
                        ...commonChartOptions,
                        series: [{
                            name: 'Seferler',
                            data: chartData.lojistik.bar_series
                        }],
                        chart: {
                            type: 'bar',
                            height: 200
                        },
                        xaxis: {
                            categories: chartData.lojistik.bar_categories || ['Pzt', 'Sal', 'ar', 'Per',
                                'Cum', 'Cmt', 'Paz'
                            ]
                        },
                        title: {
                            text: 'Gnlk Sefer Says',
                            align: 'left',
                            style: {
                                fontSize: '14px',
                                color: '#718096'
                            }
                        }
                    });
                }

                // Grafik 3: Doluluk
                if (chartData.lojistik.radial_series) {
                    renderChart('chart-lojistik-3', {
                        ...commonChartOptions,
                        series: chartData.lojistik.radial_series, // rn: [75]
                        chart: {
                            type: 'radialBar',
                            height: 200
                        },
                        plotOptions: {
                            radialBar: {
                                dataLabels: {
                                    name: {
                                        show: true
                                    },
                                    value: {
                                        show: true
                                    }
                                }
                            }
                        },
                        labels: ['Verimlilik'],
                        title: {
                            text: 'Ara Doluluk Oran',
                            align: 'left',
                            style: {
                                fontSize: '14px',
                                color: '#718096'
                            }
                        }
                    });
                }
            }

            // --- RETM ---
            if (deptSlug === 'uretim' && chartData.uretim) {
                if (chartData.uretim.area_series) {
                    renderChart('chart-uretim-1', {
                        ...commonChartOptions,
                        series: chartData.uretim.area_series,
                        chart: {
                            type: 'area',
                            height: 220
                        },
                        title: {
                            text: 'Haftalk retim',
                            align: 'left',
                            style: {
                                fontSize: '14px',
                                color: '#718096'
                            }
                        }
                    });
                }
                if (chartData.uretim.bar_series) {
                    renderChart('chart-uretim-2', {
                        ...commonChartOptions,
                        series: [{
                            data: chartData.uretim.bar_series
                        }],
                        chart: {
                            type: 'bar',
                            height: 200,
                            horizontal: true
                        },
                        xaxis: {
                            categories: chartData.uretim.bar_categories || []
                        },
                        title: {
                            text: 'Makine Verimlilii',
                            align: 'left',
                            style: {
                                fontSize: '14px',
                                color: '#718096'
                            }
                        }
                    });
                }
                if (chartData.uretim.pie_series) {
                    renderChart('chart-uretim-3', {
                        ...commonChartOptions,
                        series: chartData.uretim.pie_series,
                        chart: {
                            type: 'pie',
                            height: 200
                        },
                        labels: ['Salam', 'Fire'],
                        colors: ['#4FD1C5', '#FF6B6B'],
                        title: {
                            text: 'Fire Oran',
                            align: 'left',
                            style: {
                                fontSize: '14px',
                                color: '#718096'
                            }
                        }
                    });
                }
            }

            // --- HZMET / DAR ---
            if ((deptSlug === 'hizmet' || deptSlug === 'idari-isler') && chartData.hizmet) {
                if (chartData.hizmet.donut_series) {
                    renderChart('chart-hizmet-1', {
                        ...commonChartOptions,
                        series: chartData.hizmet.donut_series,
                        chart: {
                            type: 'donut',
                            height: 250
                        },
                        labels: chartData.hizmet.donut_labels || ['Tamamlanan', 'Devam Eden', 'Bekleyen'],
                        title: {
                            text: 'Grev Durumlar',
                            align: 'left',
                            style: {
                                fontSize: '14px',
                                color: '#718096'
                            }
                        }
                    });
                }
                if (chartData.hizmet.line_series) {
                    renderChart('chart-hizmet-2', {
                        ...commonChartOptions,
                        series: [{
                            name: 'Talepler',
                            data: chartData.hizmet.line_series
                        }],
                        chart: {
                            type: 'line',
                            height: 200
                        },
                        xaxis: {
                            categories: chartData.hizmet.line_categories || []
                        },
                        title: {
                            text: 'Departman Talepleri',
                            align: 'left',
                            style: {
                                fontSize: '14px',
                                color: '#718096'
                            }
                        }
                    });
                }
                if (chartData.hizmet.polar_series) {
                    renderChart('chart-hizmet-3', {
                        ...commonChartOptions,
                        series: chartData.hizmet.polar_series,
                        chart: {
                            type: 'polarArea',
                            height: 220
                        },
                        labels: chartData.hizmet.polar_labels || [],
                        title: {
                            text: 'Gider Dalm',
                            align: 'left',
                            style: {
                                fontSize: '14px',
                                color: '#718096'
                            }
                        }
                    });
                }
            }

            // --- BAKIM (YEN EKLENEN) ---
            if (deptSlug === 'bakim' && chartData.bakim) {
                // 1. Bakm Trleri
                if (chartData.bakim.pie_series) {
                    renderChart('chart-bakim-1', {
                        ...commonChartOptions,
                        series: chartData.bakim.pie_series, // [Planl Says, Arza Says]
                        chart: {
                            type: 'pie',
                            height: 220
                        },
                        labels: chartData.bakim.pie_labels || ['Periyodik Bakm', 'Arza Mdahale'],
                        colors: ['#48bb78', '#f56565'],
                        title: {
                            text: 'Bakm Tr Dalm',
                            align: 'left',
                            style: {
                                fontSize: '14px',
                                color: '#718096'
                            }
                        }
                    });
                }

                // 2. Mdahale Sreleri
                if (chartData.bakim.bar_series) {
                    renderChart('chart-bakim-2', {
                        ...commonChartOptions,
                        series: [{
                            name: 'Dakika',
                            data: chartData.bakim.bar_series
                        }],
                        chart: {
                            type: 'bar',
                            height: 200
                        },
                        xaxis: {
                            categories: chartData.bakim.bar_categories || []
                        },
                        title: {
                            text: 'Ort. Mdahale Sresi',
                            align: 'left',
                            style: {
                                fontSize: '14px',
                                color: '#718096'
                            }
                        }
                    });
                }

                // 3. Salk Skoru
                if (chartData.bakim.radial_series) {
                    renderChart('chart-bakim-3', {
                        ...commonChartOptions,
                        series: chartData.bakim.radial_series, // [85]
                        chart: {
                            type: 'radialBar',
                            height: 220
                        },
                        plotOptions: {
                            radialBar: {
                                hollow: {
                                    size: '70%'
                                },
                                dataLabels: {
                                    name: {
                                        show: true,
                                        fontSize: '16px'
                                    },
                                    value: {
                                        show: true,
                                        fontSize: '14px',
                                        formatter: function(val) {
                                            return val + "%";
                                        }
                                    }
                                }
                            }
                        },
                        colors: ['#ED8936'],
                        labels: ['Tesis Salk Skoru'],
                        title: {
                            text: 'Genel Durum',
                            align: 'left',
                            style: {
                                fontSize: '14px',
                                color: '#718096'
                            }
                        }
                    });
                }
            }

            function hardResetModalUI() {
                const ids = ['modalEditButton', 'modalExportButton', 'modalOnayForm', 'modalOnayKaldirForm',
                    'modalDeleteForm', 'modalOnayBadge', 'modalImportantCheckboxContainer'
                ];
                ids.forEach(id => {
                    const el = document.getElementById(id);
                    if (el) {
                        el.style.display = 'none';
                        el.classList.remove('d-inline', 'd-block');
                    }
                });
                document.getElementById('modalTitle').innerHTML = '';
                document.getElementById('modalDynamicBody').innerHTML =
                    '<div class="modal-loading"><div class="modal-spinner"></div></div>';
                const exportBtn = document.getElementById('modalExportButton');
                if (exportBtn) exportBtn.innerHTML = '<i class="fas fa-file-excel me-2"></i> Excel ndir';
            }

            function openUniversalModal(props) {
                // 1. HATA AYIKLAMA: Konsola gelen veriyi basar (F12 -> Console'dan kontrol edebilirsiniz)
                console.log('Tklanan Veri Paketi:', props);

                hardResetModalUI();

                // 2. Gvenlik Kontrol
                if (!props || (!props.eventType && !props.model_type)) {
                    console.warn('Eksik veri: eventType veya model_type bulunamad.');
                    return;
                }

                // Renkli Badge Tanmlar (Durumlar iin)
                const statusMap = {
                    'Critical': {
                        text: 'Kritik',
                        class: 'bg-danger text-white'
                    },
                    'High': {
                        text: 'Yksek',
                        class: 'bg-warning text-dark'
                    },
                    'Medium': {
                        text: 'Orta',
                        class: 'bg-info text-white'
                    },
                    'Low': {
                        text: 'Dk',
                        class: 'bg-success text-white'
                    },
                    'Normal': {
                        text: 'Normal',
                        class: 'bg-secondary text-white'
                    },
                    'Pending': {
                        text: 'Beklemede',
                        class: 'bg-warning text-dark'
                    },
                    'In_progress': {
                        text: 'lemde',
                        class: 'bg-primary text-white'
                    },
                    'Completed': {
                        text: 'Tamamland',
                        class: 'bg-success text-white'
                    },
                    'Cancelled': {
                        text: 'ptal',
                        class: 'bg-danger text-white'
                    },
                    'Active': {
                        text: 'Aktif',
                        class: 'bg-success text-white'
                    }
                };

                // Elementleri Se
                const modalTitle = document.getElementById('modalTitle');
                const modalBody = document.getElementById('modalDynamicBody');
                const modalEditButton = document.getElementById('modalEditButton');
                const modalExportButton = document.getElementById('modalExportButton');
                const modalDeleteForm = document.getElementById('modalDeleteForm');
                const modalOnayForm = document.getElementById('modalOnayForm');
                const modalOnayKaldirForm = document.getElementById('modalOnayKaldirForm');
                const modalOnayBadge = document.getElementById('modalOnayBadge');
                const modalImportantContainer = document.getElementById('modalImportantCheckboxContainer');
                const modalImportantCheckbox = document.getElementById('modalImportantCheckbox');

                const calendarEl = document.getElementById('calendar');

                // Yetki Kontrolleri
                const currentUserId = parseInt(calendarEl.dataset.currentUserId, 10);
                const currentUserDept = calendarEl.dataset.userDept;
                const canMarkImportant = calendarEl.dataset.canMarkImportant === 'true';
                const userRole = "{{ Auth::user()->role }}";

                const eventOwnerId = props.user_id;
                const eventDeptId = props.department_id;

                let canModify = false;
                if (userRole === 'admin') {
                    canModify = true;
                } else if (eventOwnerId && eventOwnerId === currentUserId) {
                    canModify = true;
                } else if (userRole === 'ynetici') {
                    if (!currentUserDept || (eventDeptId && String(currentUserDept) === String(eventDeptId))) {
                        canModify = true;
                    }
                }

                // "nemli aretle" Checkbox Mant
                if (modalImportantContainer) {
                    const isVehicleTask = (props.model_type === 'vehicle_assignment');
                    let shouldShowCheckbox = false;
                    if (canMarkImportant) shouldShowCheckbox = true;
                    else if (isVehicleTask && canModify) shouldShowCheckbox = true;

                    if (shouldShowCheckbox) {
                        modalImportantContainer.style.display = 'flex';
                        modalImportantCheckbox.checked = props.is_important || false;
                        modalImportantCheckbox.disabled = false;
                        modalImportantCheckbox.dataset.modelType = props.model_type;
                        modalImportantCheckbox.dataset.modelId = props.id;
                    } else {
                        modalImportantContainer.style.setProperty('display', 'none', 'important');
                    }
                }

                // Balk Ayarla
                modalTitle.innerHTML = `<span>${props.title || 'Detaylar'}</span>`;

                // Dzenle/Sil Butonlar Gster/Gizle
                if (canModify && props.editUrl && props.editUrl !== '#') {
                    modalEditButton.href = props.editUrl;
                    modalEditButton.style.display = 'inline-block';
                }
                if (canModify && props.deleteUrl && modalDeleteForm) {
                    modalDeleteForm.action = props.deleteUrl;
                    modalDeleteForm.style.display = 'inline-block';
                }

                // kon ve Balk Belirleme
                let html = '';
                let icon = 'fa-info-circle';
                let typeTitle = 'Detaylar';

                if (props.eventType === 'shipment') {
                    icon = 'fa-truck';
                    typeTitle = 'Sevkiyat Bilgileri';
                } else if (props.eventType === 'travel') {
                    icon = 'fa-plane';
                    typeTitle = 'Seyahat Bilgileri';
                } else if (props.eventType === 'maintenance') {
                    icon = 'fa-screwdriver-wrench';
                    typeTitle = 'Bakm Bilgileri';
                } else if (props.eventType === 'production') {
                    icon = 'fa-industry';
                    typeTitle = 'retim Bilgileri';
                } else if (props.eventType === 'vehicle_assignment') {
                    icon = 'fa-car';
                    typeTitle = 'Ara Grev Bilgileri';
                } else if (props.eventType === 'todo' || props.model_type === 'todo') {
                    icon = 'fa-check-square';
                    typeTitle = 'Yaplacak ';

                    // To-Do iin zel "Durum Deitir" butonu
                    html += `<div class="text-center mb-3">
                                <button onclick="toggleTodoFromModal(${props.id})" class="btn btn-outline-success btn-sm w-100">
                                    <i class="fas fa-check me-2"></i> Durumu Deitir (Tamamla/Geri Al)
                                </button>
                             </div>`;
                }

                // --- 1. TABLO OLUTURMA (GENEL DETAYLAR) ---
                html +=
                    `<div class="modal-info-card"><h6 class="text-primary fw-bold mb-3 border-bottom pb-2"><i class="fas ${icon} me-2"></i>${typeTitle}</h6><div class="table-responsive"><table class="table table-borderless table-sm m-0 align-middle"><tbody>`;

                // Tabloda GSTERLMEYECEK anahtarlar (Bunlar zel alanlarda gsterilecek)
                const excludeKeys = ['Aklama', 'Notlar', 'Aklamalar', 'Dosya Yolu', 'Plan Detaylar',
                    'Onay Durumu', 'Onaylayan', 'Sonu Notu'
                ];

                if (props.details && typeof props.details === 'object') {
                    Object.entries(props.details).forEach(([key, value]) => {
                        // 1. Hari tutulanlar atla
                        if (excludeKeys.includes(key)) return;

                        // 2. Bo veya null deerleri atla (Ekranda bo satr olmasn)
                        if (value === null || value === undefined || value === '' || value === '-') return;

                        let displayValue = String(value).trim();

                        // 3. Durumlar Renkli Badge Yap (Pending, High vb.)
                        if (statusMap[displayValue]) {
                            const mapItem = statusMap[displayValue];
                            displayValue =
                                `<span class="badge ${mapItem.class} px-3 py-2 rounded-pill fw-normal">${mapItem.text}</span>`;
                        }
                        // Veya ngilizce kelimeleri Trkeletirip Badge Yap
                        else if (['Kritik', 'Yksek', 'Orta', 'Dk', 'Bekliyor', 'Tamamland'].includes(
                                displayValue)) {
                            let badgeClass = 'bg-secondary';
                            if (displayValue === 'Kritik' || displayValue === 'Yksek') badgeClass =
                                'bg-danger';
                            if (displayValue === 'Tamamland') badgeClass = 'bg-success';
                            if (displayValue === 'Bekliyor') badgeClass = 'bg-warning text-dark';
                            displayValue =
                                `<span class="badge ${badgeClass} text-white px-2 py-1 rounded">${displayValue}</span>`;
                        }

                        // Satr ekle
                        html +=
                            `<tr><td class="text-dark fw-bolder" style="width: 35%;">${key}:</td><td class="text-dark">${displayValue}</td></tr>`;
                    });
                }
                html += `</tbody></table></div></div>`;

                // --- 2. ZEL ALANLAR (TABLO DII) ---

                // A. retim Kalemleri Tablosu
                if (props.eventType === 'production' && props.details && props.details['Plan Detaylar']) {
                    let planItems = [];
                    let rawData = props.details['Plan Detaylar'];

                    if (Array.isArray(rawData)) {
                        planItems = rawData;
                    } else if (typeof rawData === 'string') {
                        try {
                            planItems = JSON.parse(rawData);
                        } catch (e) {}
                    }

                    if (planItems.length > 0) {
                        html += '<div class="modal-info-card bg-light border mt-3">';
                        html +=
                            '<h6 class="text-primary fw-bold mb-2"><i class="fas fa-list-ol me-2"></i>retim Kalemleri</h6>';
                        html +=
                            '<div class="table-responsive"><table class="table table-sm table-striped table-hover bg-white rounded mb-0">';
                        html +=
                            '<thead class="table-light"><tr><th>Makine</th><th>rn</th><th class="text-end">Adet</th></tr></thead><tbody>';
                        planItems.forEach(i => {
                            html +=
                                `<tr><td>${i.machine || '-'}</td><td>${i.product || '-'}</td><td class="text-end fw-bold">${i.quantity || 0}</td></tr>`;
                        });
                        html += '</tbody></table></div></div>';
                    }
                }

                // B. Dosya Yolu
                if (props.details && props.details['Dosya Yolu']) {
                    html +=
                        `<div class="text-center mt-3 mb-3"><a href="${props.details['Dosya Yolu']}" target="_blank" class="btn btn-outline-primary btn-sm"><i class="fas fa-paperclip me-2"></i> Ekli Dosyay Grntle</a></div>`;
                }

                // C. Aklama / Notlar Kutusu
                const aciklama = (props.details) ? (props.details['Aklamalar'] || props.details['Notlar'] || props
                    .details['Aklama']) : null;
                if (aciklama && aciklama !== 'Aklama yok') {
                    html += `<div class="modal-notes-box mt-3 p-3 bg-light rounded border">
                                <div class="modal-notes-title fw-bold mb-2 text-primary"><i class="fas fa-sticky-note me-1"></i> Aklama / Notlar</div>
                                <p class="mb-0 text-secondary" style="white-space: pre-wrap;">${aciklama}</p>
                             </div>`;
                }

                // D. Sonu Notu (Bakm vb. iin)
                if (props.details && props.details['Sonu Notu']) {
                    html += `<div class="alert alert-success mt-3 border-0 shadow-sm">
                                <div class="fw-bold mb-1"><i class="fas fa-check-circle me-1"></i> Tamamlanma Raporu</div>
                                <div class="small">${props.details['Sonu Notu']}</div>
                             </div>`;
                }

                // --- 3. ALT BUTONLAR VE AKSYONLAR ---

                // Sevkiyat Onay Durumu
                if (props.eventType === 'shipment') {
                    modalExportButton.href = props.exportUrl || '#';
                    modalExportButton.style.display = 'inline-block';

                    if (props.details && props.details['Onay Durumu']) {
                        modalOnayBadge.style.display = 'block';
                        document.getElementById('modalOnayBadgeTarih').textContent = props.details['Onay Durumu'];
                        document.getElementById('modalOnayBadgeKullanici').textContent = props.details[
                            'Onaylayan'] || '';
                        if (modalOnayKaldirForm) {
                            modalOnayKaldirForm.action = props.onayKaldirUrl;
                            modalOnayKaldirForm.style.display = 'inline-block';
                        }
                    } else {
                        if (modalOnayForm) {
                            modalOnayForm.action = props.onayUrl;
                            modalOnayForm.style.display = 'inline-block';
                        }
                    }
                }
                // Dier Modeller iin "Detaya Git" Butonu
                else if ((props.eventType === 'travel' || props.eventType === 'maintenance') && canModify && props
                    .url) {
                    if (modalOnayForm) modalOnayForm.style.display = 'none';
                    modalExportButton.href = props.url;
                    modalExportButton.target = (props.eventType === 'travel') ? "_blank" : "_self";
                    modalExportButton.innerHTML = '<i class="fas fa-external-link-alt me-2"></i> Detaya Git';
                    modalExportButton.style.display = 'inline-block';
                }

                // --- 4. MODALI GSTER ---
                modalBody.innerHTML = html;

                try {
                    var modalElement = document.getElementById('detailModal');
                    if (typeof bootstrap !== 'undefined' && bootstrap.Modal) {
                        var myModal = bootstrap.Modal.getOrCreateInstance(modalElement);
                        myModal.show();
                    } else if (typeof $ !== 'undefined' && typeof $.fn.modal !== 'undefined') {
                        $(modalElement).modal('show');
                    } else {
                        alert('Bootstrap yklenemedii iin modal alamyor.');
                    }
                } catch (e) {
                    console.error('Modal hatas:', e);
                }
            }

            // function openUniversalModal(props) {
            //     hardResetModalUI();
            //     if (!props || (!props.eventType && !props.model_type)) return;

            //     const statusMap = {
            //         'Critical': {
            //             text: 'Kritik',
            //             class: 'bg-danger text-white'
            //         },
            //         'High': {
            //             text: 'Yksek',
            //             class: 'bg-warning text-dark'
            //         },
            //         'Medium': {
            //             text: 'Orta',
            //             class: 'bg-info text-white'
            //         },
            //         'Low': {
            //             text: 'Dk',
            //             class: 'bg-success text-white'
            //         },
            //         'Normal': {
            //             text: 'Normal',
            //             class: 'bg-secondary text-white'
            //         },
            //         'Pending': {
            //             text: 'Beklemede',
            //             class: 'bg-warning text-dark'
            //         },
            //         'Active': {
            //             text: 'Aktif',
            //             class: 'bg-success text-white'
            //         }
            //     };

            //     const modalTitle = document.getElementById('modalTitle');
            //     const modalBody = document.getElementById('modalDynamicBody');
            //     const modalEditButton = document.getElementById('modalEditButton');
            //     const modalExportButton = document.getElementById('modalExportButton');
            //     const modalDeleteForm = document.getElementById('modalDeleteForm');
            //     const modalOnayForm = document.getElementById('modalOnayForm');
            //     const modalOnayKaldirForm = document.getElementById('modalOnayKaldirForm');
            //     const modalOnayBadge = document.getElementById('modalOnayBadge');
            //     const modalImportantContainer = document.getElementById('modalImportantCheckboxContainer');
            //     const modalImportantCheckbox = document.getElementById('modalImportantCheckbox');
            //     const calendarEl = document.getElementById('calendar');

            //     const currentUserId = parseInt(calendarEl.dataset.currentUserId, 10);
            //     const currentUserDept = calendarEl.dataset.userDept;
            //     const canMarkImportant = calendarEl.dataset.canMarkImportant === 'true';

            //     const eventOwnerId = props.user_id;
            //     const eventDeptId = props.department_id;

            //     let canModify = false;

            //     if (currentUserRole === 'admin') {
            //         canModify = true;
            //     } else if (eventOwnerId && eventOwnerId === currentUserId) {
            //         canModify = true;
            //     } else if (currentUserRole === 'ynetici') {
            //         if (!currentUserDept || (eventDeptId && String(currentUserDept) === String(eventDeptId))) {
            //             canModify = true;
            //         }
            //     }

            //     if (modalImportantContainer) {
            //         const isVehicleTask = (props.model_type === 'vehicle_assignment');
            //         let shouldShowCheckbox = false;
            //         if (canMarkImportant) shouldShowCheckbox = true;
            //         else if (isVehicleTask && canModify) shouldShowCheckbox = true;

            //         if (shouldShowCheckbox) {
            //             modalImportantContainer.style.display = 'flex';
            //             modalImportantCheckbox.checked = props.is_important || false;
            //             modalImportantCheckbox.disabled = false;
            //             modalImportantCheckbox.dataset.modelType = props.model_type;
            //             modalImportantCheckbox.dataset.modelId = props.id;
            //         } else {
            //             modalImportantContainer.style.setProperty('display', 'none', 'important');
            //         }
            //     }

            //     modalTitle.innerHTML = `<span>${props.title || 'Detaylar'}</span>`;

            //     if (canModify && props.editUrl && props.editUrl !== '#') {
            //         modalEditButton.href = props.editUrl;
            //         modalEditButton.style.display = 'inline-block';
            //     }
            //     if (canModify && props.deleteUrl && modalDeleteForm) {
            //         modalDeleteForm.action = props.deleteUrl;
            //         modalDeleteForm.style.display = 'inline-block';
            //     }

            //     let html = '';
            //     let icon = 'fa-info-circle';
            //     let typeTitle = 'Etkinlik Detaylar';

            //     if (props.eventType === 'shipment') {
            //         icon = 'fa-truck';
            //         typeTitle = 'Sevkiyat Bilgileri';
            //     } else if (props.eventType === 'travel') {
            //         icon = 'fa-plane';
            //         typeTitle = 'Seyahat Bilgileri';
            //     } else if (props.eventType === 'maintenance') {
            //         icon = 'fa-screwdriver-wrench';
            //         typeTitle = 'Bakm Bilgileri';
            //     } else if (props.eventType === 'production') {
            //         icon = 'fa-industry';
            //         typeTitle = 'retim Bilgileri';
            //     } else if (props.eventType === 'todo' || props.model_type === 'todo') {
            //         const todoNote = props.details['Not'] || props.details['Aklama'];

            //         if (todoNote && todoNote !== 'Aklama yok') {
            //             html += `<div class="p-3 bg-light rounded border mb-3">
        //         <h6 class="fw-bold text-primary mb-2"><i class="fas fa-sticky-note me-2"></i>Notlar</h6>
        //         <p class="mb-0 text-dark" style="white-space: pre-wrap;">${todoNote}</p>
        //      </div>`;
            //         }
            //         html += `<div class="text-center mt-3">
        //     <button onclick="toggleTodoFromModal(${props.id})" class="btn btn-outline-success btn-sm w-100">
        //         <i class="fas fa-check me-2"></i> Durumu Deitir (Tamamla/Geri Al)
        //     </button>
        //  </div>`;
            //     }

            //     html +=
            //         `<div class="modal-info-card"><h6 class="text-primary fw-bold mb-3 border-bottom pb-2"><i class="fas ${icon} me-2"></i>${typeTitle}</h6><div class="table-responsive"><table class="table table-borderless table-sm m-0 align-middle"><tbody>`;

            //     const excludeKeys = ['Aklama', 'Notlar', 'Aklamalar', 'Dosya Yolu', 'Plan Detaylar',
            //         'Onay Durumu', 'Onaylayan'
            //     ];
            //     if (props.details && typeof props.details === 'object') {
            //         Object.entries(props.details).forEach(([key, value]) => {
            //             if (excludeKeys.includes(key)) return;
            //             if (value === null || value === undefined || value === '' || value === '-') return;
            //             let displayValue = String(value).trim();
            //             if (value && typeof value === 'object' && value.is_badge) {
            //                 displayValue =
            //                     `<span class="badge ${value.class} px-3 py-2 rounded-pill fw-normal">${value.text}</span>`;
            //             } else if (statusMap[displayValue]) {
            //                 const mapItem = statusMap[displayValue];
            //                 displayValue =
            //                     `<span class="badge ${mapItem.class} px-3 py-2 rounded-pill fw-normal">${mapItem.text}</span>`;
            //             }
            //             html +=
            //                 `<tr><td class="text-dark fw-bolder" style="width: 35%;">${key}:</td><td class="text-dark">${displayValue}</td></tr>`;
            //         });
            //     }
            //     html += `</tbody></table></div></div>`;

            //     if (props.eventType === 'production' && props.details['Plan Detaylar']) {
            //         html +=
            //             '<div class="modal-info-card"><h6 class="text-primary fw-bold mb-2">retim Kalemleri</h6><table class="table table-sm table-striped"><thead><tr><th>Makine</th><th>rn</th><th>Adet</th></tr></thead><tbody>';
            //         props.details['Plan Detaylar'].forEach(i => {
            //             html += `<tr><td>${i.machine}</td><td>${i.product}</td><td>${i.quantity}</td></tr>`;
            //         });
            //         html += '</tbody></table></div>';
            //     }

            //     if (props.details && props.details['Dosya Yolu']) {
            //         html +=
            //             `<div class="text-center mt-3 mb-3"><a href="${props.details['Dosya Yolu']}" target="_blank" class="btn btn-outline-primary btn-sm"><i class="fas fa-paperclip me-2"></i> Dosyay Grntle</a></div>`;
            //     }

            //     const aciklama = props.details['Aklamalar'] || props.details['Notlar'] || props.details[
            //         'Aklama'];
            //     if (aciklama) {
            //         html +=
            //             `<div class="modal-notes-box mt-3 p-3 bg-light rounded border"><div class="modal-notes-title fw-bold mb-2 text-primary"><i class="fas fa-sticky-note me-1"></i> Aklama / Notlar</div><p class="mb-0 text-secondary" style="white-space: pre-wrap;">${aciklama}</p></div>`;
            //     }

            //     if (props.eventType === 'shipment') {
            //         modalExportButton.href = props.exportUrl || '#';
            //         modalExportButton.style.display = 'inline-block';
            //         if (props.details['Onay Durumu']) {
            //             modalOnayBadge.style.display = 'block';
            //             document.getElementById('modalOnayBadgeTarih').textContent = props.details['Onay Durumu'];
            //             document.getElementById('modalOnayBadgeKullanici').textContent = props.details[
            //                 'Onaylayan'] || '';
            //             if (modalOnayKaldirForm) {
            //                 modalOnayKaldirForm.action = props.onayKaldirUrl;
            //                 modalOnayKaldirForm.style.display = 'inline-block';
            //             }
            //         } else {
            //             if (modalOnayForm) {
            //                 modalOnayForm.action = props.onayUrl;
            //                 modalOnayForm.style.display = 'inline-block';
            //             }
            //         }
            //     } else if (props.eventType === 'travel' && canModify && props.url) {
            //         if (modalOnayForm) modalOnayForm.style.display = 'none';
            //         modalExportButton.href = props.url;
            //         modalExportButton.target = "_blank";
            //         modalExportButton.innerHTML = '<i class="fas fa-plane-departure me-2"></i> Detaya Git';
            //         modalExportButton.style.display = 'inline-block';
            //     } else if (props.eventType === 'maintenance' && canModify && props.url) {
            //         modalExportButton.href = props.url;
            //         modalExportButton.innerHTML = '<i class="fas fa-eye me-2"></i> Detaya Git';
            //         modalExportButton.style.display = 'inline-block';
            //     } else if (props.eventType === 'todo' || props.model_type === 'todo') {
            //         icon = 'fa-check-square';
            //         typeTitle = 'Yaplacak  Detay';
            //         // To-Do iin zel buton veya ilem gerekirse buraya ekle
            //         // rnein "Tamamla" butonu eklenebilir ama widget'ta var zaten.
            //     }
            //     modalBody.innerHTML = html;
            //     var modalEl = document.getElementById('detailModal');
            //     var myModal = bootstrap.Modal.getOrCreateInstance(modalEl);
            //     myModal.show();
            // }

            var calendarEl = document.getElementById('calendar');
            var calendar = new FullCalendar.Calendar(calendarEl, {
                initialView: 'dayGridMonth',
                initialDate: dateFromUrl || new Date(),
                locale: 'tr',
                headerToolbar: {
                    left: 'prev,next today',
                    center: 'title',
                    right: 'dayGridMonth,timeGridWeek,timeGridDay,listWeek'
                },
                buttonText: {
                    today: 'Bugn',
                    month: 'Ay',
                    week: 'Hafta',
                    day: 'Gn',
                    list: 'Liste'
                },
                slotEventOverlap: false,
                dayMaxEvents: 5,
                height: 'auto',
                eventTimeFormat: {
                    hour: '2-digit',
                    minute: '2-digit',
                    meridiem: false,
                    hour12: false
                },
                displayEventEnd: true,
                eventDisplay: 'list-item',
                eventSources: [{
                    url: calendarEventsUrl,
                    failure: () => alert('Veri hatas!')
                }, , {
                    googleCalendarId: 'tr.turkish#holiday@group.v.calendar.google.com',
                    color: '#dc3545',
                    className: 'fc-event-holiday',
                    googleCalendarApiKey: 'AIzaSyAQmEWGR-krGzcCk1r8R69ER-NyZM2BeWM'
                }],
                eventClick: function(info) {
                    info.jsEvent.preventDefault();
                    const props = info.event.extendedProps;
                    if (props && (props.eventType || props.model_type)) {
                        openUniversalModal(props);
                    }
                },
                eventDidMount: function(info) {
                    if (info.event.extendedProps && info.event.extendedProps.is_important)
                        info.el.classList.add('event-important-pulse');
                    try {
                        let title = info.event.title;
                        let desc = '';
                        if (info.event.extendedProps?.details?.['Aklama']) desc = info.event
                            .extendedProps.details['Aklama'];
                        else if (info.event.start) {
                            let start = info.event.start.toLocaleTimeString('tr-TR', {
                                hour: '2-digit',
                                minute: '2-digit'
                            });
                            if (start !== '00:00') desc = `Saat: ${start}`;
                        }
                        let tooltipContent =
                            `<div class="text-start"><span class="tooltip-title-styled">${title}</span>${desc ? `<span class="tooltip-desc-styled">${desc}</span>` : ''}</div>`;
                        if (typeof bootstrap !== 'undefined') {
                            new bootstrap.Tooltip(info.el, {
                                title: tooltipContent,
                                html: true,
                                placement: 'top',
                                trigger: 'hover',
                                container: 'body',
                                customClass: 'custom-calendar-tooltip',
                                delay: {
                                    "show": 100,
                                    "hide": 100
                                }
                            });
                        } else {
                            info.el.setAttribute('title', title + (desc ? ' - ' + desc : ''));
                        }
                    } catch (error) {
                        console.warn('Tooltip hatas:', error);
                    }
                }
            });

            function checkAndOpenModalFromUrl(events) {
                if (urlModalId && urlModalType) {
                    const idNum = parseInt(urlModalId, 10);
                    const foundEvent = events.find(e => {
                        const props = e.extendedProps || {};
                        return props.id === idNum && props.model_type === urlModalType;
                    });
                    if (foundEvent) {
                        openUniversalModal(foundEvent.extendedProps);
                        const newUrl = window.location.pathname + window.location.search.replace(
                            /[\?&]open_modal_id=[^&]+/, '').replace(/[\?&]open_modal_type=[^&]+/, '');
                        window.history.replaceState({}, document.title, newUrl);
                    }
                }
            }

            function applyCalendarFilters() {
                const calendarEl = document.getElementById('calendar');
                const canFilter = calendarEl.dataset.canFilter === 'true';
                let userDept = (calendarEl.dataset.userDept || '').toLowerCase().trim();
                userDept = userDept.replace(//g, 'i').replace(//g, 'i').replace(//g, 's').replace(//g, 'g')
                    .replace(//g, 'u').replace(//g, 'o').replace(//g, 'c');
                const isChecked = (id) => {
                    const el = document.getElementById(id);
                    return el ? el.checked : false;
                };

                let params = {};
                if (canFilter) {
                    params.lojistik = isChecked('filterLojistik') ? 1 : 0;
                    params.uretim = isChecked('filterUretim') ? 1 : 0;
                    params.hizmet = isChecked('filterHizmet') ? 1 : 0;
                    params.bakim = isChecked('filterBakim') ? 1 : 0;
                } else {
                    params.lojistik = userDept.includes('lojistik') ? 1 : 0;
                    params.uretim = (userDept.includes('uretim') || userDept.includes('planlama')) ? 1 : 0;
                    params.hizmet = (userDept.includes('hizmet') || userDept.includes('idari')) ? 1 : 0;
                    params.bakim = userDept.includes('bakim') ? 1 : 0;
                }
                params.important_only = document.getElementById('filterImportant')?.checked ? 1 : 0;

                let eventSource = calendar.getEventSources()[0];
                if (eventSource && eventSource.internalEventSource.meta.url === calendarEventsUrl) eventSource
                    .remove();
                else if (calendar.getEventSources().length > 0) calendar.getEventSources().forEach(src => {
                    if (src.internalEventSource?.meta?.url === calendarEventsUrl) src.remove();
                });

                calendar.addEventSource({
                    url: calendarEventsUrl,
                    extraParams: params,
                    success: function(rawEvents) {
                        setTimeout(() => {
                            checkAndOpenModalFromUrl(calendar.getEvents());
                        }, 500);
                    }
                });
            }

            const filters = document.querySelectorAll('.calendar-filters .form-check-input');
            filters.forEach(filter => filter.addEventListener('change', applyCalendarFilters));
            applyCalendarFilters();
            calendar.render();
            setInterval(function() {
                calendar.refetchEvents();
            }, 30000);

            const btnOnay = document.getElementById('modalOnayForm');
            if (btnOnay) btnOnay.addEventListener('submit', e => {
                if (!confirm('Onaylyor musunuz?')) e.preventDefault();
            });
            const btnDelete = document.getElementById('modalDeleteForm');
            if (btnDelete) btnDelete.addEventListener('submit', e => {
                if (!confirm('Silinsin mi?')) e.preventDefault();
            });

            const chkImportant = document.getElementById('modalImportantCheckbox');
            if (chkImportant) {
                chkImportant.addEventListener('change', function() {
                    const isChecked = this.checked;
                    this.disabled = true;
                    fetch(toggleImportantUrl, {
                            method: 'POST',
                            headers: {
                                'Content-Type': 'application/json',
                                'X-CSRF-TOKEN': getCsrfToken(),
                                'Accept': 'application/json'
                            },
                            body: JSON.stringify({
                                model_id: this.dataset.modelId,
                                model_type: this.dataset.modelType,
                                is_important: isChecked
                            })
                        }).then(res => res.json()).then(data => {
                            if (data.success === false) {
                                alert('HATA: ' + (data.message || 'Yetkiniz yok.'));
                                this.checked = !isChecked;
                            } else {
                                calendar.refetchEvents();
                            }
                        }).catch(err => {
                            console.error(err);
                            alert('Bir balant hatas olutu.');
                            this.checked = !isChecked;
                        })
                        .finally(() => {
                            this.disabled = false;
                        });
                });
            }
        });
        // Modal iinden To-Do durumunu deitirme
        window.toggleTodoFromModal = function(id) {
            fetch(`/todos/${id}/toggle`, {
                    method: "POST",
                    headers: {
                        'X-CSRF-TOKEN': document.querySelector('meta[name="csrf-token"]').content,
                        'Accept': 'application/json'
                    }
                })
                .then(res => res.json())
                .then(data => {
                    if (data.success) {
                        // Modal kapat ve sayfay yenile (veya takvimi gncelle)
                        const modalEl = document.getElementById('detailModal');
                        const modal = bootstrap.Modal.getInstance(modalEl);
                        modal.hide();

                        // Kullancya bildirim ver
                        Swal.fire({
                            icon: 'success',
                            title: 'Gncellendi',
                            text: 'Grev durumu baaryla deitirildi.',
                            timer: 1500,
                            showConfirmButton: false
                        }).then(() => {
                            window.location.reload(); // Listeyi ve takvimi yenile
                        });
                    }
                });
        }
    </script>
@endsection


----------------------------------------
DOSYA YOLU: resources\views\important-items.blade.php
----------------------------------------

@extends('layouts.app')
@section('title', 'Tm nemli Bildirimler')

<style>
    /* welcome.blade.php dosyanzdaki stilleri buraya da alalm */
    #app>main.py-4 {
        padding: 2.5rem 0 !important;
        min-height: calc(100vh - 72px);
        background: linear-gradient(-45deg, #dbe4ff, #fde2ff, #d9fcf7, #fff0d9);
        background-size: 400% 400%;
        animation: gradientWave 18s ease infinite;
    }

    @keyframes gradientWave {
        0% {
            background-position: 0% 50%;
        }

        50% {
            background-position: 100% 50%;
        }

        100% {
            background-position: 0% 50%;
        }
    }

    .create-shipment-card {
        border-radius: 1.25rem;
        box-shadow: 0 8px 32px rgba(0, 0, 0, 0.08);
        border: 1px solid rgba(255, 255, 255, 0.4);
        background-color: rgba(255, 255, 255, 0.85);
        backdrop-filter: blur(10px);
    }

    .create-shipment-card .card-header {
        background: linear-gradient(135deg, rgba(102, 126, 234, 0.1), rgba(118, 75, 162, 0.1));
        border-bottom: 1px solid rgba(102, 126, 234, 0.2);
    }

    /* "nemli Bildirimler" listesi iin pulse animasyonu */
    .event-important-pulse-welcome {
        border-radius: 0.75rem;
        margin-bottom: 0.5rem;
        border: 2px solid #ff4136 !important;
        box-shadow: 0 0 0 rgba(255, 65, 54, 0.4);
        animation: pulse-animation 2s infinite;
        transition: background-color 0.2s ease-in-out;
    }

    .event-important-pulse-welcome:hover {
        background-color: rgba(255, 65, 54, 0.05) !important;
    }

    /* Pulse Animasyon Keyframes */
    @keyframes pulse-animation {
        0% {
            box-shadow: 0 0 0 0 rgba(255, 65, 54, 0.7);
        }

        70% {
            box-shadow: 0 0 0 10px rgba(255, 65, 54, 0);
        }

        100% {
            box-shadow: 0 0 0 0 rgba(255, 65, 54, 0);
        }
    }

    .btn-filter-toggle {
        background-color: rgba(255, 255, 255, 0.8);
        border: 1px solid rgba(0, 0, 0, 0.1);
        color: #333;
        font-weight: 500;
        transition: all 0.3s ease;
        box-shadow: 0 2px 5px rgba(0, 0, 0, 0.05);
    }

    .btn-filter-toggle:hover {
        background-color: rgba(255, 255, 255, 0.95);
        border-color: rgba(0, 0, 0, 0.15);
        transform: translateY(-2px);
        box-shadow: 0 4px 10px rgba(0, 0, 0, 0.1);
    }

    .btn-filter-toggle[aria-expanded="true"] {
        background-color: rgba(230, 235, 255, 0.9);
    }

    .filter-card {
        background: rgba(255, 255, 255, 0.85);
        backdrop-filter: blur(8px);
        -webkit-backdrop-filter: blur(8px);
        border-radius: 0.75rem;
        border: 1px solid rgba(255, 255, 255, 0.25);
        box-shadow: 0 4px 15px rgba(0, 0, 0, 0.08);
        padding: 1.5rem;
    }

    .filter-card .form-label {
        font-weight: 500;
        color: #333;
        margin-bottom: 0.3rem;
    }

    .filter-card .form-control,
    .filter-card .form-select {
        border-radius: 0.5rem;
        background-color: #fff;
    }

    .filter-card .row {
        margin-bottom: -1rem;
    }

    .filter-card .row>div {
        margin-bottom: 1rem;
    }

    .btn-apply-filter {
        background: linear-gradient(-45deg, #667EEA, #F093FB, #4FD1C5, #FBD38D);
        background-size: 400% 400%;
        animation: gradientWave 18s ease infinite;
        border: none;
        color: white;
        font-weight: bold;
        transition: transform 0.2s ease-out, box-shadow 0.2s ease-out;
        padding: 0.5rem 1.25rem;
    }

    .btn-apply-filter:hover {
        color: white;
        transform: scale(1.05);
        box-shadow: 0 4px 15px rgba(0, 0, 0, 0.1);
    }

    .btn-clear-filter {
        padding: 0.5rem 1.25rem;
    }
</style>

@section('content')
    <div class="container">
        <div class="row justify-content-center">
            <div class="col-md-10"> {{-- Daha geni bir alan --}}
                <div class="mb-4">
                    <div class="d-grid">
                        <button class="btn btn-filter-toggle" type="button" data-bs-toggle="collapse"
                            data-bs-target="#filterCollapse" aria-expanded="false" aria-controls="filterCollapse">
                            <i class="fas fa-filter me-2"></i> Filtre Seenekleri
                            <i class="fas fa-chevron-down ms-2 small"></i>
                        </button>
                    </div>

                    <div class="collapse mt-3" id="filterCollapse">
                        <div class="card filter-card">
                            <form method="GET" action="{{ route('important.all') }}">
                                <div class="row">
                                    {{-- Tip Filtresi --}}
                                    <div class="col-md-3">
                                        <label for="type" class="form-label">Veri Tipi</label>
                                        <select class="form-select form-select-sm" id="type" name="type">
                                            <option value="all"
                                                {{ ($filters['type'] ?? 'all') == 'all' ? 'selected' : '' }}>Tm</option>
                                            <option value="shipment"
                                                {{ ($filters['type'] ?? '') == 'shipment' ? 'selected' : '' }}>Sevkiyat
                                            </option>
                                            <option value="production_plan"
                                                {{ ($filters['type'] ?? '') == 'production_plan' ? 'selected' : '' }}>retim
                                                Plan</option>
                                            <option value="event"
                                                {{ ($filters['type'] ?? '') == 'event' ? 'selected' : '' }}>Etkinlik
                                            </option>
                                            <option value="vehicle_assignment"
                                                {{ ($filters['type'] ?? '') == 'vehicle_assignment' ? 'selected' : '' }}>
                                                Ara Atamas</option>
                                            <option value="travel"
                                                {{ ($filters['type'] ?? '') == 'travel' ? 'selected' : '' }}>
                                                Seyahat Plan
                                            </option>
                                        </select>
                                    </div>

                                    {{-- Tarih Aral Filtresi --}}
                                    <div class="col-md-3">
                                        <label for="date_from" class="form-label">Balang Tarihi</label>
                                        <input type="date" class="form-control form-control-sm" id="date_from"
                                            name="date_from" value="{{ $filters['date_from'] ?? '' }}">
                                    </div>
                                    <div class="col-md-3">
                                        <label for="date_to" class="form-label">Biti Tarihi</label>
                                        <input type="date" class="form-control form-control-sm" id="date_to"
                                            name="date_to" value="{{ $filters['date_to'] ?? '' }}">
                                    </div>

                                    {{-- Butonlar --}}
                                    <div class="col-md-12 d-flex align-items-end justify-content-end gap-2 mt-3">
                                        <a href="{{ route('important.all') }}"
                                            class="btn btn-secondary btn-clear-filter btn-sm">
                                            <i class="fas fa-times me-1"></i> Temizle
                                        </a>
                                        <button type="submit" class="btn btn-apply-filter btn-sm">
                                            <i class="fas fa-check me-1"></i> Filtrele
                                        </button>
                                    </div>
                                </div>
                            </form>
                        </div>
                    </div>
                </div>
                <div class="card create-shipment-card mb-4">

                    <div class="card-header d-flex justify-content-between align-items-center"
                        style="background: linear-gradient(135deg, rgba(255, 65, 54, 0.1), rgba(255, 100, 80, 0.1)); border-bottom: 1px solid rgba(255, 65, 54, 0.2);">
                        <h5 class="mb-0" style="color: #dc3545; font-weight: 700;">
                            <i class="fas fa-bell"></i> Tm nemli Bildirimler ({{ $importantItems->count() }} adet)
                        </h5>
                        <a href="{{ route('welcome') }}" class="btn btn-sm btn-outline-secondary"> Geri Dn</a>
                    </div>

                    <div class="card-body" style="padding: 1rem 1.5rem;">
                        <div class="list-group list-group-flush">
                            @forelse($importantItems as $item)
                                @php
                                    $params = [];
                                    if ($item->date) {
                                        $params['date'] = $item->date->format('Y-m-d');
                                    }
                                    $params['open_modal_id'] = $item->model_id;
                                    $params['open_modal_type'] = $item->model_type;
                                    $url = route('general.calendar', $params);
                                @endphp

                                <a href="{{ $url }}"
                                    class="list-group-item list-group-item-action event-important-pulse-welcome"
                                    style="background: transparent; border: none; padding: 0.75rem 0.5rem;"
                                    title="Takvimde grmek ve detay amak iin tklayn...">

                                    <strong>{{ $item->title }}</strong>

                                    @if ($item->date)
                                        <span class="badge bg-danger rounded-pill float-end">
                                            {{ $item->date->format('d.m.Y') }}
                                        </span>
                                    @endif
                                </a>
                            @empty
                                <div class="alert alert-success text-center">
                                    nemli olarak iaretlenmi bir kayt bulunamad.
                                </div>
                            @endforelse
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
@endsection
@section('page_scripts')

    <script>
        document.addEventListener('DOMContentLoaded', function() {
            var filterCollapse = document.getElementById('filterCollapse');
            var filterButtonIcon = document.querySelector('.btn-filter-toggle .fa-chevron-down');

            if (filterCollapse && filterButtonIcon) {
                filterCollapse.addEventListener('show.bs.collapse', function() {
                    filterButtonIcon.classList.remove('fa-chevron-down');
                    filterButtonIcon.classList.add('fa-chevron-up');
                });
                filterCollapse.addEventListener('hide.bs.collapse', function() {
                    filterButtonIcon.classList.remove('fa-chevron-up');
                    filterButtonIcon.classList.add('fa-chevron-down');
                });
                if (filterCollapse.classList.contains('show')) {
                    filterButtonIcon.classList.remove('fa-chevron-down');
                    filterButtonIcon.classList.add('fa-chevron-up');
                }
            }
        });
    </script>
@endsection


----------------------------------------
DOSYA YOLU: resources\views\my_tasks.blade.php
----------------------------------------

@extends('layouts.app')

@section('title', 'Grevlerim')

@push('styles')
    <style>
        /* teams.index.blade.php dosyasndan kopyaland */
        #app>main.py-4 {
            padding: 2.5rem 0 !important;
            min-height: calc(100vh - 72px);
            background: linear-gradient(-45deg, #dbe4ff, #fde2ff, #d9fcf7, #fff0d9);
            background-size: 400% 400%;
            animation: gradientWave 18s ease infinite;
        }

        @keyframes gradientWave {
            0% {
                background-position: 0% 50%;
            }

            50% {
                background-position: 100% 50%;
            }

            100% {
                background-position: 0% 50%;
            }
        }

        /* Yeni Kart Stili */
        .task-card {
            border-radius: 0.75rem;
            box-shadow: 0 4px 15px rgba(0, 0, 0, 0.07);
            border: 0;
            background-color: #fff;
            transition: transform 0.2s ease, box-shadow 0.2s ease;
        }

        .task-card:hover {
            transform: translateY(-3px);
            box-shadow: 0 6px 20px rgba(0, 0, 0, 0.1);
        }

        .task-card .card-header {
            font-weight: bold;
            background-color: #f8f9fa;
            border-bottom: 2px solid #e9ecef;
        }

        .task-card .badge {
            font-size: 0.8rem;
            padding: 0.4em 0.7em;
            border-radius: 0.5rem;
        }

        /* Grev trne gre etiket renkleri */
        .badge-company_vehicle {
            background-color: #0d6efd;
            color: white;
        }

        .badge-logistics {
            background-color: #fd7e14;
            color: white;
        }

        .badge-personal {
            background-color: #198754;
            color: white;
        }
    </style>
@endpush

@section('content')
    <div class="container">
        <div class="row justify-content-center">
            <div class="col-md-10">
                <h2 class="mb-4" style="color: #444;">Bana Atanan Grevler</h2>

                @if ($tasks->isEmpty())
                    <div class="alert alert-info" role="alert">
                        Size atanm veya takmlarnza atanm bir grev bulunmamaktadr.
                    </div>
                @else
                    @foreach ($tasks as $task)
                        <div class="card task-card mb-3">
                            <div class="card-header d-flex justify-content-between align-items-center">
                                <div>
                                    {{ $task->task_description }}

                                    {{-- Grev Tr Etiketi --}}
                                    <span class="badge ms-2 badge-{{ $task->assignment_type }}">
                                        @if ($task->assignment_type == 'company_vehicle')
                                            irket Arac
                                        @elseif ($task->assignment_type == 'logistics')
                                            Nakliye
                                        @elseif ($task->assignment_type == 'personal')
                                            Kiisel
                                        @endif
                                    </span>
                                </div>

                                {{-- Sorumlu (Eer bir takmsa) --}}
                                @if ($task->responsible_type == 'App\Models\Team')
                                    <span class="badge bg-secondary">
                                        {{-- <i class="fas fa-users me-1"></i> --}}
                                        Takm: {{ $task->responsible->name }}
                                    </span>
                                @endif
                            </div>
                            <div class="card-body">
                                <div class="row">
                                    <div class="col-md-6">
                                        {{-- Grevi yaratan (user_id ilikisi) --}}
                                        <p class="mb-2"><strong>Oluturan:</strong> {{ $task->user->name }}</p>
                                        <p class="mb-2"><strong>Gidilecek Yer:</strong> {{ $task->destination ?? '-' }}
                                        </p>
                                        <p class="mb-0"><strong>Notlar:</strong> {{ $task->notes ?? '-' }}</p>
                                    </div>
                                    <div class="col-md-6">
                                        {{-- Kaynak (Ara) --}}
                                        {{-- resource ilikisi (Vehicle) doluysa --}}
                                        @if ($task->resource_type == 'App\Models\Vehicle' && $task->resource)
                                            <p class="mb-2"><strong>Ara:</strong> {{ $task->resource->plate_number }}
                                                ({{ $task->resource->type }})
                                            </p>
                                        @endif

                                        {{-- Nakliye Detaylar --}}
                                        @if ($task->assignment_type == 'logistics')
                                            <p class="mb-2"><strong>Balang KM:</strong> {{ $task->start_km }}</p>
                                            <p class="mb-2"><strong>Yakt Durumu:</strong> {{ $task->start_fuel_level }}
                                            </p>

                                            {{-- Yakt Maliyeti (Girilmise) --}}
                                            @if ($task->fuel_cost)
                                                <p class="mb-2"><strong>Yakt Maliyeti:</strong> {{ $task->fuel_cost }}
                                                    TL</p>
                                            @else
                                                <p class="mb-2 text-muted"><em>( bitiminde yakt maliyeti girilecek)</em>
                                                </p>
                                            @endif
                                        @endif
                                    </div>
                                </div>
                            </div>
                            <div class="card-footer bg-light text-muted">
                                <strong>Grev Zaman:</strong>
                                {{ $task->start_time ? $task->start_time->translatedFormat('d F Y, H:i') : 'Belirtilmemi' }}
                            </div>
                        </div>
                    @endforeach

                    <div class="mt-4">
                        {{ $tasks->links() }}
                    </div>
                @endif
            </div>
        </div>
    </div>
@endsection


----------------------------------------
DOSYA YOLU: resources\views\welcome.blade.php
----------------------------------------

@extends('layouts.app')
@section('title', 'Ho Geldiniz')

@push('styles')
    <style>
        /* --- GENEL BACKGROUND --- */
        #app>main.py-4 {
            padding: 2.5rem 0 !important;
            min-height: calc(100vh - 72px);
            background: linear-gradient(-45deg, #dbe4ff, #fde2ff, #d9fcf7, #fff0d9);
            background-size: 400% 400%;
            animation: gradientWave 18s ease infinite;
        }

        @keyframes gradientWave {
            0% {
                background-position: 0% 50%;
            }

            50% {
                background-position: 100% 50%;
            }

            100% {
                background-position: 0% 50%;
            }
        }

        /* --- KART TASARIMLARI (Create Shipment Card Style - SENN ORJNAL YAPIN) --- */
        .create-shipment-card {
            border-radius: 1rem;
            box-shadow: 0 4px 30px rgba(0, 0, 0, 0.05);
            border: 1px solid rgba(255, 255, 255, 0.6);
            background-color: rgba(255, 255, 255, 0.8);
            backdrop-filter: blur(10px);
            -webkit-backdrop-filter: blur(10px);
            transition: transform 0.2s ease, box-shadow 0.2s ease;
        }

        .hover-effect:hover {
            transform: translateY(-5px);
            box-shadow: 0 10px 25px rgba(102, 126, 234, 0.15) !important;
        }

        .create-shipment-card .card-body {
            padding: 1.5rem;
        }

        /* --- KPI KARTLARI (OPERASYON ZET) --- */
        .kpi-card {
            background-color: white;
            border-radius: 1rem;
            border: 1px solid #e2e8f0;
            box-shadow: 0 4px 6px rgba(0, 0, 0, 0.02);
            padding: 1.5rem;
            text-align: center;
            transition: all 0.3s ease;
            position: relative;
            overflow: hidden;
            height: 100%;
            display: flex;
            flex-direction: column;
            justify-content: center;
            align-items: center;
        }

        .kpi-card:hover {
            transform: translateY(-5px);
            box-shadow: 0 15px 30px rgba(0, 0, 0, 0.1);
            border-color: #cbd5e0;
        }

        .kpi-card::after {
            content: '';
            position: absolute;
            bottom: 0;
            left: 0;
            width: 100%;
            height: 4px;
        }

        .kpi-icon {
            font-size: 2rem;
            margin-bottom: 0.75rem;
            opacity: 0.8;
            transition: transform 0.3s;
        }

        .kpi-card:hover .kpi-icon {
            transform: scale(1.1);
            opacity: 1;
        }

        .kpi-value {
            font-size: 2.25rem;
            font-weight: 800;
            color: #2d3748;
            line-height: 1.2;
            margin-bottom: 0.25rem;
        }

        .kpi-label {
            font-size: 0.85rem;
            font-weight: 600;
            color: #718096;
            text-transform: uppercase;
            letter-spacing: 0.5px;
        }

        /* KPI RENKLER */
        /* Hizmet / dari ler */
        .kpi-hizmet::after {
            background: linear-gradient(90deg, #F093FB, #F5576C);
        }

        .kpi-hizmet .kpi-icon {
            color: #F5576C;
        }

        .kpi-hizmet-seyahat::after {
            background: #4facfe;
        }

        .kpi-hizmet-seyahat .kpi-icon {
            color: #4facfe;
        }

        /* Dierleri */
        .kpi-lojistik::after {
            background: #667EEA;
        }

        .kpi-lojistik .kpi-icon {
            color: #667EEA;
        }

        .kpi-uretim::after {
            background: #4FD1C5;
        }

        .kpi-uretim .kpi-icon {
            color: #4FD1C5;
        }

        .kpi-ulastirma::after {
            background: #3182CE;
        }

        .kpi-ulastirma .kpi-icon {
            color: #3182CE;
        }

        /* --- NEML BLDRM --- */
        .event-important-pulse-welcome {
            border-left: 4px solid #ff4136;
            background: rgba(255, 255, 255, 0.6);
            margin-bottom: 0.5rem;
            transition: background 0.2s;
        }

        .event-important-pulse-welcome:hover {
            background: white;
        }

        /* --- GRAFK --- */
        .sankey-container-wrapper {
            overflow-x: auto;
            padding-bottom: 10px;
        }
    </style>
@endpush

@section('content')
    {{-- Hzl Seim Modal (Backend ayn kalyor) --}}
    <div class="modal fade" id="createSelectionModal" tabindex="-1" aria-hidden="true">
        <div class="modal-dialog modal-dialog-centered">
            <div class="modal-content"
                style="background: rgba(255,255,255,0.95); backdrop-filter: blur(10px); border:none; border-radius: 1rem;">
                <div class="modal-header border-0">
                    <h5 class="modal-title fw-bold">Ne Oluturmak stersiniz?</h5>
                    <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Kapat"></button>
                </div>
                <div class="modal-body p-4">
                    @php
                        $currentUser = Auth::user();
                        $userDept = $currentUser->department ? $currentUser->department->slug : null;
                        $isAdmin = in_array($currentUser->role, ['admin', 'ynetici']);
                    @endphp

                    <div class="d-grid gap-3">
                        @if (Route::has('production.plans.create') && ($isAdmin || $userDept === 'uretim'))
                            <a href="{{ route('production.plans.create') }}"
                                class="btn btn-lg btn-outline-success d-flex align-items-center justify-content-between p-3">
                                <span><i class="fa-solid fa-industry me-2"></i> Yeni retim Plan</span> <i
                                    class="fa-solid fa-chevron-right"></i>
                            </a>
                        @endif
                        @if (Route::has('shipments.create') && ($isAdmin || $userDept === 'lojistik'))
                            <a href="{{ route('shipments.create') }}"
                                class="btn btn-lg btn-outline-primary d-flex align-items-center justify-content-between p-3">
                                <span><i class="fa-solid fa-truck-fast me-2"></i> Yeni Sevkiyat</span> <i
                                    class="fa-solid fa-chevron-right"></i>
                            </a>
                        @endif
                        {{-- Etkinlik Butonu --}}
                        @php
                            $eventRoute = Route::has('service.events.create') ? route('service.events.create') : '#';
                        @endphp
                        @if ($eventRoute !== '#' && ($isAdmin || $userDept === 'hizmet'))
                            <a href="{{ $eventRoute }}"
                                class="btn btn-lg btn-outline-warning d-flex align-items-center justify-content-between p-3"
                                style="border-color: #F5576C; color: #F5576C; background: rgba(245, 87, 108, 0.05);">
                                <span><i class="fa-solid fa-calendar-plus me-2"></i> Yeni Etkinlik / Ziyaret</span> <i
                                    class="fa-solid fa-chevron-right"></i>
                            </a>
                        @endif
                        @if (Route::has('service.assignments.create') && ($isAdmin || $userDept === 'ulastirma'))
                            <a href="{{ route('service.assignments.create') }}"
                                class="btn btn-lg btn-outline-info d-flex align-items-center justify-content-between p-3">
                                <span><i class="fa-solid fa-car-side me-2"></i> Yeni Ara Grevi</span> <i
                                    class="fa-solid fa-chevron-right"></i>
                            </a>
                        @endif
                        @if (Route::has('maintenance.create') && ($isAdmin || $userDept === 'bakim'))
                            <a href="{{ route('maintenance.create') }}"
                                class="btn btn-lg btn-outline-secondary d-flex align-items-center justify-content-between p-3"
                                style="border-color: #ED8936; color: #C05621; background-color: rgba(237, 137, 54, 0.05);">
                                <span><i class="fa-solid fa-screwdriver-wrench me-2"></i> Yeni Bakm Plan</span> <i
                                    class="fa-solid fa-chevron-right"></i>
                            </a>
                        @endif
                    </div>
                </div>
            </div>
        </div>
    </div>

    <div class="container">
        <div class="row justify-content-center">
            <div class="col-12">
                {{-- ANA KART --}}
                <div class="card create-shipment-card mb-4 border-0">
                    <div class="card-body p-4">

                        {{-- ST BLG --}}
                        <div class="row align-items-center mb-4">
                            <div class="col-md-8">
                                <h2 class="card-title mb-0 fw-bold" style="color: #1a202c;">
                                    Ho Geldiniz, {{ Auth::user()->name }}!
                                </h2>
                                <p class="mb-0 text-muted mt-1">
                                    <span
                                        class="badge bg-dark bg-opacity-10 text-dark border">{{ ucwords(str_replace('_', ' ', Auth::user()->role)) }}</span>
                                    @if (Auth::user()->department)
                                        <span class="text-muted ms-2"><i class="fa-solid fa-building me-1"></i>
                                            {{ Auth::user()->department->name }}</span>
                                    @endif
                                </p>
                            </div>
                        </div>

                        {{-- ORJNAL MEN KARTLARI (RESTORE EDLD) --}}
                        <div class="row g-4 mb-2">
                            {{-- 1. Hzl lem Mens --}}
                            <div class="col-md-4">
                                <a href="#" data-bs-toggle="modal" data-bs-target="#createSelectionModal"
                                    class="text-decoration-none">
                                    <div class="card create-shipment-card h-100 hover-effect bg-white border">
                                        <div class="card-body d-flex align-items-center">
                                            <div class="rounded-circle p-3 me-3 d-flex align-items-center justify-content-center"
                                                style="background: rgba(102, 126, 234, 0.15); width: 64px; height: 64px;">
                                                <i class="fa-solid fa-plus fa-xl" style="color: #667EEA;"></i>
                                            </div>
                                            <div>
                                                <h6 class="mb-1 fw-bold text-dark fs-5">Hzl lem Mens</h6>
                                                <small class="text-muted">Yeni kayt olutur...</small>
                                            </div>
                                        </div>
                                    </div>
                                </a>
                            </div>

                            {{-- 2. Detayl Raporlar --}}
                            <div class="col-md-4">
                                <a href="{{ route('statistics.index') }}" class="text-decoration-none">
                                    <div class="card create-shipment-card h-100 hover-effect bg-white border">
                                        <div class="card-body d-flex align-items-center">
                                            <div class="rounded-circle p-3 me-3 d-flex align-items-center justify-content-center"
                                                style="background: rgba(240, 147, 251, 0.15); width: 64px; height: 64px;">
                                                <i class="fa-solid fa-chart-pie fa-xl" style="color: #d53f8c;"></i>
                                            </div>
                                            <div>
                                                <h6 class="mb-1 fw-bold text-dark fs-5">Detayl Raporlar</h6>
                                                <small class="text-muted">Gemi verileri analiz et</small>
                                            </div>
                                        </div>
                                    </div>
                                </a>
                            </div>

                            {{-- 3. Takvim & Planlama --}}
                            <div class="col-md-4">
                                <a href="{{ route('home') }}" class="text-decoration-none">
                                    <div class="card create-shipment-card h-100 hover-effect bg-white border">
                                        <div class="card-body d-flex align-items-center">
                                            <div class="rounded-circle p-3 me-3 d-flex align-items-center justify-content-center"
                                                style="background: rgba(79, 209, 197, 0.15); width: 64px; height: 64px;">
                                                <i class="fa-solid fa-calendar-check fa-xl" style="color: #319795;"></i>
                                            </div>
                                            <div>
                                                <h6 class="mb-1 fw-bold text-dark fs-5">Takvim & Planlama</h6>
                                                <small class="text-muted">Haftalk plan grntle</small>
                                            </div>
                                        </div>
                                    </div>
                                </a>
                            </div>
                        </div>

                    </div>
                </div>

                {{-- NEML BLDRMLER (Varsa) --}}
                @if (isset($importantItems) && $importantItems->isNotEmpty())
                    <div class="card create-shipment-card mb-4 border-0">
                        <div class="card-header bg-white border-bottom pt-3 pb-2">
                            <h6 class="mb-0 text-danger fw-bold"><i class="fas fa-bell me-2"></i> nemli Bildirimler</h6>
                        </div>
                        <div class="card-body">
                            <div class="list-group list-group-flush">
                                @foreach ($importantItems as $item)
                                    @php
                                        $params = [];
                                        if ($item->date) {
                                            $params['date'] = $item->date->format('Y-m-d');
                                        }
                                        $params['open_modal_id'] = $item->model_id;
                                        $params['open_modal_type'] = $item->model_type;
                                        $url = route('general.calendar', $params);
                                        $isOverdue = $item->is_overdue ?? false;
                                    @endphp
                                    <a href="{{ $url }}"
                                        class="list-group-item list-group-item-action event-important-pulse-welcome d-flex align-items-center justify-content-between">
                                        <div class="d-flex align-items-center overflow-hidden">
                                            <i
                                                class="fas {{ $isOverdue ? 'fa-exclamation-circle' : 'fa-exclamation-triangle' }} text-danger me-3"></i>
                                            <span class="fw-bold text-dark text-truncate">{{ $item->title }}</span>
                                        </div>
                                        @if ($item->date)
                                            <div class="text-end ms-3">
                                                <div class="fw-bold text-danger">{{ $item->date->format('H:i') }}</div>
                                                <small class="text-muted">{{ $item->date->format('d.m.Y') }}</small>
                                            </div>
                                        @endif
                                    </a>
                                @endforeach
                            </div>
                        </div>
                    </div>
                @endif

                {{-- TO-DO WIDGET --}}
                <div class="card shadow-sm border-0 mb-4" style="border-radius: 1rem; overflow: hidden;">
                    <div class="card-header bg-white py-3 d-flex justify-content-between align-items-center">
                        <h6 class="mb-0 fw-bold text-primary"><i class="fas fa-check-square me-2"></i> Yaplacaklar</h6>
                        <button class="btn btn-sm btn-light text-primary rounded-circle" data-bs-toggle="modal"
                            data-bs-target="#addTodoModal">
                            <i class="fas fa-plus"></i>
                        </button>
                    </div>
                    <div class="card-body p-0">
                        @php
                            $myTodos = \App\Models\Todo::where('user_id', auth()->id())
                                ->where('is_completed', false)
                                ->orderBy('priority', 'desc') // High -> Low
                                ->orderBy('due_date', 'asc')
                                ->take(5)
                                ->get();
                        @endphp

                        <ul class="list-group list-group-flush" id="todo-list-widget">
                            @forelse($myTodos as $todo)
                                <li class="list-group-item d-flex align-items-center justify-content-between px-4 py-3"
                                    id="todo-item-{{ $todo->id }}">
                                    <div class="d-flex align-items-center">
                                        <input class="form-check-input me-3 todo-checkbox" type="checkbox"
                                            value="{{ $todo->id }}"
                                            style="width: 1.2em; height: 1.2em; cursor: pointer;">
                                        <div>
                                            <div
                                                class="fw-semibold text-dark {{ $todo->priority == 'high' ? 'text-danger' : '' }}">
                                                {{ $todo->title }}
                                            </div>
                                            @if ($todo->due_date)
                                                <small class="text-muted" style="font-size: 0.75rem">
                                                    <i class="far fa-clock me-1"></i>
                                                    {{ $todo->due_date->format('d.m H:i') }}
                                                </small>
                                            @endif
                                        </div>
                                    </div>
                                </li>
                            @empty
                                <li class="list-group-item text-center text-muted py-4">
                                    <small>Harika! Yaplacak iin yok.</small>
                                </li>
                            @endforelse
                        </ul>
                    </div>
                </div>

                {{-- TO-DO EKLEME MODALI --}}
                <div class="modal fade" id="addTodoModal" tabindex="-1" aria-hidden="true">
                    <div class="modal-dialog modal-dialog-centered">
                        <div class="modal-content border-0 shadow-lg" style="border-radius: 1rem;">
                            <form id="addTodoForm">
                                <div class="modal-header border-0 pb-0">
                                    <h5 class="modal-title fw-bold">Yeni Grev Ekle</h5>
                                    <button type="button" class="btn-close" data-bs-dismiss="modal"></button>
                                </div>
                                <div class="modal-body">
                                    <div class="mb-3">
                                        <input type="text" name="title" class="form-control form-control-lg"
                                            placeholder="Ne yaplmas gerekiyor?" required>
                                    </div>
                                    <div class="row">
                                        <div class="col-6 mb-3">
                                            <label class="small text-muted fw-bold">Son Tarih</label>
                                            <input type="datetime-local" name="due_date" class="form-control">
                                        </div>
                                        <div class="col-6 mb-3">
                                            <label class="small text-muted fw-bold">ncelik</label>
                                            <select name="priority" class="form-select">
                                                <option value="medium">Orta</option>
                                                <option value="high">Yksek </option>
                                                <option value="low">Dk</option>
                                            </select>
                                        </div>
                                    </div>
                                    <div class="mb-3">
                                        <textarea name="description" class="form-control" rows="2" placeholder="Detaylar (Opsiyonel)"></textarea>
                                    </div>
                                </div>
                                <div class="modal-footer border-0 pt-0">
                                    <button type="button" class="btn btn-light" data-bs-dismiss="modal">ptal</button>
                                    <button type="submit" class="btn btn-primary px-4">Ekle</button>
                                </div>
                            </form>
                        </div>
                    </div>
                </div>

                {{-- KPI KARTLARI (OPERASYON ZET) --}}
                @if (isset($kpiData) && !empty($kpiData))
                    <div class="mb-4">
                        <h5 class="fw-bold text-dark mb-3 ps-1 opacity-75">
                            <i class="fa-solid fa-chart-line me-2 text-primary"></i>Gnlk Operasyon zeti
                        </h5>
                        <div class="row g-4">
                            @php
                                $showAll = (isset($isAdmin) && $isAdmin) || empty($userDept);
                            @endphp

                            {{-- HZMET / DAR LER ZEL KARTLARI --}}
                            @if ($showAll || $userDept === 'hizmet')
                                <div class="col-lg col-md-4 col-6">
                                    <div class="kpi-card kpi-hizmet">
                                        <div class="kpi-icon"><i class="fa-solid fa-calendar-days"></i></div>
                                        <div class="kpi-value">{{ $kpiData['etkinlik_sayisi'] ?? 0 }}</div>
                                        <div class="kpi-label">Aktif Etkinlik</div>
                                    </div>
                                </div>
                                <div class="col-lg col-md-4 col-6">
                                    <div class="kpi-card kpi-hizmet-seyahat">
                                        <div class="kpi-icon"><i class="fa-solid fa-plane-departure"></i></div>
                                        <div class="kpi-value">{{ $kpiData['rezervasyon_sayisi'] ?? 0 }}</div>
                                        <div class="kpi-label">Seyahat Plan</div>
                                    </div>
                                </div>
                                <div class="col-lg col-md-4 col-6">
                                    <div class="kpi-card kpi-hizmet">
                                        <div class="kpi-icon"><i class="fa-solid fa-briefcase"></i></div>
                                        <div class="kpi-value">{{ $kpiData['musteri_ziyareti'] ?? 0 }}</div>
                                        <div class="kpi-label">Mteri Ziyareti</div>
                                    </div>
                                </div>
                            @endif

                            {{-- ULATIRMA KARTLARI --}}
                            @if ($userDept === 'ulastirma')
                                <div class="col-lg col-md-4 col-6">
                                    <div class="kpi-card kpi-ulastirma">
                                        <div class="kpi-icon"><i class="fa-solid fa-road"></i></div>
                                        <div class="kpi-value">{{ $kpiData['aktif_gorev'] ?? 0 }}</div>
                                        <div class="kpi-label">Yoldaki Aralar</div>
                                    </div>
                                </div>
                                <div class="col-lg col-md-4 col-6">
                                    <div class="kpi-card kpi-ulastirma">
                                        <div class="kpi-icon"><i class="fa-solid fa-clock"></i></div>
                                        <div class="kpi-value">{{ $kpiData['bekleyen_talep'] ?? 0 }}</div>
                                        <div class="kpi-label">Bekleyen Talep</div>
                                    </div>
                                </div>
                                <div class="col-lg col-md-4 col-6">
                                    <div class="kpi-card kpi-ulastirma">
                                        <div class="kpi-icon"><i class="fa-solid fa-car"></i></div>
                                        <div class="kpi-value">{{ $kpiData['toplam_arac'] ?? 0 }}</div>
                                        <div class="kpi-label">Ara Filosu</div>
                                    </div>
                                </div>
                            @endif

                            {{-- GENEL / ADMN KARTLARI --}}
                            @if ($showAll && $userDept !== 'hizmet')
                                <div class="col-lg col-md-4 col-6">
                                    <div class="kpi-card kpi-lojistik">
                                        <div class="kpi-icon"><i class="fa-solid fa-truck-fast"></i></div>
                                        <div class="kpi-value">{{ $kpiData['sevkiyat_sayisi'] ?? 0 }}</div>
                                        <div class="kpi-label">Sevkiyat</div>
                                    </div>
                                </div>
                                <div class="col-lg col-md-4 col-6">
                                    <div class="kpi-card kpi-uretim">
                                        <div class="kpi-icon"><i class="fa-solid fa-industry"></i></div>
                                        <div class="kpi-value">{{ $kpiData['plan_sayisi'] ?? 0 }}</div>
                                        <div class="kpi-label">retim Plan</div>
                                    </div>
                                </div>
                            @endif
                        </div>
                    </div>
                @endif

                {{-- -KANBAN KARTLARI --}}
                <div class="row mb-4">
                    <div class="col-12">
                        <h4 class="text-gray-800 mb-3"><i class="fa fa-th-large"></i>  Takip Panolar</h4>
                    </div>

                    @forelse($kanbanBoards as $board)
                        <div class="col-xl-3 col-md-6 mb-4">
                            <div class="card border-left-{{ $board->color }} shadow h-100 py-2">
                                <div class="card-body">
                                    <div class="row no-gutters align-items-center">
                                        <div class="col mr-2">
                                            <div
                                                class="text-xs font-weight-bold text-{{ $board->color }} text-uppercase mb-1">
                                                {{ $board->name }}
                                            </div>
                                            <div class="h5 mb-0 font-weight-bold text-gray-800">
                                                {{ $board->total_tasks }} Aktif 
                                            </div>
                                            <div class="text-xs text-muted mt-1">
                                                {{ $board->column_count }} farkl aama mevcut
                                            </div>
                                        </div>
                                        <div class="col-auto">
                                            <i class="fas {{ $board->icon }} fa-2x text-gray-300"></i>
                                        </div>
                                    </div>
                                    <a href="{{ $board->route }}"
                                        class="btn btn-sm btn-outline-{{ $board->color }} mt-3 w-100 stretched-link">
                                        Panoya Git <i class="fa fa-arrow-right"></i>
                                    </a>
                                </div>
                            </div>
                        </div>
                    @empty
                        <div class="col-12">
                            <div class="alert alert-info">
                                Henz tanml bir i panonuz yok. Ynetim panelinden oluturabilirsiniz.
                            </div>
                        </div>
                    @endforelse
                </div>

                {{-- GRAFK KARTI (SANKEY) --}}
                @if (isset($chartData) && !empty($chartData))
                    <div class="card create-shipment-card border-0 mb-4">
                        <div
                            class="card-header bg-white border-bottom py-3 d-flex align-items-center justify-content-between">
                            <h6 class="mb-0 fw-bold text-dark">
                                @if ($userDept === 'hizmet')
                                    <i class="fa-solid fa-route me-2 text-warning"></i> Etkinlik & Seyahat Ak
                                @else
                                    <i class="fa-solid fa-chart-line me-2 text-primary"></i>
                                    {{ $chartTitle ?? 'Veri Ak' }}
                                @endif
                            </h6>
                        </div>
                        <div class="card-body bg-white rounded-bottom">
                            <div class="sankey-container-wrapper">
                                <div id="sankey-chart" data-sankey='@json($chartData)'
                                    style="width: 100%; height: 500px;">
                                    <p class="text-center text-muted p-5">Grafik ykleniyor...</p>
                                </div>
                            </div>
                        </div>
                    </div>
                @endif

            </div>
        </div>
    </div>
@endsection

@section('page_scripts')
    <script type="text/javascript" src="https://www.gstatic.com/charts/loader.js"></script>
    <script type="text/javascript">
        document.addEventListener('DOMContentLoaded', function() {
            const sankeyChartEl = document.getElementById('sankey-chart');
            if (sankeyChartEl) {
                let sankeyData = [];
                try {
                    const dataAttr = sankeyChartEl.dataset.sankey;
                    if (dataAttr) sankeyData = JSON.parse(dataAttr);
                } catch (error) {
                    console.error('JSON hatas:', error);
                }

                if (sankeyData.length > 0) {
                    google.charts.load('current', {
                        'packages': ['sankey']
                    });
                    google.charts.setOnLoadCallback(() => drawChart(sankeyData, sankeyChartEl));
                }
            }

            function drawChart(sankeyData, chartElement) {
                if (sankeyData.length === 1 && (sankeyData[0][0] === 'Veri Yok' || sankeyData[0][0] === 'Sistem')) {
                    chartElement.innerHTML =
                        '<div class="d-flex flex-column align-items-center justify-content-center p-5 opacity-50"><i class="fa-solid fa-chart-simple fa-3x mb-3"></i><p class="mb-0">Grafik iin yeterli veri ak bulunamad.</p></div>';
                    return;
                }
                try {
                    var data = new google.visualization.DataTable();
                    data.addColumn('string', 'Kaynak');
                    data.addColumn('string', 'Hedef');
                    data.addColumn('number', 'Deer');
                    data.addColumn({
                        type: 'string',
                        role: 'tooltip'
                    });

                    // Hizmet iin renkler
                    const colors = ['#F093FB', '#4FD1C5', '#667EEA', '#FBD38D', '#FC8181', '#A0AEC0'];

                    const options = {
                        width: '100%',
                        height: 500,
                        sankey: {
                            node: {
                                label: {
                                    fontName: 'Inter',
                                    fontSize: 13,
                                    color: '#2d3748',
                                    bold: true
                                },
                                interactivity: true,
                                nodePadding: 30,
                                width: 10,
                                colors: colors
                            },
                            link: {
                                colorMode: 'gradient',
                                colors: colors
                            }
                        }
                    };

                    const initialData = sankeyData.map(row => [row[0], row[1], row[2],
                        `${row[0]} -> ${row[1]}\nSay: ${row[2]}`
                    ]);
                    data.addRows(initialData);
                    const chart = new google.visualization.Sankey(chartElement);
                    chart.draw(data, options);

                    window.addEventListener('resize', function() {
                        chart.draw(data, options);
                    });

                } catch (error) {
                    chartElement.innerHTML = '<p class="text-center text-danger">Grafik izilemedi.</p>';
                }
            }
        });
        // To-Do Ekleme
        document.getElementById('addTodoForm').addEventListener('submit', function(e) {
            e.preventDefault();
            let formData = new FormData(this);

            fetch("{{ route('todos.store') }}", {
                    method: "POST",
                    body: formData,
                    headers: {
                        'X-CSRF-TOKEN': document.querySelector('meta[name="csrf-token"]').content,
                        'Accept': 'application/json'
                    }
                })
                .then(res => res.json())
                .then(data => {
                    if (data.success) {
                        // Sayfay yenilemeden listeye eklemek JS ile yaplabilir ama
                        // imdilik en temizi sayfay yenilemek.
                        window.location.reload();
                    }
                });
        });

        // To-Do Tamamlama (Checkbox)
        document.querySelectorAll('.todo-checkbox').forEach(chk => {
            chk.addEventListener('change', function() {
                let id = this.value;
                let item = document.getElementById('todo-item-' + id);

                // Grsel efekt (stn iz ve kaybet)
                item.style.opacity = '0.5';
                item.style.textDecoration = 'line-through';

                fetch(`/todos/${id}/toggle`, {
                        method: "POST",
                        headers: {
                            'X-CSRF-TOKEN': document.querySelector('meta[name="csrf-token"]').content,
                            'Accept': 'application/json'
                        }
                    })
                    .then(() => {
                        setTimeout(() => item.remove(), 500); // Listeden sil
                    });
            });
        });
    </script>
@endsection


----------------------------------------
DOSYA YOLU: resources\views\admin\custom_fields\create.blade.php
----------------------------------------

@extends('layouts.app')

@section('title', 'Yeni Form Alan Olutur')

@section('content')
    <div class="container py-5">
        <div class="row justify-content-center">
            <div class="col-lg-8 col-xl-7">

                {{-- BALIK VE GER BUTONU --}}
                <div class="d-flex justify-content-between align-items-center mb-4">
                    <div>
                        <h2 class="h3 fw-bold text-dark mb-1">Yeni Dinamik Alan</h2>
                        <p class="text-muted small mb-0">Modllere eklenecek yeni veri alann tanmlayn.</p>
                    </div>
                    <a href="{{ route('admin.custom-fields.index') }}"
                        class="btn btn-outline-secondary btn-sm d-inline-flex align-items-center">
                        <svg style="width: 16px; height: 16px;" class="me-1" fill="none" stroke="currentColor"
                            viewBox="0 0 24 24">
                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
                                d="M10 19l-7-7m0 0l7-7m-7 7h18" />
                        </svg>
                        Listeye Dn
                    </a>
                </div>

                {{-- FORM KARTI --}}
                <div class="card shadow-sm border-0">
                    <div class="card-body p-4 p-md-5">

                        {{-- Hata Mesajlar Genel Gsterim (Opsiyonel) --}}
                        @if ($errors->any())
                            <div class="alert alert-danger mb-4">
                                <ul class="mb-0 small">
                                    @foreach ($errors->all() as $error)
                                        <li>{{ $error }}</li>
                                    @endforeach
                                </ul>
                            </div>
                        @endif

                        <form action="{{ route('admin.custom-fields.store') }}" method="POST">
                            @csrf

                            {{-- 1. MODL SEM --}}
                            <div class="mb-4">
                                <label for="model_scope"
                                    class="form-label fw-bold text-secondary small text-uppercase">Hangi Modl in?</label>
                                <select name="model_scope" id="model_scope"
                                    class="form-select @error('model_scope') is-invalid @enderror">
                                    <option value="" disabled selected>Ltfen bir modl sein</option>
                                    @foreach ($models as $class => $name)
                                        <option value="{{ $class }}"
                                            {{ old('model_scope') == $class ? 'selected' : '' }}>
                                            {{ $name }}
                                        </option>
                                    @endforeach
                                </select>
                                @error('model_scope')
                                    <div class="invalid-feedback">{{ $message }}</div>
                                @enderror
                            </div>

                            {{--  BRM SEM --}}
                            <div class="mb-4">
                                <label class="form-label fw-bold text-secondary small text-uppercase">Geerli  Birimi
                                    (Fabrika)</label>
                                <select name="business_unit_id"
                                    class="form-select @error('business_unit_id') is-invalid @enderror">
                                    <option value="">Tm Birimler (Genel)</option>
                                    @foreach ($businessUnits as $unit)
                                        <option value="{{ $unit->id }}"
                                            {{ old('business_unit_id') == $unit->id ? 'selected' : '' }}>
                                            {{ $unit->name }}
                                        </option>
                                    @endforeach
                                </select>
                                <div class="form-text text-muted">
                                    Eer "Tm Birimler" seerseniz, bu alan her fabrikada grnr.
                                </div>
                            </div>

                            {{-- 2. ETKET (LABEL) --}}
                            <div class="mb-4">
                                <label for="label" class="form-label fw-bold text-secondary small text-uppercase">Alan
                                    Ad (Label)</label>
                                <input type="text" name="label" id="label"
                                    class="form-control @error('label') is-invalid @enderror" value="{{ old('label') }}"
                                    placeholder="rn: Konteyner No, Raf mr vb." required>
                                <div class="form-text text-muted">
                                    Bu isim formlarda grnecek balktr. Veritaban anahtar (key) bundan otomatik
                                    retilir.
                                </div>
                                @error('label')
                                    <div class="invalid-feedback">{{ $message }}</div>
                                @enderror
                            </div>

                            <div class="row">
                                {{-- 3. VER TP --}}
                                <div class="col-md-6 mb-4">
                                    <label for="typeSelect"
                                        class="form-label fw-bold text-secondary small text-uppercase">Veri Tipi</label>
                                    <select name="type" id="typeSelect"
                                        class="form-select @error('type') is-invalid @enderror" onchange="toggleOptions()">
                                        <option value="text" {{ old('type') == 'text' ? 'selected' : '' }}>Ksa Metin
                                            (Text)</option>
                                        <option value="textarea" {{ old('type') == 'textarea' ? 'selected' : '' }}>Uzun
                                            Metin (Textarea)</option>
                                        <option value="number" {{ old('type') == 'number' ? 'selected' : '' }}>Say
                                            (Number)</option>
                                        <option value="date" {{ old('type') == 'date' ? 'selected' : '' }}>Tarih (Date)
                                        </option>
                                        <option value="boolean" {{ old('type') == 'boolean' ? 'selected' : '' }}>Evet/Hayr
                                            (Checkbox)</option>
                                        <option value="select" {{ old('type') == 'select' ? 'selected' : '' }}>Seim Kutusu
                                            (Select)</option>
                                    </select>
                                    @error('type')
                                        <div class="invalid-feedback">{{ $message }}</div>
                                    @enderror
                                </div>

                                {{-- 4. SIRALAMA --}}
                                <div class="col-md-6 mb-4">
                                    <label for="order"
                                        class="form-label fw-bold text-secondary small text-uppercase">Sralama</label>
                                    <input type="number" name="order" id="order"
                                        class="form-control @error('order') is-invalid @enderror"
                                        value="{{ old('order', 0) }}">
                                </div>
                            </div>

                            {{-- 5. SEENEKLER (Dinamik - Sadece Select seilirse grnr) --}}
                            {{-- Bootstrap'te gizlemek iin 'd-none' snf kullanlr --}}
                            <div class="mb-4 d-none p-3 bg-light rounded border" id="optionsDiv">
                                <label for="options_text" class="form-label fw-bold text-dark">Seenekler</label>
                                <textarea name="options_text" id="options_text" rows="3"
                                    class="form-control @error('options_text') is-invalid @enderror"
                                    placeholder="Seenekleri virgl ile ayrarak yazn.&#10;rn: Krmz, Mavi, Yeil, Sar">{{ old('options_text') }}</textarea>
                                <div class="form-text text-muted">
                                    Kullancnn seebilecei deerleri virgl (,) ile ayrn.
                                </div>
                                @error('options_text')
                                    <div class="invalid-feedback">{{ $message }}</div>
                                @enderror
                            </div>

                            {{-- 6. ZORUNLU ALAN CHECKBOX --}}
                            <div class="mb-4">
                                <div class="form-check form-switch">
                                    <input class="form-check-input" type="checkbox" role="switch" id="is_required"
                                        name="is_required" value="1" {{ old('is_required') ? 'checked' : '' }}>
                                    <label class="form-check-label fw-medium text-dark" for="is_required">
                                        Bu alann doldurulmas zorunlu olsun
                                    </label>
                                </div>
                            </div>

                            {{-- AKSYON BUTONLARI --}}
                            <div class="d-flex justify-content-end gap-2 pt-3 border-top">
                                <a href="{{ route('admin.custom-fields.index') }}" class="btn btn-light border">ptal</a>
                                <button type="submit" class="btn btn-primary px-4 d-inline-flex align-items-center">
                                    <svg style="width: 18px; height: 18px;" class="me-2" fill="none"
                                        stroke="currentColor" viewBox="0 0 24 24">
                                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
                                            d="M5 13l4 4L19 7" />
                                    </svg>
                                    Kaydet
                                </button>
                            </div>

                        </form>
                    </div>
                </div>
            </div>
        </div>
    </div>

    {{-- Script: Select seilirse seenekler kutusunu gster --}}
    <script>
        function toggleOptions() {
            const typeSelect = document.getElementById('typeSelect');
            const optionsDiv = document.getElementById('optionsDiv');

            if (typeSelect.value === 'select') {
                optionsDiv.classList.remove('d-none'); // Bootstrap class'n kaldr
                // Kullanc deneyimi: Focus yap
                document.getElementById('options_text').focus();
            } else {
                optionsDiv.classList.add('d-none'); // Bootstrap class'n ekle
            }
        }

        // Sayfa yklendiinde (Validation hatasyla geri dnerse) eski durumu korumak iin altr
        document.addEventListener('DOMContentLoaded', function() {
            toggleOptions();
        });
    </script>
@endsection


----------------------------------------
DOSYA YOLU: resources\views\admin\custom_fields\edit.blade.php
----------------------------------------

@extends('layouts.app')

@section('title', 'Form Alann Dzenle')

@section('content')
    <div class="container py-5">
        <div class="row justify-content-center">
            <div class="col-lg-8 col-xl-7">

                {{-- BALIK VE GER BUTONU --}}
                <div class="d-flex justify-content-between align-items-center mb-4">
                    <div>
                        <h2 class="h3 fw-bold text-dark mb-1">Alan Dzenle</h2>
                        <p class="text-muted small mb-0">
                            <span class="fw-bold text-primary">"{{ $field->label }}"</span> alannn zelliklerini
                            gncelliyorsunuz.
                        </p>
                    </div>
                    <a href="{{ route('admin.custom-fields.index') }}"
                        class="btn btn-outline-secondary btn-sm d-inline-flex align-items-center">
                        <svg style="width: 16px; height: 16px;" class="me-1" fill="none" stroke="currentColor"
                            viewBox="0 0 24 24">
                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
                                d="M10 19l-7-7m0 0l7-7m-7 7h18" />
                        </svg>
                        Listeye Dn
                    </a>
                </div>

                {{-- FORM KARTI --}}
                <div class="card shadow-sm border-0">
                    <div class="card-body p-4 p-md-5">

                        {{-- Hata Mesajlar --}}
                        @if ($errors->any())
                            <div class="alert alert-danger mb-4">
                                <ul class="mb-0 small">
                                    @foreach ($errors->all() as $error)
                                        <li>{{ $error }}</li>
                                    @endforeach
                                </ul>
                            </div>
                        @endif

                        <form action="{{ route('admin.custom-fields.update', $field->id) }}" method="POST">
                            @csrf
                            @method('PUT')

                            <div class="row">
                                {{-- 1. MODL (Deitirilemez) --}}
                                <div class="col-md-6 mb-4">
                                    <label class="form-label fw-bold text-secondary small text-uppercase">Modl</label>
                                    <input type="text" class="form-control bg-light"
                                        value="{{ class_basename($field->model_scope) }}" disabled>
                                    <div class="form-text text-muted small">
                                        Veri gvenlii iin modl deitirilemez.
                                    </div>
                                </div>

                                {{-- 2. VER TP (Deitirilemez) --}}
                                <div class="col-md-6 mb-4">
                                    <label class="form-label fw-bold text-secondary small text-uppercase">Veri Tipi</label>
                                    {{-- Tipi okunakl hale getirelim --}}
                                    @php
                                        $typeLabel = match ($field->type) {
                                            'text' => 'Ksa Metin',
                                            'textarea' => 'Uzun Metin',
                                            'number' => 'Say',
                                            'date' => 'Tarih',
                                            'boolean' => 'Evet/Hayr',
                                            'select' => 'Seim Kutusu',
                                            default => $field->type,
                                        };
                                    @endphp
                                    <input type="text" class="form-control bg-light" value="{{ $typeLabel }}"
                                        disabled>
                                    <div class="form-text text-muted small">
                                        Veri yaps bozulmamas iin tip deitirilemez.
                                    </div>
                                </div>
                            </div>

                            {{-- 3. ETKET (LABEL) --}}
                            <div class="mb-4">
                                <label for="label" class="form-label fw-bold text-secondary small text-uppercase">Alan
                                    Ad (Label)</label>
                                <input type="text" name="label" id="label"
                                    class="form-control @error('label') is-invalid @enderror"
                                    value="{{ old('label', $field->label) }}" required>
                                <div class="form-text text-muted">
                                    Formlarda grnen isimdir.
                                </div>
                                @error('label')
                                    <div class="invalid-feedback">{{ $message }}</div>
                                @enderror
                            </div>

                            {{-- 4. SEENEKLER (Sadece Select tipindeyse gsterilir) --}}
                            @if ($field->type === 'select')
                                <div class="mb-4 p-3 bg-light rounded border">
                                    <label for="options_text" class="form-label fw-bold text-dark">Seenekler</label>
                                    <textarea name="options_text" id="options_text" rows="3"
                                        class="form-control @error('options_text') is-invalid @enderror" placeholder="Seenekleri virgl ile ayrn.">{{ old('options_text', $optionsText ?? '') }}</textarea>
                                    <div class="form-text text-muted">
                                        Mevcut seenekleri virgl ile ayrarak gncelleyebilirsiniz.
                                    </div>
                                    @error('options_text')
                                        <div class="invalid-feedback">{{ $message }}</div>
                                    @enderror
                                </div>
                            @endif

                            {{-- 5. AYARLAR (Switch Yaps) --}}
                            <div class="mb-4 bg-white border rounded p-3">
                                <h6 class="fw-bold text-secondary small text-uppercase mb-3">Ayarlar</h6>

                                {{-- Zorunlu Alan --}}
                                <div class="form-check form-switch mb-3">
                                    <input class="form-check-input" type="checkbox" role="switch" id="is_required"
                                        name="is_required" value="1"
                                        {{ old('is_required', $field->is_required) ? 'checked' : '' }}>
                                    <label class="form-check-label" for="is_required">
                                        Zorunlu Alan (Kullanc bu alan bo geemez)
                                    </label>
                                </div>

                                {{-- Aktif/Pasif --}}
                                <div class="form-check form-switch mb-3">
                                    <input class="form-check-input" type="checkbox" role="switch" id="is_active"
                                        name="is_active" value="1"
                                        {{ old('is_active', $field->is_active) ? 'checked' : '' }}>
                                    <label class="form-check-label" for="is_active">
                                        Aktif (Formlarda gsterilir)
                                    </label>
                                </div>

                                {{-- Sralama --}}
                                <div class="row align-items-center g-2 mt-2">
                                    <div class="col-auto">
                                        <label for="order" class="col-form-label">Sralama:</label>
                                    </div>
                                    <div class="col-auto">
                                        <input type="number" name="order" id="order"
                                            class="form-control form-control-sm" style="width: 80px;"
                                            value="{{ old('order', $field->order) }}">
                                    </div>
                                </div>
                            </div>

                            {{-- BUTONLAR --}}
                            <div class="d-flex justify-content-end gap-2 pt-3 border-top">
                                <a href="{{ route('admin.custom-fields.index') }}" class="btn btn-light border">ptal</a>
                                <button type="submit" class="btn btn-primary px-4 d-inline-flex align-items-center">
                                    <svg style="width: 18px; height: 18px;" class="me-2" fill="none"
                                        stroke="currentColor" viewBox="0 0 24 24">
                                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
                                            d="M4 4v5h.582m15.356 2A8.001 8.001 0 004.582 9m0 0H9m11 11v-5h-.581m0 0a8.003 8.003 0 01-15.357-2m15.357 2H15" />
                                    </svg>
                                    Gncelle
                                </button>
                            </div>

                        </form>
                    </div>
                </div>
            </div>
        </div>
    </div>
@endsection


----------------------------------------
DOSYA YOLU: resources\views\admin\custom_fields\index.blade.php
----------------------------------------

@extends('layouts.app')

@section('title', 'Dinamik Alan Ynetimi')

@section('content')
    <div class="container-fluid py-4">

        {{-- ST BALIK VE BUTON --}}
        <div class="d-flex flex-column flex-md-row justify-content-between align-items-md-center mb-4 gap-3">
            <div>
                <h2 class="h3 fw-bold text-dark mb-1">Dinamik Alan Ynetimi</h2>
                <p class="text-muted small mb-0">
                    Modllere (Lojistik, retim vb.) ait zel veri alanlarn buradan yaplandrabilirsiniz.
                </p>
            </div>

            <a href="{{ route('admin.custom-fields.create') }}"
                class="btn btn-primary d-inline-flex align-items-center shadow-sm">
                <svg style="width: 20px; height: 20px;" class="me-2" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 4v16m8-8H4"></path>
                </svg>
                <span>Yeni Alan Ekle</span>
            </a>
        </div>

        {{-- TABLO KARTI --}}
        <div class="card border-0 shadow-sm">
            <div class="card-body p-0">
                <div class="table-responsive">
                    <table class="table table-hover align-middle mb-0">
                        <thead class="bg-light text-secondary">
                            <tr>
                                <th scope="col" class="px-4 py-3 small text-uppercase fw-bold border-0">Modl</th>
                                <th scope="col" class="px-4 py-3 small text-uppercase fw-bold border-0">Etiket & Anahtar
                                </th>
                                {{-- YEN STUN:  BRM (FABRKA) --}}
                                <th scope="col" class="px-4 py-3 small text-uppercase fw-bold border-0">Geerli Birim
                                </th>
                                <th scope="col" class="px-4 py-3 small text-uppercase fw-bold border-0">Veri Tipi</th>
                                <th scope="col" class="px-4 py-3 small text-uppercase fw-bold border-0 text-center">
                                    Zorunlu</th>
                                <th scope="col" class="px-4 py-3 small text-uppercase fw-bold border-0 text-center">Durum
                                </th>
                                <th scope="col" class="px-4 py-3 small text-uppercase fw-bold border-0 text-end">lemler
                                </th>
                            </tr>
                        </thead>
                        <tbody>
                            @forelse ($fields as $field)
                                @php
                                    // Modl simlendirmesi
                                    $moduleName = match ($field->model_scope) {
                                        'App\Models\Shipment' => 'Lojistik',
                                        'App\Models\Event' => 'Hizmet',
                                        'App\Models\MaintenancePlan' => 'Bakm',
                                        'App\Models\ProductionPlan' => 'retim',
                                        'App\Models\User' => 'Personel',
                                        default => class_basename($field->model_scope),
                                    };
                                    $initial = mb_substr($moduleName, 0, 1);

                                    // Renk Snflar
                                    $bsClass = match ($initial) {
                                        'L' => 'text-primary bg-light',
                                        'H' => 'text-info bg-light',
                                        'B' => 'text-warning bg-light',
                                        '' => 'text-success bg-light',
                                        'P' => 'text-secondary bg-light',
                                        default => 'text-dark bg-light',
                                    };
                                @endphp

                                <tr>
                                    {{-- 1. MODL --}}
                                    <td class="px-4 py-3">
                                        <div class="d-flex align-items-center">
                                            <div class="d-flex align-items-center justify-content-center rounded border fw-bold {{ $bsClass }}"
                                                style="width: 40px; height: 40px; font-size: 1.1em;">
                                                {{ $initial }}
                                            </div>
                                            <div class="ms-3">
                                                <div class="fw-bold text-dark">{{ $moduleName }}</div>
                                                <div class="small text-muted">{{ class_basename($field->model_scope) }}
                                                </div>
                                            </div>
                                        </div>
                                    </td>

                                    {{-- 2. ETKET & KEY --}}
                                    <td class="px-4 py-3">
                                        <div class="d-flex flex-column">
                                            <span class="fw-semibold text-dark">{{ $field->label }}</span>
                                            <span
                                                class="badge bg-light text-dark border font-monospace mt-1 align-self-start">
                                                {{ $field->key }}
                                            </span>
                                        </div>
                                    </td>

                                    {{-- 3. [YEN]  BRM --}}
                                    <td class="px-4 py-3">
                                        @if ($field->businessUnit)
                                            <span
                                                class="badge bg-white text-dark border border-dark border-opacity-25 shadow-sm">
                                                <i class="fa-solid fa-industry text-secondary me-1"></i>
                                                {{ $field->businessUnit->name }}
                                            </span>
                                        @else
                                            <span
                                                class="badge bg-primary bg-opacity-10 text-primary border border-primary border-opacity-10">
                                                <i class="fa-solid fa-globe me-1"></i>
                                                Genel (Tm Fabrikalar)
                                            </span>
                                        @endif
                                    </td>

                                    {{-- 4. VER TP --}}
                                    <td class="px-4 py-3">
                                        <span
                                            class="badge bg-secondary bg-opacity-10 text-secondary border border-secondary border-opacity-10">
                                            {{ ucfirst($field->type) }}
                                        </span>
                                    </td>

                                    {{-- 5. ZORUNLU --}}
                                    <td class="px-4 py-3 text-center">
                                        @if ($field->is_required)
                                            <div class="d-flex justify-content-center">
                                                <span
                                                    class="d-flex align-items-center justify-content-center rounded-circle bg-danger bg-opacity-10 text-danger"
                                                    style="width: 28px; height: 28px;" title="Zorunlu Alan">
                                                    <svg style="width: 16px; height: 16px;" fill="none"
                                                        stroke="currentColor" viewBox="0 0 24 24">
                                                        <path stroke-linecap="round" stroke-linejoin="round"
                                                            stroke-width="2"
                                                            d="M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-3L13.732 4c-.77-1.333-2.694-1.333-3.464 0L3.34 16c-.77 1.333.192 3 1.732 3z" />
                                                    </svg>
                                                </span>
                                            </div>
                                        @else
                                            <span class="text-muted fw-bold">-</span>
                                        @endif
                                    </td>

                                    {{-- 6. DURUM --}}
                                    <td class="px-4 py-3 text-center">
                                        @if ($field->is_active)
                                            <span class="badge rounded-pill bg-success text-white px-3 py-2">Aktif</span>
                                        @else
                                            <span class="badge rounded-pill bg-secondary text-white px-3 py-2">Pasif</span>
                                        @endif
                                    </td>

                                    {{-- 7. LEMLER --}}
                                    <td class="px-4 py-3 text-end">
                                        <div class="d-inline-flex gap-2">
                                            <a href="{{ route('admin.custom-fields.edit', $field->id) }}"
                                                class="btn btn-sm btn-outline-primary d-flex align-items-center justify-content-center"
                                                style="width: 32px; height: 32px;" title="Dzenle">
                                                <svg style="width: 16px; height: 16px;" fill="none" stroke="currentColor"
                                                    viewBox="0 0 24 24">
                                                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
                                                        d="M15.232 5.232l3.536 3.536m-2.036-5.036a2.5 2.5 0 113.536 3.536L6.5 21.036H3v-3.572L16.732 3.732z">
                                                    </path>
                                                </svg>
                                            </a>

                                            <form action="{{ route('admin.custom-fields.destroy', $field->id) }}"
                                                method="POST"
                                                onsubmit="return confirm('Bu alan silmek istediinize emin misiniz?');"
                                                class="d-inline">
                                                @csrf
                                                @method('DELETE')
                                                <button type="submit"
                                                    class="btn btn-sm btn-outline-danger d-flex align-items-center justify-content-center"
                                                    style="width: 32px; height: 32px;" title="Sil">
                                                    <svg style="width: 16px; height: 16px;" fill="none"
                                                        stroke="currentColor" viewBox="0 0 24 24">
                                                        <path stroke-linecap="round" stroke-linejoin="round"
                                                            stroke-width="2"
                                                            d="M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16">
                                                        </path>
                                                    </svg>
                                                </button>
                                            </form>
                                        </div>
                                    </td>
                                </tr>
                            @empty
                                <tr>
                                    <td colspan="7" class="text-center py-5">
                                        <div
                                            class="d-flex flex-column align-items-center justify-content-center text-muted">
                                            <div class="bg-light rounded-circle p-3 mb-3">
                                                <svg style="width: 32px; height: 32px;" fill="none"
                                                    stroke="currentColor" viewBox="0 0 24 24">
                                                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
                                                        d="M9 13h6m-3-3v6m-9 1V7a2 2 0 012-2h6l2 2h6a2 2 0 012 2v8a2 2 0 01-2 2H5a2 2 0 01-2-2z">
                                                    </path>
                                                </svg>
                                            </div>
                                            <h5 class="fw-bold text-dark">Kaytl Alan Bulunamad</h5>
                                            <p class="mb-0">Henz sisteme eklenmi bir dinamik alan yok.</p>
                                        </div>
                                    </td>
                                </tr>
                            @endforelse
                        </tbody>
                    </table>
                </div>
            </div>

            @if (method_exists($fields, 'links') && $fields->hasPages())
                <div class="card-footer bg-white border-top-0 py-3">
                    {{ $fields->links() }}
                </div>
            @endif
        </div>
    </div>
@endsection


----------------------------------------
DOSYA YOLU: resources\views\admin\kanban\board.blade.php
----------------------------------------

@extends('layouts.app')

@section('title', 'Kanban Panosu: ' . $board->name)

@section('content')

    {{-- STLLER BURAYA ALDIK K KESN ALISIN --}}
    <style>
        /* --- 1. ANA PANO DZEN (YATAY KAYDIRMA) --- */
        .kanban-board-area {
            background-color: #0d1e37 !important;
            /* Koyu Lacivert Masa Rengi */
            background-image: radial-gradient(#1a3c61 1px, transparent 1px);
            background-size: 20px 20px;
            height: calc(100vh - 120px);
            overflow-x: auto !important;
            overflow-y: hidden;
            padding: 20px;
            white-space: nowrap;
            /* Alt satra inmeyi engeller */
            display: flex !important;
            flex-direction: row !important;
            align-items: flex-start;
            gap: 20px;
        }

        /* --- 2. STUN TASARIMI --- */
        .kanban-column {
            display: inline-flex;
            /* Yan yana dizilim */
            flex-direction: column;
            width: 340px !important;
            min-width: 340px !important;
            /* Klmeyi engeller */
            max-width: 340px !important;
            max-height: 95%;
            background: #ebecf0;
            border-radius: 10px;
            box-shadow: 0 4px 12px rgba(0, 0, 0, 0.3);
            vertical-align: top;
            margin-right: 0;
            /* Gap kullanyoruz */
        }

        .kanban-column-header {
            padding: 15px;
            font-weight: 800;
            font-size: 14px;
            text-transform: uppercase;
            letter-spacing: 0.5px;
            border-top-left-radius: 10px;
            border-top-right-radius: 10px;
            background: #fff;
            border-bottom: 2px solid #ddd;
            display: flex;
            justify-content: space-between;
            align-items: center;
        }

        .kanban-column-body {
            padding: 10px;
            overflow-y: auto;
            flex: 1;
            /* Scrollbar ayarlar */
            scrollbar-width: thin;
            scrollbar-color: #c1c7d0 #f4f5f7;
        }

        /* --- 3. KART TASARIMI (GEREK FZK) --- */
        .kanban-card {
            background: #ffffff;
            padding: 15px;
            margin-bottom: 12px;
            border-radius: 8px;
            box-shadow: 0 1px 3px rgba(0, 0, 0, 0.15);
            cursor: grab;
            position: relative;
            border-left: 4px solid transparent;
            transition: transform 0.1s, box-shadow 0.1s;
            white-space: normal;
            /* Kart ii metin alt satra gesin */

            /* MLE SORUNU ZM: Metin seimini engelle */
            user-select: none;
            -webkit-user-select: none;
        }

        .kanban-card:hover {
            box-shadow: 0 5px 15px rgba(0, 0, 0, 0.1);
            background: #fff;
        }

        .kanban-card:active {
            cursor: grabbing;
        }

        /* Kart erii */
        .card-meta {
            display: flex;
            justify-content: space-between;
            font-size: 11px;
            color: #888;
            margin-bottom: 8px;
            font-weight: 700;
        }

        .card-title {
            font-size: 15px;
            font-weight: 600;
            color: #172b4d;
            margin-bottom: 8px;
            line-height: 1.4;
        }

        .card-details {
            font-size: 13px;
            color: #5e6c84;
            display: flex;
            align-items: center;
            gap: 5px;
        }

        /* --- 4. SRKLEME ANMASYONLARI --- */

        /* Kart Srklenirken (Havada) */
        .sortable-drag {
            background: #fff !important;
            opacity: 1 !important;
            transform: rotate(4deg) scale(1.05) !important;
            /* Kart e ve byt */
            box-shadow: 10px 20px 30px rgba(0, 0, 0, 0.3) !important;
            cursor: grabbing !important;
            z-index: 10000;
        }

        /* Kartn Gidecei Yer (Hayalet) */
        .sortable-ghost {
            background: rgba(9, 30, 66, 0.04) !important;
            border: 2px dashed rgba(9, 30, 66, 0.15);
            box-shadow: none !important;
            opacity: 0.5;
        }

        /* Renk Snflar */
        .border-left-primary {
            border-left-color: #0052cc !important;
        }

        .border-left-success {
            border-left-color: #00875a !important;
        }

        .border-left-danger {
            border-left-color: #de350b !important;
        }

        .border-left-warning {
            border-left-color: #ff991f !important;
        }

        .border-left-secondary {
            border-left-color: #505f79 !important;
        }

        /* Header Renkleri */
        .text-primary-custom {
            color: #0052cc;
        }

        .text-success-custom {
            color: #00875a;
        }

        .text-danger-custom {
            color: #de350b;
        }

        .text-warning-custom {
            color: #ff991f;
        }
    </style>

    {{-- Geri Dn Linki --}}
    @php
        $backRoute = match ($scope) {
            'maintenance' => route('maintenance.index'),
            'logistics' => route('shipments.index'),
            'production' => route('production.plans.index'),
            'admin' => route('service.events.index'),
            default => route('welcome'),
        };
    @endphp

    <div class="d-flex justify-content-between align-items-center mb-3 px-3">
        <div>
            <h1 class="h4 mb-0 text-gray-800 font-weight-bold">
                {{ $board->name }}
            </h1>
        </div>
        <div>
            <a href="{{ $backRoute }}" class="btn btn-sm btn-secondary shadow-sm">
                <i class="fa fa-arrow-left"></i> Listeye Dn
            </a>
        </div>
    </div>

    <div class="kanban-board-area">
        @foreach ($board->columns as $column)
            @php
                // Renk ve Border Ayarlar
                $colorClass = match ($column->slug) {
                    'teslim-edildi', 'done', 'completed', 'bitti' => 'border-left-success text-success-custom',
                    'yolda', 'processing', 'islemde' => 'border-left-primary text-primary-custom',
                    'siparis-iptal-edildi', 'cancelled', 'iptal' => 'border-left-danger text-danger-custom',
                    'waiting', 'pending', 'siparis-alindi' => 'border-left-secondary',
                    default => 'border-left-warning text-warning-custom',
                };

                // Border snfn ayralm (sadece border-left-...)
                $borderOnly = explode(' ', $colorClass)[0];
            @endphp

            <div class="kanban-column">
                {{-- Stun Bal --}}
                <div class="kanban-column-header">
                    <span class="{{ str_replace('border-left-', 'text-', $borderOnly) }}-custom">
                        {{ $column->title }}
                    </span>
                    <span class="badge bg-secondary text-white rounded-pill">{{ $column->cards->count() }}</span>
                </div>

                {{-- Kartlarn Olduu Alan --}}
                <div class="kanban-column-body" id="column-{{ $column->id }}" data-column-id="{{ $column->id }}">
                    @foreach ($column->cards as $card)
                        @if ($card->model)
                            <div class="kanban-card {{ $borderOnly }}" data-card-id="{{ $card->id }}">

                                {{-- Kart st Bilgi (ID ve Tarih) --}}
                                <div class="card-meta">
                                    <span>#{{ $card->model->id }}</span>
                                    <span>{{ $card->created_at->format('d.m') }}</span>
                                </div>

                                {{-- Kart Bal --}}
                                <div class="card-title">
                                    {{ $card->model->title ?? ($card->model->plaka ?? 'Balksz ') }}
                                </div>

                                {{-- Detay (ofr, Aklama vb.) --}}
                                <div class="card-details">
                                    @if (isset($card->model->sofor_adi))
                                        <i class="fas fa-user-circle"></i> {{ $card->model->sofor_adi }}
                                    @elseif(isset($card->model->description))
                                        <i class="fas fa-align-left"></i> {{ Str::limit($card->model->description, 30) }}
                                    @endif
                                </div>

                                {{-- ncelik Badge (Varsa) --}}
                                @if (isset($card->model->priority) && $card->model->priority == 'high')
                                    <div class="mt-2 text-end">
                                        <span class="badge bg-danger text-white" style="font-size: 10px;">ACL</span>
                                    </div>
                                @endif
                            </div>
                        @endif
                    @endforeach
                </div>
            </div>
        @endforeach
    </div>

    {{-- MODAL --}}
    <div class="modal fade" id="kanbanDetailModal" tabindex="-1" aria-hidden="true">
        <div class="modal-dialog modal-dialog-centered">
            <div class="modal-content" id="kanbanDetailContent">
                <div class="modal-body text-center py-5">
                    <div class="spinner-border text-primary" role="status"></div>
                </div>
            </div>
        </div>
    </div>

    <script src="https://cdn.jsdelivr.net/npm/sortablejs@latest/Sortable.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/axios/dist/axios.min.js"></script>

    <script>
        document.addEventListener('DOMContentLoaded', function() {
            const columns = document.querySelectorAll('.kanban-column-body');

            columns.forEach((column) => {
                new Sortable(column, {
                    group: 'kanban-board',
                    animation: 250, // Gei sresi
                    ghostClass: 'sortable-ghost',
                    dragClass: 'sortable-drag',
                    delay: 0,
                    forceFallback: true, // Tarayc API'sini ezerek kendi kopyamz kullanr (Fizik efekti iin art)
                    fallbackClass: 'sortable-drag', // Srklenen kopya snf
                    fallbackOnBody: true, // Kopyay body'ye ekle ki overflow hidden'dan etkilenmesin

                    onEnd: function(evt) {
                        const itemEl = evt.item;
                        const newColumnEl = evt.to;
                        const cardId = itemEl.getAttribute('data-card-id');
                        const targetColumnId = newColumnEl.getAttribute('data-column-id');
                        const newIndex = evt.newIndex;

                        updateCardPosition(cardId, targetColumnId, newIndex);
                    }
                });
            });
        });

        // Backend Update
        function updateCardPosition(cardId, targetColumnId, newIndex) {
            axios.post('{{ route('kanban.move') }}', {
                    card_id: cardId,
                    target_column_id: targetColumnId,
                    new_index: newIndex,
                    _token: '{{ csrf_token() }}'
                })
                .then(res => console.log('Pozisyon kaydedildi'))
                .catch(err => {
                    console.error('Hata:', err);
                    alert('Sralama hatas!');
                });
        }

        // Modal Ama
        document.addEventListener('click', function(e) {
            const cardEl = e.target.closest('.kanban-card');
            if (cardEl) {
                const cardId = cardEl.getAttribute('data-card-id');
                openCardModal(cardId);
            }
        });

        function openCardModal(cardId) {
            const modalEl = document.getElementById('kanbanDetailModal');
            const modalContent = document.getElementById('kanbanDetailContent');
            const modal = new bootstrap.Modal(modalEl);

            modalContent.innerHTML =
                `<div class="modal-body text-center py-5"><div class="spinner-border text-primary"></div></div>`;
            modal.show();

            axios.get(`{{ url('/kanban/card') }}/${cardId}`)
                .then(res => {
                    modalContent.innerHTML = res.data;
                })
                .catch(err => {
                    modalContent.innerHTML = '<div class="p-3 text-danger">Hata olutu</div>';
                });
        }
    </script>
@endsection


----------------------------------------
DOSYA YOLU: resources\views\admin\kanban\create.blade.php
----------------------------------------

@extends('layouts.app')

@section('title', 'Yeni Kanban Panosu Olutur')

@section('content')
    <div class="container-fluid py-4">
        <div class="d-sm-flex align-items-center justify-content-between mb-4">
            <h1 class="h3 mb-0 text-gray-800">Yeni Kanban Panosu Olutur</h1>
            <a href="{{ route('kanban-boards.index') }}" class="btn btn-sm btn-secondary shadow-sm">
                Geri Dn
            </a>
        </div>
        {{-- Hata Mesajlarn Gster --}}
        @if ($errors->any())
            <div class="alert alert-danger">
                <ul>
                    @foreach ($errors->all() as $error)
                        <li>{{ $error }}</li>
                    @endforeach
                </ul>
            </div>
        @endif

        <form action="{{ route('kanban-boards.store') }}" method="POST">
            @csrf

            <div class="card shadow mb-4">
                <div class="card-header py-3">
                    <h6 class="m-0 font-weight-bold text-primary">Genel Ayarlar</h6>
                </div>
                <div class="card-body">
                    <div class="row">
                        <div class="col-md-4 mb-3">
                            <label class="form-label font-weight-bold">Pano Ad</label>
                            <input type="text" name="name" class="form-control"
                                placeholder="rn: Bakm  Emirleri Panosu" required>
                        </div>
                        <div class="col-md-4 mb-3">
                            <label class="form-label font-weight-bold">Fabrika / Birim</label>
                            <select name="business_unit_id" class="form-control form-select">
                                @foreach ($businessUnits as $unit)
                                    <option value="{{ $unit->id }}">{{ $unit->name }}</option>
                                @endforeach
                            </select>
                        </div>
                        <div class="col-md-4 mb-3">
                            <label class="form-label font-weight-bold">Modl</label>
                            <select name="module_scope" class="form-control form-select">
                                @foreach ($modules as $key => $label)
                                    <option value="{{ $key }}">{{ $label }}</option>
                                @endforeach
                            </select>
                        </div>
                    </div>
                </div>
            </div>

            <div class="card shadow mb-4">
                <div class="card-header py-3 d-flex flex-row align-items-center justify-content-between">
                    <h6 class="m-0 font-weight-bold text-primary">Pano Stunlar (Sre Admlar)</h6>
                    <button type="button" onclick="addColumn()" class="btn btn-sm btn-success">
                        + Yeni Stun Ekle
                    </button>
                </div>
                <div class="card-body">
                    <p class="small text-muted mb-3">Stunlar sre srasna gre ekleyin. Srkle-brak yaparken bu sra
                        baz alnacaktr.</p>

                    <div id="columns-container">
                    </div>
                </div>
                <div class="card-footer text-right">
                    <button type="submit" class="btn btn-primary btn-lg">
                        Panoyu Kaydet
                    </button>
                </div>
            </div>
        </form>
    </div>

    <script>
        let columnIndex = 0;

        // Sayfa alnda otomatik 1 tane bo gelsin
        window.onload = function() {
            addColumn();
        };

        function addColumn() {
            const container = document.getElementById('columns-container');

            // Bootstrap Grid yapsna uygun HTML
            const html = `
            <div class="row mb-2 align-items-center p-2 border-bottom" id="row-${columnIndex}">
                <div class="col-md-6">
                    <input type="text" name="columns[${columnIndex}][title]" class="form-control" placeholder="Stun Bal (rn: Bekleyenler)" required>
                </div>
                <div class="col-md-3">
                    <select name="columns[${columnIndex}][color_class]" class="form-control form-select">
                        <option value="bg-light">Gri (Standart)</option>
                        <option value="bg-primary text-white">Mavi</option>
                        <option value="bg-warning text-dark">Sar</option>
                        <option value="bg-success text-white">Yeil</option>
                        <option value="bg-danger text-white">Krmz</option>
                    </select>
                </div>
                <div class="col-md-2">
                    <div class="form-check">
                        <input class="form-check-input" type="checkbox" name="columns[${columnIndex}][is_default]" value="1" id="defaultCheck${columnIndex}">
                        <label class="form-check-label" for="defaultCheck${columnIndex}">
                            Varsaylan
                        </label>
                    </div>
                </div>
                <div class="col-md-1 text-right">
                    <button type="button" onclick="removeColumn('row-${columnIndex}')" class="btn btn-danger btn-sm">Sil</button>
                </div>
            </div>
        `;

            //insertAdjacentHTML kullanm performans iin daha iyidir
            container.insertAdjacentHTML('beforeend', html);
            columnIndex++;
        }

        function removeColumn(rowId) {
            const el = document.getElementById(rowId);
            if (el) el.remove();
        }
    </script>
@endsection


----------------------------------------
DOSYA YOLU: resources\views\admin\kanban\edit.blade.php
----------------------------------------

@extends('layouts.app')

@section('title', 'Kanban Panosunu Dzenle')

@section('content')
    <div class="container-fluid py-4">
        <div class="d-flex justify-content-between align-items-center mb-4">
            <h1 class="h3 mb-0 text-gray-800">Panoyu Dzenle: {{ $kanbanBoard->name }}</h1>

            <form action="{{ route('kanban-boards.destroy', $kanbanBoard->id) }}" method="POST"
                onsubmit="return confirm('DKKAT! Bu panoyu silerseniz iindeki tm i kartlar sralamasn kaybedebilir. Emin misiniz?');">
                @csrf @method('DELETE')
                <button type="submit" class="btn btn-danger btn-sm">Panoyu Sil</button>
            </form>
        </div>

        <form action="{{ route('kanban-boards.update', $kanbanBoard->id) }}" method="POST">
            @csrf
            @method('PUT')

            <div class="card shadow mb-4">
                <div class="card-header py-3">
                    <h6 class="m-0 font-weight-bold text-primary">Ayarlar</h6>
                </div>
                <div class="card-body">
                    <div class="row">
                        <div class="col-md-4 mb-3">
                            <label class="form-label font-weight-bold">Pano Ad</label>
                            <input type="text" name="name" value="{{ $kanbanBoard->name }}" class="form-control"
                                required>
                        </div>
                        <div class="col-md-4 mb-3">
                            <label class="form-label font-weight-bold">Fabrika</label>
                            <input type="text" value="{{ $kanbanBoard->businessUnit->name ?? 'Bilinmiyor' }}"
                                class="form-control bg-light" readonly>
                        </div>
                        <div class="col-md-4 mb-3">
                            <label class="form-label font-weight-bold">Modl</label>
                            <input type="text" value="{{ strtoupper($kanbanBoard->module_scope) }}"
                                class="form-control bg-light" readonly>
                        </div>
                    </div>
                </div>
            </div>

            <div class="card shadow mb-4">
                <div class="card-header py-3 d-flex flex-row align-items-center justify-content-between">
                    <h6 class="m-0 font-weight-bold text-primary">Stunlar</h6>
                    <button type="button" onclick="addColumn()" class="btn btn-sm btn-success">+ Stun Ekle</button>
                </div>
                <div class="card-body">
                    <div id="columns-container">
                        @foreach ($kanbanBoard->columns as $index => $column)
                            <div class="row mb-2 align-items-center p-2 border-bottom" id="row-{{ $index }}">
                                {{-- Mevcut ID'yi gizli gnderiyoruz --}}
                                <input type="hidden" name="columns[{{ $index }}][id]" value="{{ $column->id }}">

                                <div class="col-md-6">
                                    <input type="text" name="columns[{{ $index }}][title]"
                                        value="{{ $column->title }}" class="form-control" required>
                                </div>
                                <div class="col-md-3">
                                    <select name="columns[{{ $index }}][color_class]"
                                        class="form-control form-select">
                                        <option value="bg-light"
                                            {{ $column->color_class == 'bg-light' ? 'selected' : '' }}>Gri</option>
                                        <option value="bg-primary text-white"
                                            {{ $column->color_class == 'bg-primary text-white' ? 'selected' : '' }}>Mavi
                                        </option>
                                        <option value="bg-warning text-dark"
                                            {{ $column->color_class == 'bg-warning text-dark' ? 'selected' : '' }}>Sar
                                        </option>
                                        <option value="bg-success text-white"
                                            {{ $column->color_class == 'bg-success text-white' ? 'selected' : '' }}>Yeil
                                        </option>
                                        <option value="bg-danger text-white"
                                            {{ $column->color_class == 'bg-danger text-white' ? 'selected' : '' }}>Krmz
                                        </option>
                                    </select>
                                </div>
                                <div class="col-md-2">
                                    <div class="form-check">
                                        <input class="form-check-input" type="checkbox"
                                            name="columns[{{ $index }}][is_default]" value="1"
                                            {{ $column->is_default ? 'checked' : '' }}>
                                        <label class="form-check-label">Varsaylan</label>
                                    </div>
                                </div>
                                <div class="col-md-1 text-right">
                                    <button type="button" onclick="removeColumn('row-{{ $index }}')"
                                        class="btn btn-danger btn-sm">Sil</button>
                                </div>
                            </div>
                        @endforeach
                    </div>
                </div>
                <div class="card-footer text-right">
                    <button type="submit" class="btn btn-primary">Deiiklikleri Kaydet</button>
                </div>
            </div>
        </form>
    </div>

    <script>
        // Mevcut saydan balatyoruz
        let columnIndex = {{ $kanbanBoard->columns->count() }};

        function addColumn() {
            const container = document.getElementById('columns-container');
            const html = `
            <div class="row mb-2 align-items-center p-2 border-bottom" id="row-${columnIndex}">
                <div class="col-md-6">
                    <input type="text" name="columns[${columnIndex}][title]" class="form-control" placeholder="Yeni Stun" required>
                </div>
                <div class="col-md-3">
                    <select name="columns[${columnIndex}][color_class]" class="form-control form-select">
                        <option value="bg-light">Gri</option>
                        <option value="bg-primary text-white">Mavi</option>
                        <option value="bg-warning text-dark">Sar</option>
                        <option value="bg-success text-white">Yeil</option>
                        <option value="bg-danger text-white">Krmz</option>
                    </select>
                </div>
                <div class="col-md-2">
                    <div class="form-check">
                        <input class="form-check-input" type="checkbox" name="columns[${columnIndex}][is_default]" value="1">
                        <label class="form-check-label">Varsaylan</label>
                    </div>
                </div>
                <div class="col-md-1 text-right">
                    <button type="button" onclick="removeColumn('row-${columnIndex}')" class="btn btn-danger btn-sm">Sil</button>
                </div>
            </div>
        `;
            container.insertAdjacentHTML('beforeend', html);
            columnIndex++;
        }

        function removeColumn(rowId) {
            document.getElementById(rowId).remove();
        }
    </script>
@endsection


----------------------------------------
DOSYA YOLU: resources\views\admin\kanban\index.blade.php
----------------------------------------

@extends('layouts.app')

@section('title', 'Kanban Panosu Ynetimi')
@section('content')
    <div class="container-fluid py-4">
        <div class="d-flex justify-content-between align-items-center mb-4">
            <h1 class="h3 mb-0 text-gray-800"> Sreleri Panolar (Kanban)</h1>
            <a href="{{ route('kanban-boards.create') }}" class="btn btn-primary">
                <i class="fa fa-plus"></i> Yeni Pano Olutur
            </a>
        </div>

        @if (session('success'))
            <div class="alert alert-success alert-dismissible fade show" role="alert">
                {{ session('success') }}
                <button type="button" class="btn-close" data-bs-dismiss="alert" aria-label="Close"></button>
            </div>
        @endif

        <div class="card shadow mb-4">
            <div class="card-header py-3">
                <h6 class="m-0 font-weight-bold text-primary">Mevcut Panolar</h6>
            </div>
            <div class="card-body">
                <div class="table-responsive">
                    <table class="table table-bordered table-hover" width="100%" cellspacing="0">
                        <thead class="thead-light">
                            <tr>
                                <th>Pano Ad</th>
                                <th>Fabrika / Birim</th>
                                <th>Modl</th>
                                <th>Stun Says</th>
                                <th class="text-right">lemler</th>
                            </tr>
                        </thead>
                        <tbody>
                            @foreach ($boards as $board)
                                <tr>
                                    <td class="font-weight-bold">{{ $board->name }}</td>
                                    <td>
                                        <span class="badge bg-info text-white">
                                            {{ $board->businessUnit->name ?? '-' }}
                                        </span>
                                    </td>
                                    <td>{{ strtoupper($board->module_scope) }}</td>
                                    <td>{{ $board->columns->count() }}</td>
                                    <td class="text-right">
                                        <a href="{{ route('kanban.board', ['scope' => $board->module_scope]) }}"
                                            class="btn btn-sm btn-info text-white me-1" target="_blank">
                                            <i class="fa fa-columns"></i> Panoya Git
                                        </a>
                                        <a href="{{ route('kanban-boards.edit', $board->id) }}"
                                            class="btn btn-sm btn-warning text-white">
                                            Panoyu Dzenle
                                        </a>
                                    </td>
                                </tr>
                            @endforeach
                        </tbody>
                    </table>
                </div>
            </div>
        </div>
    </div>
@endsection


----------------------------------------
DOSYA YOLU: resources\views\admin\kanban\partials\card-detail.blade.php
----------------------------------------

<div class="modal-header">
    <h5 class="modal-title" id="cardModalLabel">
        {{-- Modele gre balk --}}
        @if ($kanbanCard->model instanceof \App\Models\MaintenancePlan)
            <i class="fa fa-tools text-danger"></i> Bakm Talebi #{{ $kanbanCard->model->id }}
        @elseif($kanbanCard->model instanceof \App\Models\Shipment)
            <i class="fa fa-truck text-primary"></i> Sevkiyat #{{ $kanbanCard->model->id }}
        @elseif($kanbanCard->model instanceof \App\Models\Event)
            <i class="fa fa-calendar text-success"></i> dari  #{{ $kanbanCard->model->id }}
        @else
             Detay
        @endif
    </h5>
    <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
</div>
<div class="modal-body">

    {{-- ORTAK ALANLAR --}}
    <div class="mb-3">
        <label class="fw-bold text-muted small">BALIK</label>
        <p class="h5">{{ $kanbanCard->model->title ?? ($kanbanCard->model->plaka ?? 'Balksz') }}</p>
    </div>

    {{-- MODLE ZEL ALANLAR (SWITCH MANTII) --}}

    {{-- 1. BAKIM MODL DETAYLARI --}}
    @if ($kanbanCard->model instanceof \App\Models\MaintenancePlan)
        <div class="row g-3">
            <div class="col-6">
                <label class="fw-bold text-muted small">NCELK</label><br>
                <span class="badge bg-{{ $kanbanCard->model->priority == 'high' ? 'danger' : 'info' }}">
                    {{ $kanbanCard->model->priority ?? 'Normal' }}
                </span>
            </div>
            <div class="col-6">
                <label class="fw-bold text-muted small">PLANLANAN TARH</label>
                <p>{{ $kanbanCard->model->planned_start_date ?? '-' }}</p>
            </div>
            <div class="col-12">
                <label class="fw-bold text-muted small">AIKLAMA</label>
                <div class="p-2 bg-light rounded border">
                    {{ $kanbanCard->model->description ?? 'Aklama yok.' }}
                </div>
            </div>
        </div>

        {{-- 2. LOJSTK MODL DETAYLARI --}}
    @elseif($kanbanCard->model instanceof \App\Models\Shipment)
        <div class="row g-3">
            <div class="col-6">
                <label class="fw-bold text-muted small">ARA TP</label>
                <p>{{ $kanbanCard->model->arao_tipi ?? '-' }}</p>
            </div>
            <div class="col-6">
                <label class="fw-bold text-muted small">OFR</label>
                <p>{{ $kanbanCard->model->sofor_adi ?? '-' }}</p>
            </div>
            <div class="col-6">
                <label class="fw-bold text-muted small">KALKI NOKTASI</label>
                <p>{{ $kanbanCard->model->kalkis_noktasi ?? '-' }}</p>
            </div>
            <div class="col-6">
                <label class="fw-bold text-muted small">VARI NOKTASI</label>
                <p>{{ $kanbanCard->model->varis_noktasi ?? '-' }}</p>
            </div>
        </div>

        {{-- 3. DAR LER DETAYLARI --}}
    @elseif($kanbanCard->model instanceof \App\Models\Event)
        <div class="row g-3">
            <div class="col-12">
                <label class="fw-bold text-muted small">LOKASYON</label>
                <p>{{ $kanbanCard->model->location ?? '-' }}</p>
            </div>
            <div class="col-6">
                <label class="fw-bold text-muted small">BALANGI</label>
                <p>{{ $kanbanCard->model->start_datetime ?? '-' }}</p>
            </div>
            <div class="col-6">
                <label class="fw-bold text-muted small">BT</label>
                <p>{{ $kanbanCard->model->end_datetime ?? '-' }}</p>
            </div>
        </div>
    @endif

    <hr>
    <div class="d-flex justify-content-between text-muted small">
        <span>Oluturulma: {{ $kanbanCard->created_at->format('d.m.Y H:i') }}</span>
        <span>Stun: <strong>{{ $kanbanCard->column->title }}</strong></span>
    </div>
</div>
<div class="modal-footer">
    {{-- Buraya "Dzenlemeye Git" butonu koyabiliriz --}}
    @if ($kanbanCard->model instanceof \App\Models\MaintenancePlan)
        <a href="#" class="btn btn-primary btn-sm">Bakm Kaydna Git <i class="fa fa-arrow-right"></i></a>
    @endif
    <button type="button" class="btn btn-secondary btn-sm" data-bs-dismiss="modal">Kapat</button>
</div>


----------------------------------------
DOSYA YOLU: resources\views\approvals\maintenance.blade.php
----------------------------------------

@extends('layouts.app')

@section('title', 'Onay Bekleyen Bakm Planlar')

@section('content')
    <div class="container py-4">
        <div class="row justify-content-center">
            <div class="col-md-12">

                <div class="d-flex justify-content-between align-items-center mb-4">
                    <div>
                        <h2 class="fw-bold text-dark mb-1">
                            <i class="fas fa-check-double text-warning me-2"></i>Onay Bekleyen ler
                        </h2>
                        <p class="text-muted">Personel tarafndan tamamlanan ve onaynza sunulan bakm planlar.</p>
                    </div>

                    {{-- Geri Dn Butonu --}}
                    <a href="{{ route('home') }}" class="btn btn-light border shadow-sm">
                        <i class="fas fa-arrow-left me-1"></i> Ana Sayfa
                    </a>
                </div>

                @if ($plans->isEmpty())
                    {{-- LSTE BOSA --}}
                    <div class="card border-0 shadow-sm text-center py-5">
                        <div class="card-body">
                            <div class="bg-light rounded-circle d-inline-flex p-4 mb-3">
                                <i class="fas fa-check-circle fa-3x text-success opacity-50"></i>
                            </div>
                            <h4 class="fw-bold text-secondary">Harika!</h4>
                            <p class="text-muted mb-0">Onaynz bekleyen herhangi bir ilem bulunmuyor.</p>
                        </div>
                    </div>
                @else
                    {{-- LSTE DOLUYSA --}}
                    <div class="card border-0 shadow-sm overflow-hidden">
                        <div class="table-responsive">
                            <table class="table table-hover align-middle mb-0">
                                <thead class="bg-light">
                                    <tr>
                                        <th class="ps-4 py-3">Plan Bal</th>
                                        <th>Personel</th>
                                        <th>Varlk / Makine</th>
                                        <th>Tamamlanma Tarihi</th>
                                        <th class="text-end pe-4">lemler</th>
                                    </tr>
                                </thead>
                                <tbody>
                                    @foreach ($plans as $plan)
                                        <tr>
                                            <td class="ps-4">
                                                <div class="d-flex align-items-center">
                                                    <div class="bg-warning bg-opacity-10 p-2 rounded me-3 text-warning">
                                                        <i class="fas fa-file-alt"></i>
                                                    </div>
                                                    <div>
                                                        <a href="{{ route('maintenance.show', $plan->id) }}"
                                                            class="fw-bold text-dark text-decoration-none">
                                                            {{ $plan->title }}
                                                        </a>
                                                    </div>
                                                </div>
                                            </td>
                                            <td>
                                                <div class="d-flex align-items-center">
                                                    <div class="bg-primary text-white rounded-circle d-flex align-items-center justify-content-center me-2"
                                                        style="width: 32px; height: 32px; font-size: 0.8rem;">
                                                        {{ substr($plan->user->name, 0, 1) }}
                                                    </div>
                                                    <span>{{ $plan->user->name }}</span>
                                                </div>
                                            </td>
                                            <td>
                                                <span class="badge bg-light text-dark border">
                                                    {{ $plan->asset->name ?? '-' }}
                                                </span>
                                            </td>
                                            <td>
                                                <i class="far fa-clock me-1 text-secondary"></i>
                                                {{ $plan->updated_at->diffForHumans() }}
                                            </td>
                                            <td class="text-end pe-4">
                                                <div class="d-flex justify-content-end gap-2">

                                                    {{-- NCELE BUTONU --}}
                                                    <a href="{{ route('maintenance.show', $plan->id) }}"
                                                        class="btn btn-sm btn-info text-white" title="Detaylar ncele">
                                                        <i class="fas fa-eye me-1"></i> ncele
                                                    </a>

                                                    {{-- HIZLI ONAY BUTONU --}}
                                                    <form action="{{ route('maintenance.update', $plan->id) }}"
                                                        method="POST"
                                                        onsubmit="return confirm('Bu plan onaylyor musunuz?');">
                                                        @csrf
                                                        @method('PUT')
                                                        <input type="hidden" name="status" value="completed">
                                                        <button type="submit"
                                                            class="btn btn-sm btn-success text-white shadow-sm"
                                                            title="Hzl Onayla">
                                                            <i class="fas fa-check"></i> Onayla
                                                        </button>
                                                    </form>

                                                    {{-- REDDET / GER GNDER BUTONU --}}
                                                    <form action="{{ route('maintenance.update', $plan->id) }}"
                                                        method="POST"
                                                        onsubmit="return confirm('Bu plan personele geri gndermek (reddetmek) istediinize emin misiniz?');">
                                                        @csrf
                                                        @method('PUT')
                                                        {{-- Reddedilince tekrar ilemde (in_progress) olsun --}}
                                                        <input type="hidden" name="status" value="in_progress">
                                                        <button type="submit" class="btn btn-sm btn-outline-danger"
                                                            title="Reddet / Geri Gnder">
                                                            <i class="fas fa-undo"></i>
                                                        </button>
                                                    </form>

                                                </div>
                                            </td>
                                        </tr>
                                    @endforeach
                                </tbody>
                            </table>
                        </div>
                    </div>
                @endif

            </div>
        </div>
    </div>
@endsection


----------------------------------------
DOSYA YOLU: resources\views\auth\kvkk.blade.php
----------------------------------------

<div class="modal fade" id="kvkkModal" tabindex="-1" aria-labelledby="kvkkModalLabel" aria-hidden="true">
    <div class="modal-dialog modal-dialog-centered modal-dialog-scrollable modal-lg">
        <div class="modal-content border-0 shadow-lg" style="border-radius: 1.25rem; overflow: hidden;">

            {{-- Modal Balk --}}
            <div class="modal-header border-0 position-relative"
                style="background: linear-gradient(135deg, #667eea 0%, #764ba2 100%); padding: 2rem 2rem 1.5rem;">
                <div>
                    <h5 class="modal-title fw-bold text-white mb-1" id="kvkkModalLabel" style="font-size: 1.35rem;">
                        <i class="fa-solid fa-shield-halved me-2"></i> KVKK Aydnlatma Metni
                    </h5>
                    <p class="text-white-50 mb-0" style="font-size: 0.875rem;">Kiisel Verilerin Korunmas Kanunu</p>
                </div>
                <button type="button" class="btn-close btn-close-white opacity-75" data-bs-dismiss="modal"
                    aria-label="Kapat" style="filter: brightness(0) invert(1);"></button>
            </div>

            {{-- Modal erik --}}
            <div class="modal-body p-4 px-lg-5 py-lg-4"
                style="font-size: 0.95rem; line-height: 1.8; color: #2d3748; background-color: #f8f9fa;">

                <div class="bg-white rounded-3 shadow-sm p-4 mb-4">
                    <p class="mb-3">
                        <strong style="color: #667eea; font-size: 1.05rem;">Sayn Kullancmz,</strong><br>
                        <span style="color: #4a5568;">Veri gvenliiniz ve gizliliiniz bizim iin nceliklidir.
                            effaflk ilkemiz gerei, kiisel verilerinizin ilenmesi sreleri hakknda sizi
                            bilgilendirmek isteriz.</span>
                    </p>
                </div>

                <div class="bg-white rounded-3 shadow-sm p-4 mb-4">
                    <h6 class="text-primary fw-bold mb-3" style="font-size: 1rem;">
                        <i class="fa-solid fa-file-lines me-2"></i>Aydnlatma Metni
                    </h6>
                    <p style="color: #4a5568;">
                        Kiisel verileriniz, 6698 sayl KVKKya uygun olarak yalnzca hizmet sunumu amacyla KKSAN
                        tarafndan gvenle saklanmakta ve ilenmektedir. Veri gvenliiniz nceliimizdir.
                    </p>
                </div>

                <div class="alert border-0 rounded-3 shadow-sm d-flex align-items-start mt-4" role="alert"
                    style="background: linear-gradient(135deg, #e0e7ff 0%, #ede9fe 100%); border-left: 4px solid #667eea !important;">
                    <div class="flex-shrink-0">
                        <i class="fa-solid fa-circle-info fa-lg mt-1" style="color: #667eea;"></i>
                    </div>
                    <div class="ms-3" style="color: #4c1d95;">
                        <strong class="d-block mb-1">nemli Bilgilendirme</strong>
                        Sisteme giri yaparak, bu artlar kabul etmi saylrsnz.
                    </div>
                </div>

            </div>

            {{-- Modal Alt Ksm --}}
            <div class="modal-footer border-0 pt-0 pb-4 px-4 px-lg-5" style="background-color: #f8f9fa;">
                <button type="button" id="btn-kvkk-accept"
                    class="btn btn-lg text-white fw-semibold rounded-pill px-5 shadow-sm" data-bs-dismiss="modal"
                    style="background: linear-gradient(135deg, #667eea 0%, #764ba2 100%); border: none; transition: all 0.3s ease;"
                    onmouseover="this.style.transform='translateY(-2px)'; this.style.boxShadow='0 8px 20px rgba(102, 126, 234, 0.4)';"
                    onmouseout="this.style.transform='translateY(0)'; this.style.boxShadow='0 4px 6px rgba(0,0,0,0.1)';">
                    <i class="fa-solid fa-check me-2"></i>Okudum, Anladm
                </button>
            </div>

        </div>
    </div>
</div>


----------------------------------------
DOSYA YOLU: resources\views\auth\login.blade.php
----------------------------------------

@extends('layouts.app')

@section('title', 'Giri Yap')

@section('content')
    <style>
        /* Ana ierik alan - dikeyde ortalanm */
        #app>main.py-4 {
            padding-top: 0 !important;
            padding-bottom: 0 !important;
            display: flex;
            align-items: center;
            min-height: calc(100vh - 72px);

            /* Animasyonlu arka plan */
            background: linear-gradient(-45deg,
                    #dbe4ff,
                    #fde2ff,
                    #d9fcf7,
                    #fff0d9);
            background-size: 400% 400%;
            animation: gradientWave 18s ease infinite;
        }

        /* Dalgalanma animasyonu */
        @keyframes gradientWave {
            0% {
                background-position: 0% 50%;
            }

            50% {
                background-position: 100% 50%;
            }

            100% {
                background-position: 0% 50%;
            }
        }

        /* Giri Kart - Modern glassmorphism */
        .login-card {
            border-radius: 1.5rem;
            box-shadow: 0 1rem 3rem rgba(0, 0, 0, 0.15) !important;
            border: 0;
            background: rgba(255, 255, 255, 0.85);
            backdrop-filter: blur(10px);
            -webkit-backdrop-filter: blur(10px);
            overflow: hidden;
        }

        /* Kart bal */
        .login-card .card-header {
            background: rgba(255, 255, 255, 0.5);
            border: none;
            padding: 2rem 2rem 1rem;
            font-size: 1.75rem;
            font-weight: 700;
            color: #2d3748;
        }

        .login-card .card-body {
            padding: 1.5rem 2rem 2.5rem;
        }

        /* Form etiketleri */
        .form-label-custom {
            font-weight: 600;
            color: #495057;
            margin-bottom: 0.5rem;
            font-size: 0.9rem;
        }

        /* Input kutular */
        .form-control-custom {
            border-radius: 0.75rem;
            border: 2px solid #e2e8f0;
            padding: 0.75rem 1rem;
            font-size: 0.95rem;
            transition: all 0.2s;
            background: rgba(255, 255, 255, 0.9);
        }

        .form-control-custom:focus {
            border-color: #667EEA;
            box-shadow: 0 0 0 0.2rem rgba(102, 126, 234, 0.15);
            background: #ffffff;
        }

        /* ifre input group */
        .password-group {
            position: relative;
        }

        .password-group .form-control-custom {
            padding-right: 3rem;
        }

        .password-toggle-btn {
            position: absolute;
            right: 0;
            top: 0;
            height: 100%;
            border: none;
            background: transparent;
            padding: 0 1rem;
            color: #6c757d;
            cursor: pointer;
            border-top-right-radius: 0.75rem;
            border-bottom-right-radius: 0.75rem;
            transition: color 0.2s;
        }

        .password-toggle-btn:hover {
            color: #667EEA;
        }

        /* Checkbox zelletirme */
        .form-check-custom {
            display: flex;
            align-items: center;
            gap: 0.5rem;
        }

        .form-check-custom .form-check-input {
            width: 1.2rem;
            height: 1.2rem;
            cursor: pointer;
        }

        .form-check-custom .form-check-label {
            cursor: pointer;
            font-size: 0.9rem;
            color: #495057;
        }

        /* reCAPTCHA container */
        .recaptcha-wrapper {
            display: flex;
            justify-content: center;
            margin: 1.5rem 0;
        }

        /* Animasyonlu gradient buton */
        .btn-animated-gradient {
            background: linear-gradient(-45deg,
                    #667EEA,
                    #F093FB,
                    #4FD1C5,
                    #FBD38D);
            background-size: 400% 400%;
            animation: gradientWave 18s ease infinite;
            border: none;
            color: white;
            font-weight: 700;
            padding: 0.75rem 2.5rem;
            border-radius: 0.75rem;
            font-size: 1rem;
            transition: transform 0.2s ease-out, box-shadow 0.2s ease-out;
            width: 100%;
        }

        .btn-animated-gradient:hover {
            color: white;
            transform: translateY(-2px);
            box-shadow: 0 6px 20px rgba(102, 126, 234, 0.3);
        }

        /* ifremi unuttum linki */
        .link-palette {
            color: #667EEA;
            text-decoration: none;
            font-weight: 600;
            font-size: 0.9rem;
            display: inline-block;
            margin-top: 1rem;
            transition: all 0.2s;
        }

        .link-palette:hover {
            color: #435EBE;
            text-decoration: underline;
            transform: translateX(3px);
        }

        /* Form grubu spacing */
        .form-group-custom {
            margin-bottom: 1.5rem;
        }

        /* Error mesajlar */
        .invalid-feedback {
            font-size: 0.85rem;
            margin-top: 0.5rem;
        }

        /* Responsive ayarlar */
        @media (max-width: 768px) {
            .login-card .card-header {
                padding: 1.5rem 1.5rem 0.75rem;
                font-size: 1.5rem;
            }

            .login-card .card-body {
                padding: 1rem 1.5rem 2rem;
            }
        }
    </style>

    <div class="container">
        <div class="row justify-content-center">
            <div class="col-md-6 col-lg-5 col-xl-4">
                <div class="card login-card">
                    <div class="card-header text-center">
                        <i class="fa-solid fa-lock me-2" style="color: #667EEA;"></i>
                        Giri Yap
                    </div>

                    <div class="card-body">
                        <form method="POST" action="{{ route('login') }}">
                            @csrf

                            <!-- E-posta Adresi -->
                            <div class="form-group-custom">
                                <label for="email" class="form-label-custom">
                                    <i class="fa-solid fa-envelope me-1" style="color: #E8D5F2;"></i>
                                    E-posta Adresi
                                </label>
                                <input id="email" type="email"
                                    class="form-control form-control-custom @error('email') is-invalid @enderror"
                                    name="email" value="{{ old('email') }}" required autocomplete="email" autofocus
                                    placeholder="ornek@koksan.com">
                                @error('email')
                                    <span class="invalid-feedback" role="alert">
                                        <strong>{{ $message }}</strong>
                                    </span>
                                @enderror
                            </div>

                            <!-- ifre -->
                            <div class="form-group-custom">
                                <label for="password" class="form-label-custom">
                                    <i class="fa-solid fa-key me-1" style="color: #FFE5EC;"></i>
                                    ifre
                                </label>
                                <div class="password-group">
                                    <input id="password" type="password"
                                        class="form-control form-control-custom @error('password') is-invalid @enderror"
                                        name="password" required autocomplete="current-password" placeholder="">
                                    <button class="password-toggle-btn" type="button" id="togglePassword">
                                        <i class="fa-solid fa-eye" id="eyeIcon"></i>
                                    </button>
                                </div>
                                @error('password')
                                    <span class="invalid-feedback d-block" role="alert">
                                        <strong>{{ $message }}</strong>
                                    </span>
                                @enderror
                            </div>

                            <!-- Beni Hatrla -->
                            <div class="form-group-custom">
                                <div class="form-check-custom">
                                    <input class="form-check-input" type="checkbox" name="remember" id="remember"
                                        {{ old('remember') ? 'checked' : '' }}>
                                    <label class="form-check-label" for="remember">
                                        Beni Hatrla
                                    </label>
                                </div>
                            </div>
                            @if ($showCaptcha ?? false)
                                <div class="recaptcha-wrapper">
                                    <div class="g-recaptcha" data-sitekey="{{ config('services.recaptcha.site_key') }}">
                                    </div>
                                </div>
                                @error('g-recaptcha-response')
                                    <div class="text-center mb-3">
                                        <span class="text-danger">
                                            <strong>Ltfen robot olmadnz dorulayn.</strong>
                                        </span>
                                    </div>
                                @enderror
                            @endif

                            {{-- KVKK CHECKBOX (LNK VERSYONU) --}}
                            <div class="mb-3">
                                <div class="form-check">
                                    <input class="form-check-input @error('kvkk_approval') is-invalid @enderror"
                                        type="checkbox" name="kvkk_approval" id="kvkk_approval" required>

                                    <label class="form-check-label small" for="kvkk_approval">
                                        {{-- TETKLEYC LNK --}}
                                        <a href="#" class="text-decoration-none fw-bold" style="color: #667eea;"
                                            data-bs-toggle="modal" data-bs-target="#kvkkModal"> {{-- Hedef ID Buras --}}
                                            KVKK Aydnlatma Metnini
                                        </a>
                                        okudum ve onaylyorum.
                                    </label>
                                </div>
                                @error('kvkk_approval')
                                    <div class="text-danger small mt-1"><strong>{{ $message }}</strong></div>
                                @enderror
                            </div>

                            <!-- Giri Butonu -->
                            <div class="form-group-custom">
                                <button type="submit" class="btn btn-animated-gradient">
                                    <i class="fa-solid fa-right-to-bracket me-2"></i>
                                    Giri Yap
                                </button>
                            </div>

                            <!-- ifremi Unuttum Linki -->
                            @if (Route::has('password.request'))
                                <div class="text-center">
                                    <a class="link-palette" href="{{ route('password.request') }}">
                                        <i class="fa-solid fa-question-circle me-1"></i>
                                        ifreni mi unuttun?
                                    </a>
                                </div>
                            @endif
                        </form>
                    </div>
                </div>
            </div>
        </div>
    </div>
    @include('auth.kvkk')
@endsection

@section('page_scripts')
    <script src="https://www.google.com/recaptcha/api.js" async defer></script>

    <script>
        document.addEventListener('DOMContentLoaded', function() {
            const togglePassword = document.getElementById('togglePassword');
            const password = document.getElementById('password');
            const eyeIcon = document.getElementById('eyeIcon');

            togglePassword.addEventListener('click', function() {
                const type = password.getAttribute('type') === 'password' ? 'text' : 'password';
                password.setAttribute('type', type);

                // kon deitirme
                if (type === 'password') {
                    eyeIcon.classList.remove('fa-eye-slash');
                    eyeIcon.classList.add('fa-eye');
                } else {
                    eyeIcon.classList.remove('fa-eye');
                    eyeIcon.classList.add('fa-eye-slash');
                }
            });
        });
    </script>
    {{-- KVKK OTOMATK ONAY ve ZORUNLU MODAL SCRPT --}}
    <script>
        document.addEventListener('DOMContentLoaded', function() {
            // Elementleri se
            const checkbox = document.getElementById('kvkk_approval');
            const acceptBtn = document.getElementById('btn-kvkk-accept');
            const modalElement = document.getElementById('kvkkModal');

            // Bootstrap 5 Modal instance'n olutur (Programatik olarak amak iin)
            // Not: Projende bootstrap objesi global ise alr. Eer hata alrsan fallback yazarz.
            let kvkkModal;
            if (window.bootstrap) {
                kvkkModal = new bootstrap.Modal(modalElement);
            }

            // 1. Checkbox'a tklanma olay
            if (checkbox) {
                checkbox.addEventListener('click', function(e) {
                    if (this.checked) {
                        e.preventDefault();
                        this.checked = false;
                        if (kvkkModal) {
                            kvkkModal.show();
                        } else {
                            const triggerBtn = document.querySelector('[data-bs-target="#kvkkModal"]');
                            if (triggerBtn) triggerBtn.click();
                        }
                    }
                });
            }
            if (acceptBtn && checkbox) {
                acceptBtn.addEventListener('click', function() {
                    checkbox.checked = true;
                    checkbox.focus();
                });
            }
        });
    </script>
@endsection


----------------------------------------
DOSYA YOLU: resources\views\auth\register.blade.php
----------------------------------------

@extends('layouts.app')

@section('content')
<div class="container">
    <div class="row justify-content-center">
        <div class="col-md-8">
            <div class="card">
                <div class="card-header">{{ __('Register') }}</div>

                <div class="card-body">
                    <form method="POST" action="{{ route('register') }}">
                        @csrf

                        <div class="row mb-3">
                            <label for="name" class="col-md-4 col-form-label text-md-end">{{ __('Name') }}</label>

                            <div class="col-md-6">
                                <input id="name" type="text" class="form-control @error('name') is-invalid @enderror" name="name" value="{{ old('name') }}" required autocomplete="name" autofocus>

                                @error('name')
                                    <span class="invalid-feedback" role="alert">
                                        <strong>{{ $message }}</strong>
                                    </span>
                                @enderror
                            </div>
                        </div>

                        <div class="row mb-3">
                            <label for="email" class="col-md-4 col-form-label text-md-end">{{ __('Email Address') }}</label>

                            <div class="col-md-6">
                                <input id="email" type="email" class="form-control @error('email') is-invalid @enderror" name="email" value="{{ old('email') }}" required autocomplete="email">

                                @error('email')
                                    <span class="invalid-feedback" role="alert">
                                        <strong>{{ $message }}</strong>
                                    </span>
                                @enderror
                            </div>
                        </div>

                        <div class="row mb-3">
                            <label for="password" class="col-md-4 col-form-label text-md-end">{{ __('Password') }}</label>

                            <div class="col-md-6">
                                <input id="password" type="password" class="form-control @error('password') is-invalid @enderror" name="password" required autocomplete="new-password">

                                @error('password')
                                    <span class="invalid-feedback" role="alert">
                                        <strong>{{ $message }}</strong>
                                    </span>
                                @enderror
                            </div>
                        </div>

                        <div class="row mb-3">
                            <label for="password-confirm" class="col-md-4 col-form-label text-md-end">{{ __('Confirm Password') }}</label>

                            <div class="col-md-6">
                                <input id="password-confirm" type="password" class="form-control" name="password_confirmation" required autocomplete="new-password">
                            </div>
                        </div>

                        <div class="row mb-0">
                            <div class="col-md-6 offset-md-4">
                                <button type="submit" class="btn btn-primary">
                                    {{ __('Register') }}
                                </button>
                            </div>
                        </div>
                    </form>
                </div>
            </div>
        </div>
    </div>
</div>
@endsection


----------------------------------------
DOSYA YOLU: resources\views\auth\verify.blade.php
----------------------------------------

@extends('layouts.app')

@section('content')
<div class="container">
    <div class="row justify-content-center">
        <div class="col-md-8">
            <div class="card">
                <div class="card-header">{{ __('Verify Your Email Address') }}</div>

                <div class="card-body">
                    @if (session('resent'))
                        <div class="alert alert-success" role="alert">
                            {{ __('A fresh verification link has been sent to your email address.') }}
                        </div>
                    @endif

                    {{ __('Before proceeding, please check your email for a verification link.') }}
                    {{ __('If you did not receive the email') }},
                    <form class="d-inline" method="POST" action="{{ route('verification.resend') }}">
                        @csrf
                        <button type="submit" class="btn btn-link p-0 m-0 align-baseline">{{ __('click here to request another') }}</button>.
                    </form>
                </div>
            </div>
        </div>
    </div>
</div>
@endsection


----------------------------------------
DOSYA YOLU: resources\views\auth\passwords\confirm.blade.php
----------------------------------------

@extends('layouts.app')

@section('content')
<div class="container">
    <div class="row justify-content-center">
        <div class="col-md-8">
            <div class="card">
                <div class="card-header">{{ __('Confirm Password') }}</div>

                <div class="card-body">
                    {{ __('Please confirm your password before continuing.') }}

                    <form method="POST" action="{{ route('password.confirm') }}">
                        @csrf

                        <div class="row mb-3">
                            <label for="password" class="col-md-4 col-form-label text-md-end">{{ __('Password') }}</label>

                            <div class="col-md-6">
                                <input id="password" type="password" class="form-control @error('password') is-invalid @enderror" name="password" required autocomplete="current-password">

                                @error('password')
                                    <span class="invalid-feedback" role="alert">
                                        <strong>{{ $message }}</strong>
                                    </span>
                                @enderror
                            </div>
                        </div>

                        <div class="row mb-0">
                            <div class="col-md-8 offset-md-4">
                                <button type="submit" class="btn btn-primary">
                                    {{ __('Confirm Password') }}
                                </button>

                                @if (Route::has('password.request'))
                                    <a class="btn btn-link" href="{{ route('password.request') }}">
                                        {{ __('Forgot Your Password?') }}
                                    </a>
                                @endif
                            </div>
                        </div>
                    </form>
                </div>
            </div>
        </div>
    </div>
</div>
@endsection


----------------------------------------
DOSYA YOLU: resources\views\auth\passwords\email.blade.php
----------------------------------------

@extends('layouts.app')

@section('content')
<div class="container">
    <div class="row justify-content-center">
        <div class="col-md-8">
            <div class="card">
                <div class="card-header">{{ __('Reset Password') }}</div>

                <div class="card-body">
                    @if (session('status'))
                        <div class="alert alert-success" role="alert">
                            {{ session('status') }}
                        </div>
                    @endif

                    <form method="POST" action="{{ route('password.email') }}">
                        @csrf

                        <div class="row mb-3">
                            <label for="email" class="col-md-4 col-form-label text-md-end">{{ __('Email Address') }}</label>

                            <div class="col-md-6">
                                <input id="email" type="email" class="form-control @error('email') is-invalid @enderror" name="email" value="{{ old('email') }}" required autocomplete="email" autofocus>

                                @error('email')
                                    <span class="invalid-feedback" role="alert">
                                        <strong>{{ $message }}</strong>
                                    </span>
                                @enderror
                            </div>
                        </div>

                        <div class="row mb-0">
                            <div class="col-md-6 offset-md-4">
                                <button type="submit" class="btn btn-primary">
                                    {{ __('Send Password Reset Link') }}
                                </button>
                            </div>
                        </div>
                    </form>
                </div>
            </div>
        </div>
    </div>
</div>
@endsection


----------------------------------------
DOSYA YOLU: resources\views\auth\passwords\reset.blade.php
----------------------------------------

@extends('layouts.app')

@section('content')
<div class="container">
    <div class="row justify-content-center">
        <div class="col-md-8">
            <div class="card">
                <div class="card-header">{{ __('Reset Password') }}</div>

                <div class="card-body">
                    <form method="POST" action="{{ route('password.update') }}">
                        @csrf

                        <input type="hidden" name="token" value="{{ $token }}">

                        <div class="row mb-3">
                            <label for="email" class="col-md-4 col-form-label text-md-end">{{ __('Email Address') }}</label>

                            <div class="col-md-6">
                                <input id="email" type="email" class="form-control @error('email') is-invalid @enderror" name="email" value="{{ $email ?? old('email') }}" required autocomplete="email" autofocus>

                                @error('email')
                                    <span class="invalid-feedback" role="alert">
                                        <strong>{{ $message }}</strong>
                                    </span>
                                @enderror
                            </div>
                        </div>

                        <div class="row mb-3">
                            <label for="password" class="col-md-4 col-form-label text-md-end">{{ __('Password') }}</label>

                            <div class="col-md-6">
                                <input id="password" type="password" class="form-control @error('password') is-invalid @enderror" name="password" required autocomplete="new-password">

                                @error('password')
                                    <span class="invalid-feedback" role="alert">
                                        <strong>{{ $message }}</strong>
                                    </span>
                                @enderror
                            </div>
                        </div>

                        <div class="row mb-3">
                            <label for="password-confirm" class="col-md-4 col-form-label text-md-end">{{ __('Confirm Password') }}</label>

                            <div class="col-md-6">
                                <input id="password-confirm" type="password" class="form-control" name="password_confirmation" required autocomplete="new-password">
                            </div>
                        </div>

                        <div class="row mb-0">
                            <div class="col-md-6 offset-md-4">
                                <button type="submit" class="btn btn-primary">
                                    {{ __('Reset Password') }}
                                </button>
                            </div>
                        </div>
                    </form>
                </div>
            </div>
        </div>
    </div>
</div>
@endsection


----------------------------------------
DOSYA YOLU: resources\views\birimler\index.blade.php
----------------------------------------

@extends('layouts.app')

@section('title', 'Birim Ynetimi')

@push('styles')
    <style>
        /* Ana ierik alanna (main) animasyonlu arka plan uygula */
        #app>main.py-4 {
            padding: 2.5rem 0 !important;
            min-height: calc(100vh - 72px);
            background: linear-gradient(-45deg,
                    #dbe4ff,
                    /* #667EEA (Canl mavi-mor) tonu */
                    #fde2ff,
                    /* #F093FB (Yumuak pembe) tonu */
                    #d9fcf7,
                    /* #4FD1C5 (Teal/turkuaz) tonu */
                    #fff0d9
                    /* #FBD38D (Scak sar) tonu */
                );
            background-size: 400% 400%;
            animation: gradientWave 18s ease infinite;
        }

        /* Arka plan dalgalanma animasyonu */
        @keyframes gradientWave {
            0% {
                background-position: 0% 50%;
            }

            50% {
                background-position: 100% 50%;
            }

            100% {
                background-position: 0% 50%;
            }
        }

        /* Kartlar (Tam effaf) */
        .birim-card {
            /* Bu sayfa iin zel class ad */
            border-radius: 1rem;
            box-shadow: none !important;
            border: 0;
            background-color: transparent;
            backdrop-filter: none;
            margin-bottom: 1.5rem;
            /* Kartlar arasna boluk */
        }

        /* Balklar ve Etiketler (Okunabilirlik in) */
        .birim-card .card-header,
        .birim-card .form-label

        /* (Bu sayfada label yok ama tutarllk iin) */
            {
            color: #000;
            /* Balklar siyah kalsn */
            font-weight: bold;
            /* Kaln Metin */
            text-shadow: 0 1px 2px rgba(255, 255, 255, 0.7);
        }

        /* Form Elemanlar (Yumuak Ke + Opak Arka Plan) */
        .birim-card .form-control {
            border-radius: 0.5rem;
            background-color: rgba(255, 255, 255, 0.8);
        }

        /* Input Group iin zel yuvarlatma */
        .birim-card .input-group .form-control {
            border-top-right-radius: 0;
            border-bottom-right-radius: 0;
        }

        .birim-card .input-group .btn {
            border-radius: 0.5rem;
            /* Genel */
            border-top-left-radius: 0;
            border-bottom-left-radius: 0;
        }

        /* Mevcut Birimler Listesi eleri (Okunabilirlik) */
        .birim-card .list-group-item {
            background-color: rgba(255, 255, 255, 0.8);
            /* Hafif opak arka plan */
            border-radius: 0.5rem;
            /* Yumuak keler */
            margin-bottom: 0.5rem;
            /* eler aras boluk */
            border: none;
            /* Kenarl kaldr */
            color: #333;
            /* Metin rengi */
            font-weight: 500;
            /* Biraz daha kaln metin */
        }

        .birim-card .list-group-item:last-child {
            margin-bottom: 0;
            /* Son enin alt boluunu kaldr */
        }

        .birim-card .list-group-item .btn-danger {
            font-weight: bold;
            /* Sil butonu yazs kaln olsun */
        }


        /* Animasyonlu Buton */
        .btn-animated-gradient {
            background: linear-gradient(-45deg,
                    #667EEA, #F093FB, #4FD1C5, #FBD38D);
            background-size: 400% 400%;
            animation: gradientWave 18s ease infinite;
            border: none;
            color: white;
            font-weight: bold;
            transition: transform 0.2s ease-out, box-shadow 0.2s ease-out;
        }

        .btn-animated-gradient:hover {
            color: white;
            transform: scale(1.05);
            box-shadow: 0 4px 15px rgba(0, 0, 0, 0.1);
        }
    </style>
@endpush

@section('content')
    <div class="container">
        <div class="row justify-content-center">
            <div class="col-md-8">
                @if (session('success'))
                    <div class="alert alert-success alert-dismissible fade show" role="alert">
                        {{ session('success') }}
                        <button type="button" class="btn-close" data-bs-dismiss="alert" aria-label="Close"></button>
                    </div>
                @endif

                {{-- Yeni Birim Ekleme Formu --}}
                {{-- YEN CLASS EKLEND: 'birim-card' --}}
                <div class="card birim-card">
                    {{-- Balk gncellendi --}}
                    <div class="card-header h4 bg-transparent border-0 pt-4">{{ __('Yeni Birim Ekle') }}</div>
                    {{-- Padding eklendi --}}
                    <div class="card-body p-4">
                        <form method="POST" action="{{ route('birimler.store') }}">
                            @csrf
                            <div class="input-group">
                                {{-- Yumuak ke iin stil --}}
                                <input type="text" class="form-control @error('ad') is-invalid @enderror" name="ad"
                                    placeholder="Yeni birim ad (rn: Metrekp)" required value="{{ old('ad') }}">
                                {{-- Animasyonlu buton class' eklendi --}}
                                <button class="btn btn-animated-gradient" type="submit">Ekle</button>
                            </div>
                            @error('ad')
                                {{-- Hata mesaj stili gncellendi --}}
                                <div class="text-danger mt-2 fw-bold"><small>{{ $message }}</small></div>
                            @enderror
                        </form>
                    </div>
                </div>

                {{-- Mevcut Birimler Listesi --}}
                {{-- YEN CLASS EKLEND: 'birim-card' --}}
                <div class="card birim-card">
                    {{-- Balk gncellendi --}}
                    <div class="card-header h4 bg-transparent border-0 pt-4">{{ __('Mevcut Birimler') }}</div>
                    {{-- Padding eklendi --}}
                    <div class="card-body p-4">
                        {{-- 'list-group-flush' kaldrld, normal list group kullanlyor --}}
                        <ul class="list-group">
                            @forelse ($birimler as $birim)
                                {{-- Stil gncellendi --}}
                                <li class="list-group-item d-flex justify-content-between align-items-center shadow-sm">
                                    {{ $birim->ad }}
                                    <form action="{{ route('birimler.destroy', $birim->id) }}" method="POST"
                                        onsubmit="return confirm('Bu birimi silmek istediinizden emin misiniz? Silinen birim geri alnamaz.');">
                                        @csrf
                                        @method('DELETE')
                                        {{-- Buton stili gncellendi --}}
                                        <button type="submit" class="btn btn-sm btn-outline-danger">Sil</button>
                                    </form>
                                </li>
                            @empty
                                <li class="list-group-item text-muted">Sistemde kaytl birim bulunamad.</li>
                            @endforelse
                        </ul>
                    </div>
                </div>
            </div>
        </div>
    </div>
@endsection

{{-- Bu sayfada zel JavaScript olmad iin @section('page_scripts') blou bo kalabilir veya silinebilir. --}}


----------------------------------------
DOSYA YOLU: resources\views\bookings\edit.blade.php
----------------------------------------

@extends('layouts.app')

@section('title', 'Rezervasyon Dzenle')

@section('content')
    <div class="container py-4">

        {{-- 1. PHP Mant: Verileri Hazrla --}}
        @php
            $backRoute = '#';
            $planTitle = 'Belirsiz Plan';
            $contextLabel = 'Bal Olduu Plan';

            if ($booking->bookable) {
                if ($booking->bookable_type === 'App\Models\Travel') {
                    $backRoute = route('travels.show', $booking->bookable_id);
                    $planTitle = $booking->bookable->title ?? 'simsiz Seyahat';
                    $contextLabel = 'Seyahat';
                } else {
                    $backRoute = route('service.events.show', $booking->bookable_id);
                    $planTitle = $booking->bookable->name ?? 'simsiz Etkinlik';
                    $contextLabel = 'Etkinlik';
                }
            }
        @endphp

        <div class="row justify-content-center">
            <div class="col-lg-10">

                {{-- 2. st Balk Alan (Header dnda, sade metin) --}}
                <div class="d-flex justify-content-between align-items-end mb-4">
                    <div>
                        <h6 class="text-uppercase text-muted fw-bold mb-1" style="font-size: 0.75rem; letter-spacing: 1px;">
                            {{ $contextLabel }} YNETM
                        </h6>
                        <h2 class="fw-bold text-dark mb-0">Rezervasyon Dzenle</h2>
                        <div class="d-flex align-items-center text-secondary mt-2">
                            <i class="fa-solid fa-layer-group me-2"></i>
                            <span>{{ $planTitle }}</span>
                        </div>
                    </div>
                    <div>
                        <a href="{{ $backRoute }}" class="btn btn-light border bg-white shadow-sm text-muted">
                            <i class="fa-solid fa-arrow-left me-1"></i> Vazge ve Dn
                        </a>
                    </div>
                </div>

                {{-- 3. Ana Form Kart --}}
                <div class="card border-0 shadow-sm rounded-3">
                    {{-- st ksma ince bir renkli izgi (Kurumsal Mavi) --}}
                    <div class="card-header bg-white border-0 pt-0"></div>
                    <div class="card-body p-4 p-md-5">

                        <form action="{{ route('bookings.update', $booking) }}" method="POST"
                            enctype="multipart/form-data">
                            @csrf
                            @method('PUT')

                            {{-- Form Paras --}}
                            @include('bookings._form', ['booking' => $booking])

                            <hr class="my-4 text-muted opacity-25">

                            {{-- Alt Aksiyon Butonlar --}}
                            <div class="d-flex justify-content-end align-items-center gap-2">
                                <a href="{{ $backRoute }}" class="btn btn-link text-decoration-none text-muted">
                                    ptal
                                </a>
                                <button type="submit" class="btn btn-primary px-4 py-2 fw-medium">
                                    <i class="fa-regular fa-floppy-disk me-2"></i> Deiiklikleri Kaydet
                                </button>
                            </div>
                        </form>

                    </div>
                </div>

            </div>
        </div>
    </div>
@endsection


----------------------------------------
DOSYA YOLU: resources\views\bookings\index.blade.php
----------------------------------------

@extends('layouts.app')

@section('title', 'Tm Rezervasyonlar')

@section('content')
    <style>
        .page-hero {
            background: linear-gradient(135deg, #667EEA 0%, #764BA2 100%);
            border-radius: 1rem;
            padding: 2rem;
            color: white;
            margin-bottom: 2rem;
            position: relative;
            overflow: hidden;
        }

        .page-hero::before {
            content: '';
            position: absolute;
            top: -50%;
            right: -10%;
            width: 400px;
            height: 400px;
            background: rgba(255, 255, 255, 0.1);
            border-radius: 50%;
        }

        .booking-table-card {
            background: white;
            border-radius: 1rem;
            border: 1px solid #e9ecef;
            box-shadow: 0 2px 8px rgba(0, 0, 0, 0.05);
            overflow: hidden;
        }

        .table thead th {
            background-color: #f8f9fa;
            border-bottom: 2px solid #e9ecef;
            color: #495057;
            font-weight: 600;
            padding: 1rem;
        }

        .table tbody td {
            padding: 1rem;
            vertical-align: middle !important;
            border-bottom: 1px solid #e9ecef;
        }

        .table tbody tr:last-child td {
            border-bottom: none;
        }

        .table tbody tr:hover {
            background-color: #f8f9fa;
        }

        .type-badge {
            display: inline-flex;
            align-items: center;
            justify-content: center;
            width: 35px;
            height: 35px;
            border-radius: 50%;
            font-size: 1rem;
        }

        .type-badge.flight {
            background: #E3F2FD;
            color: #1976D2;
        }

        .type-badge.hotel {
            background: #E0F2F1;
            color: #00897B;
        }

        .type-badge.car_rental {
            background: #F3E5F5;
            color: #8E24AA;
        }

        .type-badge.train {
            background: #FFF3E0;
            color: #F57C00;
        }

        .type-badge.bus {
            background: #FFEBEE;
            color: #D32F2F;
        }

        /* Yeni Otobs Rengi */
        .type-badge.other {
            background: #ECEFF1;
            color: #455A64;
        }

        .btn-sm-modern {
            padding: 0.25rem 0.5rem;
            border-radius: 0.5rem;
            font-size: 0.8rem;
            transition: all 0.2s;
        }

        .btn-sm-modern:hover {
            background-color: #e9ecef;
        }

        .empty-state {
            padding: 3rem;
            text-align: center;
            color: #6c757d;
        }

        /* Yeil Excel Butonu */
        .btn-export-global {
            background: linear-gradient(135deg, #28c76f 0%, #1e7e34 100%);
            border: none;
            color: white;
            font-weight: 600;
            padding: 0.6rem 1.5rem;
            border-radius: 0.5rem;
            text-decoration: none;
            display: inline-flex;
            align-items: center;
            transition: all 0.3s ease;
        }

        .btn-export-global:hover {
            transform: translateY(-2px);
            box-shadow: 0 4px 12px rgba(40, 199, 111, 0.3);
            color: white;
        }
    </style>

    <div class="container py-4">
        <div class="row justify-content-center">
            <div class="col-lg-12">
                {{-- Hero Section --}}
                <div class="page-hero">
                    <div class="d-flex justify-content-between align-items-center position-relative" style="z-index: 1;">
                        <div>
                            <h2 class="mb-1"> Tm Rezervasyonlar</h2>
                            <p class="mb-0 opacity-75">Sistemdeki kaytl tm seyahat rezervasyonlar</p>
                        </div>
                        <div class="text-end">
                            <h1 class="mb-0 display-6 fw-bold">{{ $bookings->total() }}</h1>
                            <span class="small opacity-75">Toplam Kayt</span>
                        </div>
                    </div>
                </div>
                <div class="d-flex justify-content-end mb-4">
                    <a href="{{ route('bookings.export') }}" class="btn-export-global">
                        <i class="fas fa-file-excel me-2"></i> Rezervasyon Listesini Excel'e Aktar
                    </a>
                </div>

                {{-- Table Card --}}
                <div class="booking-table-card">
                    @if ($bookings->isEmpty())
                        <div class="empty-state">
                            <i class="fa-solid fa-ticket fa-3x mb-3 text-muted opacity-50"></i>
                            <h4>Henz hi rezervasyon yok</h4>
                            <p>Seyahat veya Etkinlik planlarna giderek yeni rezervasyonlar ekleyebilirsiniz.</p>
                            <div class="mt-3">
                                <a href="{{ route('travels.index') }}" class="btn btn-primary me-2">Seyahat Planlar</a>
                                <a href="{{ route('service.events.index', ['event_type' => 'fuar']) }}"
                                    class="btn btn-outline-primary">Fuar Ynetimi</a>
                            </div>
                        </div>
                    @else
                        <div class="table-responsive">
                            <table class="table mb-0">
                                <thead>
                                    <tr>
                                        <th style="width: 50px;" class="text-center"</th>
                                        <th>Salayc / Kod</th>
                                        <th>Bal Kayt (Seyahat/Etkinlik) & Kii</th> {{-- Balk Dzeldi --}}
                                        <th>Tarih</th>
                                        <th>Tutar</th>
                                        <th class="text-end">lemler</th>
                                    </tr>
                                </thead>
                                <tbody>
                                    @foreach ($bookings as $booking)
                                        <tr>
                                            {{-- Tip konu --}}
                                            <td class="text-center">
                                                @php
                                                    $icon = match ($booking->type) {
                                                        'flight' => 'fa-plane',
                                                        'hotel' => 'fa-hotel',
                                                        'car_rental' => 'fa-car',
                                                        'train' => 'fa-train',
                                                        'bus' => 'fa-bus',
                                                        default => 'fa-clipboard-list',
                                                    };
                                                @endphp
                                                <div class="type-badge {{ $booking->type }}"
                                                    title="{{ ucfirst($booking->type) }}">
                                                    <i class="fa-solid {{ $icon }}"></i>
                                                </div>
                                            </td>

                                            {{-- Salayc Bilgisi --}}
                                            <td>
                                                <div class="fw-bold text-dark">{{ $booking->provider_name }}</div>
                                                @if ($booking->confirmation_code)
                                                    <div class="small text-muted">
                                                        <i
                                                            class="fa-solid fa-barcode me-1"></i>{{ $booking->confirmation_code }}
                                                    </div>
                                                @endif
                                            </td>

                                            {{-- BALI KAYIT (POLMORFK YAPI) --}}
                                            <td>
                                                @if ($booking->bookable)
                                                    @php
                                                        $route = '#';
                                                        $name = '-';
                                                        $typeLabel = '';
                                                        $badgeClass = 'bg-secondary';

                                                        // SEYAHAT SE
                                                        if ($booking->bookable_type === 'App\Models\Travel') {
                                                            $route = route('travels.show', $booking->bookable_id);
                                                            $name = $booking->bookable->name;
                                                            $typeLabel = 'Seyahat';
                                                            $badgeClass = 'bg-info text-dark';
                                                        }
                                                        // ETKNLK (FUAR) SE
                                                        elseif ($booking->bookable_type === 'App\Models\Event') {
                                                            // Rotay 'service.' prefix'i ile aryoruz
    $route = route(
        'service.events.show',
        $booking->bookable_id,
    );
    $name = $booking->bookable->title;
    $typeLabel = 'Etkinlik';
    $badgeClass = 'bg-warning text-dark';
                                                        }
                                                    @endphp

                                                    <a href="{{ $route }}" class="text-decoration-none fw-semibold"
                                                        style="color: #667EEA;">
                                                        {{ Str::limit($name, 40) }}
                                                    </a>

                                                    <div class="small text-muted mt-1 d-flex align-items-center gap-2">
                                                        {{-- Tr Rozeti --}}
                                                        <span class="badge {{ $badgeClass }} border px-2 py-0"
                                                            style="font-size: 0.7rem;">
                                                            {{ $typeLabel }}
                                                        </span>

                                                        {{-- Kullanc Ad --}}
                                                        <span>
                                                            <i
                                                                class="fa-regular fa-user me-1"></i>{{ $booking->user->name ?? 'Bilinmiyor' }}
                                                        </span>
                                                    </div>
                                                @else
                                                    <span class="text-muted fst-italic">
                                                        <i class="fa-solid fa-ban me-1"></i> Kayt Silinmi
                                                    </span>
                                                    <div class="small text-muted mt-1">
                                                        <i
                                                            class="fa-regular fa-user me-1"></i>{{ $booking->user->name ?? 'Bilinmiyor' }}
                                                    </div>
                                                @endif
                                            </td>

                                            {{-- Tarih --}}
                                            <td>
                                                <div class="fw-bold text-dark">
                                                    {{ \Carbon\Carbon::parse($booking->start_datetime)->format('d.m.Y') }}
                                                </div>
                                                <div class="small text-muted">
                                                    {{ \Carbon\Carbon::parse($booking->start_datetime)->format('H:i') }}
                                                    @if ($booking->end_datetime)
                                                        -
                                                        {{ \Carbon\Carbon::parse($booking->end_datetime)->format('H:i') }}
                                                    @endif
                                                </div>
                                            </td>

                                            {{-- Tutar --}}
                                            <td>
                                                @if (isset($booking->cost) && $booking->cost > 0)
                                                    <span class="badge bg-light text-dark border">
                                                        {{ number_format($booking->cost, 2) }} 
                                                    </span>
                                                @else
                                                    <span class="text-muted small">-</span>
                                                @endif
                                            </td>

                                            {{-- LEMLER STUNU --}}
                                            <td class="text-end">
                                                <div class="d-flex justify-content-end gap-1">

                                                    {{-- YETK KONTROL --}}
                                                    @php
                                                        // 1. Kullanc bu kaydn sahibi mi?
                                                        $isOwner = Auth::id() == $booking->user_id;

                                                        // 2. Kullanc ynetici yetkisine sahip mi?
                                                        // (Veritabanna 'manage_bookings' adyla kaydettiimiz yetkiyi kontrol ediyoruz)
                                                        $canManageAll =
                                                            Auth::user()->can('manage_bookings') ||
                                                            Auth::user()->can('is-global-manager');
                                                    @endphp

                                                    {{-- Eer Sahibi veya Ynetici ise Butonlar Gster --}}
                                                    @if ($isOwner || $canManageAll)
                                                        {{-- 24 SAAT KURALI KONTROL --}}
                                                        {{-- Ynetici de olsa dzenleyemez -- eklemek gerekirse: || $canManageAll --}}
                                                        @if ($booking->is_editable)
                                                            {{-- Dzenle Butonu --}}
                                                            <a href="{{ route('bookings.edit', $booking) }}"
                                                                class="btn btn-sm-modern text-primary" title="Dzenle">
                                                                <i class="fa-solid fa-pen"></i>
                                                            </a>

                                                            {{-- Sil Butonu --}}
                                                            <form action="{{ route('bookings.destroy', $booking) }}"
                                                                method="POST"
                                                                onsubmit="return confirm('Bu rezervasyonu silmek istediinize emin misiniz?');"
                                                                class="d-inline">
                                                                @csrf
                                                                @method('DELETE')
                                                                <button type="submit" class="btn btn-sm-modern text-danger"
                                                                    title="Sil">
                                                                    <i class="fa-solid fa-trash"></i>
                                                                </button>
                                                            </form>
                                                        @else
                                                            {{-- Sre Dolduysa Kilit konu Gster --}}
                                                            <span class="text-muted d-inline-flex align-items-center px-2"
                                                                title="24 saatten az kald iin ilem yaplamaz">
                                                                <i class="fa-solid fa-lock me-1"></i> Kilitli
                                                            </span>
                                                        @endif
                                                    @endif

                                                    {{-- Dosya Varsa Gster --}}
                                                    @if ($booking->getMedia('attachments')->count() > 0)
                                                        <div class="vr mx-1"></div>
                                                        <a href="{{ $booking->getMedia('attachments')->first()->getUrl() }}"
                                                            target="_blank" class="btn btn-sm-modern text-secondary"
                                                            title="Dosyay Grntle">
                                                            <i class="fa-solid fa-paperclip"></i>
                                                        </a>
                                                    @endif
                                                </div>
                                            </td>
                                        </tr>
                                    @endforeach
                                </tbody>
                            </table>
                        </div>
                    @endif
                </div>

                {{-- Pagination --}}
                <div class="d-flex justify-content-center mt-4">
                    {{ $bookings->links() }}
                </div>

            </div>
        </div>
    </div>
@endsection


----------------------------------------
DOSYA YOLU: resources\views\bookings\_form.blade.php
----------------------------------------

@if ($errors->any())
    <div class="alert alert-danger mb-3">
        <ul class="mb-0">
            @foreach ($errors->all() as $error)
                <li>{{ $error }}</li>
            @endforeach
        </ul>
    </div>
@endif

<div class="row">
    <div class="col-md-3 mb-3">
        <label for="type" class="form-label">Tip (*)</label>
        <select name="type" id="type" class="form-select" required>
            {{-- $booking deikeni 'edit' sayfasndan, 'null' ise 'create' sayfasndan gelir --}}
            <option value="flight" @if (old('type', $booking->type ?? '') == 'flight') selected @endif> Uu</option>
            <option value="bus" {{ old('type', $booking->type ?? '') == 'bus' ? 'selected' : '' }}>
                 Otobs
            </option>
            <option value="hotel" @if (old('type', $booking->type ?? '') == 'hotel') selected @endif> Otel</option>
            <option value="car_rental" @if (old('type', $booking->type ?? '') == 'car_rental') selected @endif> Ara Kiralama</option>
            <option value="train" @if (old('type', $booking->type ?? '') == 'train') selected @endif> Tren</option>
            <option value="other" @if (old('type', $booking->type ?? '') == 'other') selected @endif>Dier</option>
        </select>
    </div>
    <div class="col-md-5 mb-3">
        <label for="provider_name" class="form-label">Salayc (*)</label>
        <input type="text" name="provider_name" id="provider_name" class="form-control"
            value="{{ old('provider_name', $booking->provider_name ?? '') }}"
            placeholder="rn: Trk Hava Yollar, Hilton..." required>
    </div>
    <div class="col-md-4 mb-3">
        <label for="confirmation_code" class="form-label">Rezervasyon Kodu (TK Numaras vb.)</label>
        <input type="text" name="confirmation_code" id="confirmation_code" class="form-control"
            value="{{ old('confirmation_code', $booking->confirmation_code ?? '') }}" placeholder="rn: ABC123">
    </div>
</div>
@php
    // Balang tarihi iin deer belirleme
    $startValue = '';
    if (old('start_datetime')) {
        // Dorulama hatas varsa eski deeri koru
        $startValue = old('start_datetime');
    } elseif (isset($booking) && $booking->start_datetime) {
        // Booking varsa ve tarih doluysa, formatla
        $startValue = \Carbon\Carbon::parse($booking->start_datetime)->format('Y-m-d\TH:i');
    }

    // Biti tarihi iin deer belirleme
    $endValue = '';
    if (old('end_datetime')) {
        $endValue = old('end_datetime');
    } elseif (isset($booking) && $booking->end_datetime) {
        $endValue = \Carbon\Carbon::parse($booking->end_datetime)->format('Y-m-d\TH:i');
    }
@endphp
<div class="row">
    <div class="col-md-3 mb-3">
        <label for="start_datetime" class="form-label">Balang / Kalk (*)</label>
        <input type="datetime-local" name="start_datetime" class="form-control" value="{{ $startValue }}">
    </div>

    <div class="col-md-3 mb-3">
        <label for="end_datetime" class="form-label">Biti / Var</label>
        <input type="datetime-local" name="end_datetime" class="form-control" value="{{ $endValue }}">
    </div>
    <div class="col-md-4 mb-3">
        <label for="booking_files" class="form-label">Bilet / Voucher (PDF, JPG...)</label>
        <input type="file" name="booking_files[]" id="booking_files" class="form-control" multiple>
        <small class="form-text text-muted">Yeni dosya semek, eskilerin zerine eklenir (eskiler silinmez).</small>
    </div>
    {{-- Durum Seimi (Sadece Dzenleme Sayfasnda Grnsn) --}}
    @if (isset($booking))
        <div class="col-md-6">
            <label for="status" class="form-label fw-bold text-dark">
                <i class="fa-solid fa-flag me-1 text-primary"></i> Rezervasyon Durumu
            </label>
            <select name="status" id="status" class="form-select">
                <option value="planned" {{ old('status', $booking->status) == 'planned' ? 'selected' : '' }}> Planland
                </option>
                <option value="completed" {{ old('status', $booking->status) == 'completed' ? 'selected' : '' }}>
                    Gerekleti</option>
                <option value="cancelled" {{ old('status', $booking->status) == 'cancelled' ? 'selected' : '' }}> ptal
                    Edildi</option>
                <option value="postponed" {{ old('status', $booking->status) == 'postponed' ? 'selected' : '' }}>
                    Ertelendi</option>
            </select>
        </div>
    @endif
</div>
<div class="mb-3">
    <label for="notes" class="form-label">Notlar</label>
    <textarea name="notes" id="notes" class="form-control" rows="2"
        placeholder="rn: 1 adet kabin bagaj dahil...">{{ old('notes', $booking->notes ?? '') }}</textarea>
</div>


{{-- EER DZENLEME MODUNDAYSAK (Edit), MEVCUT DOSYALARI GSTER --}}
@if (isset($booking) && $booking->exists)
    <div class="mb-3">
        <h6><i class="fa-solid fa-paperclip me-2"></i> Mevcut Dosyalar</h6>
        @forelse($booking->getMedia('attachments') as $media)
            <div class="file-list-item"
                style="display: flex; align-items: center; justify-content: space-between; padding: 0.2rem 0.5rem; background-color: #f1f3f5; border-radius: 0.25rem; margin-bottom: 0.2rem;">
                <span>
                    <i class="fa-solid fa-file me-2"></i>{{ $media->file_name }} ({{ $media->human_readable_size }})
                </span>
                <a href="{{ $media->getUrl() }}" target="_blank"
                    class="btn btn-sm btn-outline-secondary rounded-pill px-2 py-0">Grntle</a>
                {{-- stee bal: Dosya silme butonu buraya eklenebilir --}}
            </div>
        @empty
            <p class="text-muted small">Bu rezervasyona ait dosya bulunmuyor.</p>
        @endforelse
    </div>
@endif


----------------------------------------
DOSYA YOLU: resources\views\business_units\index.blade.php
----------------------------------------

@extends('layouts.app')

@section('title', 'Fabrika ve Tesis Ynetimi')

@section('content')
    <div class="container py-4">
        <div class="row">
            {{-- SOL TARAF: LSTE --}}
            <div class="col-md-8">
                <div class="card shadow-sm border-0 mb-4">
                    <div class="card-header bg-white py-3">
                        <h5 class="mb-0 text-primary"><i class="fas fa-industry me-2"></i> letme Birimleri (Fabrikalar)</h5>
                    </div>
                    <div class="card-body p-0">
                        <div class="table-responsive">
                            <table class="table table-hover align-middle mb-0">
                                <thead class="bg-light">
                                    <tr>
                                        <th class="ps-4">Fabrika Ad</th>
                                        <th>Ksa Kod</th>
                                        <th>Durum</th>
                                        <th class="text-end pe-4">lem</th>
                                    </tr>
                                </thead>
                                <tbody>
                                    @forelse($businessUnits as $unit)
                                        <tr>
                                            <td class="ps-4 fw-bold text-dark">{{ $unit->name }}</td>
                                            <td><span class="badge bg-secondary">{{ $unit->code }}</span></td>
                                            <td>
                                                @if ($unit->is_active)
                                                    <span
                                                        class="badge bg-success bg-opacity-10 text-success px-2 py-1">Aktif</span>
                                                @else
                                                    <span class="badge bg-danger">Pasif</span>
                                                @endif
                                            </td>
                                            <td class="text-end pe-4">
                                                <form action="{{ route('business-units.destroy', $unit->id) }}"
                                                    method="POST" class="d-inline"
                                                    onsubmit="return confirm('Bu fabrikay silmek istediinize emin misiniz?');">
                                                    @csrf
                                                    @method('DELETE')
                                                    <button type="submit" class="btn btn-sm btn-outline-danger border-0">
                                                        <i class="fas fa-trash-alt"></i>
                                                    </button>
                                                </form>
                                            </td>
                                        </tr>
                                    @empty
                                        <tr>
                                            <td colspan="4" class="text-center py-4 text-muted">
                                                Henz fabrika tanmlanmam.
                                            </td>
                                        </tr>
                                    @endforelse
                                </tbody>
                            </table>
                        </div>
                    </div>
                </div>
            </div>

            {{-- SA TARAF: YEN EKLEME FORMU --}}
            <div class="col-md-4">
                <div class="card shadow-sm border-0 sticky-top"
                    style="top: 100px; background: linear-gradient(145deg, #ffffff, #f8f9fa);">
                    <div class="card-header bg-transparent border-0 pt-4 px-4 pb-0">
                        <h5 class="mb-0 fw-bold text-dark"> Yeni Fabrika Ekle</h5>
                        <p class="text-muted small mt-1">Coped, Preform, Levha vb.</p>
                    </div>
                    <div class="card-body p-4">
                        <form action="{{ route('business-units.store') }}" method="POST">
                            @csrf

                            <div class="mb-3">
                                <label class="form-label fw-bold text-secondary small">FABRKA ADI</label>
                                <input type="text" name="name" class="form-control form-control-lg"
                                    placeholder="rn: Levha Fabrikas" required>
                            </div>

                            <div class="mb-4">
                                <label class="form-label fw-bold text-secondary small">KISA KOD</label>
                                <input type="text" name="code" class="form-control" placeholder="rn: LVH">
                            </div>

                            <button type="submit" class="btn btn-primary w-100 py-2 fw-bold shadow-sm">
                                <i class="fas fa-plus-circle me-2"></i> Kaydet
                            </button>
                        </form>
                    </div>
                </div>
            </div>
        </div>
    </div>
@endsection


----------------------------------------
DOSYA YOLU: resources\views\components\dynamic-fields.blade.php
----------------------------------------

@props(['model', 'entity' => null])

@php
    // Sizin orijinal mantnz: Model snf adndan alanlar ekiyoruz.
    // rn: \App\Models\MaintenancePlan::getCustomFields() alr.
    $fields = collect();
    if (class_exists($model) && method_exists($model, 'getCustomFields')) {
        $fields = $model::getCustomFields();
    }
@endphp

@if ($fields->count() > 0)
    {{-- BALIK BLM (Bootstrap Stilinde) --}}
    <div class="mt-4 mb-3 pb-2 border-bottom">
        <h5 class="text-primary fw-bold d-flex align-items-center">
            <svg style="width: 20px; height: 20px;" class="me-2" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
                    d="M19 11H5m14 0a2 2 0 012 2v6a2 2 0 01-2 2H5a2 2 0 01-2-2v-6a2 2 0 012-2m14 0V9a2 2 0 00-2-2M5 11V9a2 2 0 012-2m0 0V5a2 2 0 012-2h6a2 2 0 012 2v2M7 7h10">
                </path>
            </svg>
            Ek Bilgiler
        </h5>
        <p class="text-muted small mb-0">Bu kayt iin tanmlanm zel alanlar.</p>
    </div>

    {{-- GRID SSTEM (Bootstrap row/col) --}}
    <div class="row g-3">
        @foreach ($fields as $field)
            @php
                // Form name: extras[plaka_no]
                $inputName = "extras[{$field->key}]";
                // Hata yakalama key'i: extras.plaka_no
$errorKey = "extras.{$field->key}";

// Deer ncelii: 1. Old input -> 2. DB'deki veri (Edit) -> 3. Bo
                // Sizin mantnz korunuyor:
                $value = old($errorKey, $entity ? $entity->extras[$field->key] ?? '' : '');
            @endphp

            <div class="col-md-6">
                <label for="{{ $field->key }}" class="form-label fw-bold text-secondary small text-uppercase">
                    {{ $field->label }}
                    @if ($field->is_required)
                        <span class="text-danger">*</span>
                    @endif
                </label>

                {{-- TPE GRE INPUT SEM (Bootstrap Snflar ile) --}}
                @switch($field->type)
                    {{-- SELECT --}}
                    @case('select')
                        <select name="{{ $inputName }}" id="{{ $field->key }}"
                            class="form-select @error($errorKey) is-invalid @enderror"
                            {{ $field->is_required ? 'required' : '' }}>
                            <option value="">Seiniz...</option>
                            @if (!empty($field->options))
                                @foreach ($field->options as $option)
                                    <option value="{{ $option }}" {{ $value == $option ? 'selected' : '' }}>
                                        {{ $option }}
                                    </option>
                                @endforeach
                            @endif
                        </select>
                    @break

                    {{-- TEXTAREA --}}
                    @case('textarea')
                        <textarea name="{{ $inputName }}" id="{{ $field->key }}" rows="3"
                            class="form-control @error($errorKey) is-invalid @enderror" placeholder="{{ $field->label }} giriniz..."
                            {{ $field->is_required ? 'required' : '' }}>{{ $value }}</textarea>
                    @break

                    {{-- BOOLEAN / CHECKBOX --}}
                    @case('boolean')
                    @case('checkbox')
                        <div class="form-check form-switch mt-2">
                            <input type="hidden" name="{{ $inputName }}" value="0">
                            <input type="checkbox" name="{{ $inputName }}" id="{{ $field->key }}" value="1"
                                class="form-check-input @error($errorKey) is-invalid @enderror"
                                {{ $value == '1' ? 'checked' : '' }}>
                            <label class="form-check-label text-dark" for="{{ $field->key }}">
                                {{ $field->label }} (Evet/Hayr)
                            </label>
                        </div>
                    @break

                    {{-- DEFAULT (text, number, date vb.) --}}

                    @default
                        <input type="{{ $field->type }}" name="{{ $inputName }}" id="{{ $field->key }}"
                            value="{{ $value }}" class="form-control @error($errorKey) is-invalid @enderror"
                            placeholder="{{ $field->label }}" {{ $field->is_required ? 'required' : '' }}>
                @endswitch

                {{-- HATA MESAJI --}}
                @error($errorKey)
                    <div class="invalid-feedback d-block">
                        {{ $message }}
                    </div>
                @enderror
            </div>
        @endforeach
    </div>
@endif


----------------------------------------
DOSYA YOLU: resources\views\customers\create.blade.php
----------------------------------------

@extends('layouts.app')

@section('title', 'Yeni Mteri Ekle')

@push('styles')
    <style>
        /* Ana ierik alanna animasyonlu arka plan */
        #app>main.py-4 {
            padding: 2.5rem 0 !important;
            min-height: calc(100vh - 72px);
            background: linear-gradient(-45deg, #dbe4ff, #fde2ff, #d9fcf7, #fff0d9);
            background-size: 400% 400%;
            animation: gradientWave 18s ease infinite;
        }

        @keyframes gradientWave {
            0% {
                background-position: 0% 50%;
            }

            50% {
                background-position: 100% 50%;
            }

            100% {
                background-position: 0% 50%;
            }
        }

        /* Modern kart tasarm */
        .customer-card {
            background-color: rgba(255, 255, 255, 0.95);
            border-radius: 1.25rem;
            box-shadow: 0 10px 40px rgba(0, 0, 0, 0.08);
            border: none;
            backdrop-filter: blur(10px);
            overflow: hidden;
        }

        .card-header {
            background: linear-gradient(135deg, rgba(102, 126, 234, 0.08) 0%, rgba(118, 75, 162, 0.08) 100%);
            border-bottom: 2px solid rgba(102, 126, 234, 0.1);
            padding: 1.5rem 2rem;
        }

        .card-header h4 {
            color: #2d3748;
            font-weight: 700;
            margin: 0;
            display: flex;
            align-items: center;
        }

        .card-header h4 i {
            background: linear-gradient(135deg, #667EEA 0%, #764BA2 100%);
            color: white;
            width: 40px;
            height: 40px;
            border-radius: 10px;
            display: flex;
            align-items: center;
            justify-content: center;
            margin-right: 1rem;
            box-shadow: 0 4px 15px rgba(102, 126, 234, 0.3);
        }

        .card-body {
            padding: 2rem;
        }

        /* Animasyonlu buton */
        .btn-animated-gradient {
            background: linear-gradient(-45deg, #667EEA, #F093FB, #4FD1C5, #FBD38D);
            background-size: 400% 400%;
            animation: gradientWave 18s ease infinite;
            border: none;
            color: white;
            font-weight: bold;
            padding: 0.75rem 2rem;
            border-radius: 0.75rem;
            transition: transform 0.2s ease-out, box-shadow 0.2s ease-out;
            box-shadow: 0 4px 15px rgba(102, 126, 234, 0.3);
        }

        .btn-animated-gradient:hover {
            color: white;
            transform: translateY(-2px);
            box-shadow: 0 6px 20px rgba(102, 126, 234, 0.4);
        }

        /* ptal butonu */
        .btn-secondary {
            background-color: #6c757d;
            border: none;
            color: white;
            font-weight: 600;
            padding: 0.75rem 2rem;
            border-radius: 0.75rem;
            transition: all 0.2s ease;
        }

        .btn-secondary:hover {
            background-color: #5a6268;
            transform: translateY(-2px);
            box-shadow: 0 4px 12px rgba(108, 117, 125, 0.3);
        }

        /* Form blm iin zel stil */
        .form-section {
            background-color: rgba(255, 255, 255, 0.6);
            border-radius: 1rem;
            padding: 1.5rem;
            margin-bottom: 1.5rem;
        }

        /* Alt buton alan */
        .action-buttons {
            background: linear-gradient(135deg, rgba(102, 126, 234, 0.05) 0%, rgba(118, 75, 162, 0.05) 100%);
            border-radius: 1rem;
            padding: 1.5rem;
            margin-top: 2rem;
            display: flex;
            justify-content: flex-end;
            gap: 1rem;
            flex-wrap: wrap;
        }

        @media (max-width: 576px) {
            .action-buttons {
                flex-direction: column;
            }

            .action-buttons .btn {
                width: 100%;
            }
        }
    </style>
@endpush

@section('content')
    <div class="container py-4">
        <div class="row justify-content-center">
            <div class="col-md-10 col-lg-9">
                <div class="customer-card">
                    <div class="card-header">
                        <h4>
                            <i class="fa-solid fa-user-plus"></i>
                            Yeni Mteri Bilgileri
                        </h4>
                    </div>

                    <div class="card-body">
                        <form action="{{ route('customers.store') }}" method="POST" autocomplete="off">
                            @csrf

                            <div class="form-section">
                                @include('customers._form', ['customer' => null])
                            </div>

                            <div class="action-buttons">
                                <a href="{{ route('customers.index') }}" class="btn btn-secondary">
                                    <i class="fa-solid fa-times me-2"></i>
                                    ptal
                                </a>
                                <button type="submit" class="btn btn-animated-gradient">
                                    <i class="fa-solid fa-save me-2"></i>
                                    Mteriyi Kaydet
                                </button>
                            </div>
                        </form>
                    </div>
                </div>

                <!-- Bilgilendirme Kart -->
                <div class="mt-4 p-4 rounded-3"
                    style="background: rgba(255, 255, 255, 0.7); border: 2px dashed rgba(102, 126, 234, 0.3);">
                    <div class="d-flex align-items-start">
                        <i class="fa-solid fa-lightbulb me-3 mt-1" style="color: #F59E0B; font-size: 1.5rem;"></i>
                        <div>
                            <h6 class="fw-bold mb-2" style="color: #2d3748;">pucu</h6>
                            <p class="mb-0 text-muted small">
                                Mteri kaydn tamamladktan sonra mteri detay sayfasndan makine, test sonucu ve ikayet
                                bilgileri ekleyebilirsiniz.
                            </p>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
@endsection


----------------------------------------
DOSYA YOLU: resources\views\customers\edit.blade.php
----------------------------------------

@extends('layouts.app')

@section('title', 'Mteri Bilgilerini Dzenle')

@push('styles')
    <style>
        /* Ana ierik alanna animasyonlu arka plan */
        #app>main.py-4 {
            padding: 2.5rem 0 !important;
            min-height: calc(100vh - 72px);
            background: linear-gradient(-45deg, #dbe4ff, #fde2ff, #d9fcf7, #fff0d9);
            background-size: 400% 400%;
            animation: gradientWave 18s ease infinite;
        }

        @keyframes gradientWave {
            0% {
                background-position: 0% 50%;
            }

            50% {
                background-position: 100% 50%;
            }

            100% {
                background-position: 0% 50%;
            }
        }

        /* Modern kart tasarm */
        .customer-card {
            background-color: rgba(255, 255, 255, 0.95);
            border-radius: 1.25rem;
            box-shadow: 0 10px 40px rgba(0, 0, 0, 0.08);
            border: none;
            backdrop-filter: blur(10px);
            overflow: hidden;
        }

        .card-header {
            background: linear-gradient(135deg, rgba(102, 126, 234, 0.08) 0%, rgba(118, 75, 162, 0.08) 100%);
            border-bottom: 2px solid rgba(102, 126, 234, 0.1);
            padding: 1.5rem 2rem;
        }

        .card-header h4 {
            color: #2d3748;
            font-weight: 700;
            margin: 0;
            display: flex;
            align-items: center;
        }

        .card-header h4 i {
            background: linear-gradient(135deg, #667EEA 0%, #764BA2 100%);
            color: white;
            width: 40px;
            height: 40px;
            border-radius: 10px;
            display: flex;
            align-items: center;
            justify-content: center;
            margin-right: 1rem;
            box-shadow: 0 4px 15px rgba(102, 126, 234, 0.3);
        }

        .card-body {
            padding: 2rem;
        }

        /* Mteri ad badge */
        .customer-name-badge {
            display: inline-block;
            background: linear-gradient(135deg, #667EEA 0%, #764BA2 100%);
            color: white;
            padding: 0.5rem 1.5rem;
            border-radius: 2rem;
            font-weight: 600;
            font-size: 1rem;
            margin-bottom: 1.5rem;
            box-shadow: 0 4px 15px rgba(102, 126, 234, 0.3);
        }

        /* Animasyonlu buton */
        .btn-animated-gradient {
            background: linear-gradient(-45deg, #667EEA, #F093FB, #4FD1C5, #FBD38D);
            background-size: 400% 400%;
            animation: gradientWave 18s ease infinite;
            border: none;
            color: white;
            font-weight: bold;
            padding: 0.75rem 2rem;
            border-radius: 0.75rem;
            transition: transform 0.2s ease-out, box-shadow 0.2s ease-out;
            box-shadow: 0 4px 15px rgba(102, 126, 234, 0.3);
        }

        .btn-animated-gradient:hover {
            color: white;
            transform: translateY(-2px);
            box-shadow: 0 6px 20px rgba(102, 126, 234, 0.4);
        }

        /* ptal butonu */
        .btn-outline-secondary {
            border: 2px solid #6c757d;
            background-color: transparent;
            color: #6c757d;
            font-weight: 600;
            padding: 0.75rem 2rem;
            border-radius: 0.75rem;
            transition: all 0.2s ease;
        }

        .btn-outline-secondary:hover {
            background-color: #6c757d;
            border-color: #6c757d;
            color: white;
            transform: translateY(-2px);
            box-shadow: 0 4px 12px rgba(108, 117, 125, 0.3);
        }

        /* Form blm */
        .form-section {
            background-color: rgba(255, 255, 255, 0.6);
            border-radius: 1rem;
            padding: 1.5rem;
            margin-bottom: 1.5rem;
        }

        /* Alt buton alan */
        .action-buttons {
            background: linear-gradient(135deg, rgba(102, 126, 234, 0.05) 0%, rgba(118, 75, 162, 0.05) 100%);
            border-radius: 1rem;
            padding: 1.5rem;
            margin-top: 2rem;
            display: flex;
            justify-content: flex-end;
            gap: 1rem;
            flex-wrap: wrap;
        }

        /* Uyar kutusu */
        .edit-warning {
            background: linear-gradient(135deg, rgba(245, 158, 11, 0.1) 0%, rgba(251, 191, 36, 0.1) 100%);
            border-left: 4px solid #F59E0B;
            border-radius: 0.75rem;
            padding: 1rem 1.25rem;
            margin-bottom: 1.5rem;
        }

        .edit-warning i {
            color: #F59E0B;
            font-size: 1.25rem;
        }

        @media (max-width: 576px) {
            .action-buttons {
                flex-direction: column;
            }

            .action-buttons .btn {
                width: 100%;
            }

            .customer-name-badge {
                font-size: 0.9rem;
                padding: 0.4rem 1rem;
            }
        }
    </style>
@endpush

@section('content')
    <div class="container py-4">
        <div class="row justify-content-center">
            <div class="col-md-10 col-lg-9">
                <div class="customer-card">
                    <div class="card-header">
                        <h4>
                            <i class="fa-solid fa-pen-to-square"></i>
                            Mteri Bilgilerini Dzenle
                        </h4>
                    </div>

                    <div class="card-body">
                        <!-- Dzenlenen Mteri Bilgisi -->
                        <div class="text-center">
                            <span class="customer-name-badge">
                                <i class="fa-solid fa-building me-2"></i>
                                {{ $customer->name }}
                            </span>
                        </div>

                        <!-- Uyar Mesaj -->
                        <div class="edit-warning d-flex align-items-start">
                            <i class="fa-solid fa-info-circle me-3 mt-1"></i>
                            <div>
                                <strong class="d-block mb-1">Dzenleme Modu</strong>
                                <small class="text-muted">
                                    Bu mteriye ait mevcut bilgileri gncelliyorsunuz. Deiiklikleri kaydetmek iin formu
                                    doldurup "Deiiklikleri Kaydet" butonuna tklayn.
                                </small>
                            </div>
                        </div>

                        <form action="{{ route('customers.update', $customer) }}" method="POST" autocomplete="off">
                            @csrf
                            @method('PUT')

                            <div class="form-section">
                                @include('customers._form', ['customer' => $customer])
                            </div>

                            <div class="action-buttons">
                                <a href="{{ route('customers.show', $customer) }}" class="btn btn-outline-secondary">
                                    <i class="fa-solid fa-times me-2"></i>
                                    ptal
                                </a>
                                <button type="submit" class="btn btn-animated-gradient">
                                    <i class="fa-solid fa-check me-2"></i>
                                    Deiiklikleri Kaydet
                                </button>
                            </div>
                        </form>
                    </div>
                </div>

                <!-- Hzl Eriim Kart -->
                <div class="mt-4 p-4 rounded-3"
                    style="background: rgba(255, 255, 255, 0.7); border: 2px solid rgba(102, 126, 234, 0.2);">
                    <div class="row align-items-center">
                        <div class="col-md-8">
                            <h6 class="fw-bold mb-2" style="color: #2d3748;">
                                <i class="fa-solid fa-rocket me-2" style="color: #667EEA;"></i>
                                Hzl Eriim
                            </h6>
                            <p class="mb-0 text-muted small">
                                Mteri detay sayfasndan makine, test sonucu ve ikayet bilgilerini ynetebilirsiniz.
                            </p>
                        </div>
                        <div class="col-md-4 text-md-end mt-3 mt-md-0">
                            <a href="{{ route('customers.show', $customer) }}"
                                class="btn btn-outline-primary btn-sm rounded-pill px-4">
                                <i class="fa-solid fa-eye me-2"></i>
                                Detaylara Git
                            </a>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
@endsection


----------------------------------------
DOSYA YOLU: resources\views\customers\index.blade.php
----------------------------------------

@extends('layouts.app')

@section('title', 'Mteri Ynetimi')

@push('styles')
    <style>
        /* Ana ierik alanna animasyonlu arka plan */
        #app>main.py-4 {
            padding: 2.5rem 0 !important;
            min-height: calc(100vh - 72px);
            background: linear-gradient(-45deg, #dbe4ff, #fde2ff, #d9fcf7, #fff0d9);
            background-size: 400% 400%;
            animation: gradientWave 18s ease infinite;
        }

        @keyframes gradientWave {
            0% {
                background-position: 0% 50%;
            }

            50% {
                background-position: 100% 50%;
            }

            100% {
                background-position: 0% 50%;
            }
        }

        /* Modern kart tasarm */
        .customer-card {
            background-color: rgba(255, 255, 255, 0.95);
            border-radius: 1rem;
            box-shadow: 0 10px 40px rgba(0, 0, 0, 0.08);
            border: none;
            transition: all 0.3s ease;
            backdrop-filter: blur(10px);
        }

        .customer-card:hover {
            box-shadow: 0 15px 50px rgba(0, 0, 0, 0.12);
        }

        /* Tablo hover efekti */
        .table-hover tbody tr {
            transition: all 0.2s ease;
        }

        .table-hover tbody tr:hover {
            background-color: rgba(102, 126, 234, 0.08) !important;
            transform: scale(1.01);
            box-shadow: 0 2px 8px rgba(0, 0, 0, 0.05);
        }

        /* Modern butonlar */
        .btn-primary-gradient {
            background: linear-gradient(135deg, #667EEA 0%, #764BA2 100%);
            color: white;
            border: none;
            font-weight: 600;
            transition: all 0.3s ease;
            box-shadow: 0 4px 15px rgba(102, 126, 234, 0.3);
        }

        .btn-primary-gradient:hover {
            transform: translateY(-2px);
            box-shadow: 0 6px 20px rgba(102, 126, 234, 0.4);
            color: white;
        }

        .btn-outline-primary {
            border-color: #667EEA;
            color: #667EEA;
            font-weight: 500;
            transition: all 0.3s ease;
        }

        .btn-outline-primary:hover {
            background-color: #667EEA;
            border-color: #667EEA;
            color: #fff;
            transform: translateY(-2px);
            box-shadow: 0 4px 12px rgba(102, 126, 234, 0.3);
        }

        .btn-outline-secondary {
            border-color: #6c757d;
            color: #6c757d;
            font-weight: 500;
            transition: all 0.3s ease;
        }

        .btn-outline-secondary:hover {
            background-color: #6c757d;
            border-color: #6c757d;
            color: #fff;
            transform: translateY(-2px);
            box-shadow: 0 4px 12px rgba(108, 117, 125, 0.3);
        }

        /* Arama kutusu */
        .search-input {
            border: 2px solid rgba(102, 126, 234, 0.2);
            border-radius: 0.75rem;
            padding: 0.75rem 1rem 0.75rem 3rem;
            transition: all 0.3s ease;
            background-color: rgba(255, 255, 255, 0.9);
        }

        .search-input:focus {
            border-color: #667EEA;
            box-shadow: 0 0 0 0.2rem rgba(102, 126, 234, 0.15);
            background-color: white;
        }

        .search-icon {
            position: absolute;
            left: 1rem;
            top: 50%;
            transform: translateY(-50%);
            color: #667EEA;
        }

        /* Baar mesaj animasyonu */
        .success-alert {
            animation: slideInDown 0.5s ease-out;
            background: linear-gradient(135deg, #10b981 0%, #059669 100%);
            color: white;
            border: none;
            border-radius: 0.75rem;
            box-shadow: 0 4px 15px rgba(16, 185, 129, 0.3);
        }

        @keyframes slideInDown {
            from {
                opacity: 0;
                transform: translateY(-20px);
            }

            to {
                opacity: 1;
                transform: translateY(0);
            }
        }

        /* Tablo styling */
        .table thead th {
            background-color: rgba(102, 126, 234, 0.08);
            border-bottom: 2px solid #667EEA;
            font-weight: 600;
            color: #444;
            text-transform: uppercase;
            font-size: 0.85rem;
            letter-spacing: 0.5px;
        }

        .table tbody td {
            vertical-align: middle;
            padding: 1rem 0.75rem;
        }

        /* Sayfa numaralar */
        .pagination .page-link {
            color: #667EEA;
            border: 1px solid rgba(102, 126, 234, 0.2);
            border-radius: 0.5rem;
            margin: 0 0.25rem;
            transition: all 0.2s ease;
        }

        .pagination .page-link:hover {
            background-color: #667EEA;
            color: white;
            transform: translateY(-2px);
        }

        .pagination .page-item.active .page-link {
            background-color: #667EEA;
            border-color: #667EEA;
        }

        /* Responsive iyiletirmeleri */
        @media (max-width: 768px) {
            .table {
                font-size: 0.9rem;
            }

            .btn {
                padding: 0.4rem 0.8rem;
                font-size: 0.85rem;
            }
        }
    </style>
@endpush

@section('content')
    <div class="container py-4">
        <div class="row justify-content-center">
            <div class="col-lg-12">
                <div class="customer-card">
                    <!-- Header Section -->
                    <div class="card-header bg-transparent border-0 px-4 pt-4 pb-3">
                        <div class="d-flex justify-content-between align-items-center flex-wrap gap-3">
                            <div>
                                <h2 class="mb-2 fw-bold" style="color: #2d3748;">
                                    <i class="fa-solid fa-users me-2" style="color: #667EEA;"></i>
                                    Mteri Listesi
                                </h2>
                                <p class="text-muted mb-0">Tm mterilerinizi grntleyin ve ynetin</p>
                            </div>
                            <a href="{{ route('customers.create') }}"
                                class="btn btn-primary-gradient rounded-pill px-4 py-2">
                                <i class="fa-solid fa-plus me-2"></i>
                                Yeni Mteri Ekle
                            </a>
                        </div>
                    </div>

                    <div class="card-body px-4">
                        <!-- Arama Formu -->
                        <form method="GET" action="{{ route('customers.index') }}" class="mb-4" autocomplete="off">
                            <div class="position-relative">
                                <i class="fa-solid fa-search search-icon"></i>
                                <input type="text" name="search" class="form-control search-input"
                                    placeholder="Mteri ad, email veya telefona gre ara..." value="{{ $search ?? '' }}">
                            </div>
                        </form>

                        <!-- Baar Mesaj -->
                        @if (session('success'))
                            <div class="alert success-alert d-flex align-items-center mb-4" role="alert">
                                <i class="fa-solid fa-circle-check me-3 fs-4"></i>
                                <div>
                                    <strong>Baarl!</strong> {{ session('success') }}
                                </div>
                            </div>
                        @endif

                        <!-- Mteri Tablosu -->
                        <div class="table-responsive">
                            <table class="table table-hover align-middle mb-0">
                                <thead>
                                    <tr>
                                        <th scope="col">
                                            <i class="fa-solid fa-building me-2"></i>Mteri Ad
                                        </th>
                                        <th scope="col">
                                            <i class="fa-solid fa-envelope me-2"></i>Email
                                        </th>
                                        <th scope="col">
                                            <i class="fa-solid fa-phone me-2"></i>Telefon
                                        </th>
                                        <th scope="col">
                                            <i class="fa-solid fa-user me-2"></i>lgili Kii
                                        </th>
                                        <th scope="col" class="text-end">
                                            <i class="fa-solid fa-cog me-2"></i>Eylemler
                                        </th>
                                    </tr>
                                </thead>
                                <tbody>
                                    @forelse ($customers as $customer)
                                        <tr>
                                            <td>
                                                <strong class="text-dark">{{ $customer->name }}</strong>
                                            </td>
                                            <td>
                                                <span class="text-muted">{{ $customer->email ?? '-' }}</span>
                                            </td>
                                            <td>
                                                <span class="text-muted">{{ $customer->phone ?? '-' }}</span>
                                            </td>
                                            <td>
                                                <span class="text-muted">{{ $customer->contact_person ?? '-' }}</span>
                                            </td>
                                            <td class="text-end">
                                                <div class="btn-group" role="group">
                                                    <a href="{{ route('customers.show', $customer) }}"
                                                        class="btn btn-sm btn-outline-primary rounded-pill px-3 me-2"
                                                        title="Grntle">
                                                        <i class="fa-solid fa-eye me-1"></i>
                                                        Mteri Detaylarn Grntle
                                                    </a>
                                                    <a href="{{ route('customers.edit', $customer) }}"
                                                        class="btn btn-sm btn-outline-secondary rounded-pill px-3"
                                                        title="Dzenle">
                                                        <i class="fa-solid fa-pen me-1"></i>
                                                        Dzenle
                                                    </a>
                                                </div>
                                            </td>
                                        </tr>
                                    @empty
                                        <tr>
                                            <td colspan="5" class="text-center py-5">
                                                <div class="text-muted">
                                                    <i class="fa-solid fa-inbox fa-3x mb-3 d-block"
                                                        style="opacity: 0.3;"></i>
                                                    <p class="mb-0 fs-5">Kaytl mteri bulunamad.</p>
                                                    <p class="small">Yeni bir mteri ekleyerek balayn.</p>
                                                </div>
                                            </td>
                                        </tr>
                                    @endforelse
                                </tbody>
                            </table>
                        </div>

                        <!-- Sayfalama -->
                        @if ($customers->hasPages())
                            <div class="mt-4 d-flex justify-content-center">
                                {{ $customers->appends(['search' => $search])->links() }}
                            </div>
                        @endif
                    </div>
                </div>
            </div>
        </div>
    </div>
@endsection


----------------------------------------
DOSYA YOLU: resources\views\customers\show.blade.php
----------------------------------------

@extends('layouts.app')

@section('title', $customer->name)

@push('styles')
    <style>
        /* Ana ierik alanna animasyonlu arka plan */
        #app>main.py-4 {
            padding: 2.5rem 0 !important;
            min-height: calc(100vh - 72px);
            background: linear-gradient(-45deg, #dbe4ff, #fde2ff, #d9fcf7, #fff0d9);
            background-size: 400% 400%;
            animation: gradientWave 18s ease infinite;
        }

        @keyframes gradientWave {
            0% {
                background-position: 0% 50%;
            }

            50% {
                background-position: 100% 50%;
            }

            100% {
                background-position: 0% 50%;
            }
        }

        /* Modern kart tasarm */
        .customer-card {
            background-color: rgba(255, 255, 255, 0.95);
            border-radius: 1rem;
            box-shadow: 0 10px 40px rgba(0, 0, 0, 0.08);
            border: none;
            backdrop-filter: blur(10px);
        }

        /* Sekme tasarm */
        .nav-tabs {
            border-bottom: 2px solid rgba(102, 126, 234, 0.1);
            gap: 0.5rem;
        }

        .nav-tabs .nav-link {
            border: none;
            border-radius: 0.75rem;
            color: #6c757d;
            font-weight: 600;
            padding: 0.75rem 1.5rem;
            transition: all 0.3s ease;
            background-color: transparent;
        }

        .nav-tabs .nav-link:hover {
            background-color: rgba(102, 126, 234, 0.08);
            color: #667EEA;
        }

        .nav-tabs .nav-link.active {
            background: linear-gradient(135deg, #667EEA 0%, #764BA2 100%);
            color: white !important;
            box-shadow: 0 4px 15px rgba(102, 126, 234, 0.3);
        }

        .nav-tabs .nav-link i {
            margin-right: 0.5rem;
        }

        /* Sekme ierik alan */
        .tab-content {
            background-color: rgba(255, 255, 255, 0.6);
            border-radius: 0.75rem;
            padding: 1.5rem;
            margin-top: 1rem;
        }

        /* Detay listesi */
        .detail-list dt {
            font-weight: 600;
            color: #495057;
            margin-bottom: 0.5rem;
        }

        .detail-list dd {
            color: #212529;
            font-weight: 400;
            margin-bottom: 1rem;
            padding-left: 1rem;
        }

        /* Form stilleri */
        .quick-add-form {
            background-color: rgba(255, 255, 255, 0.7);
            border-radius: 0.75rem;
            padding: 1.5rem;
            margin-bottom: 1.5rem;
            border: 2px dashed rgba(102, 126, 234, 0.2);
        }

        .quick-add-form .form-label {
            font-weight: 600;
            color: #495057;
            margin-bottom: 0.5rem;
        }

        .quick-add-form .form-control,
        .quick-add-form .form-select {
            border: 2px solid rgba(102, 126, 234, 0.2);
            border-radius: 0.5rem;
            transition: all 0.3s ease;
            background-color: rgba(255, 255, 255, 0.9);
        }

        .quick-add-form .form-control:focus,
        .quick-add-form .form-select:focus {
            border-color: #667EEA;
            box-shadow: 0 0 0 0.2rem rgba(102, 126, 234, 0.15);
        }

        /* Tablo stilleri */
        .table {
            background-color: transparent;
        }

        .table thead th {
            background-color: rgba(102, 126, 234, 0.08);
            border-bottom: 2px solid #667EEA;
            font-weight: 600;
            color: #444;
            text-transform: uppercase;
            font-size: 0.85rem;
        }

        .table-striped tbody tr:nth-of-type(odd) {
            background-color: rgba(0, 0, 0, 0.02);
        }

        .table-hover tbody tr:hover {
            background-color: rgba(102, 126, 234, 0.08);
        }

        /* Alert stilleri */
        .alert {
            border-radius: 0.75rem;
            border: none;
            padding: 1rem 1.25rem;
            margin-bottom: 1rem;
        }

        .alert-success {
            background: linear-gradient(135deg, #10b981 0%, #059669 100%);
            color: white;
        }

        .alert-danger {
            background: linear-gradient(135deg, #ef4444 0%, #dc2626 100%);
            color: white;
        }

        .alert-warning {
            background: linear-gradient(135deg, #f59e0b 0%, #d97706 100%);
            color: white;
        }

        .alert-secondary {
            background-color: rgba(108, 117, 125, 0.1);
            color: #495057;
        }

        /* Dosya listesi */
        .file-list-item {
            background-color: rgba(255, 255, 255, 0.8);
            border: 1px solid rgba(102, 126, 234, 0.2);
            border-radius: 0.5rem;
            padding: 0.75rem 1rem;
            margin-bottom: 0.5rem;
            display: flex;
            justify-content: space-between;
            align-items: center;
            transition: all 0.2s ease;
        }

        .file-list-item:hover {
            background-color: rgba(102, 126, 234, 0.05);
            border-color: #667EEA;
        }

        /* Animasyonlu buton */
        .btn-animated-gradient {
            background: linear-gradient(-45deg, #667EEA, #F093FB, #4FD1C5, #FBD38D);
            background-size: 400% 400%;
            animation: gradientWave 18s ease infinite;
            border: none;
            color: white;
            font-weight: bold;
            transition: transform 0.2s ease-out, box-shadow 0.2s ease-out;
            box-shadow: 0 4px 15px rgba(102, 126, 234, 0.3);
        }

        .btn-animated-gradient:hover {
            color: white;
            transform: translateY(-2px);
            box-shadow: 0 6px 20px rgba(102, 126, 234, 0.4);
        }

        /* Balk stilleri */
        h5 {
            color: #2d3748;
            font-weight: 700;
            margin-bottom: 1rem;
            padding-bottom: 0.5rem;
            border-bottom: 2px solid rgba(102, 126, 234, 0.2);
        }
    </style>
@endpush

@section('content')
    <div class="container py-4">
        <div class="row justify-content-center">
            <div class="col-lg-12">
                <div class="customer-card">
                    <!-- Header -->
                    <div class="card-header bg-transparent border-0 px-4 pt-4 pb-3">
                        <div class="d-flex justify-content-between align-items-start flex-wrap gap-3">
                            <div>
                                <h2 class="mb-2 fw-bold" style="color: #2d3748;">
                                    <i class="fa-solid fa-building me-2" style="color: #667EEA;"></i>
                                    {{ $customer->name }}
                                </h2>
                                <p class="text-muted mb-0">Mteri Detaylar ve lemler</p>
                            </div>
                            <div class="d-flex gap-2 flex-wrap">
                                <a href="{{ route('customers.edit', $customer) }}"
                                    class="btn btn-animated-gradient rounded-pill px-4">
                                    <i class="fa-solid fa-pen me-2"></i>
                                    Bilgileri Dzenle
                                </a>
                                <form action="{{ route('customers.destroy', $customer) }}" method="POST" class="d-inline"
                                    autocomplete="off"
                                    onsubmit="return confirm('Bu mteriyi silmek istediinizden emin misiniz?');">
                                    @csrf
                                    @method('DELETE')
                                    <button type="submit" class="btn btn-animated-gradient rounded-pill px-4">
                                        <i class="fa-solid fa-trash-alt me-2"></i>
                                        Kayd Sil
                                    </button>
                                </form>
                            </div>
                        </div>
                    </div>

                    <div class="card-body px-4">
                        <!-- Mesajlar -->
                        @if (session('success'))
                            <div class="alert alert-success d-flex align-items-center">
                                <i class="fa-solid fa-circle-check me-3 fs-4"></i>
                                <div>{{ session('success') }}</div>
                            </div>
                        @endif

                        @if (session('error'))
                            <div class="alert alert-danger d-flex align-items-center">
                                <i class="fa-solid fa-circle-xmark me-3 fs-4"></i>
                                <div>{{ session('error') }}</div>
                            </div>
                        @endif

                        @if ($errors->any())
                            <div class="alert alert-danger">
                                <strong><i class="fa-solid fa-triangle-exclamation me-2"></i>Kayt eklenirken bir hata
                                    olutu:</strong>
                                <ul class="mb-0 mt-2">
                                    @foreach ($errors->all() as $error)
                                        <li>{{ $error }}</li>
                                    @endforeach
                                </ul>
                            </div>
                        @endif

                        <!-- Sekmeler -->
                        <ul class="nav nav-tabs mt-4" id="customerTab" role="tablist">
                            <li class="nav-item" role="presentation">
                                <button class="nav-link active" id="details-tab" data-bs-toggle="tab"
                                    data-bs-target="#details" type="button" role="tab">
                                    <i class="fa-solid fa-user"></i>Detaylar
                                </button>
                            </li>
                            <li class="nav-item" role="presentation">
                                <button class="nav-link" id="machines-tab" data-bs-toggle="tab" data-bs-target="#machines"
                                    type="button" role="tab">
                                    <i class="fa-solid fa-industry"></i>Makineler ({{ $customer->machines->count() }})
                                </button>
                            </li>
                            <li class="nav-item" role="presentation">
                                <button class="nav-link" id="tests-tab" data-bs-toggle="tab" data-bs-target="#tests"
                                    type="button" role="tab">
                                    <i class="fa-solid fa-vial"></i>Test Sonular ({{ $customer->testResults->count() }})
                                </button>
                            </li>
                            <li class="nav-item" role="presentation">
                                <button class="nav-link" id="complaints-tab" data-bs-toggle="tab"
                                    data-bs-target="#complaints" type="button" role="tab">
                                    <i class="fa-solid fa-exclamation-triangle"></i>ikayetler
                                    ({{ $customer->complaints->count() }})
                                </button>
                            </li>
                            <li class="nav-item" role="presentation">
                                <button class="nav-link" id="visits-tab" data-bs-toggle="tab" data-bs-target="#visits"
                                    type="button" role="tab">
                                    <i class="fa-solid fa-calendar-days"></i>Ziyaretler ({{ $customer->visits->count() }})
                                </button>
                            </li>
                            <li class="nav-item" role="presentation">
                                <button class="nav-link" id="activities-tab" data-bs-toggle="tab"
                                    data-bs-target="#activities" type="button" role="tab">
                                    <i class="fas fa-history me-1"></i> letiim Gemii
                                    ({{ $customer->activities->count() }})
                                </button>
                            </li>
                            <li class="nav-item" role="presentation">
                                <button class="nav-link" id="logistics-tab" data-bs-toggle="tab" data-bs-target="#logistics"
                                    type="button" role="tab">
                                    <i class="fas fa-truck me-1"></i> Lojistik Hareketleri
                                    ({{ $customer->vehicleAssignments->count() }})
                                </button>
                            </li>
                        </ul>

                        <!-- Sekme erikleri -->
                        <div class="tab-content" id="customerTabContent">
                            <!-- Detaylar Sekmesi -->
                            <div class="tab-pane fade show active" id="details" role="tabpanel">
                                <h5><i class="fa-solid fa-address-card me-2"></i>Mteri letiim Bilgileri</h5>
                                <dl class="row detail-list mt-3">
                                    <dt class="col-sm-3"><i class="fa-solid fa-user me-2 text-primary"></i>lgili Kii
                                    </dt>
                                    <dd class="col-sm-9">{{ $customer->contact_person ?? '-' }}</dd>

                                    <dt class="col-sm-3"><i class="fa-solid fa-envelope me-2 text-primary"></i>Email</dt>
                                    <dd class="col-sm-9">{{ $customer->email ?? '-' }}</dd>

                                    <dt class="col-sm-3"><i class="fa-solid fa-phone me-2 text-primary"></i>Telefon</dt>
                                    <dd class="col-sm-9">{{ $customer->phone ?? '-' }}</dd>

                                    <dt class="col-sm-3"><i class="fa-solid fa-location-dot me-2 text-primary"></i>Adres
                                    </dt>
                                    <dd class="col-sm-9">{{ $customer->address ?? '-' }}</dd>
                                </dl>
                            </div>

                            <!-- Makineler Sekmesi -->
                            <div class="tab-pane fade" id="machines" role="tabpanel">
                                <h5><i class="fa-solid fa-plus-circle me-2"></i>Hzl Makine Ekle</h5>
                                <form action="{{ route('customers.machines.store', $customer) }}" method="POST"
                                    autocomplete="off" class="quick-add-form">
                                    @csrf
                                    <div class="row">
                                        <div class="col-md-4 mb-3">
                                            <label for="model" class="form-label">Model (*)</label>
                                            <input type="text" name="model" class="form-control" required>
                                        </div>
                                        <div class="col-md-4 mb-3">
                                            <label for="serial_number" class="form-label">Seri No</label>
                                            <input type="text" name="serial_number" class="form-control">
                                        </div>
                                        <div class="col-md-4 mb-3">
                                            <label for="installation_date" class="form-label">Kurulum Tarihi</label>
                                            <input type="date" name="installation_date" class="form-control">
                                        </div>
                                    </div>
                                    <button type="submit" class="btn btn-animated-gradient rounded-pill px-4">
                                        <i class="fa-solid fa-plus me-2"></i>Makineyi Ekle
                                    </button>
                                </form>

                                <h5><i class="fa-solid fa-list me-2"></i>Kaytl Makineler</h5>
                                <div class="table-responsive">
                                    <table class="table table-sm table-striped table-hover">
                                        <thead>
                                            <tr>
                                                <th>Model</th>
                                                <th>Seri No</th>
                                                <th>Kurulum Tarihi</th>
                                            </tr>
                                        </thead>
                                        <tbody>
                                            @forelse ($customer->machines as $machine)
                                                <tr>
                                                    <td><strong>{{ $machine->model }}</strong></td>
                                                    <td>{{ $machine->serial_number ?? '-' }}</td>
                                                    <td>{{ $machine->installation_date ? \Carbon\Carbon::parse($machine->installation_date)->format('d/m/Y') : '-' }}
                                                    </td>
                                                </tr>
                                            @empty
                                                <tr>
                                                    <td colspan="3" class="text-center text-muted py-4">
                                                        Bu mteriye ait makine kayd bulunamad.
                                                    </td>
                                                </tr>
                                            @endforelse
                                        </tbody>
                                    </table>
                                </div>
                            </div>

                            <!-- Test Sonular Sekmesi -->
                            <div class="tab-pane fade" id="tests" role="tabpanel">
                                <h5><i class="fa-solid fa-upload me-2"></i>Hzl Test Sonucu Ykle</h5>
                                <form action="{{ route('customers.test-results.store', $customer) }}" method="POST"
                                    autocomplete="off" class="quick-add-form" enctype="multipart/form-data">
                                    @csrf
                                    <div class="row">
                                        <div class="col-md-4 mb-3">
                                            <label for="test_name" class="form-label">Test Ad (*)</label>
                                            <input type="text" name="test_name" class="form-control" required>
                                        </div>
                                        <div class="col-md-4 mb-3">
                                            <label for="test_date" class="form-label">Test Tarihi (*)</label>
                                            <input type="date" name="test_date" class="form-control" required>
                                        </div>
                                        <div class="col-md-4 mb-3">
                                            <label for="test_files" class="form-label">Dosya(lar)</label>
                                            <input type="file" name="test_files[]" class="form-control" multiple>
                                        </div>
                                    </div>
                                    <div class="mb-3">
                                        <label for="summary" class="form-label">zet</label>
                                        <textarea name="summary" class="form-control" rows="2"></textarea>
                                    </div>
                                    <button type="submit" class="btn btn-animated-gradient rounded-pill px-4">
                                        <i class="fa-solid fa-plus me-2"></i>Test Sonucunu Ekle
                                    </button>
                                </form>

                                <h5><i class="fa-solid fa-list me-2"></i>Kaytl Test Sonular</h5>
                                <div class="table-responsive">
                                    <table class="table table-sm table-striped table-hover">
                                        <thead>
                                            <tr>
                                                <th>Test Ad</th>
                                                <th>Tarih</th>
                                                <th>zet</th>
                                                <th>Dosyalar</th>
                                            </tr>
                                        </thead>
                                        <tbody>
                                            @forelse ($customer->testResults as $result)
                                                <tr>
                                                    <td><strong>{{ $result->test_name }}</strong></td>
                                                    <td>{{ \Carbon\Carbon::parse($result->test_date)->format('d/m/Y') }}
                                                    </td>
                                                    <td>{{ $result->summary ?? '-' }}</td>
                                                    <td>
                                                        @foreach ($result->getMedia('test_reports') as $media)
                                                            <div class="file-list-item">
                                                                <span>
                                                                    <i class="fa-solid fa-file-pdf me-2"></i>
                                                                    {{ $media->file_name }}
                                                                </span>
                                                                <a href="{{ $media->getUrl() }}" target="_blank"
                                                                    class="btn btn-sm btn-outline-primary rounded-pill px-3">
                                                                    <i class="fa-solid fa-eye me-1"></i>Grntle
                                                                </a>
                                                            </div>
                                                        @endforeach
                                                    </td>
                                                </tr>
                                            @empty
                                                <tr>
                                                    <td colspan="4" class="text-center text-muted py-4">
                                                        Bu mteriye ait test sonucu bulunamad.
                                                    </td>
                                                </tr>
                                            @endforelse
                                        </tbody>
                                    </table>
                                </div>
                            </div>

                            <!-- ikayetler Sekmesi -->
                            <div class="tab-pane fade" id="complaints" role="tabpanel">
                                <h5><i class="fa-solid fa-plus-circle me-2"></i>Hzl ikayet Kayd Ekle</h5>
                                <form action="{{ route('customers.complaints.store', $customer) }}" method="POST"
                                    autocomplete="off" class="quick-add-form" enctype="multipart/form-data">
                                    @csrf
                                    <div class="row">
                                        <div class="col-md-8 mb-3">
                                            <label for="title" class="form-label">ikayet Bal (*)</label>
                                            <input type="text" name="title" class="form-control" required>
                                        </div>
                                        <div class="col-md-4 mb-3">
                                            <label for="status" class="form-label">Durum (*)</label>
                                            <select name="status" class="form-select" required>
                                                <option value="open">Ak</option>
                                                <option value="in_progress">lemde</option>
                                                <option value="resolved">zld</option>
                                            </select>
                                        </div>
                                    </div>
                                    <div class="mb-3">
                                        <label for="description" class="form-label">Detayl Aklama (*)</label>
                                        <textarea name="description" class="form-control" rows="3" required></textarea>
                                    </div>
                                    <div class="mb-3">
                                        <label for="complaint_files" class="form-label">Kant Dosyalar</label>
                                        <input type="file" name="complaint_files[]" class="form-control" multiple>
                                    </div>
                                    <button type="submit" class="btn btn-animated-gradient rounded-pill px-4">
                                        <i class="fa-solid fa-plus me-2"></i>ikayeti Ekle
                                    </button>
                                </form>

                                <h5><i class="fa-solid fa-list me-2"></i>Kaytl ikayetler</h5>
                                @forelse ($customer->complaints as $complaint)
                                    <div
                                        class="alert {{ $complaint->status == 'resolved' ? 'alert-success' : 'alert-warning' }}">
                                        <div class="d-flex justify-content-between align-items-start">
                                            <div class="flex-grow-1">
                                                <h6 class="mb-2">
                                                    <i class="fa-solid fa-exclamation-circle me-2"></i>
                                                    <strong>{{ $complaint->title }}</strong>
                                                </h6>
                                                <p class="mb-2"><small>Durum:
                                                        <strong>{{ $complaint->status }}</strong></small></p>
                                                <p class="mb-3">{{ $complaint->description }}</p>
                                                @foreach ($complaint->getMedia('complaint_attachments') as $media)
                                                    <div class="file-list-item">
                                                        <span>
                                                            <i
                                                                class="fa-solid fa-paperclip me-2"></i>{{ $media->file_name }}
                                                        </span>
                                                        <a href="{{ $media->getUrl() }}" target="_blank"
                                                            class="btn btn-sm btn-outline-secondary rounded-pill px-3">
                                                            <i class="fa-solid fa-eye me-1"></i>Grntle
                                                        </a>
                                                    </div>
                                                @endforeach
                                            </div>
                                        </div>
                                    </div>
                                @empty
                                    <div class="alert alert-secondary text-center">
                                        <i class="fa-solid fa-inbox fa-2x mb-3 d-block" style="opacity: 0.3;"></i>
                                        Bu mteriye ait ikayet kayd bulunamad.
                                    </div>
                                @endforelse
                            </div>

                            <!-- Ziyaretler Sekmesi -->
                            <div class="tab-pane fade" id="visits" role="tabpanel">
                                <h5><i class="fa-solid fa-history me-2"></i>Ziyaret Gemii</h5>
                                <div class="table-responsive">
                                    <table class="table table-sm table-striped table-hover">
                                        <thead>
                                            <tr>
                                                <th>Etkinlik/Ziyaret</th>
                                                <th>Tarih</th>
                                                <th>Ziyaret Amac</th>
                                                <th>Seyahat Program</th>
                                            </tr>
                                        </thead>
                                        <tbody>
                                            @forelse ($customer->visits as $visit)
                                                <tr>
                                                    <td><strong>{{ $visit->event->title ?? 'N/A' }}</strong></td>
                                                    <td>{{ $visit->event ? \Carbon\Carbon::parse($visit->event->start_datetime)->format('d/m/Y H:i') : '-' }}
                                                    </td>
                                                    <td>{{ $visit->visit_purpose ?? '-' }}</td>
                                                    <td>{{ $visit->travel->name ?? 'Bamsz Ziyaret' }}</td>
                                                </tr>
                                            @empty
                                                <tr>
                                                    <td colspan="4" class="text-center text-muted py-4">
                                                        Bu mteriye ait ziyaret kayd bulunamad.
                                                    </td>
                                                </tr>
                                            @endforelse
                                        </tbody>
                                    </table>
                                </div>
                            </div>
                            {{-- 1. AKTVTE GEM TAB'I --}}
                            <div class="tab-pane fade" id="activities" role="tabpanel">
                                <div class="row mt-4">
                                    {{-- Sol Taraf: Yeni Giri Formu --}}
                                    <div class="col-md-4">
                                        <div class="card border-0 shadow-sm" style="background: #f8f9fa;">
                                            <div class="card-body">
                                                <h6 class="fw-bold mb-3 text-primary"><i
                                                        class="fas fa-plus-circle me-1"></i> Yeni lem Gir</h6>
                                                <form action="{{ route('customers.activities.store', $customer->id) }}"
                                                    method="POST">
                                                    @csrf
                                                    <div class="mb-3">
                                                        <label class="form-label small fw-bold text-muted">lem
                                                            Tipi</label>
                                                        <select name="type" class="form-select">
                                                            <option value="phone"> Telefon Grmesi</option>
                                                            <option value="meeting"> Yz Yze Toplant</option>
                                                            <option value="email"> E-Posta</option>
                                                            <option value="visit"> Mteri Ziyareti</option>
                                                            <option value="note"> Genel Not</option>
                                                        </select>
                                                    </div>
                                                    <div class="mb-3">
                                                        <label class="form-label small fw-bold text-muted">Tarih &
                                                            Saat</label>
                                                        <input type="datetime-local" name="activity_date"
                                                            class="form-control"
                                                            value="{{ now()->format('Y-m-d\TH:i') }}">
                                                    </div>
                                                    <div class="mb-3">
                                                        <label class="form-label small fw-bold text-muted">Detaylar</label>
                                                        <textarea name="description" class="form-control" rows="4" placeholder="Neler konuuldu? Sonu ne?" required></textarea>
                                                    </div>
                                                    <div class="d-grid">
                                                        <button type="submit" class="btn btn-primary text-white"
                                                            style="background: linear-gradient(135deg, #667EEA, #764BA2); border:none;">
                                                            Kaydet
                                                        </button>
                                                    </div>
                                                </form>
                                            </div>
                                        </div>
                                    </div>

                                    {{-- Sa Taraf: Zaman Tneli (Timeline) --}}
                                    <div class="col-md-8">
                                        <h6 class="fw-bold mb-3 text-secondary">Gemi Hareketler</h6>
                                        <div class="timeline">
                                            @forelse($customer->activities as $activity)
                                                <div class="card mb-3 border-0 shadow-sm">
                                                    <div class="card-body position-relative">
                                                        {{-- Sol izgi Rengi Tipe Gre Deiir --}}
                                                        <div class="position-absolute top-0 start-0 bottom-0 rounded-start"
                                                            style="width: 5px; background: 
                                 {{ $activity->type == 'phone'
                                     ? '#3b82f6'
                                     : ($activity->type == 'meeting'
                                         ? '#10b981'
                                         : ($activity->type == 'email'
                                             ? '#f59e0b'
                                             : '#6b7280')) }};">
                                                        </div>

                                                        <div
                                                            class="d-flex justify-content-between align-items-center mb-2 ps-2">
                                                            <div>
                                                                <span class="badge bg-light text-dark border me-2">
                                                                    @if ($activity->type == 'phone')
                                                                        <i class="fas fa-phone text-primary"></i> Telefon
                                                                    @elseif($activity->type == 'meeting')
                                                                        <i class="fas fa-handshake text-success"></i>
                                                                        Toplant
                                                                    @elseif($activity->type == 'email')
                                                                        <i class="fas fa-envelope text-warning"></i>
                                                                        E-Posta
                                                                    @elseif($activity->type == 'visit')
                                                                        <i class="fas fa-building text-info"></i> Ziyaret
                                                                    @else
                                                                        <i class="fas fa-sticky-note text-secondary"></i>
                                                                        Not
                                                                    @endif
                                                                </span>
                                                                <span
                                                                    class="text-muted small">{{ $activity->activity_date->format('d.m.Y H:i') }}</span>
                                                            </div>
                                                            <small class="text-muted fst-italic">
                                                                <i class="fas fa-user-circle me-1"></i>
                                                                {{ $activity->user->name }}
                                                            </small>
                                                        </div>
                                                        <div class="ps-2 text-dark" style="white-space: pre-line;">
                                                            {{ $activity->description }}
                                                        </div>
                                                    </div>
                                                </div>
                                            @empty
                                                <div class="alert alert-light text-center border border-dashed p-4">
                                                    <i class="fas fa-history fa-2x text-muted mb-2"></i>
                                                    <p class="mb-0 text-muted">Henz bu mteriyle ilgili kaydedilmi bir
                                                        aktivite yok.</p>
                                                </div>
                                            @endforelse
                                        </div>
                                    </div>
                                </div>
                            </div>

                            {{-- 2. LOJSTK GEM TAB'I --}}
                            <div class="tab-pane fade" id="logistics" role="tabpanel">
                                <div class="card border-0 shadow-sm mt-4">
                                    <div class="card-body p-0">
                                        <div class="table-responsive">
                                            <table class="table table-hover align-middle mb-0">
                                                <thead class="bg-light">
                                                    <tr>
                                                        <th class="ps-4 py-3">Tarih</th>
                                                        <th>Grev Tanm</th>
                                                        <th>Ara</th>
                                                        <th>Sorumlu</th>
                                                        <th>Durum</th>
                                                    </tr>
                                                </thead>
                                                <tbody>
                                                    @forelse($customer->vehicleAssignments as $assignment)
                                                        <tr>
                                                            <td class="ps-4">
                                                                {{ $assignment->start_time->format('d.m.Y H:i') }}</td>
                                                            <td class="fw-semibold">{{ $assignment->title }}</td>
                                                            <td>
                                                                @if ($assignment->vehicle)
                                                                    @if ($assignment->isLogistics())
                                                                        <i class="fas fa-truck text-primary me-1"></i>
                                                                    @else
                                                                        <i class="fas fa-car text-info me-1"></i>
                                                                    @endif
                                                                    {{ $assignment->vehicle->plate_number }}
                                                                @else
                                                                    <span class="text-muted">-</span>
                                                                @endif
                                                            </td>
                                                            <td>
                                                                {{ $assignment->responsible->name ?? $assignment->responsible->users_count . ' Kiilik Takm' }}
                                                            </td>
                                                            <td>
                                                                @if ($assignment->status == 'completed')
                                                                    <span
                                                                        class="badge bg-success bg-opacity-10 text-success px-3 py-2 rounded-pill">Tamamland</span>
                                                                @elseif($assignment->status == 'cancelled')
                                                                    <span
                                                                        class="badge bg-danger bg-opacity-10 text-danger px-3 py-2 rounded-pill">ptal</span>
                                                                @else
                                                                    <span
                                                                        class="badge bg-warning bg-opacity-10 text-warning px-3 py-2 rounded-pill">Srete</span>
                                                                @endif
                                                            </td>
                                                        </tr>
                                                    @empty
                                                        <tr>
                                                            <td colspan="5" class="text-center py-5 text-muted">
                                                                <i class="fas fa-truck-loading fa-2x mb-3 opacity-50"></i>
                                                                <p class="mb-0">Bu mteriye yaplm bir ara
                                                                    grevi/sevkiyat bulunamad.</p>
                                                            </td>
                                                        </tr>
                                                    @endforelse
                                                </tbody>
                                            </table>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
@endsection


----------------------------------------
DOSYA YOLU: resources\views\customers\_form.blade.php
----------------------------------------

@if ($errors->any())
    <div class="alert alert-danger d-flex align-items-start" role="alert">
        <i class="fa-solid fa-triangle-exclamation me-3 fs-4 mt-1"></i>
        <div class="flex-grow-1">
            <strong>Ltfen aadaki hatalar dzeltin:</strong>
            <ul class="mb-0 mt-2">
                @foreach ($errors->all() as $error)
                    <li>{{ $error }}</li>
                @endforeach
            </ul>
        </div>
    </div>
@endif

<div class="row g-3">
    <div class="col-md-6">
        <div class="form-floating mb-3">
            <input type="text" class="form-control @error('name') is-invalid @enderror" id="name" name="name"
                value="{{ old('name', $customer->name ?? '') }}" placeholder="Mteri Unvan" autocomplete="off"
                required>
            <label for="name">
                <i class="fa-solid fa-building me-2 text-primary"></i>Mteri Unvan <span class="text-danger">*</span>
            </label>
            @error('name')
                <div class="invalid-feedback">{{ $message }}</div>
            @enderror
        </div>
    </div>

    <div class="col-md-6">
        <div class="form-floating mb-3">
            <input type="text" class="form-control" id="contact_person" name="contact_person"
                value="{{ old('contact_person', $customer->contact_person ?? '') }}" placeholder="lgili Kii"
                autocomplete="off">
            <label for="contact_person">
                <i class="fa-solid fa-user me-2 text-primary"></i>lgili Kii
            </label>
        </div>
    </div>
</div>

<div class="row g-3">
    <div class="col-md-6">
        <div class="form-floating mb-3">
            <input type="email" class="form-control @error('email') is-invalid @enderror" id="email"
                name="email" value="{{ old('email', $customer->email ?? '') }}" placeholder="Email Adresi"
                autocomplete="off">
            <label for="email">
                <i class="fa-solid fa-envelope me-2 text-primary"></i>Email Adresi
            </label>
            @error('email')
                <div class="invalid-feedback">{{ $message }}</div>
            @enderror
        </div>
    </div>

    <div class="col-md-6">
        <div class="form-floating mb-3">
            <input type="tel" class="form-control" id="phone" name="phone"
                value="{{ old('phone', $customer->phone ?? '') }}" placeholder="Telefon Numaras" autocomplete="off">
            <label for="phone">
                <i class="fa-solid fa-phone me-2 text-primary"></i>Telefon Numaras
            </label>
        </div>
    </div>
</div>

<div class="form-floating mb-3">
    <textarea class="form-control" id="address" name="address" placeholder="Adres" style="height: 120px"
        autocomplete="off">{{ old('address', $customer->address ?? '') }}</textarea>
    <label for="address">
        <i class="fa-solid fa-location-dot me-2 text-primary"></i>Adres
    </label>
</div>

<div class="alert alert-info border-0 d-flex align-items-center" role="alert">
    <i class="fa-solid fa-info-circle me-3 fs-4"></i>
    <div>
        <strong>Not:</strong> (<span class="text-danger">*</span>) iareti olan alanlar zorunludur.
    </div>
</div>

<style>
    .form-floating>.form-control {
        border: 2px solid rgba(102, 126, 234, 0.2);
        border-radius: 0.75rem;
        padding: 1rem 0.75rem;
        transition: all 0.3s ease;
        background-color: rgba(255, 255, 255, 0.9);
    }

    .form-floating>.form-control:focus {
        border-color: #667EEA;
        box-shadow: 0 0 0 0.2rem rgba(102, 126, 234, 0.15);
        background-color: white;
    }

    .form-floating>label {
        padding: 1rem 0.75rem;
        color: #6c757d;
        font-weight: 500;
    }

    .form-floating>.form-control:focus~label,
    .form-floating>.form-control:not(:placeholder-shown)~label {
        opacity: 0.65;
        transform: scale(0.85) translateY(-0.5rem) translateX(0.15rem);
    }

    .alert-info {
        background: linear-gradient(135deg, rgba(102, 126, 234, 0.1) 0%, rgba(118, 75, 162, 0.1) 100%);
        border-radius: 0.75rem;
        padding: 1rem;
    }

    .alert-danger {
        background: linear-gradient(135deg, #ef4444 0%, #dc2626 100%);
        color: white;
        border-radius: 0.75rem;
        padding: 1rem;
        border: none;
    }

    .alert-danger ul {
        padding-left: 1.5rem;
    }

    .invalid-feedback {
        display: block;
        margin-top: 0.5rem;
        font-size: 0.875rem;
    }

    .form-control.is-invalid {
        border-color: #dc3545;
    }

    .form-control.is-invalid:focus {
        border-color: #dc3545;
        box-shadow: 0 0 0 0.2rem rgba(220, 53, 69, 0.25);
    }
</style>


----------------------------------------
DOSYA YOLU: resources\views\departments\create.blade.php
----------------------------------------

@extends('layouts.app')
@section('title', 'Yeni Departman Ekle')

@section('content')
    <div class="container py-4">
        <div class="row justify-content-center">
            <div class="col-md-8">
                <div class="card customer-card shadow-sm border">
                    <div class="card-header bg-white border-0 px-4 pt-4">
                        <h4 class="mb-0">Yeni Departman Olutur</h4>
                    </div>
                    <div class="card-body px-4">
                        <form action="{{ route('departments.store') }}" method="POST">
                            @csrf
                            @include('departments._form', ['department' => null])
                            <div class="text-end mt-3">
                                <a href="{{ route('departments.index') }}"
                                    class="btn btn-outline-secondary rounded-pill px-4 me-2">ptal</a>
                                <button type="submit" class="btn btn-primary-gradient rounded-pill px-4"
                                    style="background: linear-gradient(to right, #667EEA, #5a6ed0); color: white;">
                                    Departman Kaydet
                                </button>
                            </div>
                        </form>
                    </div>
                </div>
            </div>
        </div>
    </div>
@endsection


----------------------------------------
DOSYA YOLU: resources\views\departments\edit.blade.php
----------------------------------------

@extends('layouts.app')
@section('title', 'Departman Dzenle')

@section('content')
    <div class="container py-4">
        <div class="row justify-content-center">
            <div class="col-md-8">
                <div class="card customer-card shadow-sm border">
                    <div class="card-header bg-white border-0 px-4 pt-4">
                        <h4 class="mb-0">"{{ $department->name }}" Dzenle</h4>
                    </div>
                    <div class="card-body px-4">
                        <form action="{{ route('departments.update', $department) }}" method="POST">
                            @csrf
                            @method('PUT')
                            @php
                                // Ana sistem departmanlarnn slug'lar
$coreSlugs = ['lojistik', 'uretim', 'hizmet'];
                                $isCore = in_array($department->slug, $coreSlugs);
                            @endphp
                            @include('departments._form', [
                                'department' => $department,
                                'isCore' => $isCore,
                            ])
                            <div class="text-end mt-3">
                                <a href="{{ route('departments.index') }}"
                                    class="btn btn-outline-secondary rounded-pill px-4 me-2">ptal</a>
                                <button type="submit" class="btn btn-primary-gradient rounded-pill px-4"
                                    style="background: linear-gradient(to right, #667EEA, #5a6ed0); color: white;">
                                    Gncelle
                                </button>
                            </div>
                        </form>
                    </div>
                </div>
            </div>
        </div>
    </div>
@endsection


----------------------------------------
DOSYA YOLU: resources\views\departments\index.blade.php
----------------------------------------

@extends('layouts.app')
@section('title', 'Departman Ynetimi')

@push('styles')
    <style>
        .customer-card {
            /* Customer'daki stili kullanalm */
            background-color: #ffffff;
            border-radius: 0.75rem;
            box-shadow: 0 4px 12px rgba(0, 0, 0, 0.05);
            border: 1px solid rgba(255, 255, 255, 0.3);
        }

        .btn-primary-gradient {
            background: linear-gradient(to right, #667EEA, #5a6ed0);
            color: white;
            border: none;
            font-weight: 500;
        }
    </style>
@endpush

@section('content')
    <div class="container py-4">
        <div class="row justify-content-center">
            <div class="col-lg-10">
                <div class="d-flex justify-content-between align-items-center mb-3">
                    <h4 class="mb-0">Departman Ynetimi</h4>
                    <a href="{{ route('departments.create') }}" class="btn btn-primary-gradient rounded-pill px-4">
                        <i class="fa-solid fa-plus me-1"></i> Yeni Departman Ekle
                    </a>
                </div>

                @if (session('success'))
                    <div class="alert alert-success">{{ session('success') }}</div>
                @endif
                @if (session('error'))
                    <div class="alert alert-danger">{{ session('error') }}</div>
                @endif

                <div class="customer-card shadow-sm">
                    <div class="card-body px-4">
                        <div class="table-responsive">
                            <table class="table table-hover align-middle">
                                <thead class="table-light">
                                    <tr>
                                        <th scope="col">ID</th>
                                        <th scope="col">Departman Ad</th>
                                        <th scope="col">Ksa Kod (slug)</th>
                                        <th scope="col">Kullanc Says</th>
                                        <th scope="col" class="text-end">Eylemler</th>
                                    </tr>
                                </thead>
                                <tbody>
                                    @forelse ($departments as $department)
                                        <tr>
                                            <td>{{ $department->id }}</td>
                                            <td><strong>{{ $department->name }}</strong></td>
                                            <td><code>{{ $department->slug }}</code></td>
                                            <td>{{ $department->users_count }}</td>
                                            <td class="text-end">
                                                <a href="{{ route('departments.edit', $department) }}"
                                                    class="btn btn-sm btn-outline-secondary rounded-pill px-3">
                                                    <i class="fa-solid fa-pen me-1"></i> Dzenle
                                                </a>

                                                <form action="{{ route('departments.destroy', $department) }}"
                                                    method="POST" class="d-inline"
                                                    onsubmit="return confirm('Bu departman silmek istediinizden emin misiniz? Bu departmandaki kullanclar birimsiz kalacaktr (Eer izin verilmise).');">
                                                    @csrf
                                                    @method('DELETE')
                                                    <button type="submit"
                                                        class="btn btn-sm btn-outline-danger rounded-pill px-3"
                                                        {{-- Gvenlik: Admin olmayan veya varsaylan 3 departman silmeyi engelle --}}
                                                        @if (in_array($department->slug, ['lojistik', 'uretim', 'hizmet'])) disabled 
                                                            title="Ana departmanlar sistemden silinemez." @endif>
                                                        <i class="fa-solid fa-trash-alt me-1"></i> Sil
                                                    </button>
                                                </form>
                                            </td>
                                        </tr>
                                    @empty
                                        <tr>
                                            <td colspan="5" class="text-center text-muted py-4">
                                                Kaytl departman bulunamad.
                                            </td>
                                        </tr>
                                    @endforelse
                                </tbody>
                            </table>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
@endsection


----------------------------------------
DOSYA YOLU: resources\views\departments\_form.blade.php
----------------------------------------

@if ($errors->any())
    <div class="alert alert-danger">
        <ul class="mb-0">
            @foreach ($errors->all() as $error)
                <li>{{ $error }}</li>
            @endforeach
        </ul>
    </div>
@endif

<div class="mb-3">
    <label for="name" class="form-label">Departman Ad (*)</label>
    <input type="text" class="form-control" id="name" name="name"
        value="{{ old('name', $department->name ?? '') }}" placeholder="rn: Lojistik Departman" required>
</div>
<div class="mb-3">
    <label for="slug" class="form-label">Ksa Kod (slug) (*)</label>
    <input type="text" class="form-control" id="slug" name="slug"
        value="{{ old('slug', $department->slug ?? '') }}" placeholder="rn: lojistik (Boluksuz, kk harf)"
        @if (isset($isCore) && $isCore) readonly 
               style="background-color: #e9ecef;"
               title="Ana sistem departmanlarnn ksa kodu deitirilemez." @endif
        required>
    <small class="form-text text-muted">Bu kod, sistemdeki yetkilendirmeler iin kullanlr (rn: 'lojistik', 'uretim').
        Deitirilmesi nerilmez.</small>
</div>


----------------------------------------
DOSYA YOLU: resources\views\layouts\app.blade.php
----------------------------------------

<!doctype html>
<html lang="{{ str_replace('_', '-', app()->getLocale()) }}">

<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <meta name="csrf-token" content="{{ csrf_token() }}">
    <title>@yield('title') | {{ config('app.name') }}</title>
    <link rel="icon" href="{{ asset('koksan.ico?v=13') }}" type="image/ico">
    <link rel="dns-prefetch" href="//fonts.bunny.net">
    <link href="https://fonts.bunny.net/css?family=Nunito:400,600,700,800" rel="stylesheet">
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.2/css/all.min.css"
        integrity="sha512-SnH5WK+bZxgPHs44uWIX+LLJAJ9/2PkPKZ5QiAj6Ta86w+fsb2TkcmfRyVX3pBnMFcV7oQPJkl9QevSCWr3W6A=="
        crossorigin="anonymous" referrerpolicy="no-referrer" />

    {{-- SweetAlert2 CSS --}}
    <link href="https://cdn.jsdelivr.net/npm/@sweetalert2/theme-bootstrap-4/bootstrap-4.css" rel="stylesheet">

    <style>
        :root {
            --primary-gradient: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            --navbar-bg: rgba(248, 252, 255, 0.1);
            --navbar-shadow: 0 2px 10px rgba(102, 126, 234, 0.15);
            --hover-bg: rgba(102, 126, 234, 0.1);
            --transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
        }

        html,
        body {
            height: 100%;
            margin: 0 !important;
            padding: 0 !important;
            font-family: 'Nunito', sans-serif;
        }

        body {
            background: linear-gradient(180deg, #f0f5ff 0%, #e6f7f9 50%, #e6e9fa 100%);
            background-attachment: fixed;
            background-size: cover;
            overflow-x: hidden;
        }

        /* --- Navbar Temel Yaps --- */
        nav.navbar {
            position: fixed !important;
            top: 0 !important;
            left: 0 !important;
            right: 0 !important;
            width: 100% !important;
            z-index: 1000 !important;
            margin: 0 !important;
            padding: 0.5rem 0 !important;
            /* Dikey padding azaltld */
            background: var(--navbar-bg) !important;
            backdrop-filter: blur(10px);
            -webkit-backdrop-filter: blur(10px);
            box-shadow: var(--navbar-shadow);
            transition: var(--transition);
        }

        nav.navbar.scrolled {
            padding: 0.4rem 0 !important;
            box-shadow: 0 4px 25px rgba(102, 126, 234, 0.2);
        }

        .navbar-brand {
            font-size: 1rem;
            font-weight: 800;
            background: var(--primary-gradient);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
            transition: var(--transition);
            white-space: nowrap;
        }

        .navbar-brand img {
            height: 30px;
            transition: var(--transition);
        }

        /* --- Esnek Nav Linkleri --- */
        .nav-link {
            font-weight: 600;
            font-size: 0.85rem;
            /* Font hafif kltld */
            color: #4a5568 !important;
            padding: 0.4rem 0.6rem !important;
            /* Yatay boluk daraltld */
            border-radius: 8px;
            transition: var(--transition);
            position: relative;
            white-space: normal;
            /* Yaknlatrnca metnin aa kaymasna izin verir */
            display: flex;
            align-items: center;
            gap: 0.4rem;
            text-align: center;
        }

        .nav-link:hover {
            background: var(--hover-bg);
            color: #667eea !important;
            transform: translateY(-2px);
        }

        /* --- Dropdown Men --- */
        .dropdown-menu {
            border: none;
            box-shadow: 0 10px 40px rgba(0, 0, 0, 0.1);
            border-radius: 12px;
            padding: 0.5rem;
            margin-top: 0.5rem;
            animation: slideDown 0.3s ease-out;
        }

        /* --- Kullanc Badge ve Dropdown --- */
        #navbarDropdown {
            background: var(--primary-gradient);
            color: white !important;
            padding: 0.45rem 1rem !important;
            border-radius: 25px;
            font-size: 0.8rem;
            max-width: 150px;
            /* Zoom'da tamay nlemek iin snrlandrld */
            display: inline-flex;
            align-items: center;
            justify-content: center;
        }

        /* --- Responsive Dzenlemeler (Zoom ve Mobil Dostu) --- */
        @media (max-width: 991px) {

            /* Mobil men aldnda ekran kaplamamas iin scroll eklendi */
            .navbar-collapse {
                max-height: 80vh;
                overflow-y: auto;
                background: rgba(255, 255, 255, 0.98);
                padding: 1rem;
                border-radius: 15px;
                margin-top: 10px;
                box-shadow: 0 10px 25px rgba(0, 0, 0, 0.1);
            }

            .nav-item {
                width: 100%;
                margin-bottom: 5px;
            }

            .nav-link {
                justify-content: flex-start;
                padding: 0.75rem 1rem !important;
            }

            #navbarDropdown {
                max-width: 100% !important;
                /* Mobilde tam genilik */
                width: 100%;
            }

            main {
                margin-top: 80px !important;
                /* Mobil navbar yksekliine gre ayar */
            }
        }

        /* --- Main Content --- */
        #app {
            min-height: 100vh;
            display: flex;
            flex-direction: column;
        }

        main {
            flex: 1;
            padding: 0 !important;
            margin: 6rem 0 0 0 !important;
        }

        /* --- Loader ve Dier Animasyonlar --- */
        #global-loader {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            z-index: 99999;
            background: #f0f5ff;
            display: flex;
            justify-content: center;
            align-items: center;
            flex-direction: column;
            transition: opacity 0.6s ease-out, visibility 0.6s ease-out;
        }

        #global-loader.loaded {
            opacity: 0;
            visibility: hidden;
        }

        .loader-spinner {
            width: 60px;
            height: 60px;
            border: 4px solid rgba(102, 126, 234, 0.2);
            border-left-color: #667eea;
            border-radius: 50%;
            animation: spin 1s linear infinite;
        }

        @keyframes spin {
            0% {
                transform: rotate(0deg);
            }

            100% {
                transform: rotate(360deg);
            }
        }

        @keyframes slideDown {
            from {
                opacity: 0;
                transform: translateY(-10px);
            }

            to {
                opacity: 1;
                transform: translateY(0);
            }
        }
    </style>
    @stack('styles')
</head>

<body>
    <div id="global-loader">
        <div class="loader-spinner"></div>
        <div class="loader-text">Ykleniyor...</div>
    </div>
    <div id="app">
        <nav class="navbar navbar-expand-xl navbar-light">
            <div class="container-fluid px-lg-4">
                <a class="navbar-brand d-flex align-items-center" href="{{ route('welcome') }}">
                    <img src="{{ asset('koksan-logo.png') }}" alt="Kksan Logo" class="me-2">
                    <strong>Kksan  Sreleri Portal</strong>
                </a>
                <button class="navbar-toggler" type="button" data-bs-toggle="collapse"
                    data-bs-target="#navbarSupportedContent">
                    <span class="navbar-toggler-icon"></span>
                </button>
                <div class="collapse navbar-collapse" id="navbarSupportedContent">
                    <ul class="navbar-nav ms-auto align-items-lg-center">
                        @guest
                            @if (Route::has('login'))
                                <li class="nav-item"><a class="nav-link" href="{{ route('login') }}"><i
                                            class="fa-solid fa-right-to-bracket"></i><span>Giri Yap</span></a></li>
                            @endif
                        @else
                            {{-- GLOBAL USER DEKEN --}}
                            @php $user = Auth::user(); @endphp

                            <li class="nav-item"><a class="nav-link" href="{{ route('general.calendar') }}"><i
                                        class="fa-solid fa-calendar-days" style="color: #667EEA;"></i><span>Genel
                                        Takvim</span></a></li>
                            @auth <li class="nav-item"><a class="nav-link" href="{{ route('home') }}"><i
                                            class="fa-solid fa-calendar-check"
                                        style="color: #4FD1C5;"></i><span>Takvimim</span></a></li> @endauth

                            {{-- GREVLER & ATAMALAR (Herkes grebilir - Kstlama Yok) --}}
                            <li class="nav-item dropdown">
                                <a class="nav-link dropdown-toggle" href="#" role="button"
                                    data-bs-toggle="dropdown"><i class="fa-solid fa-car-side"
                                        style="color: #FBD38D;"></i><span>Grevler & Atamalar</span></a>
                                <ul class="dropdown-menu dropdown-menu-end">
                                    <li><a class="dropdown-item" href="{{ route('service.assignments.create') }}"><i
                                                class="fa-solid fa-plus" style="color: #A78BFA;"></i> Yeni Grev Ekle</a>
                                    </li>
                                    <li><a class="dropdown-item" href="{{ route('service.assignments.index') }}"><i
                                                class="fa-solid fa-list" style="color: #667EEA;"></i> Aral Grev
                                            Listesi</a>
                                    </li>
                                    <li><a class="dropdown-item" href="{{ route('service.general-tasks.index') }}"><i
                                                class="fa-solid fa-bars-progress" style="color: #435fdb;"></i> Arasz Grev
                                            Listesi</a></li>
                                    <li>
                                        <hr class="dropdown-divider">
                                    </li>
                                    <li><a class="dropdown-item" href="{{ route('service.assignments.created_by_me') }}"><i
                                                class="fa-solid fa-cloud-arrow-up" style="color: #659ef4;"></i> Atadm
                                            Grevler</a></li>
                                    <li><a class="dropdown-item" href="{{ route('my-assignments.index') }}"><i
                                                class="fa-solid fa-cloud-arrow-down" style="color: #4258bb;"></i> Bana
                                            Atanan Grevler</a></li>
                                    <li>
                                        <hr class="dropdown-divider">
                                    </li>
                                    <li><a class="dropdown-item" href="{{ route('teams.index') }}"><i
                                                class="fa-solid fa-people-group" style="color: #7a5ed1;"></i> Takm
                                            Ynetimi</a></li>
                                </ul>
                            </li>

                            {{-- LOJSTK MENS --}}
                            @if ($user->hasDepartmentPermission('view_logistics'))
                                <li class="nav-item dropdown">
                                    <a class="nav-link dropdown-toggle" href="#" role="button"
                                        data-bs-toggle="dropdown"><i class="fa-solid fa-route"
                                            style="color: #A78BFA;"></i><span>Lojistik</span></a>
                                    <ul class="dropdown-menu dropdown-menu-end">
                                        <li><a class="dropdown-item" href="{{ route('shipments.create') }}"><i
                                                    class="fa-solid fa-truck-fast" style="color: #FBD38D;"></i> Yeni
                                                Sevkiyat</a></li>
                                        <li><a class="dropdown-item" href="{{ route('products.list') }}"><i
                                                    class="fa-solid fa-truck-ramp-box" style="color: #4FD1C5;"></i>
                                                Sevkiyat Listesi</a></li>
                                    </ul>
                                </li>
                            @endif

                            {{-- RETM MENS --}}
                            @if ($user->hasDepartmentPermission('view_production'))
                                <li class="nav-item dropdown">
                                    <a class="nav-link dropdown-toggle" href="#" role="button"
                                        data-bs-toggle="dropdown"><i class="fa-solid fa-industry"
                                            style="color: #4FD1C5;"></i><span>retim</span></a>
                                    <ul class="dropdown-menu dropdown-menu-end">
                                        <li><a class="dropdown-item" href="{{ route('production.plans.create') }}"><i
                                                    class="fa-solid fa-plus-circle" style="color: #F093FB;"></i> Yeni
                                                Plan</a>
                                        </li>
                                        <li><a class="dropdown-item" href="{{ route('production.plans.index') }}"><i
                                                    class="fa-solid fa-list-check" style="color: #A78BFA;"></i> Plan
                                                Listesi</a></li>
                                    </ul>
                                </li>
                            @endif

                            {{-- BAKIM DEPARTMANI MENS --}}
                            @if ($user->hasDepartmentPermission('view_maintenance'))
                                <li class="nav-item dropdown">
                                    <a class="nav-link dropdown-toggle" href="#" role="button"
                                        data-bs-toggle="dropdown">
                                        <i class="fa-solid fa-screwdriver-wrench" style="color: #ED8936;"></i>
                                        <span>Bakm</span>
                                    </a>
                                    <ul class="dropdown-menu dropdown-menu-end">
                                        <li>
                                            <a class="dropdown-item" href="{{ route('maintenance.create') }}">
                                                <i class="fa-solid fa-plus-circle" style="color: #48BB78;"></i>
                                                Yeni Bakm Plan
                                            </a>
                                        </li>
                                        <li>
                                            <a class="dropdown-item" href="{{ route('maintenance.index') }}">
                                                <i class="fa-solid fa-clipboard-list" style="color: #4299E1;"></i>
                                                Planlanan Bakmlar Listesi
                                            </a>
                                        </li>

                                        {{-- Onay Mens: Buras zel, sadece yetkisi olan grmeli --}}
                                        @can('approve_maintenance')
                                            <li>
                                                <hr class="dropdown-divider">
                                            </li>
                                            <li class="nav-item">
                                                <a class="nav-link" href="{{ route('approvals.maintenance') }}">
                                                    <i class="fas fa-check-double" style="color: #F6AD55;"></i> Onaym
                                                    Bekleyenler
                                                    @if (isset($globalPendingCount) && $globalPendingCount > 0)
                                                        <span
                                                            class="badge bg-danger ms-auto rounded-pill">{{ $globalPendingCount }}</span>
                                                    @endif
                                                </a>
                                            </li>
                                        @endcan
                                        <li>
                                            <hr class="dropdown-divider">
                                        </li>
                                        <li>
                                            <a class="dropdown-item" href="{{ route('maintenance.assets.index') }}">
                                                <i class="fa-solid fa-industry" style="color: #805AD5;"></i>
                                                Makineler & Varlklar
                                            </a>
                                        </li>
                                    </ul>
                                </li>
                            @endif

                            {{-- DAR LER MENS --}}
                            @if ($user->hasDepartmentPermission('view_administrative'))
                                <li class="nav-item dropdown">
                                    <a class="nav-link dropdown-toggle" href="#" role="button"
                                        data-bs-toggle="dropdown">
                                        <i class="fa-solid fa-concierge-bell" style="color: #d63384;"></i>
                                        <span>dari ler</span>
                                    </a>

                                    <ul class="dropdown-menu dropdown-menu-end">
                                        {{-- ETKNLK YNETM --}}
                                        <li><a class="dropdown-item" href="{{ route('service.events.create') }}">
                                                <i class="fa-solid fa-calendar-plus" style="color: #3B82F6;"></i> Yeni
                                                Etkinlik</a></li>
                                        <li><a class="dropdown-item" href="{{ route('service.events.index') }}">
                                                <i class="fa-solid fa-calendar-days" style="color: #0EA5E9;"></i> Etkinlik
                                                Listesi</a></li>
                                        <li>
                                            <hr class="dropdown-divider">
                                        </li>

                                        {{-- ARA YNETM --}}
                                        <li><a class="dropdown-item" href="{{ route('service.vehicles.index') }}">
                                                <i class="fa-solid fa-car" style="color: #F59E0B;"></i> irket
                                                Aralar</a></li>
                                        <li><a class="dropdown-item"
                                                href="{{ route('service.logistics-vehicles.index') }}">
                                                <i class="fa-solid fa-truck" style="color: #EA580C;"></i> Nakliye
                                                Aralar</a></li>

                                        {{-- SEYAHAT YNETM --}}
                                        <li>
                                            <hr class="dropdown-divider">
                                        </li>
                                        <li><a class="dropdown-item" href="{{ route('travels.create') }}">
                                                <i class="fa-solid fa-route" style="color: #8B5CF6;"></i> Yeni Seyahat</a>
                                        </li>
                                        <li><a class="dropdown-item" href="{{ route('travels.index') }}">
                                                <i class="fa-solid fa-list-check" style="color: #A78BFA;"></i> Seyahat
                                                Listesi</a></li>

                                        {{-- FUAR YNETM --}}
                                        <li>
                                            <hr class="dropdown-divider">
                                        </li>
                                        <li><a class="dropdown-item"
                                                href="{{ route('service.events.index', ['event_type' => 'fuar']) }}">
                                                <i class="fa-solid fa-tents" style="color: #10B981;"></i> Fuar
                                                Ynetimi</a></li>

                                        {{-- REZERVASYON & MTER --}}
                                        <li>
                                            <hr class="dropdown-divider">
                                        </li>
                                        <li><a class="dropdown-item" href="{{ route('bookings.index') }}">
                                                <i class="fa-solid fa-book-bookmark" style="color: #EC4899;"></i> Tm
                                                Rezervasyonlar</a></li>
                                        <li>
                                            <hr class="dropdown-divider">
                                        </li>
                                        <li><a class="dropdown-item" href="{{ route('customers.index') }}">
                                                <i class="fa-solid fa-users" style="color: #06B6D4;"></i> Mteri
                                                Ynetimi</a></li>
                                    </ul>
                                </li>
                            @endif

                            {{-- BUSINESS UNIT SWITCHER (BRM DETRC) --}}
                            @auth
                                @if (auth()->user()->businessUnits->count() > 1)
                                    <li class="nav-item dropdown me-3 d-flex align-items-center">
                                        <a class="nav-link dropdown-toggle btn btn-sm shadow-sm border" href="#"
                                            role="button" data-bs-toggle="dropdown"
                                            style="border-radius: 20px; padding: 5px 15px; background: rgba(255,255,255,0.8); border-color: #e2e8f0 !important;">
                                            <i class="fa-solid fa-industry text-primary me-2"></i>
                                            <span class="fw-bold text-dark" style="font-size: 0.85rem;">
                                                {{ session('active_unit_name', 'Birim Seiniz') }}
                                            </span>
                                        </a>
                                        <ul class="dropdown-menu dropdown-menu-end shadow border-0"
                                            style="border-radius: 12px; min-width: 200px;">
                                            <li class="dropdown-header text-uppercase small fw-bold text-muted px-3 py-2">
                                                alma Alan Se</li>
                                            <li>
                                                <hr class="dropdown-divider my-0">
                                            </li>
                                            @foreach (auth()->user()->businessUnits as $unit)
                                                <li>
                                                    <form action="{{ route('switch.unit') }}" method="POST">
                                                        @csrf
                                                        <input type="hidden" name="unit_id" value="{{ $unit->id }}">
                                                        <button type="submit"
                                                            class="dropdown-item d-flex justify-content-between align-items-center px-3 py-2"
                                                            style="cursor: pointer;">
                                                            <span class="fw-semibold">{{ $unit->name }}</span>
                                                            @if (session('active_unit_id') == $unit->id)
                                                                <i class="fa-solid fa-circle-check text-success"></i>
                                                            @endif
                                                        </button>
                                                    </form>
                                                </li>
                                            @endforeach
                                        </ul>
                                    </li>
                                @elseif(auth()->user()->businessUnits->count() == 1)
                                    <li class="nav-item me-3 d-flex align-items-center">
                                        <span class="badge bg-white text-primary border px-3 py-2 rounded-pill shadow-sm"
                                            style="font-size: 0.8rem;">
                                            <i class="fa-solid fa-industry me-1"></i>
                                            {{ auth()->user()->businessUnits->first()->name }}
                                        </span>
                                    </li>
                                @else
                                    <li class="nav-item me-3 d-flex align-items-center">
                                        <span class="badge bg-danger text-white border px-3 py-2 rounded-pill shadow-sm">
                                            <i class="fa-solid fa-triangle-exclamation me-1"></i>
                                            Yetkili Birim Yok!
                                        </span>
                                    </li>
                                @endif
                            @endauth

                            {{-- BLDRM MENS --}}
                            <li class="nav-item dropdown me-3">
                                @php
                                    $unreadCount = auth()->user()->unreadNotifications->count();
                                    $iconColor = $unreadCount > 0 ? '#d11f1f' : '#0d6efd';
                                @endphp

                                <a class="nav-link position-relative" data-bs-toggle="dropdown" href="#"
                                    role="button">
                                    <i class="fa-solid fa-bell fa-lg" id="notification-icon"
                                        style="color: {{ $iconColor }}; transition: color 0.3s ease;"></i>

                                    <span id="notification-badge"
                                        class="position-absolute top-0 start-100 translate-middle badge rounded-pill bg-danger"
                                        style="display: {{ $unreadCount > 0 ? 'inline-block' : 'none' }};">
                                        {{ $unreadCount }}
                                    </span>
                                </a>

                                <div class="dropdown-menu dropdown-menu-end shadow-lg border-0"
                                    style="width: 320px; border-radius: 1rem;">
                                    <div class="p-3 border-bottom d-flex justify-content-between align-items-center bg-light"
                                        style="border-radius: 1rem 1rem 0 0;">
                                        <h6 class="mb-0 fw-bold text-dark">Bildirimler</h6>

                                        <a href="{{ route('notifications.readAll') }}" id="mark-all-read"
                                            class="text-decoration-none small fw-bold text-primary"
                                            style="display: {{ $unreadCount > 0 ? 'inline-block' : 'none' }};">
                                            Tmn Oku
                                        </a>
                                    </div>

                                    <div id="notification-list" class="list-group list-group-flush"
                                        style="max-height: 300px; overflow-y: auto;">
                                        @forelse (auth()->user()->unreadNotifications as $notification)
                                            <a href="{{ route('notifications.read', $notification->id) }}"
                                                class="list-group-item list-group-item-action p-3 border-bottom-0 d-flex align-items-start">
                                                <div
                                                    class="me-3 mt-1 text-{{ $notification->data['color'] ?? 'primary' }}">
                                                    <i
                                                        class="fa-solid {{ $notification->data['icon'] ?? 'fa-info-circle' }} fa-lg"></i>
                                                </div>
                                                <div class="flex-grow-1">
                                                    <div class="small fw-bold text-dark mb-1">
                                                        {{ $notification->data['title'] ?? 'Bildirim' }}</div>
                                                    <p class="mb-1 small text-muted lh-sm">
                                                        {{ $notification->data['message'] ?? '' }}</p>
                                                    <small class="text-secondary fw-bold" style="font-size: 0.7rem;">
                                                        {{ $notification->created_at->diffForHumans() }}
                                                    </small>
                                                </div>
                                            </a>
                                        @empty
                                            <div class="p-4 text-center text-muted">
                                                <i
                                                    class="fa-regular fa-bell-slash fa-2x mb-3 text-secondary opacity-50"></i>
                                                <p class="mb-0 small fw-medium">u an yeni bildiriminiz yok.</p>
                                            </div>
                                        @endforelse
                                    </div>
                                </div>
                            </li>

                            {{-- KULLANICI MENS --}}
                            <li class="nav-item dropdown">
                                <a id="navbarDropdown" class="nav-link dropdown-toggle" href="#" role="button"
                                    data-bs-toggle="dropdown">
                                    <i class="fa-solid fa-user-gear me-1"></i><span class="d-inline-block text-truncate"
                                        style="max-width: 100px;"
                                        title="{{ Auth::user()->name }}">{{ Auth::user()->name }}</span>
                                </a>
                                <ul class="dropdown-menu dropdown-menu-end">
                                    <li><a class="dropdown-item" href="{{ route('profile.edit') }}"><i
                                                class="fa-solid fa-user-pen" style="color: #4FD1C5;"></i> Profilimi
                                            Dzenle</a></li>

                                    {{-- YNETC MENLER (Spatie Gncellemesi) --}}
                                    @role('admin')
                                        <li><a class="dropdown-item" href="{{ route('users.create') }}"><i
                                                    class="fa-solid fa-user-plus" style="color: #667EEA;"></i> Kullanc
                                                Ekle</a></li>

                                        <li><a class="dropdown-item" href="{{ route('users.index') }}"><i
                                                    class="fa-solid fa-list" style="color: #31317e;"></i>
                                                Kullanclar
                                                Grntle</a></li>
                                        <li>
                                            <a class="dropdown-item" href="{{ route('business-units.index') }}">
                                                <i class="fa-solid fa-industry" style="color: #FBD38D;"></i>
                                                Fabrika Ynetimi
                                            </a>
                                        </li>

                                        <li>
                                            <a class="dropdown-item" href="{{ route('birimler.index') }}">
                                                <i class="fa-solid fa-scale-balanced" style="color: #667EEA;"></i>
                                                l Birimleri
                                            </a>
                                        </li>

                                        <li>
                                            <a class="dropdown-item" href="{{ route('admin.custom-fields.index') }}">
                                                <i class="fa-solid fa-wpforms" style="color: #00177c;"></i>
                                                Form Alanlar
                                            </a>
                                        </li>

                                        <li>
                                            <a class="dropdown-item" href="{{ route('kanban-boards.index') }}">
                                                <i class="fa-solid fa-chalkboard-user" style="color: #e65100;"></i>
                                                 Panolar (Kanban)
                                            </a>
                                        </li>

                                        <li><a class="dropdown-item" href="{{ route('departments.index') }}"><i
                                                    class="fa-solid fa-building" style="color: #667EEA;"></i>
                                                Departmanlar</a></li>
                                        <li><a class="dropdown-item" href="{{ route('roles.index') }}"><i
                                                    class="fa-solid fa-building-user" style="color: #8b0672;"></i>
                                                Roller</a></li>
                                        <li><a class="dropdown-item" href="{{ route('logs.index') }}"><i
                                                    class="fa-solid fa-file-lines" style="color: #f78dfb;"></i> Loglar</a>
                                        </li>
                                        <li>
                                            <hr class="dropdown-divider">
                                        </li>
                                    @endrole

                                    <li>
                                        <form method="POST" action="{{ route('logout') }}">
                                            @csrf
                                            <button type="submit" class="dropdown-item w-100 text-start"
                                                style="cursor: pointer; background: transparent; border: none;">
                                                <i class="fa-solid fa-right-from-bracket" style="color: #FC8181;"></i>
                                                k Yap
                                            </button>
                                        </form>
                                    </li>
                                </ul>
                            </li>
                        @endguest
                    </ul>
                </div>
            </div>
        </nav>

        <main>
            @yield('content')
        </main>
    </div>

    @yield('page_scripts')

    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/js/bootstrap.bundle.min.js"></script>

    <script src="https://cdn.jsdelivr.net/npm/sweetalert2@11"></script>

    <script>
        document.addEventListener('DOMContentLoaded', function() {

            // --- 1. LOADER (YKLENYOR EKRANI) ---
            const loader = document.getElementById('global-loader');
            if (loader) {
                window.addEventListener('load', function() {
                    setTimeout(function() {
                        loader.classList.add('loaded');
                    }, 150);
                });
                setTimeout(function() {
                    if (!loader.classList.contains('loaded')) {
                        loader.classList.add('loaded');
                    }
                }, 3000);
            }

            // --- 2. SCROLL EFEKT & MOBL MEN ---
            window.addEventListener('scroll', function() {
                const navbar = document.querySelector('.navbar');
                if (navbar) {
                    if (window.scrollY > 50) navbar.classList.add('scrolled');
                    else navbar.classList.remove('scrolled');
                }
            });

            document.querySelectorAll('.navbar-nav .nav-link:not(.dropdown-toggle)').forEach(link => {
                link.addEventListener('click', function() {
                    if (window.innerWidth < 992) {
                        const navbarCollapse = document.querySelector('.navbar-collapse');
                        if (navbarCollapse) {
                            const bsCollapse = new bootstrap.Collapse(navbarCollapse, {
                                toggle: false
                            });
                            bsCollapse.hide();
                        }
                    }
                });
            });

            // --- 3. GLOBAL TOAST BLDRMLER ---
            const Toast = Swal.mixin({
                toast: true,
                position: 'top-end',
                showConfirmButton: false,
                timer: 4000,
                timerProgressBar: true,
                didOpen: (toast) => {
                    toast.addEventListener('mouseenter', Swal.stopTimer);
                    toast.addEventListener('mouseleave', Swal.resumeTimer);
                }
            });

            @if (session('success'))
                Toast.fire({
                    icon: 'success',
                    title: '{{ session('success') }}'
                });
            @endif

            @if (session('error'))
                Toast.fire({
                    icon: 'error',
                    title: '{{ session('error') }}'
                });
            @endif

            @if (session('warning'))
                Toast.fire({
                    icon: 'warning',
                    title: '{{ session('warning') }}'
                });
            @endif

            window.showToast = function(message, type = 'success') {
                Toast.fire({
                    icon: type,
                    title: message
                });
            }

            // --- 4. AKILLI SLME (DELETE CONFIRMATION) ---
            document.querySelectorAll('form').forEach(form => {
                if (form.getAttribute('onsubmit') && form.getAttribute('onsubmit').includes('confirm')) {
                    form.removeAttribute('onsubmit');
                }
            });

            document.addEventListener('submit', function(e) {
                const form = e.target;
                const methodInput = form.querySelector('input[name="_method"]');

                if (form.tagName === 'FORM' && methodInput && methodInput.value.toUpperCase() ===
                    'DELETE') {
                    e.preventDefault();

                    Swal.fire({
                        title: 'Emin misiniz?',
                        text: "Bu kayd silmek istediinize emin misiniz?",
                        icon: 'warning',
                        showCancelButton: true,
                        confirmButtonColor: '#d33',
                        cancelButtonColor: '#3085d6',
                        confirmButtonText: 'Evet, Sil!',
                        cancelButtonText: 'ptal'
                    }).then((result) => {
                        if (result.isConfirmed) {
                            const btn = form.querySelector('button[type="submit"]');
                            if (btn) btn.disabled = true;

                            fetch(form.action, {
                                    method: 'POST',
                                    body: new FormData(form),
                                    headers: {
                                        'X-Requested-With': 'XMLHttpRequest',
                                        'Accept': 'application/json'
                                    }
                                })
                                .then(async response => {
                                    if (response.status === 403) {
                                        showToast(
                                            '? Bu ilemi yapmaya yetkiniz bulunmamaktadr!',
                                            'error');
                                        return;
                                    }
                                    if (response.ok) {
                                        const contentType = response.headers.get(
                                            "content-type");
                                        if (contentType && contentType.indexOf(
                                                "application/json") !== -1) {
                                            await Swal.fire('Silindi!',
                                                'Kayt baaryla silindi.', 'success');
                                            window.location.reload();
                                        } else {
                                            const htmlText = await response.text();
                                            const parser = new DOMParser();
                                            const doc = parser.parseFromString(htmlText,
                                                'text/html');
                                            const errorAlert = doc.querySelector(
                                                '.alert-danger');

                                            if (errorAlert) {
                                                let errorMsg = errorAlert.innerText.trim()
                                                    .replace('', '').trim();
                                                showToast(errorMsg, 'error');
                                            } else {
                                                await Swal.fire('Silindi!',
                                                    'Kayt baaryla silindi.',
                                                    'success');
                                                window.location.reload();
                                            }
                                        }
                                    } else {
                                        showToast('Bir hata olutu.', 'error');
                                    }
                                })
                                .catch(error => {
                                    console.error(error);
                                    showToast('Sunucu hatas.', 'error');
                                })
                                .finally(() => {
                                    if (btn) btn.disabled = false;
                                });
                        }
                    });
                }
            });

            // --- 5. BLDRM VE SSTEM GNCELLEME KONTROL ---
            setInterval(function() {
                fetch("{{ route('notifications.check') }}")
                    .then(res => res.ok ? res.json() : Promise.reject(res))
                    .then(data => {
                        const badge = document.getElementById('notification-badge');
                        const icon = document.getElementById('notification-icon');
                        const readAllLink = document.getElementById('mark-all-read');
                        const list = document.getElementById('notification-list');

                        if (badge) {
                            badge.style.display = data.count > 0 ? 'inline-block' : 'none';
                            badge.innerText = data.count;
                        }
                        if (icon) icon.style.color = data.count > 0 ? '#d11f1f' : '#0d6efd';
                        if (readAllLink) readAllLink.style.display = data.count > 0 ? 'inline-block' :
                            'none';
                        if (list && list.innerHTML !== data.html) list.innerHTML = data.html;
                    })
                    .catch(err => console.error('Bildirim hatas:', err));
            }, 10000);

            // B) Global Akll Yenileme (Global Smart Refresh)
            const initialHash = "{{ $globalDataHash ?? '' }}";
            if (initialHash) {
                setInterval(function() {
                    if (document.activeElement.tagName === 'INPUT' ||
                        document.activeElement.tagName === 'TEXTAREA' ||
                        document.activeElement.isContentEditable) {
                        return;
                    }

                    fetch("{{ route('system.check_updates') }}", {
                            headers: {
                                'X-Requested-With': 'XMLHttpRequest',
                                'Accept': 'application/json',
                                'Content-Type': 'application/json'
                            }
                        })
                        .then(res => {
                            if (res.status === 401 || res.status === 419) {
                                return null;
                            }
                            return res.json();
                        })
                        .then(data => {
                            if (data && data.hash && data.hash !== initialHash) {
                                console.log('Sistem gncellendi, sayfa yenileniyor...');
                                window.location.reload();
                            }
                        })
                        .catch(err => console.error('Gncelleme kontrol baarsz:', err));
                }, 1000000);
            }
        });
    </script>
</body>

</html>


----------------------------------------
DOSYA YOLU: resources\views\logistics_vehicles\create.blade.php
----------------------------------------

@extends('layouts.app')

@section('title', 'Yeni Lojistik Arac Ekle')

@push('styles')
    <style>
        /* Animasyonlu Arka Plan */
        #app>main.py-4 {
            padding: 2.5rem 0 !important;
            min-height: calc(100vh - 72px);
            background: linear-gradient(-45deg, #dbe4ff, #fde2ff, #d9fcf7, #fff0d9);
            background-size: 400% 400%;
            animation: gradientWave 18s ease infinite;
        }

        @keyframes gradientWave {
            0% {
                background-position: 0% 50%;
            }

            50% {
                background-position: 100% 50%;
            }

            100% {
                background-position: 0% 50%;
            }
        }

        /* Kart Stilleri */
        .create-vehicle-card {
            border-radius: 1rem;
            box-shadow: none !important;
            border: 0;
            background-color: transparent;
        }

        .create-vehicle-card .card-header {
            color: #000;
            font-weight: bold;
            text-shadow: 0 1px 2px rgba(255, 255, 255, 0.7);
        }

        .create-vehicle-card .form-label {
            color: #444;
            font-weight: bold;
        }

        .create-vehicle-card .form-control,
        .create-vehicle-card .form-select {
            border-radius: 0.5rem;
            background-color: rgba(255, 255, 255, 0.8);
            border: 1px solid rgba(0, 0, 0, .1);
        }

        .create-vehicle-card .form-control:focus,
        .create-vehicle-card .form-select:focus {
            background-color: #fff;
            box-shadow: 0 0 0 0.25rem rgba(102, 126, 234, 0.25);
            border-color: #667EEA;
        }

        /* Buton Stili */
        .btn-animated-gradient {
            background: linear-gradient(-45deg, #667EEA, #F093FB, #4FD1C5, #FBD38D);
            background-size: 400% 400%;
            animation: gradientWave 18s ease infinite;
            border: none;
            color: white;
            font-weight: bold;
            transition: transform 0.2s ease-out, box-shadow 0.2s ease-out;
        }

        .btn-animated-gradient:hover {
            color: white;
            transform: scale(1.05);
            box-shadow: 0 4px 15px rgba(0, 0, 0, 0.1);
        }
    </style>
@endpush

@section('content')
    <div class="container">
        <div class="row justify-content-center">
            <div class="col-md-8">
                <div class="card create-vehicle-card">
                    <div class="card-header h4 bg-transparent border-0 pt-4">
                        <i class="fas fa-truck me-2"></i>{{ __('Yeni Lojistik Arac Ekle') }}
                    </div>
                    <div class="card-body p-4">
                        @if (session('success'))
                            <div class="alert alert-success" role="alert">{{ session('success') }}</div>
                        @endif

                        <form method="POST" action="{{ route('service.logistics-vehicles.store') }}">
                            @csrf

                            {{-- Temel Bilgiler --}}
                            <div class="row mb-3">
                                <div class="col-md-6">
                                    <label for="plate_number" class="form-label">Plaka (*)</label>
                                    <input type="text" class="form-control @error('plate_number') is-invalid @enderror"
                                        id="plate_number" name="plate_number" value="{{ old('plate_number') }}" required
                                        placeholder="rn: 34 LJS 01">
                                    @error('plate_number')
                                        <div class="invalid-feedback">{{ $message }}</div>
                                    @enderror
                                </div>
                                <div class="col-md-6">
                                    <label for="status" class="form-label">Durum</label>
                                    <select name="status" id="status" class="form-select">
                                        <option value="active" selected> Aktif (Kullanmda)</option>
                                        <option value="maintenance"> Bakmda</option>
                                        <option value="inactive"> Pasif (Hizmet D)</option>
                                    </select>
                                </div>
                            </div>

                            {{-- Marka Model --}}
                            <div class="row mb-3">
                                <div class="col-md-6">
                                    <label for="brand" class="form-label">Marka (*)</label>
                                    <input type="text" class="form-control @error('brand') is-invalid @enderror"
                                        id="brand" name="brand" value="{{ old('brand') }}" required
                                        placeholder="rn: Mercedes-Benz">
                                </div>
                                <div class="col-md-6">
                                    <label for="model" class="form-label">Model (*)</label>
                                    <input type="text" class="form-control @error('model') is-invalid @enderror"
                                        id="model" name="model" value="{{ old('model') }}" required
                                        placeholder="rn: Actros 1845">
                                </div>
                            </div>

                            {{-- Lojistik Teknik Detaylar --}}
                            <div class="row mb-3">
                                <div class="col-md-4">
                                    <label for="capacity" class="form-label">Yk Kapasitesi (kg)</label>
                                    <input type="number" step="0.01"
                                        class="form-control @error('capacity') is-invalid @enderror" id="capacity"
                                        name="capacity" value="{{ old('capacity') }}" placeholder="rn: 15000">
                                </div>
                                <div class="col-md-4">
                                    <label for="current_km" class="form-label">Gncel KM (*)</label>
                                    <input type="number" step="0.1"
                                        class="form-control @error('current_km') is-invalid @enderror" id="current_km"
                                        name="current_km" value="{{ old('current_km', 0) }}" required>
                                </div>
                                <div class="col-md-4">
                                    <label for="fuel_type" class="form-label">Yakt Tipi</label>
                                    <select name="fuel_type" id="fuel_type" class="form-select">
                                        <option value="Diesel" selected>Dizel</option>
                                        <option value="Gasoline">Benzin</option>
                                        <option value="Electric">Elektrik</option>
                                        <option value="Hybrid">Hibrit</option>
                                    </select>
                                </div>
                            </div>

                            <div class="mb-3 form-check border-top pt-3 mt-3">
                                <input type="checkbox" class="form-check-input" id="kvkk_onay" name="kvkk_onay"
                                    value="1" {{ old('kvkk_onay') ? 'checked' : '' }}>
                                <label class="form-check-label" for="kvkk_onay">
                                    <a href="#" class="text-decoration-underline" style="color: #0d6efd;">
                                        KVKK Aydnlatma Metni'ni
                                    </a>
                                    okudum ve ara verilerinin ilenmesini kabul ediyorum.
                                </label>
                            </div>

                            <div class="text-end mt-4">
                                <button type="submit" id="submit-button"
                                    class="btn btn-animated-gradient rounded-3 px-4 py-2" disabled>
                                    Lojistik Arac Kaydet
                                </button>
                                <a href="{{ route('service.logistics-vehicles.index') }}"
                                    class="btn btn-outline-secondary rounded-3">ptal</a>
                            </div>
                        </form>
                    </div>
                </div>
            </div>
        </div>
    </div>
@endsection

@section('page_scripts')
    <script>
        document.addEventListener('DOMContentLoaded', function() {
            const kvkkCheckbox = document.getElementById('kvkk_onay');
            const submitButton = document.getElementById('submit-button');

            if (kvkkCheckbox && submitButton) {
                function toggleSubmitButton() {
                    submitButton.disabled = !kvkkCheckbox.checked;
                }
                toggleSubmitButton();
                kvkkCheckbox.addEventListener('change', toggleSubmitButton);
            }
        });
    </script>
@endsection


----------------------------------------
DOSYA YOLU: resources\views\logistics_vehicles\edit.blade.php
----------------------------------------

@extends('layouts.app')

@section('title', 'Lojistik Arac Dzenle')

@push('styles')
    {{-- Create blade'indeki style blounun ayns buraya da gelecek --}}
    <style>
        #app>main.py-4 {
            padding: 2.5rem 0 !important;
            min-height: calc(100vh - 72px);
            background: linear-gradient(-45deg, #dbe4ff, #fde2ff, #d9fcf7, #fff0d9);
            background-size: 400% 400%;
            animation: gradientWave 18s ease infinite;
        }

        @keyframes gradientWave {
            0% {
                background-position: 0% 50%;
            }

            50% {
                background-position: 100% 50%;
            }

            100% {
                background-position: 0% 50%;
            }
        }

        .create-vehicle-card {
            border-radius: 1rem;
            border: 0;
            background-color: transparent;
        }

        .create-vehicle-card .card-header {
            color: #000;
            font-weight: bold;
        }

        .create-vehicle-card .form-label {
            color: #444;
            font-weight: bold;
        }

        .create-vehicle-card .form-control,
        .create-vehicle-card .form-select {
            border-radius: 0.5rem;
            background-color: rgba(255, 255, 255, 0.8);
        }

        .create-vehicle-card .form-control:focus {
            background-color: #fff;
            border-color: #667EEA;
        }

        .btn-animated-gradient {
            background: linear-gradient(-45deg, #667EEA, #F093FB, #4FD1C5, #FBD38D);
            background-size: 400% 400%;
            animation: gradientWave 18s ease infinite;
            border: none;
            color: white;
            font-weight: bold;
        }
    </style>
@endpush

@section('content')
    <div class="container">
        <div class="row justify-content-center">
            <div class="col-md-8">
                <div class="card create-vehicle-card">
                    <div class="card-header h4 bg-transparent border-0 pt-4">
                        <i class="fas fa-edit me-2"></i>{{ __('Lojistik Arac Dzenle') }}
                    </div>
                    <div class="card-body p-4">
                        {{-- Form Route: Update --}}
                        <form method="POST" action="{{ route('service.logistics-vehicles.update', $vehicle->id) }}">
                            @csrf
                            @method('PUT')

                            <div class="row mb-3">
                                <div class="col-md-6">
                                    <label for="plate_number" class="form-label">Plaka (*)</label>
                                    <input type="text" class="form-control" id="plate_number" name="plate_number"
                                        value="{{ old('plate_number', $vehicle->plate_number) }}" required>
                                </div>
                                <div class="col-md-6">
                                    <label for="status" class="form-label">Durum</label>
                                    <select name="status" id="status" class="form-select">
                                        <option value="active" {{ $vehicle->status == 'active' ? 'selected' : '' }}> Aktif
                                        </option>
                                        <option value="maintenance"
                                            {{ $vehicle->status == 'maintenance' ? 'selected' : '' }}> Bakmda</option>
                                        <option value="inactive" {{ $vehicle->status == 'inactive' ? 'selected' : '' }}>
                                            Pasif</option>
                                    </select>
                                </div>
                            </div>

                            <div class="row mb-3">
                                <div class="col-md-6">
                                    <label for="brand" class="form-label">Marka (*)</label>
                                    <input type="text" class="form-control" id="brand" name="brand"
                                        value="{{ old('brand', $vehicle->brand) }}" required>
                                </div>
                                <div class="col-md-6">
                                    <label for="model" class="form-label">Model (*)</label>
                                    <input type="text" class="form-control" id="model" name="model"
                                        value="{{ old('model', $vehicle->model) }}" required>
                                </div>
                            </div>

                            <div class="row mb-3">
                                <div class="col-md-4">
                                    <label for="capacity" class="form-label">Yk Kapasitesi (kg)</label>
                                    <input type="number" step="0.01" class="form-control" id="capacity" name="capacity"
                                        value="{{ old('capacity', $vehicle->capacity) }}">
                                </div>
                                <div class="col-md-4">
                                    <label for="current_km" class="form-label">Gncel KM (*)</label>
                                    <input type="number" step="0.1" class="form-control" id="current_km"
                                        name="current_km" value="{{ old('current_km', $vehicle->current_km) }}" required>
                                </div>
                                <div class="col-md-4">
                                    <label for="fuel_type" class="form-label">Yakt Tipi</label>
                                    <select name="fuel_type" id="fuel_type" class="form-select">
                                        <option value="Diesel" {{ $vehicle->fuel_type == 'Diesel' ? 'selected' : '' }}>
                                            Dizel</option>
                                        <option value="Gasoline" {{ $vehicle->fuel_type == 'Gasoline' ? 'selected' : '' }}>
                                            Benzin</option>
                                        <option value="Electric" {{ $vehicle->fuel_type == 'Electric' ? 'selected' : '' }}>
                                            Elektrik</option>
                                    </select>
                                </div>
                            </div>

                            <div class="text-end mt-4">
                                <button type="submit" class="btn btn-animated-gradient rounded-3 px-4 py-2">
                                    Deiiklikleri Kaydet
                                </button>
                                <a href="{{ route('service.logistics-vehicles.index') }}"
                                    class="btn btn-outline-secondary rounded-3">ptal</a>
                            </div>
                        </form>
                    </div>
                </div>
            </div>
        </div>
    </div>
@endsection


----------------------------------------
DOSYA YOLU: resources\views\logistics_vehicles\index.blade.php
----------------------------------------

@extends('layouts.app')

@section('title', 'Lojistik Aralar')

@push('styles')
    <style>
        .page-header-gradient {
            background: linear-gradient(135deg, #667EEA 0%, #764BA2 100%);
            color: white;
            border-radius: 15px;
            padding: 2rem;
            margin-bottom: 2rem;
            box-shadow: 0 10px 20px rgba(118, 75, 162, 0.2);
        }

        .filter-card {
            background: white;
            border: none;
            border-radius: 15px;
            box-shadow: 0 5px 15px rgba(0, 0, 0, 0.05);
            margin-bottom: 2rem;
            overflow: hidden;
        }

        .filter-header {
            background: linear-gradient(135deg, #f6f8fb 0%, #ffffff 100%);
            padding: 1rem 1.5rem;
            border-bottom: 1px solid #e9ecef;
        }

        .filter-body {
            padding: 1.5rem;
        }

        .btn-filter-toggle {
            background-color: rgba(255, 255, 255, 0.2);
            border: 1px solid rgba(255, 255, 255, 0.3);
            color: white;
            font-weight: 500;
            transition: all 0.3s ease;
        }

        .btn-filter-toggle:hover {
            background-color: rgba(255, 255, 255, 0.3);
            border-color: rgba(255, 255, 255, 0.5);
            color: white;
        }

        .vehicle-card {
            border: none;
            border-radius: 15px;
            transition: all 0.3s ease;
            background: white;
            box-shadow: 0 5px 15px rgba(0, 0, 0, 0.05);
        }

        .vehicle-card:hover {
            transform: translateY(-5px);
            box-shadow: 0 15px 30px rgba(0, 0, 0, 0.1);
        }

        .status-badge {
            padding: 5px 12px;
            border-radius: 20px;
            font-size: 0.8rem;
            font-weight: bold;
            display: inline-flex;
            align-items: center;
            gap: 5px;
        }

        .status-active {
            background-color: #d1fae5;
            color: #065f46;
        }

        .status-maintenance {
            background-color: #ffedd5;
            color: #9a3412;
        }

        .status-inactive {
            background-color: #fee2e2;
            color: #991b1b;
        }

        .table thead th {
            background: #f8f9fa;
            color: #495057;
            font-weight: 600;
            font-size: 0.875rem;
            text-transform: uppercase;
            letter-spacing: 0.5px;
            border-bottom: 2px solid #dee2e6;
            padding: 1rem;
        }

        .table tbody td {
            padding: 1rem;
            vertical-align: middle;
        }

        .table tbody tr {
            transition: all 0.2s;
        }

        .table tbody tr:hover {
            background-color: rgba(102, 126, 234, 0.05);
        }

        .btn-create {
            background: rgba(255, 255, 255, 0.2);
            border: 1px solid rgba(255, 255, 255, 0.3);
            color: white;
            backdrop-filter: blur(10px);
            padding: 0.6rem 1.5rem;
            border-radius: 0.5rem;
            font-weight: 500;
            transition: all 0.3s ease;
            text-decoration: none;
        }

        .btn-create:hover {
            background: rgba(255, 255, 255, 0.3);
            border-color: rgba(255, 255, 255, 0.5);
            color: white;
            transform: translateY(-2px);
        }

        .empty-state {
            text-align: center;
            padding: 3rem 2rem;
        }

        .empty-state i {
            font-size: 3rem;
            color: #dee2e6;
            margin-bottom: 1rem;
        }

        /* statistik Kartlar */
        .stat-card {
            background: white;
            border-radius: 15px;
            padding: 1.5rem;
            border: 1px solid #f0f0f0;
            box-shadow: 0 4px 6px rgba(0, 0, 0, 0.02);
            display: flex;
            align-items: center;
            justify-content: space-between;
        }

        .stat-number {
            font-size: 1.5rem;
            font-weight: 700;
            color: #2d3748;
        }

        .stat-label {
            font-size: 0.875rem;
            color: #718096;
        }

        .stat-icon {
            width: 48px;
            height: 48px;
            border-radius: 12px;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 1.25rem;
        }
    </style>
@endpush

@section('content')
    <div class="container-fluid px-4">

        {{-- Hero Section --}}
        <div class="page-header-gradient">
            <div class="d-flex justify-content-between align-items-center">
                <div>
                    <h2 class="mb-1"><i class="fas fa-truck me-2"></i>Nakliye Aralar</h2>
                    <p class="mb-0 opacity-75">Nakliye aralarnn ynetimi ve takibi</p>
                </div>
                <a href="{{ route('service.logistics-vehicles.create') }}" class="btn btn-create">
                    <i class="fas fa-plus me-1"></i> Yeni Ara Ekle
                </a>
            </div>
        </div>

        {{-- statistik Kartlar --}}
        <div class="row g-4 mb-4">
            <div class="col-md-4">
                <div class="stat-card">
                    <div>
                        <div class="stat-label">Toplam Ara</div>
                        <div class="stat-number">{{ $stats['total'] ?? 0 }}</div>
                    </div>
                    <div class="stat-icon bg-light text-primary">
                        <i class="fas fa-truck"></i>
                    </div>
                </div>
            </div>
            <div class="col-md-4">
                <div class="stat-card">
                    <div>
                        <div class="stat-label">Aktif (Sahada)</div>
                        <div class="stat-number text-success">{{ $stats['active'] ?? 0 }}</div>
                    </div>
                    <div class="stat-icon bg-light text-success">
                        <i class="fas fa-check-circle"></i>
                    </div>
                </div>
            </div>
            <div class="col-md-4">
                <div class="stat-card">
                    <div>
                        <div class="stat-label">Bakmda / Pasif</div>
                        <div class="stat-number text-warning">{{ $stats['maintenance'] ?? 0 }}</div>
                    </div>
                    <div class="stat-icon bg-light text-warning">
                        <i class="fas fa-tools"></i>
                    </div>
                </div>
            </div>
        </div>

        {{-- Alerts --}}
        @if (session('success'))
            <div class="alert alert-success alert-dismissible fade show shadow-sm border-0" role="alert">
                <i class="fas fa-check-circle me-2"></i>{{ session('success') }}
                <button type="button" class="btn-close" data-bs-dismiss="alert"></button>
            </div>
        @endif
        @if (session('error'))
            <div class="alert alert-danger alert-dismissible fade show shadow-sm border-0" role="alert">
                <i class="fas fa-exclamation-circle me-2"></i>{{ session('error') }}
                <button type="button" class="btn-close" data-bs-dismiss="alert"></button>
            </div>
        @endif

        {{-- Filter Card --}}
        <div class="filter-card">
            <div class="filter-header">
                <button class="btn btn-link text-decoration-none p-0 w-100 text-start" type="button"
                    data-bs-toggle="collapse" data-bs-target="#filterCollapse" aria-expanded="false"
                    aria-controls="filterCollapse">
                    <div class="d-flex justify-content-between align-items-center">
                        <h5 class="mb-0 text-dark">
                            <i class="fas fa-filter me-2" style="color: #667EEA;"></i>
                            Filtreleme Seenekleri
                        </h5>
                        <i class="fas fa-chevron-down text-muted"></i>
                    </div>
                </button>
            </div>

            <div class="collapse" id="filterCollapse">
                <div class="filter-body">
                    <form method="GET" action="{{ route('service.logistics-vehicles.index') }}" autocomplete="off">
                        <div class="row g-3">

                            {{-- 1. Genel Arama (Controller: search) --}}
                            <div class="col-md-4">
                                <label for="search" class="form-label text-muted fw-bold small">GENEL ARAMA</label>
                                <div class="input-group">
                                    <span class="input-group-text bg-white text-muted border-end-0"><i
                                            class="fas fa-search"></i></span>
                                    <input type="text" class="form-control border-start-0 ps-0" id="search"
                                        name="search" value="{{ request('search') }}"
                                        placeholder="Plaka, Marka veya Model ara...">
                                </div>
                            </div>

                            {{-- 2. Durum Filtresi (Controller: status) --}}
                            <div class="col-md-3">
                                <label for="status" class="form-label text-muted fw-bold small">DURUM</label>
                                <select class="form-select" id="status" name="status">
                                    <option value="">Tm</option>
                                    <option value="active" {{ request('status') == 'active' ? 'selected' : '' }}>Aktif
                                    </option>
                                    <option value="maintenance" {{ request('status') == 'maintenance' ? 'selected' : '' }}>
                                        Bakmda</option>
                                    <option value="inactive" {{ request('status') == 'inactive' ? 'selected' : '' }}>Pasif
                                    </option>
                                </select>
                            </div>

                            {{-- 3. Yakt Tipi Filtresi (Controller: fuel_type) --}}
                            <div class="col-md-3">
                                <label for="fuel_type" class="form-label text-muted fw-bold small">YAKIT TP</label>
                                <select class="form-select" id="fuel_type" name="fuel_type">
                                    <option value="">Tm</option>
                                    <option value="Diesel" {{ request('fuel_type') == 'Diesel' ? 'selected' : '' }}>Dizel
                                    </option>
                                    <option value="Gasoline" {{ request('fuel_type') == 'Gasoline' ? 'selected' : '' }}>
                                        Benzin</option>
                                    <option value="Electric" {{ request('fuel_type') == 'Electric' ? 'selected' : '' }}>
                                        Elektrik</option>
                                    <option value="Hybrid" {{ request('fuel_type') == 'Hybrid' ? 'selected' : '' }}>Hibrit
                                    </option>
                                </select>
                            </div>

                            {{-- Butonlar --}}
                            <div class="col-md-2 d-flex align-items-end">
                                <div class="d-grid gap-2 w-100">
                                    <button type="submit" class="btn btn-primary fw-bold text-white"
                                        style="background: #667EEA; border: none;">
                                        <i class="fas fa-check me-1"></i> Uygula
                                    </button>
                                </div>
                            </div>
                        </div>

                        @if (request()->anyFilled(['search', 'status', 'fuel_type']))
                            <div class="row mt-2">
                                <div class="col-12 text-end">
                                    <a href="{{ route('service.logistics-vehicles.index') }}"
                                        class="text-decoration-none text-muted small">
                                        <i class="fas fa-times me-1"></i> Filtreleri Temizle
                                    </a>
                                </div>
                            </div>
                        @endif
                    </form>
                </div>
            </div>
        </div>

        {{-- Vehicle List Card --}}
        <div class="vehicle-card">
            <div class="card-body p-0">
                @if ($vehicles->isEmpty())
                    <div class="empty-state">
                        <i class="fas fa-truck text-secondary opacity-50"></i>
                        <h5 class="text-muted mt-3">Henz Ara Bulunamad</h5>
                        <p class="text-muted mb-0">Filtrelere uygun lojistik arac yok veya henz kayt eklenmemi.</p>
                    </div>
                @else
                    <div class="table-responsive">
                        <table class="table table-hover align-middle mb-0">
                            <thead>
                                <tr>
                                    <th class="ps-4">Ara Bilgisi</th>
                                    <th>Kapasite</th>
                                    <th>Gncel KM</th>
                                    <th>Yakt</th>
                                    <th>Durum</th>
                                    <th class="text-end pe-4">lemler</th>
                                </tr>
                            </thead>
                            <tbody>
                                @foreach ($vehicles as $vehicle)
                                    <tr>
                                        <td class="ps-4">
                                            <div class="d-flex align-items-center">
                                                <div class="rounded-circle bg-light p-2 me-3 text-center"
                                                    style="width: 40px; height: 40px;">
                                                    <i class="fas fa-truck text-primary pt-1"></i>
                                                </div>
                                                <div>
                                                    <div class="fw-bold text-dark">{{ $vehicle->plate_number }}</div>
                                                    <small class="text-muted">{{ $vehicle->brand }}
                                                        {{ $vehicle->model }}</small>
                                                </div>
                                            </div>
                                        </td>
                                        <td>
                                            <span
                                                class="fw-semibold text-secondary">{{ number_format($vehicle->capacity, 0) }}</span>
                                            <span class="text-muted small">kg</span>
                                        </td>
                                        <td>
                                            <div class="d-flex align-items-center">
                                                <i class="fas fa-road text-muted me-2 small"></i>
                                                <span class="fw-bold">{{ number_format($vehicle->current_km, 0) }}</span>
                                            </div>
                                        </td>
                                        <td>
                                            @php
                                                $fuelTypes = [
                                                    'Diesel' => 'Dizel',
                                                    'Gasoline' => 'Benzin',
                                                    'Electric' => 'Elektrik',
                                                    'Hybrid' => 'Hibrit',
                                                    'LPG' => 'LPG',
                                                ];
                                            @endphp

                                            {{ $fuelTypes[$vehicle->fuel_type] ?? $vehicle->fuel_type }}
                                        </td>
                                        <td>
                                            @if ($vehicle->status == 'active')
                                                <span class="status-badge status-active"><i
                                                        class="fas fa-circle fa-xs"></i> Aktif</span>
                                            @elseif($vehicle->status == 'maintenance')
                                                <span class="status-badge status-maintenance"><i
                                                        class="fas fa-wrench fa-xs"></i> Bakmda</span>
                                            @else
                                                <span class="status-badge status-inactive"><i
                                                        class="fas fa-ban fa-xs"></i> Pasif</span>
                                            @endif
                                        </td>
                                        <td class="text-end pe-4">
                                            <div class="btn-group">
                                                <a href="{{ route('service.logistics-vehicles.edit', $vehicle->id) }}"
                                                    class="btn btn-sm btn-outline-primary border-0" title="Dzenle">
                                                    <i class="fas fa-edit fa-lg"></i>
                                                </a>
                                                <form
                                                    action="{{ route('service.logistics-vehicles.destroy', $vehicle->id) }}"
                                                    method="POST" class="d-inline"
                                                    onsubmit="return confirm('Bu arac silmek istediinize emin misiniz?');">
                                                    @csrf
                                                    @method('DELETE')
                                                    <button type="submit" class="btn btn-sm btn-outline-danger border-0"
                                                        title="Sil">
                                                        <i class="fas fa-trash fa-lg"></i>
                                                    </button>
                                                </form>
                                            </div>
                                        </td>
                                    </tr>
                                @endforeach
                            </tbody>
                        </table>
                    </div>

                    {{-- Pagination --}}
                    @if ($vehicles->hasPages())
                        <div class="card-footer bg-white border-0 py-3">
                            {{ $vehicles->appends(request()->query())->links('pagination::bootstrap-5') }}
                        </div>
                    @endif
                @endif
            </div>
        </div>
    </div>
@endsection

{{-- JavaScript --}}
@section('page_scripts')
    <script>
        document.addEventListener('DOMContentLoaded', function() {
            // Filtreleme Collapse kon Deiimi
            var filterCollapse = document.getElementById('filterCollapse');
            var filterButton = document.querySelector('[data-bs-target="#filterCollapse"]');
            var filterIcon = filterButton ? filterButton.querySelector('.fa-chevron-down') : null;

            if (filterCollapse && filterIcon) {
                filterCollapse.addEventListener('show.bs.collapse', function() {
                    filterIcon.classList.remove('fa-chevron-down');
                    filterIcon.classList.add('fa-chevron-up');
                });
                filterCollapse.addEventListener('hide.bs.collapse', function() {
                    filterIcon.classList.remove('fa-chevron-up');
                    filterIcon.classList.add('fa-chevron-down');
                });
            }
        });
    </script>
@endsection


----------------------------------------
DOSYA YOLU: resources\views\logs\index.blade.php
----------------------------------------

@extends('layouts.app')

@section('title', 'Sistem Aktivite Loglar')

@section('content')
    <div class="container py-4">
        <div class="row justify-content-center">
            <div class="col-lg-12">
                <div class="customer-card shadow-sm">
                    <div class="card-header bg-white border-0 px-4 pt-4">
                        <h4 class="mb-0">Sistem Aktivite Loglar</h4>
                        <small class="text-muted">Projedeki aktiviteleri grntleyin.</small>
                    </div>
                    <div class="card-body px-4">
                        <div class="table-responsive">
                            <table class="table table-hover align-middle">
                                <thead class="table-light">
                                    <tr>
                                        <th style="width: 20%;">Kim (Causer)</th>
                                        <th style="width: 35%;">Ne Yapt (Description)</th>
                                        <th style="width: 25%;">Neyi Etkiledi (Subject)</th>
                                        <th style="width: 20%;">Zaman</th>
                                    </tr>
                                </thead>
                                <tbody>
                                    @forelse ($activities as $activity)
                                        <tr>
                                            <td>
                                                <span class="badge bg-primary">
                                                    {{ $activity->causer->name ?? 'Sistem/Silinmi Kullanc' }}
                                                </span>
                                            </td>
                                            <td>
                                                {{ $activity->description }}
                                            </td>
                                            <td>
                                                @if ($activity->subject)
                                                    <code class="text-dark">
                                                        {{ class_basename($activity->subject_type) }} (ID:
                                                        {{ $activity->subject_id }})
                                                    </code>
                                                @else
                                                    <span class="text-muted">-</span>
                                                @endif
                                            </td>
                                            <td>
                                                <small class="text-muted">
                                                    {{ $activity->created_at->tz('Europe/Istanbul')->format('d/m/Y H:i:s') }}
                                                </small>
                                            </td>
                                        </tr>
                                    @empty
                                        <tr>
                                            <td colspan="4" class="text-center text-muted py-5">
                                                <i class="bi bi-inbox fs-1"></i>
                                                <p class="mb-0 mt-2">Grntlenecek hi log bulunamad.</p>
                                            </td>
                                        </tr>
                                    @endforelse
                                </tbody>
                            </table>
                        </div>

                        {{-- Gelitirilmi Sayfalama --}}
                        @if ($activities->hasPages())
                            <div class="mt-4">
                                <nav aria-label="Sayfa navigasyonu">
                                    <ul class="pagination pagination-rounded justify-content-center mb-0">
                                        {{-- nceki Sayfa --}}
                                        @if ($activities->onFirstPage())
                                            <li class="page-item disabled">
                                                <span class="page-link">
                                                    <i class="bi bi-chevron-left"></i> nceki
                                                </span>
                                            </li>
                                        @else
                                            <li class="page-item">
                                                <a class="page-link" href="{{ $activities->previousPageUrl() }}">
                                                    <i class="bi bi-chevron-left"></i> nceki
                                                </a>
                                            </li>
                                        @endif

                                        {{-- Sayfa Numaralar --}}
                                        @foreach ($activities->getUrlRange(1, $activities->lastPage()) as $page => $url)
                                            @if ($page == $activities->currentPage())
                                                <li class="page-item active">
                                                    <span class="page-link">{{ $page }}</span>
                                                </li>
                                            @else
                                                <li class="page-item">
                                                    <a class="page-link" href="{{ $url }}">{{ $page }}</a>
                                                </li>
                                            @endif
                                        @endforeach

                                        {{-- Sonraki Sayfa --}}
                                        @if ($activities->hasMorePages())
                                            <li class="page-item">
                                                <a class="page-link" href="{{ $activities->nextPageUrl() }}">
                                                    Sonraki <i class="bi bi-chevron-right"></i>
                                                </a>
                                            </li>
                                        @else
                                            <li class="page-item disabled">
                                                <span class="page-link">
                                                    Sonraki <i class="bi bi-chevron-right"></i>
                                                </span>
                                            </li>
                                        @endif
                                    </ul>
                                </nav>

                                {{-- Sayfa Bilgisi --}}
                                <div class="text-center mt-3">
                                    <small class="text-muted">
                                        Toplam {{ $activities->total() }} kayttan
                                        {{ $activities->firstItem() }}-{{ $activities->lastItem() }} aras gsteriliyor
                                    </small>
                                </div>
                            </div>
                        @endif
                    </div>
                </div>
            </div>
        </div>
    </div>
@endsection

@push('styles')
    <style>
        .pagination-rounded .page-link {
            border-radius: 0.375rem;
            margin: 0 3px;
            border: 1px solid #dee2e6;
            color: #4a5568;
            padding: 0.5rem 0.75rem;
            transition: all 0.2s ease;
        }

        .pagination-rounded .page-link:hover {
            background-color: #f8f9fa;
            border-color: #adb5bd;
            transform: translateY(-1px);
        }

        .pagination-rounded .page-item.active .page-link {
            background-color: #3b82f6;
            border-color: #3b82f6;
            color: white;
            font-weight: 600;
        }

        .pagination-rounded .page-item.disabled .page-link {
            color: #adb5bd;
            background-color: white;
            cursor: not-allowed;
        }

        .table-hover tbody tr:hover {
            background-color: #f8f9fa;
        }

        .badge {
            font-weight: 500;
            padding: 0.35rem 0.65rem;
        }
    </style>
@endpush


----------------------------------------
DOSYA YOLU: resources\views\maintenance\create.blade.php
----------------------------------------

@extends('layouts.app')

@section('title', 'Yeni Bakm Plan')

@push('styles')
    <style>
        /* --- ANA TASARIM (Dier sayfalarla ortak) --- */
        #app>main.py-4 {
            padding: 2rem 0 !important;
            min-height: calc(100vh - 72px);
            background: linear-gradient(-45deg, #667eea, #764ba2, #f093fb, #4facfe);
            background-size: 400% 400%;
            animation: gradientShift 15s ease infinite;
        }

        @keyframes gradientShift {
            0% {
                background-position: 0% 50%;
            }

            50% {
                background-position: 100% 50%;
            }

            100% {
                background-position: 0% 50%;
            }
        }

        .modern-container {
            max-width: 1000px;
            /* Form iin biraz daha dar container idealdir */
            margin: 0 auto;
        }

        /* Form Kart */
        .form-card {
            background: rgba(255, 255, 255, 0.95);
            backdrop-filter: blur(20px);
            border-radius: 20px;
            border: 1px solid rgba(255, 255, 255, 0.3);
            box-shadow: 0 10px 40px rgba(0, 0, 0, 0.1);
            overflow: hidden;
        }

        .form-card .card-header {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            padding: 1.5rem 2rem;
            border-bottom: none;
        }

        .form-card .card-header h4 {
            color: white;
            font-weight: 700;
            margin: 0;
            font-size: 1.25rem;
        }

        /* Form Elemanlar */
        .form-label {
            color: #495057;
            font-weight: 600;
            font-size: 0.9rem;
            margin-bottom: 0.5rem;
        }

        .form-control,
        .form-select {
            border-radius: 12px;
            border: 2px solid #e9ecef;
            padding: 0.8rem 1rem;
            font-size: 0.95rem;
            transition: all 0.3s ease;
            background-color: #fff;
        }

        .form-control:focus,
        .form-select:focus {
            border-color: #667eea;
            box-shadow: 0 0 0 4px rgba(102, 126, 234, 0.1);
        }

        .form-text {
            font-size: 0.8rem;
            color: #8898aa;
            margin-top: 0.4rem;
        }

        /* Butonlar */
        .btn-save {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            border: none;
            color: white;
            font-weight: 600;
            padding: 1rem 2.5rem;
            border-radius: 12px;
            transition: all 0.3s ease;
            box-shadow: 0 4px 15px rgba(102, 126, 234, 0.3);
        }

        .btn-save:hover {
            transform: translateY(-2px);
            box-shadow: 0 8px 25px rgba(102, 126, 234, 0.4);
            color: white;
        }

        .btn-cancel {
            padding: 1rem 2rem;
            color: #6c757d;
            font-weight: 600;
            transition: all 0.3s;
        }

        .btn-cancel:hover {
            color: #343a40;
            background-color: rgba(0, 0, 0, 0.05);
            border-radius: 12px;
        }
    </style>
@endpush

@section('content')
    <div class="container-fluid modern-container">
        {{-- st Navigasyon --}}
        <div class="d-flex align-items-center mb-4">
            <a href="{{ route('maintenance.index') }}" class="btn btn-light rounded-circle shadow-sm me-3"
                style="width: 40px; height: 40px; display: flex; align-items: center; justify-content: center;">
                <i class="fas fa-arrow-left text-primary"></i>
            </a>
            <div>
                <h4 class="fw-bold text-white mb-0" style="text-shadow: 0 2px 4px rgba(0,0,0,0.1);">Yeni Plan Olutur</h4>
                <small class="text-white-50">Yeni bir bakm veya arza kayd oluturun</small>
            </div>
        </div>

        <div class="row justify-content-center">
            <div class="col-12">
                <div class="card form-card">
                    <div class="card-header">
                        <h4><i class="fas fa-calendar-plus me-2"></i>Plan Bilgileri</h4>
                    </div>

                    <div class="card-body p-4 p-md-5">

                        {{-- Hata Mesajlar --}}
                        @if ($errors->any())
                            <div class="alert alert-danger border-0 shadow-sm rounded-3 mb-4">
                                <div class="d-flex align-items-center mb-2">
                                    <i class="fas fa-exclamation-triangle fa-lg me-2"></i>
                                    <h6 class="mb-0 fw-bold">Ltfen aadaki hatalar dzeltin:</h6>
                                </div>
                                <ul class="mb-0 ps-3">
                                    @foreach ($errors->all() as $error)
                                        <li>{{ $error }}</li>
                                    @endforeach
                                </ul>
                            </div>
                        @endif

                        <form method="POST" action="{{ route('maintenance.store') }}" autocomplete="off">
                            @csrf

                            {{-- Balk --}}
                            <div class="mb-4">
                                <label for="title" class="form-label">
                                    <i class="fas fa-heading me-1 text-primary opacity-75"></i> Plan Bal / Arza Tanm
                                    <span class="text-danger">*</span>
                                </label>
                                <input type="text" class="form-control form-control-lg" id="title" name="title"
                                    value="{{ old('title') }}" placeholder="rn: CNC Lazer Yllk Bakm" required>
                                <div class="form-text">Yaplacak ii zetleyen ksa ve anlalr bir balk giriniz.</div>
                            </div>

                            <div class="row g-4">
                                {{-- Sol Stun --}}
                                <div class="col-md-6">
                                    <div class="mb-3">
                                        <label for="maintenance_type_id" class="form-label">
                                            <i class="fas fa-tags me-1 text-primary opacity-75"></i> Bakm Tr / Departman
                                            <span class="text-danger">*</span>
                                        </label>
                                        <select class="form-select" id="maintenance_type_id" name="maintenance_type_id"
                                            required>
                                            <option value="">Seiniz...</option>
                                            @foreach ($types as $type)
                                                <option value="{{ $type->id }}"
                                                    {{ old('maintenance_type_id') == $type->id ? 'selected' : '' }}>
                                                    {{ $type->name }}
                                                </option>
                                            @endforeach
                                        </select>
                                    </div>

                                    <div class="mb-3">
                                        <label for="planned_start_date" class="form-label">
                                            <i class="fas fa-calendar-alt me-1 text-primary opacity-75"></i> Planlanan
                                            Balang <span class="text-danger">*</span>
                                        </label>
                                        <input type="datetime-local" class="form-control" id="planned_start_date"
                                            name="planned_start_date" value="{{ old('planned_start_date') }}" required>
                                    </div>

                                    <div class="mb-3">
                                        <label for="priority" class="form-label">
                                            <i class="fas fa-thermometer-half me-1 text-primary opacity-75"></i> ncelik
                                            Durumu
                                        </label>
                                        <select class="form-select" id="priority" name="priority">
                                            <option value="low" {{ old('priority') == 'low' ? 'selected' : '' }}>
                                                 Dk (Planl Rutin)
                                            </option>
                                            <option value="normal"
                                                {{ old('priority', 'normal') == 'normal' ? 'selected' : '' }}>
                                                 Normal
                                            </option>
                                            <option value="high" {{ old('priority') == 'high' ? 'selected' : '' }}>
                                                 Yksek (retimi Etkiliyor)
                                            </option>
                                            <option value="critical" {{ old('priority') == 'critical' ? 'selected' : '' }}>
                                                 KRTK (Acil Mdahale)
                                            </option>
                                        </select>
                                    </div>
                                </div>

                                {{-- Sa Stun --}}
                                <div class="col-md-6">
                                    <div class="mb-3">
                                        <label for="maintenance_asset_id" class="form-label">
                                            <i class="fas fa-microchip me-1 text-primary opacity-75"></i> lgili Varlk
                                            (Makine/Zone) <span class="text-danger">*</span>
                                        </label>
                                        <select class="form-select" id="maintenance_asset_id" name="maintenance_asset_id"
                                            required>
                                            <option value="">Seiniz...</option>
                                            @foreach ($assets as $asset)
                                                <option value="{{ $asset->id }}"
                                                    {{ old('maintenance_asset_id') == $asset->id ? 'selected' : '' }}>
                                                    [{{ strtoupper($asset->category) }}] {{ $asset->name }}
                                                    ({{ $asset->code }})
                                                </option>
                                            @endforeach
                                        </select>
                                        <div class="form-text">Bakm yaplacak makineyi veya blgeyi seiniz.</div>
                                    </div>

                                    <div class="mb-3">
                                        <label for="planned_end_date" class="form-label">
                                            <i class="fas fa-calendar-check me-1 text-primary opacity-75"></i> Tahmini Biti
                                            <span class="text-danger">*</span>
                                        </label>
                                        <input type="datetime-local" class="form-control" id="planned_end_date"
                                            name="planned_end_date" value="{{ old('planned_end_date') }}" required>
                                    </div>
                                </div>
                            </div>

                            {{-- Aklama --}}
                            <div class="mt-4">
                                <label for="description" class="form-label">
                                    <i class="fas fa-align-left me-1 text-primary opacity-75"></i> Detayl Aklama / 
                                    Emri Notlar
                                </label>
                                <textarea class="form-control" id="description" name="description" rows="5"
                                    placeholder="Yaplacak ilemlerin detaylarn, para gereksinimlerini veya zel notlar buraya giriniz...">{{ old('description') }}</textarea>
                            </div>
                            {{-- DNAMK ALANLAR --}}
                            <div class="mt-4">
                                <x-dynamic-fields :model="\App\Models\MaintenancePlan::class" />
                            </div>

                            {{-- Aksiyon Butonlar --}}
                            <div class="d-flex justify-content-end align-items-center mt-5 pt-3 border-top">
                                <a href="{{ route('maintenance.index') }}"
                                    class="btn btn-cancel me-3 text-decoration-none">
                                    ptal Et
                                </a>
                                <button type="submit" class="btn btn-save">
                                    <i class="fas fa-save me-2"></i>Plan Olutur
                                </button>
                            </div>

                        </form>
                    </div>
                </div>
            </div>
        </div>
    </div>
@endsection


----------------------------------------
DOSYA YOLU: resources\views\maintenance\edit.blade.php
----------------------------------------

@extends('layouts.app')

@section('title', 'Bakm Plann Dzenle')

@push('styles')
    <style>
        /* --- ANA TASARIM --- */
        #app>main.py-4 {
            padding: 2rem 0 !important;
            min-height: calc(100vh - 72px);
            background: linear-gradient(-45deg, #667eea, #764ba2, #f093fb, #4facfe);
            background-size: 400% 400%;
            animation: gradientShift 15s ease infinite;
        }

        @keyframes gradientShift {
            0% {
                background-position: 0% 50%;
            }

            50% {
                background-position: 100% 50%;
            }

            100% {
                background-position: 0% 50%;
            }
        }

        .modern-container {
            max-width: 1000px;
            margin: 0 auto;
        }

        /* Form Kart */
        .form-card {
            background: rgba(255, 255, 255, 0.95);
            backdrop-filter: blur(20px);
            border-radius: 20px;
            border: 1px solid rgba(255, 255, 255, 0.3);
            box-shadow: 0 10px 40px rgba(0, 0, 0, 0.1);
            overflow: hidden;
        }

        .form-card .card-header {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            padding: 1.5rem 2rem;
            border-bottom: none;
        }

        .form-card .card-header h4 {
            color: white;
            font-weight: 700;
            margin: 0;
            font-size: 1.25rem;
        }

        /* Form Elemanlar */
        .form-label {
            color: #495057;
            font-weight: 600;
            font-size: 0.9rem;
            margin-bottom: 0.5rem;
        }

        .form-control,
        .form-select {
            border-radius: 12px;
            border: 2px solid #e9ecef;
            padding: 0.8rem 1rem;
            font-size: 0.95rem;
            transition: all 0.3s ease;
            background-color: #fff;
        }

        .form-control:focus,
        .form-select:focus {
            border-color: #667eea;
            box-shadow: 0 0 0 4px rgba(102, 126, 234, 0.1);
        }

        .form-text {
            font-size: 0.8rem;
            color: #8898aa;
            margin-top: 0.4rem;
        }

        /* Butonlar */
        .btn-save {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            border: none;
            color: white;
            font-weight: 600;
            padding: 1rem 2.5rem;
            border-radius: 12px;
            transition: all 0.3s ease;
            box-shadow: 0 4px 15px rgba(102, 126, 234, 0.3);
        }

        .btn-save:hover {
            transform: translateY(-2px);
            box-shadow: 0 8px 25px rgba(102, 126, 234, 0.4);
            color: white;
        }

        .btn-cancel {
            padding: 1rem 2rem;
            color: #6c757d;
            font-weight: 600;
            transition: all 0.3s;
        }

        .btn-cancel:hover {
            color: #343a40;
            background-color: rgba(0, 0, 0, 0.05);
            border-radius: 12px;
        }
    </style>
@endpush

@section('content')
    <div class="container-fluid modern-container">

        {{-- st Navigasyon --}}
        <div class="d-flex align-items-center mb-4">
            <a href="{{ route('maintenance.index') }}" class="btn btn-light rounded-circle shadow-sm me-3"
                style="width: 40px; height: 40px; display: flex; align-items: center; justify-content: center;">
                <i class="fas fa-arrow-left text-primary"></i>
            </a>
            <div>
                <h4 class="fw-bold text-white mb-0" style="text-shadow: 0 2px 4px rgba(0,0,0,0.1);">Plan Gncelle</h4>
                <small class="text-white-50">Dzenlenen Kayt: {{ $plan->title }}</small>
            </div>
        </div>

        <div class="row justify-content-center">
            <div class="col-12">
                <div class="card form-card">
                    <div class="card-header">
                        <h4><i class="fas fa-edit me-2"></i>Plan Bilgileri</h4>
                    </div>

                    <div class="card-body p-4 p-md-5">

                        {{-- Hata Mesajlar --}}
                        @if ($errors->any())
                            <div class="alert alert-danger border-0 shadow-sm rounded-3 mb-4">
                                <div class="d-flex align-items-center mb-2">
                                    <i class="fas fa-exclamation-triangle fa-lg me-2"></i>
                                    <h6 class="mb-0 fw-bold">Ltfen aadaki hatalar dzeltin:</h6>
                                </div>
                                <ul class="mb-0 ps-3">
                                    @foreach ($errors->all() as $error)
                                        <li>{{ $error }}</li>
                                    @endforeach
                                </ul>
                            </div>
                        @endif

                        <form method="POST" action="{{ route('maintenance.update', $plan->id) }}" autocomplete="off">
                            @csrf
                            @method('PUT')

                            {{-- Balk --}}
                            <div class="mb-4">
                                <label for="title" class="form-label">
                                    <i class="fas fa-heading me-1 text-primary opacity-75"></i> Plan Bal / Arza Tanm
                                    <span class="text-danger">*</span>
                                </label>
                                <input type="text" class="form-control form-control-lg" id="title" name="title"
                                    value="{{ old('title', $plan->title) }}" placeholder="rn: CNC Lazer Yllk Bakm"
                                    required>
                                <div class="form-text">Yaplacak ii zetleyen ksa ve anlalr bir balk giriniz.</div>
                            </div>

                            <div class="row g-4">
                                {{-- Sol Stun --}}
                                <div class="col-md-6">
                                    <div class="mb-3">
                                        <label for="maintenance_type_id" class="form-label">
                                            <i class="fas fa-tags me-1 text-primary opacity-75"></i> Bakm Tr / Departman
                                            <span class="text-danger">*</span>
                                        </label>
                                        <select class="form-select" id="maintenance_type_id" name="maintenance_type_id"
                                            required>
                                            <option value="">Seiniz...</option>
                                            @foreach ($types as $type)
                                                <option value="{{ $type->id }}"
                                                    {{ old('maintenance_type_id', $plan->maintenance_type_id) == $type->id ? 'selected' : '' }}>
                                                    {{ $type->name }}
                                                </option>
                                            @endforeach
                                        </select>
                                    </div>

                                    <div class="mb-3">
                                        <label for="planned_start_date" class="form-label">
                                            <i class="fas fa-calendar-alt me-1 text-primary opacity-75"></i> Planlanan
                                            Balang
                                            <span class="text-danger">*</span>
                                        </label>
                                        <input type="datetime-local" class="form-control" id="planned_start_date"
                                            name="planned_start_date"
                                            value="{{ old('planned_start_date', $plan->planned_start_date ? \Carbon\Carbon::parse($plan->planned_start_date)->format('Y-m-d\TH:i') : '') }}"
                                            required>
                                    </div>

                                    <div class="mb-3">
                                        <label for="priority" class="form-label">
                                            <i class="fas fa-thermometer-half me-1 text-primary opacity-75"></i> ncelik
                                            Durumu
                                        </label>
                                        <select class="form-select" id="priority" name="priority">
                                            <option value="low"
                                                {{ old('priority', $plan->priority) == 'low' ? 'selected' : '' }}>
                                                 Dk (Planl Rutin)
                                            </option>
                                            <option value="normal"
                                                {{ old('priority', $plan->priority) == 'normal' ? 'selected' : '' }}>
                                                 Normal
                                            </option>
                                            <option value="high"
                                                {{ old('priority', $plan->priority) == 'high' ? 'selected' : '' }}>
                                                 Yksek (retimi Etkiliyor)
                                            </option>
                                            <option value="critical"
                                                {{ old('priority', $plan->priority) == 'critical' ? 'selected' : '' }}>
                                                 KRTK (Acil Mdahale)
                                            </option>
                                        </select>
                                    </div>
                                </div>

                                {{-- Sa Stun --}}
                                <div class="col-md-6">
                                    <div class="mb-3">
                                        <label for="maintenance_asset_id" class="form-label">
                                            <i class="fas fa-microchip me-1 text-primary opacity-75"></i> lgili Varlk
                                            (Makine/Zone)
                                            <span class="text-danger">*</span>
                                        </label>
                                        <select class="form-select" id="maintenance_asset_id" name="maintenance_asset_id"
                                            required>
                                            <option value="">Seiniz...</option>
                                            @foreach ($assets as $asset)
                                                <option value="{{ $asset->id }}"
                                                    {{ old('maintenance_asset_id', $plan->maintenance_asset_id) == $asset->id ? 'selected' : '' }}>
                                                    [{{ strtoupper($asset->category) }}] {{ $asset->name }}
                                                    ({{ $asset->code }})
                                                </option>
                                            @endforeach
                                        </select>
                                        <div class="form-text">Bakm yaplacak makineyi veya blgeyi seiniz.</div>
                                    </div>

                                    <div class="mb-3">
                                        <label for="planned_end_date" class="form-label">
                                            <i class="fas fa-calendar-check me-1 text-primary opacity-75"></i> Tahmini
                                            Biti
                                            <span class="text-danger">*</span>
                                        </label>
                                        <input type="datetime-local" class="form-control" id="planned_end_date"
                                            name="planned_end_date"
                                            value="{{ old('planned_end_date', $plan->planned_end_date ? \Carbon\Carbon::parse($plan->planned_end_date)->format('Y-m-d\TH:i') : '') }}"
                                            required>
                                    </div>

                                    <div class="mb-3">
                                        <label for="status" class="form-label">
                                            <i class="fas fa-tasks me-1 text-primary opacity-75"></i> Plan Durumu
                                            <span class="text-danger">*</span>
                                        </label>

                                        {{-- Durum ve Yetki Kontrolleri --}}
                                        @php
                                            $hasWorkRecord =
                                                $plan->previous_duration_minutes > 0 || $plan->isTimerActive();

                                            // Eer plan onaya sunulmusa (pending_approval), geri dn kilitlenir.
                                            $isLocked = $plan->status == 'pending_approval';

                                            // Ancak Ynetici (approve yetkisi olan) plan reddedip geri alabilir, ona kilit yok.
                                            if (Auth::user()->can('approve', $plan)) {
                                                $isLocked = false;
                                            }
                                        @endphp

                                        <select class="form-select" id="status" name="status" required>

                                            {{-- AIK --}}
                                            <option value="open"
                                                {{ old('status', $plan->status) == 'open' ? 'selected' : '' }}
                                                {{ $isLocked ? 'disabled' : '' }}>
                                                @if ($isLocked)
                                                     Ak (Onay Srecinde)
                                                @else
                                                     Ak / Bekliyor
                                                @endif
                                            </option>

                                            {{-- LEMDE --}}
                                            <option value="in_progress"
                                                {{ old('status', $plan->status) == 'in_progress' ? 'selected' : '' }}
                                                {{ $isLocked ? 'disabled' : '' }}>
                                                @if ($isLocked)
                                                     lemde (Onay Srecinde)
                                                @else
                                                     lemde (Sryor)
                                                @endif
                                            </option>

                                            {{-- ONAY BEKLYOR --}}
                                            <option value="pending_approval"
                                                {{ old('status', $plan->status) == 'pending_approval' ? 'selected' : '' }}
                                                {{ !$hasWorkRecord ? 'disabled' : '' }}>
                                                @if (!$hasWorkRecord)
                                                     Onay Bekliyor (nce sre kaydedin)
                                                @else
                                                     Onay Bekliyor
                                                @endif
                                            </option>

                                            {{-- TAMAMLANDI (Sadece Yetkiliye) --}}
                                            @can('approve', $plan)
                                                <option value="completed"
                                                    {{ old('status', $plan->status) == 'completed' ? 'selected' : '' }}
                                                    {{ !$hasWorkRecord ? 'disabled' : '' }}>
                                                     Tamamland {{ !$hasWorkRecord ? '(Sre Yok)' : '' }}
                                                </option>
                                            @else
                                                @if ($plan->status == 'completed')
                                                    <option value="completed" selected disabled> Tamamland (Deitirilemez)
                                                    </option>
                                                @endif
                                            @endcan

                                            {{-- PTAL --}}
                                            <option value="cancelled"
                                                {{ old('status', $plan->status) == 'cancelled' ? 'selected' : '' }}>
                                                 ptal Edildi
                                            </option>
                                        </select>

                                        {{-- DNAMK BLGLENDRME MESAJLARI --}}
                                        <div class="mt-2">
                                            @if (!$hasWorkRecord)
                                                {{-- DURUM 1: Sre Yoksa --}}
                                                <div class="alert alert-danger d-flex align-items-center p-2 mb-0"
                                                    role="alert" style="font-size: 0.85rem;">
                                                    <i class="fas fa-exclamation-circle me-2 fs-5"></i>
                                                    <div>
                                                        <strong>lem Kstl:</strong> Plan tamamlamak veya onaya
                                                        gndermek iin nce detay sayfasndan
                                                        <span class="text-decoration-underline fw-bold">"almay
                                                            Balat"</span> demelisiniz.
                                                    </div>
                                                </div>
                                            @elseif ($isLocked)
                                                {{-- DURUM 2: Plan Onayda ve Kullanc Yetkisizse --}}
                                                <div class="alert alert-warning d-flex align-items-center p-2 mb-0"
                                                    role="alert" style="font-size: 0.85rem;">
                                                    <i class="fas fa-lock me-2 fs-5"></i>
                                                    <div>
                                                        <strong>Plan Kilitli:</strong> Bu plan u an ynetici onayndadr.
                                                        Geri almak iin yneticinizin reddetmesi gerekir.
                                                    </div>
                                                </div>
                                            @elseif (Auth::user()->cannot('approve', $plan))
                                                {{-- DURUM 3: Standart Kullanc (lem Yapabilir Durumda) --}}
                                                <div class="form-text text-info">
                                                    <i class="fas fa-info-circle me-1"></i>
                                                    i bitirdiinizde <strong>" Onay Bekliyor"</strong> seeneini
                                                    iaretleyip kaydedin. Yneticiniz onayladnda plan tamamlanacaktr.
                                                </div>
                                            @else
                                                {{-- DURUM 4: Ynetici --}}
                                                <div class="form-text text-success">
                                                    <i class="fas fa-check-double me-1"></i>
                                                    Yetkilisiniz. i dorudan <strong>" Tamamland"</strong> durumuna
                                                    alabilirsiniz.
                                                </div>
                                            @endif
                                        </div>
                                    </div>

                                </div>
                            </div>

                            {{-- Aklama --}}
                            <div class="mt-4">
                                <label for="description" class="form-label">
                                    <i class="fas fa-align-left me-1 text-primary opacity-75"></i> Detayl Aklama / 
                                    Emri Notlar
                                </label>
                                <textarea class="form-control" id="description" name="description" rows="5"
                                    placeholder="Yaplacak ilemlerin detaylarn, para gereksinimlerini veya zel notlar buraya giriniz...">{{ old('description', $plan->description) }}</textarea>
                            </div>
                            {{-- DNAMK ALANLAR --}}
                            <div class="mt-4">
                                <x-dynamic-fields :model="\App\Models\MaintenancePlan::class" :entity="$plan" />
                            </div>

                            {{-- Aksiyon Butonlar --}}
                            <div class="d-flex justify-content-end align-items-center mt-5 pt-3 border-top">
                                <a href="{{ route('maintenance.index') }}"
                                    class="btn btn-cancel me-3 text-decoration-none">
                                    ptal Et
                                </a>
                                <button type="submit" class="btn btn-save">
                                    <i class="fas fa-save me-2"></i>Deiiklikleri Kaydet
                                </button>
                            </div>

                        </form>
                    </div>
                </div>
            </div>
        </div>
    </div>
@endsection


----------------------------------------
DOSYA YOLU: resources\views\maintenance\index.blade.php
----------------------------------------

@extends('layouts.app')
@section('title', 'Bakm Planlar')

@push('styles')
    <style>
        /* --- ANA TEMEL STLLER (retim Modl ile Eitlendi) --- */
        #app>main.py-4 {
            padding: 2rem 0 !important;
            min-height: calc(100vh - 72px);
            /* retim modlndeki gradient */
            background: linear-gradient(-45deg, #667eea, #764ba2, #f093fb, #4facfe);
            background-size: 400% 400%;
            animation: gradientShift 15s ease infinite;
        }

        @keyframes gradientShift {
            0% {
                background-position: 0% 50%;
            }

            50% {
                background-position: 100% 50%;
            }

            100% {
                background-position: 0% 50%;
            }
        }

        .modern-container {
            max-width: 1400px;
            margin: 0 auto;
        }

        /* Balk ve Kart Yaplar */
        .page-header {
            background: rgba(255, 255, 255, 0.95);
            backdrop-filter: blur(20px);
            border-radius: 20px;
            padding: 2rem;
            margin-bottom: 2rem;
            box-shadow: 0 10px 40px rgba(0, 0, 0, 0.1);
            border: 1px solid rgba(255, 255, 255, 0.3);
        }

        .page-header h1 {
            margin: 0;
            font-size: 2rem;
            font-weight: 700;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
        }

        .page-header p {
            margin: 0.5rem 0 0 0;
            color: #6c757d;
            font-size: 0.95rem;
        }

        /* Alert Stilleri */
        .alert {
            border-radius: 15px;
            border: none;
            backdrop-filter: blur(10px);
            box-shadow: 0 5px 20px rgba(0, 0, 0, 0.08);
        }

        .alert-success {
            background: rgba(40, 199, 111, 0.15);
            color: #1e7e34;
        }

        .alert-danger {
            background: rgba(235, 87, 87, 0.15);
            color: #c82333;
        }

        .alert-warning {
            background: rgba(255, 193, 7, 0.15);
            color: #856404;
        }

        /* Filtre Buton ve Kartlar */
        .btn-filter-toggle {
            background: rgba(255, 255, 255, 0.95);
            backdrop-filter: blur(10px);
            border: 2px solid rgba(102, 126, 234, 0.3);
            border-radius: 15px;
            color: #667eea;
            font-weight: 600;
            padding: 1rem 1.5rem;
            transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
            box-shadow: 0 4px 15px rgba(102, 126, 234, 0.2);
        }

        .btn-filter-toggle:hover,
        .btn-filter-toggle[aria-expanded="true"] {
            background: #667eea;
            color: white;
            border-color: #667eea;
            transform: translateY(-2px);
            box-shadow: 0 8px 25px rgba(102, 126, 234, 0.3);
        }

        .filter-card {
            background: rgba(255, 255, 255, 0.95);
            backdrop-filter: blur(20px);
            border-radius: 20px;
            border: 1px solid rgba(255, 255, 255, 0.3);
            box-shadow: 0 10px 40px rgba(0, 0, 0, 0.1);
            padding: 2rem;
            animation: slideDown 0.3s ease;
        }

        @keyframes slideDown {
            from {
                opacity: 0;
                transform: translateY(-20px);
            }

            to {
                opacity: 1;
                transform: translateY(0);
            }
        }

        .filter-card .form-control,
        .filter-card .form-select {
            border-radius: 12px;
            border: 2px solid #e9ecef;
            padding: 0.75rem 1rem;
            transition: all 0.3s ease;
        }

        .filter-card .form-control:focus,
        .filter-card .form-select:focus {
            border-color: #667eea;
            box-shadow: 0 0 0 0.2rem rgba(102, 126, 234, 0.15);
        }

        .btn-apply-filter {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            border: none;
            color: white;
            font-weight: 600;
            padding: 0.75rem 2rem;
            border-radius: 12px;
            transition: all 0.3s ease;
            box-shadow: 0 4px 15px rgba(102, 126, 234, 0.3);
        }

        .btn-apply-filter:hover {
            transform: translateY(-2px);
            color: white;
        }

        .btn-clear-filter {
            background: white;
            border: 2px solid #e9ecef;
            color: #6c757d;
            font-weight: 600;
            padding: 0.75rem 2rem;
            border-radius: 12px;
            transition: all 0.3s ease;
        }

        .btn-clear-filter:hover {
            background: #f8f9fa;
            transform: translateY(-2px);
        }

        /* Ana Liste Kart ve Tablo */
        .list-card {
            background: rgba(255, 255, 255, 0.95);
            backdrop-filter: blur(20px);
            border-radius: 20px;
            border: 1px solid rgba(255, 255, 255, 0.3);
            box-shadow: 0 10px 40px rgba(0, 0, 0, 0.1);
            overflow: hidden;
        }

        .list-card .card-header {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
            font-weight: 700;
            font-size: 1.3rem;
            border: none;
            padding: 1.5rem 2rem;
            display: flex;
            align-items: center;
            justify-content: space-between;
        }

        .table {
            background-color: transparent;
            margin-bottom: 0;
        }

        .table thead {
            background: rgba(102, 126, 234, 0.05);
        }

        .table thead th {
            color: #495057;
            font-weight: 700;
            font-size: 0.85rem;
            text-transform: uppercase;
            letter-spacing: 0.5px;
            border-bottom: 2px solid rgba(102, 126, 234, 0.2);
            padding: 1.25rem 1rem;
        }

        .table tbody tr {
            transition: all 0.3s ease;
            border-bottom: 1px solid rgba(0, 0, 0, 0.05);
        }

        .table tbody tr:hover {
            background: rgba(102, 126, 234, 0.08) !important;
            transform: scale(1.005);
            box-shadow: 0 5px 15px rgba(0, 0, 0, 0.08);
            z-index: 10;
            position: relative;
        }

        .table td {
            vertical-align: middle;
            padding: 1.25rem 1rem;
            color: #495057;
            font-size: 0.95rem;
        }

        /* Aksiyon Butonlar */
        .btn-action {
            width: 40px;
            height: 40px;
            border-radius: 10px;
            display: inline-flex;
            align-items: center;
            justify-content: center;
            border: none;
            transition: all 0.3s ease;
            font-size: 0.9rem;
            margin: 0 0.25rem;
        }

        .btn-action:hover {
            transform: translateY(-3px);
            box-shadow: 0 5px 15px rgba(0, 0, 0, 0.2);
        }

        .btn-action.btn-info {
            background: linear-gradient(135deg, #17a2b8 0%, #138496 100%);
            color: white;
        }

        .btn-action.btn-danger {
            background: linear-gradient(135deg, #ff6b6b 0%, #ee5a6f 100%);
            color: white;
        }

        /* Yetkisiz buton iin gri tonlama */
        .btn-action.btn-danger-disabled {
            background: linear-gradient(135deg, #a4a6a8 0%, #838587 100%);
            color: white;
            cursor: not-allowed;
        }

        .btn-action.btn-primary {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
        }

        /* --- BAKIM MODLNE ZEL STLLER --- */
        /* ncelik Gstergesi (Priority Dot) */
        .priority-dot {
            height: 10px;
            width: 10px;
            border-radius: 50%;
            display: inline-block;
            margin-right: 5px;
        }

        .priority-critical {
            background-color: #e74c3c;
            box-shadow: 0 0 5px #e74c3c;
        }

        .priority-high {
            background-color: #e67e22;
        }

        .priority-normal {
            background-color: #3498db;
        }

        .priority-low {
            background-color: #95a5a6;
        }

        /* Pagination */
        .card-footer {
            background: rgba(255, 255, 255, 0.5);
            border-top: 1px solid rgba(0, 0, 0, 0.05) !important;
            padding: 1.5rem 2rem !important;
        }

        /* Yeil Excel Butonu */
        .btn-export-global {
            background: linear-gradient(135deg, #28c76f 0%, #1e7e34 100%);
            border: none;
            color: white;
            font-weight: 600;
            padding: 0.6rem 1.5rem;
            border-radius: 0.5rem;
            text-decoration: none;
            display: inline-flex;
            align-items: center;
            transition: all 0.3s ease;
        }

        .btn-export-global:hover {
            transform: translateY(-2px);
            box-shadow: 0 4px 12px rgba(40, 199, 111, 0.3);
            color: white;
        }
    </style>
@endpush

@section('content')
    <div class="container-fluid modern-container">
        <div class="row justify-content-center">
            <div class="col-12">

                {{-- Sayfa Bal --}}
                <div class="page-header d-flex justify-content-between align-items-center">
                    <div>
                        <h1><i class="fas fa-tools"></i> Bakm Planlar</h1>
                        <p>Bakm ve arza planlarn grntleyin, ynetin ve takip edin.</p>
                    </div>
                    <div>
                        <a href="{{ route('maintenance.export_list') }}" class="btn btn-export-global shadow-sm">
                            <i class="fas fa-file-excel me-2"></i>Listeyi Excel'e Aktar
                        </a>
                        <a href="{{ route('maintenance.create') }}" class="btn btn-apply-filter shadow-sm">
                            <i class="fas fa-plus me-2"></i> Yeni Bakm Plan
                        </a>
                        <a href="{{ route('kanban.board', ['scope' => 'maintenance']) }}"
                            class="btn btn-apply-filter shadow-sm">
                            <i class="fas fa-plus me-2"></i> Pano Grnm
                        </a>
                    </div>
                </div>

                {{-- Baar/Hata Mesajlar --}}
                @if (session('success'))
                    <div class="alert alert-success alert-dismissible fade show" role="alert">
                        <i class="fas fa-check-circle me-2"></i>{{ session('success') }}
                        <button type="button" class="btn-close" data-bs-dismiss="alert"></button>
                    </div>
                @endif
                @if (session('error'))
                    <div class="alert alert-danger alert-dismissible fade show" role="alert">
                        <i class="fas fa-exclamation-circle me-2"></i>{{ session('error') }}
                        <button type="button" class="btn-close" data-bs-dismiss="alert"></button>
                    </div>
                @endif

                {{-- Filtre Blm (Opsiyonel - Backend destei varsa aktif edilebilir) --}}
                <div class="mb-4">
                    <div class="d-grid">
                        <button class="btn btn-filter-toggle" type="button" data-bs-toggle="collapse"
                            data-bs-target="#filterCollapse" aria-expanded="false" aria-controls="filterCollapse">
                            <i class="fas fa-sliders-h me-2"></i> Filtre Seenekleri
                            <i class="fas fa-chevron-down ms-2"></i>
                        </button>
                    </div>

                    <div class="collapse mt-3" id="filterCollapse">
                        <div class="card filter-card">
                            <form method="GET" action="{{ route('maintenance.index') }}">
                                <div class="row">
                                    {{-- rnek Filtreler --}}
                                    <div class="col-md-4">
                                        <label class="form-label"><i class="fas fa-search me-1"></i>Balk Ara</label>
                                        <input type="text" class="form-control" name="search"
                                            placeholder="Plan bal..." value="{{ request('search') }}">
                                    </div>
                                    <div class="col-md-4">
                                        <label class="form-label"><i class="fas fa-tasks me-1"></i>Durum</label>
                                        <select class="form-select" name="status">
                                            <option value="">Tm</option>
                                            <option value="pending">Bekliyor</option>
                                            <option value="in_progress">lemde</option>
                                            <option value="completed">Tamamland</option>
                                        </select>
                                    </div>
                                    <div class="col-md-4">
                                        <label class="form-label"><i class="fas fa-calendar-alt me-1"></i>Tarih</label>
                                        <input type="date" class="form-control" name="date"
                                            value="{{ request('date') }}">
                                    </div>
                                </div>
                                <div class="d-flex justify-content-end gap-2 mt-4">
                                    <a href="{{ route('maintenance.index') }}" class="btn btn-clear-filter">
                                        <i class="fas fa-times me-2"></i>Temizle
                                    </a>
                                    <button type="submit" class="btn btn-apply-filter">
                                        <i class="fas fa-check me-2"></i>Filtrele
                                    </button>
                                </div>
                            </form>
                        </div>
                    </div>
                </div>

                {{-- Ana Liste Kart --}}
                <div class="card list-card">
                    <div class="card-header">
                        <div>
                            <i class="fas fa-list me-2"></i>
                            <span>Bakm Listesi</span>
                        </div>
                        <span class="badge bg-white text-primary rounded-pill fs-6">{{ $plans->count() }} Kayt</span>
                    </div>

                    <div class="card-body p-0">
                        @if ($plans->isEmpty())
                            <div class="alert alert-warning m-4" role="alert">
                                <i class="fas fa-info-circle me-2"></i>Henz kaytl bir bakm plan bulunamad.
                            </div>
                        @else
                            <div class="table-responsive">
                                <table class="table mb-0">
                                    <thead>
                                        <tr>
                                            <th scope="col" class="ps-4">Durum</th>
                                            <th scope="col">ncelik</th>
                                            <th scope="col">Balk</th>
                                            <th scope="col">Tr </th>
                                            <th scope="col">lgili Varlk</th>
                                            <th scope="col">Tarih</th>
                                            <th scope="col">Planlayan</th>
                                            <th scope="col" class="text-end pe-4">lemler</th>
                                        </tr>
                                    </thead>
                                    <tbody>
                                        @foreach ($plans as $plan)
                                            <tr>
                                                <td class="ps-4">
                                                    {{-- YEN: Modelden gelen Status Badge --}}
                                                    @php $statusBadge = $plan->status_badge; @endphp
                                                    <span
                                                        class="badge rounded-pill {{ $statusBadge['class'] }} shadow-sm px-3 py-2">
                                                        {{ $statusBadge['text'] }}
                                                    </span>
                                                </td>
                                                <td>
                                                    {{-- YEN: Modelden gelen Priority Badge --}}
                                                    @php $priorityBadge = $plan->priority_badge; @endphp
                                                    <span
                                                        class="badge rounded-pill {{ $priorityBadge['class'] }} shadow-sm px-3 py-2">
                                                        {{ $priorityBadge['text'] }}
                                                    </span>
                                                </td>
                                                <td>
                                                    <div class="d-flex flex-column">
                                                        <strong class="text-dark">{{ $plan->title }}</strong>
                                                    </div>
                                                </td>
                                                <td>
                                                    <span class="badge bg-light text-dark border">
                                                        <i class="fas fa-tag me-1 text-secondary"></i>
                                                        {{ $plan->type ? $plan->type->name : '-' }}
                                                    </span>
                                                </td>
                                                <td>
                                                    <div class="d-flex align-items-center">
                                                        <i class="fas fa-microchip text-primary me-2 opacity-50"></i>
                                                        <span
                                                            class="text-dark">{{ $plan->asset ? $plan->asset->name : '-' }}</span>
                                                    </div>
                                                </td>
                                                <td>
                                                    <div class="d-flex flex-column">
                                                        <small class="text-muted">
                                                            <i class="fas fa-play me-1 text-success"></i>
                                                            {{ $plan->planned_start_date ? $plan->planned_start_date->format('d.m.Y H:i') : '-' }}
                                                        </small>
                                                        <small class="text-muted">
                                                            <i class="fas fa-stop me-1 text-danger"></i>
                                                            {{ $plan->planned_end_date ? $plan->planned_end_date->format('d.m.Y H:i') : '-' }}
                                                        </small>
                                                    </div>
                                                </td>
                                                <td>
                                                    @if ($plan->user)
                                                        <div class="d-flex align-items-center">
                                                            <div class="bg-primary text-white rounded-circle d-flex align-items-center justify-content-center me-2 shadow-sm"
                                                                style="width: 32px; height: 32px; font-size: 0.85rem; background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);">
                                                                {{ substr($plan->user->name, 0, 1) }}
                                                            </div>
                                                            <span
                                                                class="small fw-semibold text-dark">{{ $plan->user->name }}</span>
                                                        </div>
                                                    @else
                                                        <span class="badge bg-secondary">Atanmam</span>
                                                    @endif
                                                </td>
                                                <td class="text-end pe-4">
                                                    <div class="btn-group" role="group">

                                                        {{-- 1. NCELE BUTONU (Herkes grebilir) --}}
                                                        <a href="{{ route('maintenance.show', $plan->id) }}"
                                                            class="btn btn-action btn-info" title="Plan Detaylar">
                                                            <i class="fas fa-eye"></i>
                                                        </a>

                                                        {{-- 2. DZENLE BUTONU MANTII --}}
                                                        {{-- KURAL: Plan Tamamlanmsa VE Kullanc Ynetici Deilse -> KLTLE --}}
                                                        @if ($plan->status === 'completed' && Auth::user()->cannot('approve', $plan))
                                                            <button type="button"
                                                                class="btn btn-action btn-danger-disabled"
                                                                style="background: #a4a6a8; cursor: not-allowed;"
                                                                onclick="alert('lem Engellendi!\n\nBu plan tamamlanmtr. Deiiklik yapmak iin yneticinizle grn.')"
                                                                title="Tamamland iin kilitli">
                                                                <i class="fas fa-lock"></i>
                                                            </button>
                                                        @else
                                                            {{-- Dier Durumlar: Yetki kontrol --}}
                                                            @can('update', $plan)
                                                                <a href="{{ route('maintenance.edit', $plan->id) }}"
                                                                    class="btn btn-action btn-warning text-white"
                                                                    title="Dzenle">
                                                                    <i class="fas fa-edit"></i>
                                                                </a>
                                                            @else
                                                                <button type="button"
                                                                    class="btn btn-action btn-danger-disabled"
                                                                    style="background: #a4a6a8; cursor: not-allowed;"
                                                                    onclick="alert('Bu ilemi yapmaya yetkiniz yok!\nSadece Admin, Ynetici veya Kayd Oluturan kii dzenleyebilir.')"
                                                                    title="Yetkiniz Yok">
                                                                    <i class="fas fa-ban"></i>
                                                                </button>
                                                            @endcan
                                                        @endif

                                                        {{-- 3. SLME BUTONU MANTII --}}
                                                        {{-- KURAL: Plan Tamamlanmsa -> HERKESE KLTLE (Ariv Gvenlii) --}}
                                                        @if ($plan->status === 'completed')
                                                            <button type="button"
                                                                class="btn btn-action btn-danger-disabled"
                                                                style="background: #a4a6a8; cursor: not-allowed;"
                                                                onclick="alert('lem Engellendi!\n\nTamamlanm bakm planlar ariv gvenlii nedeniyle silinemez.')"
                                                                title="Tamamland iin silinemez">
                                                                <i class="fas fa-lock"></i>
                                                            </button>
                                                        @else
                                                            {{-- Plan Ak/lemde ise -> Yetki kontrol --}}
                                                            @can('delete', $plan)
                                                                <form action="{{ route('maintenance.destroy', $plan->id) }}"
                                                                    method="POST" class="d-inline"
                                                                    onsubmit="return confirm('Bu plan silmek istediinize emin misiniz?');">
                                                                    @csrf
                                                                    @method('DELETE')
                                                                    <button type="submit" class="btn btn-action btn-danger"
                                                                        title="Sil">
                                                                        <i class="fas fa-trash"></i>
                                                                    </button>
                                                                </form>
                                                            @else
                                                                <button type="button"
                                                                    class="btn btn-action btn-danger-disabled"
                                                                    style="background: #a4a6a8; cursor: not-allowed;"
                                                                    onclick="alert('Bu ilemi yapmaya yetkiniz yok!\nSadece Admin, Ynetici veya Kayd Oluturan kii silebilir.')"
                                                                    title="Yetkiniz Yok">
                                                                    <i class="fas fa-trash"></i> {{-- Yetkisi yoksa p kutusu ama gri --}}
                                                                </button>
                                                            @endcan
                                                        @endif
                                                    </div>
                                                </td>
                                            </tr>
                                        @endforeach
                                    </tbody>
                                </table>
                            </div>

                            {{-- Sayfalama (Eer controller'da paginate kullanlyorsa) --}}
                            @if (method_exists($plans, 'links'))
                                <div class="card-footer">
                                    {{ $plans->links('pagination::bootstrap-5') }}
                                </div>
                            @endif
                        @endif
                    </div>
                </div>
            </div>
        </div>
    </div>
@endsection

@section('page_scripts')
    <script>
        document.addEventListener('DOMContentLoaded', function() {
            // Filtre toggle animasyonu
            const filterCollapse = document.getElementById('filterCollapse');
            const filterButton = document.querySelector('.btn-filter-toggle');
            if (filterButton) {
                const chevronIcon = filterButton.querySelector('.fa-chevron-down');

                if (filterCollapse) {
                    filterCollapse.addEventListener('show.bs.collapse', function() {
                        chevronIcon.style.transform = 'rotate(180deg)';
                    });

                    filterCollapse.addEventListener('hide.bs.collapse', function() {
                        chevronIcon.style.transform = 'rotate(0deg)';
                    });
                }
            }

            // Alert otomatik kapanma
            const alerts = document.querySelectorAll('.alert');
            alerts.forEach(alert => {
                setTimeout(() => {
                    const bsAlert = new bootstrap.Alert(alert);
                    bsAlert.close();
                }, 5000);
            });

            // Tablo satr animasyonu
            const tableRows = document.querySelectorAll('tbody tr');
            tableRows.forEach((row, index) => {
                row.style.animation = `slideDown 0.3s ease ${index * 0.05}s forwards`;
                row.style.opacity = '0';
            });
        });
    </script>
@endsection


----------------------------------------
DOSYA YOLU: resources\views\maintenance\show.blade.php
----------------------------------------

@extends('layouts.app')

@section('title', 'Bakm Detay')

@push('styles')
    <style>
        /* --- ANA TASARIM (Dier sayfalarla ortak) --- */
        #app>main.py-4 {
            padding: 2rem 0 !important;
            min-height: calc(100vh - 72px);
            background: linear-gradient(-45deg, #667eea, #764ba2, #f093fb, #4facfe);
            background-size: 400% 400%;
            animation: gradientShift 15s ease infinite;
        }

        @keyframes gradientShift {
            0% {
                background-position: 0% 50%;
            }

            50% {
                background-position: 100% 50%;
            }

            100% {
                background-position: 0% 50%;
            }
        }

        .modern-container {
            max-width: 1400px;
            margin: 0 auto;
        }

        /* Kart Stilleri */
        .detail-card {
            background: rgba(255, 255, 255, 0.95);
            backdrop-filter: blur(20px);
            border-radius: 20px;
            border: 1px solid rgba(255, 255, 255, 0.3);
            box-shadow: 0 10px 40px rgba(0, 0, 0, 0.1);
            margin-bottom: 1.5rem;
            overflow: hidden;
            transition: transform 0.3s ease;
        }

        .detail-card:hover {
            transform: translateY(-2px);
        }

        .card-header-custom {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            padding: 1rem 1.5rem;
            color: white;
            font-weight: 600;
            display: flex;
            align-items: center;
            justify-content: space-between;
        }

        /* Saya Kutusu (Timer Box) */
        .timer-widget {
            background: linear-gradient(145deg, #ffffff, #f5f7fa);
            border-radius: 15px;
            padding: 1.5rem;
            text-align: center;
            border: 2px solid #e9ecef;
            box-shadow: inset 0 2px 4px rgba(0, 0, 0, 0.02);
            position: relative;
            overflow: hidden;
        }

        .timer-widget.active {
            border-color: #667eea;
            box-shadow: 0 0 0 4px rgba(102, 126, 234, 0.1);
        }

        .timer-widget.active::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            height: 4px;
            background: linear-gradient(90deg, #667eea, #764ba2);
            animation: pulse-border 2s infinite;
        }

        .timer-display {
            font-family: 'Courier New', monospace;
            font-weight: 700;
            color: #2d3748;
            letter-spacing: 2px;
        }

        /* Timeline (Loglar) */
        .timeline {
            border-left: 2px solid rgba(102, 126, 234, 0.3);
            padding-left: 2rem;
            position: relative;
            margin-top: 1rem;
        }

        .timeline-item {
            position: relative;
            margin-bottom: 2rem;
        }

        .timeline-item::before {
            content: '';
            position: absolute;
            left: -2.6rem;
            top: 0.2rem;
            width: 16px;
            height: 16px;
            border-radius: 50%;
            background: white;
            border: 3px solid #667eea;
            box-shadow: 0 0 0 3px rgba(102, 126, 234, 0.2);
        }

        .timeline-item.system::before {
            border-color: #adb5bd;
            box-shadow: none;
        }

        /* Dosya Listesi */
        .file-item {
            transition: all 0.2s ease;
            border: 1px solid #e9ecef;
        }

        .file-item:hover {
            background-color: #f8f9fa;
            border-color: #667eea;
        }

        /* Modern Butonlar */
        .btn-modern-primary {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            border: none;
            color: white;
            padding: 0.6rem 1.2rem;
            border-radius: 10px;
            font-weight: 600;
            transition: all 0.3s;
        }

        .btn-modern-primary:hover {
            transform: translateY(-2px);
            box-shadow: 0 5px 15px rgba(102, 126, 234, 0.3);
            color: white;
        }

        .transition-all {
            transition: all 0.3s ease;
        }

        .transition-all:hover {
            transform: translateY(-2px);
            box-shadow: 0 5px 15px rgba(0, 0, 0, 0.2) !important;
        }

        /* Badge Stilleri */
        .badge-xl {
            padding: 0.5rem 1rem;
            font-size: 0.9rem;
            border-radius: 8px;
        }

        /* Animations */
        @keyframes pulse-border {
            0% {
                opacity: 0.6;
            }

            50% {
                opacity: 1;
            }

            100% {
                opacity: 0.6;
            }
        }

        .animate-pulse {
            animation: pulse 2s cubic-bezier(0.4, 0, 0.6, 1) infinite;
        }

        @keyframes pulse {

            0%,
            100% {
                opacity: 1;
            }

            50% {
                opacity: .5;
            }
        }

        .toast-notification {
            background: #ffffff;
            border-left: 4px solid #ef4444;
            border-radius: 8px;
            box-shadow: 0 10px 25px rgba(0, 0, 0, 0.3);
            padding: 16px 20px;
            margin-bottom: 10px;
            min-width: 320px;
            max-width: 400px;
            animation: slideIn 0.3s ease-out;
            position: relative;
            overflow: hidden;
            border: 1px solid #e5e7eb;
        }

        .toast-notification.hiding {
            animation: slideOut 0.3s ease-in forwards;
        }

        @keyframes slideIn {
            from {
                transform: translateX(400px);
                opacity: 0;
            }

            to {
                transform: translateX(0);
                opacity: 1;
            }
        }

        @keyframes slideOut {
            from {
                transform: translateX(0);
                opacity: 1;
            }

            to {
                transform: translateX(400px);
                opacity: 0;
            }
        }

        .toast-header {
            display: flex;
            align-items: center;
            gap: 10px;
            margin-bottom: 8px;
        }

        .toast-icon {
            width: 24px;
            height: 24px;
            background: #fee2e2;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            color: #ef4444;
            font-size: 14px;
        }

        .toast-title {
            font-weight: 600;
            color: #111827;
            font-size: 15px;
            flex: 1;
        }

        .toast-close {
            background: none;
            border: none;
            color: #9ca3af;
            cursor: pointer;
            font-size: 20px;
            line-height: 1;
            padding: 0;
            width: 20px;
            height: 20px;
        }

        .toast-close:hover {
            color: #6b7280;
        }

        .toast-message {
            color: #374151;
            font-size: 14px;
            line-height: 1.5;
            margin-left: 34px;
        }

        .toast-progress {
            position: absolute;
            bottom: 0;
            left: 0;
            height: 3px;
            background: #ef4444;
            animation: progress 5s linear forwards;
        }

        .btn-white:hover {
            background: #f8fafc !important;
        }

        @keyframes progress {
            from {
                width: 100%;
            }

            to {
                width: 0%;
            }
        }
    </style>
@endpush

@section('content')
    <div class="container-fluid modern-container">

        {{-- st Navigasyon --}}
        <div class="position-relative mb-4">
            <div class="d-flex align-items-center justify-content-between p-3 rounded-4 shadow-sm"
                style="background: linear-gradient(135deg, rgba(255,255,255,0.95) 0%, rgba(255,255,255,0.98) 100%); backdrop-filter: blur(10px); border: 1px solid rgba(255,255,255,0.3);">

                {{-- SOL TARAF: Geri Dn, Balk ve Rozet --}}
                <div class="d-flex align-items-center gap-3">
                    <a href="{{ route('maintenance.index') }}"
                        class="btn btn-white border-0 shadow-sm rounded-circle d-flex align-items-center justify-content-center"
                        style="width: 48px; height: 48px; transition: all 0.3s ease;"
                        onmouseover="this.style.transform='translateX(-4px)'; this.style.boxShadow='0 8px 16px rgba(0,0,0,0.1)';"
                        onmouseout="this.style.transform='translateX(0)'; this.style.boxShadow='';">
                        <i class="fas fa-arrow-left" style="color: #6366f1; font-size: 18px;"></i>
                    </a>

                    <div>
                        <div class="d-flex align-items-center gap-2 mb-1">
                            <div
                                style="width: 4px; height: 24px; background: linear-gradient(180deg, #6366f1 0%, #8b5cf6 100%); border-radius: 2px;">
                            </div>
                            <h4 class="fw-bold mb-0" style="color: #1e293b; font-size: 24px; letter-spacing: -0.5px;">
                                Bakm Detay
                            </h4>
                        </div>
                        <div class="d-flex align-items-center gap-2 ms-1">
                            <span class="badge rounded-pill px-3 py-1"
                                style="background: linear-gradient(135deg, #6366f1 0%, #8b5cf6 100%); font-size: 11px; font-weight: 600; letter-spacing: 0.3px;">
                                PLAN "{{ $plan->title }}"
                            </span>
                            <span style="color: #64748b; font-size: 13px; font-weight: 500;">
                                Detaylar grntlyorsunuz
                            </span>
                        </div>
                    </div>
                </div>

                {{-- SA TARAF: Onay Durumu ve Aksiyon Butonlar --}}
                <div class="d-flex align-items-center gap-3">

                    {{-- 1. ONAY/DURUM KUTUSU --}}
                    @if ($plan->status == 'pending_approval')
                        <div
                            class="d-flex align-items-center px-3 py-2 rounded-3 bg-warning bg-opacity-10 border border-warning border-opacity-25">
                            @can('approve', $plan)
                                {{-- YNETC: Hem uyar metni hem butonlar yanyana --}}
                                <div class="d-flex align-items-center gap-3">
                                    <div class="d-flex align-items-center text-warning-emphasis">
                                        <i class="fas fa-info-circle me-2"></i>
                                        <span class="small fw-bold lh-1">Onay Bekliyor</span>
                                    </div>

                                    <div class="d-flex gap-2">
                                        {{-- REDDET --}}
                                        <form action="{{ route('maintenance.update', $plan->id) }}" method="POST"
                                            onsubmit="return confirm('Bu plan reddedip personele geri gndermek istediinize emin misiniz?');">
                                            @csrf
                                            @method('PUT')
                                            <input type="hidden" name="status" value="in_progress">
                                            <button type="submit"
                                                class="btn btn-danger btn-sm fw-bold text-white shadow-sm px-3" title="Reddet">
                                                <i class="fas fa-undo-alt"></i> Reddet
                                            </button>
                                        </form>

                                        {{-- ONAYLA --}}
                                        <form action="{{ route('maintenance.update', $plan->id) }}" method="POST">
                                            @csrf
                                            @method('PUT')
                                            <input type="hidden" name="status" value="completed">
                                            <button type="submit" class="btn btn-success btn-sm fw-bold shadow-sm px-3">
                                                <i class="fas fa-check me-1"></i> Onayla
                                            </button>
                                        </form>
                                    </div>
                                </div>
                            @else
                                {{-- STANDART KULLANICI --}}
                                <div class="d-flex align-items-center text-warning-emphasis">
                                    <i class="fas fa-clock me-2"></i>
                                    <div>
                                        <strong class="d-block small">Ynetici Onay Bekleniyor</strong>
                                        <span style="font-size: 11px; opacity: 0.8;">lem tamamland, onay bekleniyor.</span>
                                    </div>
                                </div>
                            @endcan
                        </div>
                    @endif

                    {{-- 2. DZENLEME BUTONU --}}
                    @if ($plan->status === 'completed' && Auth::user()->cannot('approve', $plan))
                        <button type="button"
                            class="btn btn-secondary border-0 shadow-sm px-4 py-2 rounded-3 d-flex align-items-center gap-2"
                            style="background: #a4a6a8; cursor: not-allowed; opacity: 0.8;"
                            onclick="alert('lem Engellendi!\n\nBu plan tamamlanmtr. Deiiklik yapmak iin yneticinizle grn.')">
                            <i class="fas fa-lock" style="font-size: 14px;"></i>
                            <span>Dzenle</span>
                        </button>
                    @else
                        @can('update', $plan)
                            <a href="{{ route('maintenance.edit', $plan->id) }}"
                                class="btn btn-primary border-0 shadow-sm px-4 py-2 rounded-3 d-flex align-items-center gap-2"
                                style="background: linear-gradient(135deg, #6366f1 0%, #8b5cf6 100%); font-weight: 600; font-size: 14px; letter-spacing: 0.3px; transition: all 0.3s ease;"
                                onmouseover="this.style.transform='translateY(-2px)'; this.style.boxShadow='0 12px 24px rgba(99, 102, 241, 0.3)';"
                                onmouseout="this.style.transform='translateY(0)'; this.style.boxShadow='';">
                                <i class="fas fa-edit" style="font-size: 14px;"></i>
                                <span>Dzenle</span>
                            </a>
                        @else
                            <button type="button"
                                class="btn btn-secondary border-0 shadow-sm px-4 py-2 rounded-3 d-flex align-items-center gap-2"
                                style="background: #94a3b8; cursor: not-allowed; opacity: 0.8;"
                                onclick="alert('Bu plan dzenleme yetkiniz bulunmuyor.\nSadece Admin, Departman Yneticisi veya Oluturan kii dzenleyebilir.')">
                                <i class="fas fa-ban" style="font-size: 14px;"></i>
                                <span>Dzenle</span>
                            </button>
                        @endcan
                    @endif
                </div>
            </div>
        </div>

        {{-- REDDEDLME BLGLENDRMES (NAVBAR DIINDA KALMALI) --}}
        @php
            $lastLog = $plan->logs->sortByDesc('created_at')->first();
        @endphp

        @if (
            $plan->status == 'in_progress' &&
                $lastLog &&
                $lastLog->action == 'rejected' &&
                Auth::user()->cannot('approve', $plan))
            <div class="alert alert-danger d-flex align-items-center shadow-sm mb-4">
                <i class="fas fa-undo-alt fa-2x me-3"></i>
                <div>
                    <h6 class="fw-bold mb-1">lem Reddedildi / Geri Gnderildi</h6>
                    <p class="mb-0 small">
                        Yneticiniz bu plan onaylamad ve size geri gnderdi. Ltfen eksikleri tamamlayp tekrar onaya
                        sununuz.
                        <br>
                        <span class="fst-italic text-opacity-75">({{ $lastLog->created_at->diffForHumans() }}
                            reddedildi)</span>
                    </p>
                </div>
            </div>
        @endif
        <div class="row">
            {{-- SOL STUN: Bilgiler ve Saya --}}
            <div class="col-lg-4">

                {{-- 1. Kart: zet Bilgi --}}
                <div class="detail-card">
                    <div class="card-header-custom">
                        <span><i class="fas fa-info-circle me-2"></i>Genel Bilgiler</span>
                    </div>
                    <div class="p-4">
                        <div class="mb-3">
                            <h5 class="fw-bold text-dark mb-1">{{ $plan->title }}</h5>
                            <span class="badge bg-light text-secondary border mt-1">{{ $plan->type->name }}</span>
                        </div>

                        <div class="d-flex justify-content-between align-items-center mb-4">
                            <span class="badge badge-xl bg-{{ $plan->status_color }} shadow-sm">
                                {{ $plan->status_label }}
                            </span>
                            <span class="text-muted small">
                                <i class="fas fa-user-circle me-1"></i> {{ $plan->user->name }}
                            </span>
                        </div>

                        <ul class="list-group list-group-flush rounded-3 border-0">
                            <li class="list-group-item border-0 px-0 d-flex align-items-center bg-transparent">
                                <div class="bg-primary bg-opacity-10 p-2 rounded-circle me-3 text-primary">
                                    <i class="fas fa-microchip"></i>
                                </div>
                                <div>
                                    <small class="text-muted d-block">Varlk / Makine</small>
                                    <strong>{{ $plan->asset->name }}</strong>
                                </div>
                            </li>
                            <li class="list-group-item border-0 px-0 d-flex align-items-center bg-transparent">
                                <div class="bg-danger bg-opacity-10 p-2 rounded-circle me-3 text-danger">
                                    <i class="fas fa-map-marker-alt"></i>
                                </div>
                                <div>
                                    <small class="text-muted d-block">Konum</small>
                                    <strong>{{ $plan->asset->location ?? 'Belirtilmemi' }}</strong>
                                </div>
                            </li>
                        </ul>

                        <div class="mt-4 p-3 bg-light rounded-3 border">
                            {{-- PLANLANAN BALANGI --}}
                            <div
                                class="d-flex justify-content-between align-items-center mb-3 pb-3 border-bottom border-light-subtle">
                                <div class="d-flex flex-column">
                                    <small class="text-muted fw-semibold"
                                        style="font-size: 11px; letter-spacing: 0.5px; text-transform: uppercase;">Planlanan
                                        Balang</small>
                                </div>
                                <div class="text-end">
                                    <div class="fw-bold text-dark fs-6">
                                        <i class="far fa-calendar me-1 text-muted opacity-50"></i>
                                        {{ $plan->planned_start_date->format('d.m.Y') }}
                                    </div>
                                    <div class="text-muted small" style="font-size: 12px;">
                                        <i class="far fa-clock me-1 text-muted opacity-50"></i>
                                        {{ $plan->planned_start_date->format('H:i') }}
                                    </div>
                                </div>
                            </div>

                            {{-- PLANLANAN BT --}}
                            <div class="d-flex justify-content-between align-items-center">
                                <div class="d-flex flex-column">
                                    <small class="text-muted fw-semibold"
                                        style="font-size: 11px; letter-spacing: 0.5px; text-transform: uppercase;">Planlanan
                                        Biti</small>
                                </div>
                                <div class="text-end">
                                    <div class="fw-bold text-dark fs-6">
                                        <i class="far fa-calendar me-1 text-muted opacity-50"></i>
                                        {{ $plan->planned_end_date->format('d.m.Y') }}
                                    </div>
                                    <div class="text-muted small" style="font-size: 12px;">
                                        <i class="far fa-clock me-1 text-muted opacity-50"></i>
                                        {{ $plan->planned_end_date->format('H:i') }}
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>

                {{-- 2. Kart: SAYA (Action Zone) --}}
                <div class="detail-card">
                    <div class="p-4">
                        <h6 class="fw-bold mb-3 text-uppercase text-muted small ls-1">
                            <i class="fas fa-stopwatch me-2 text-primary"></i>lem Sayac
                        </h6>

                        @php
                            // Get ANY active timer for this plan
                            $activeEntry = $plan->timeEntries->whereNull('end_time')->first();
                            // Check if the active timer belongs to the current user
                            $isMyTimer = $activeEntry && $activeEntry->user_id === Auth::id();
                        @endphp

                        @if ($activeEntry)
                            {{-- CASE 1: TIMER IS ACTIVE (Running) --}}
                            <div class="timer-widget active">
                                <div class="text-primary fw-bold mb-2 animate-pulse">
                                    <i class="fas fa-circle me-1 small"></i> ALIMA SRYOR
                                    @if (!$isMyTimer)
                                        <div class="text-muted small fw-normal mt-1">
                                            <i class="fas fa-user me-1"></i> {{ $activeEntry->user->name }} tarafndan
                                        </div>
                                    @endif
                                </div>

                                {{-- LIVE TIMER DISPLAY - Visible to everyone --}}
                                <h2 class="display-5 timer-display mb-2" id="liveTimer">00:00:00</h2>

                                <small class="text-muted d-block mb-3">
                                    Balang: {{ $activeEntry->start_time->format('H:i:s') }}
                                </small>

                                {{-- ACTION BUTTONS - Only for the timer owner or Admin --}}
                                @if ($isMyTimer || Auth::user()->role == 'admin')
                                    <button type="button" class="btn btn-danger w-100 py-2 rounded-3 shadow-sm"
                                        data-bs-toggle="modal" data-bs-target="#stopTimerModal">
                                        <i class="fas fa-stop-circle me-2"></i>almay Durdur
                                    </button>
                                @else
                                    <div class="alert alert-light border small text-muted mb-0">
                                        <i class="fas fa-lock me-1"></i> u an baka bir kullanc alyor.
                                    </div>
                                @endif
                            </div>
                        @elseif ($plan->status == 'pending_approval')
                            {{-- CASE 2: PENDING APPROVAL --}}
                            <div class="timer-widget bg-light border-warning">
                                <div class="text-warning fw-bold mb-3">
                                    <i class="fas fa-hourglass-half fa-3x mb-2"></i><br>
                                    ONAY SRECNDE
                                </div>
                                <div class="mt-3 pt-3 border-top border-warning border-opacity-25">
                                    <strong class="text-dark d-block mb-1">Kaydedilen Toplam Sre</strong>
                                    <span class="fs-5 font-monospace text-secondary">
                                        {{ floor($plan->previous_duration_minutes / 60) }} sa
                                        {{ $plan->previous_duration_minutes % 60 }} dk
                                    </span>
                                </div>
                            </div>
                        @elseif ($plan->status == 'completed')
                            {{-- CASE 3: COMPLETED --}}
                            <div
                                class="alert alert-success border-0 bg-success bg-opacity-10 text-success text-center py-4 rounded-3 mb-0">
                                <i class="fas fa-check-circle fa-3x mb-3"></i>
                                <h5 class="fw-bold">Bakm Tamamland</h5>
                                <p class="mb-0">
                                    Toplam Sre: <br>
                                    <strong>{{ floor($plan->previous_duration_minutes / 60) }} saat
                                        {{ $plan->previous_duration_minutes % 60 }} dakika</strong>
                                </p>
                            </div>
                        @else
                            {{-- CASE 4: IDLE (Start Button) --}}
                            <div class="timer-widget">
                                <div class="text-muted mb-1 small">Toplam alma Sresi</div>
                                <h2 class="display-6 timer-display mb-3 text-secondary">
                                    {{ sprintf('%02d:%02d:00', floor($plan->previous_duration_minutes / 60), $plan->previous_duration_minutes % 60) }}
                                </h2>

                                <div class="d-grid gap-2">
                                    <form action="{{ route('maintenance.start-timer', $plan->id) }}" method="POST">
                                        @csrf
                                        <button type="submit" class="btn btn-success w-100 py-2 rounded-3 shadow-sm">
                                            <i class="fas fa-play me-2"></i>
                                            @if ($plan->previous_duration_minutes > 0)
                                                almaya Devam Et
                                            @else
                                                almay Balat
                                            @endif
                                        </button>
                                    </form>

                                    @if ($plan->previous_duration_minutes > 0)
                                        <button type="button"
                                            class="btn btn-outline-primary w-100 py-2 rounded-3 border-2 fw-bold"
                                            data-bs-toggle="modal" data-bs-target="#quickFinishModal">
                                            <i class="fas fa-check-double me-2"></i>
                                            Sayasz Tamamla
                                        </button>
                                    @endif
                                </div>
                            </div>
                        @endif
                    </div>
                </div>
                {{-- 3. Kart: ZAMANLAMA VE PERFORMANS ANALZ (GENLETLM VERSYON) --}}
                @if ($plan->actual_end_date && ($plan->status == 'completed' || $plan->status == 'pending_approval'))
                    <div class="detail-card">
                        <div class="card-header-custom bg-gradient-dark text-white">
                            <span><i class="fas fa-chart-line me-2"></i>Zamanlama ve Performans Analizi</span>
                        </div>
                        <div class="p-4">

                            {{-- 1. BLM: TARHLER (STTE VE GEN) --}}
                            <div class="d-flex justify-content-between align-items-center mb-4 px-2">

                                {{-- Planlanan --}}
                                <div class="text-center">
                                    <small class="text-uppercase text-secondary fw-bold"
                                        style="font-size: 0.7rem; letter-spacing: 1px;">
                                        PLANLANAN
                                    </small>
                                    <div class="mt-2">
                                        <div class="fw-bold text-dark fs-4" style="line-height: 1;">
                                            {{ $plan->planned_end_date->format('d.m.Y') }}
                                        </div>
                                        <div class="text-muted fw-bold mt-1">
                                            {{ $plan->planned_end_date->format('H:i') }}
                                        </div>
                                    </div>
                                </div>

                                {{-- Ok areti --}}
                                <div class="text-muted opacity-25">
                                    <i class="fas fa-chevron-right fa-2x"></i>
                                </div>

                                {{-- Gerekleen --}}
                                <div class="text-center">
                                    <small class="text-uppercase text-secondary fw-bold"
                                        style="font-size: 0.7rem; letter-spacing: 1px;">
                                        GEREKLEEN
                                    </small>
                                    <div class="mt-2">
                                        <div class="fw-bold text-dark fs-4" style="line-height: 1;">
                                            {{ $plan->actual_end_date->format('d.m.Y') }}
                                        </div>
                                        <div class="text-muted fw-bold mt-1">
                                            {{ $plan->actual_end_date->format('H:i') }}
                                        </div>
                                    </div>
                                </div>
                            </div>

                            {{-- 2. BLM: PROGRESS BAR --}}
                            @php
                                $diffMinutes = $plan->actual_end_date->diffInMinutes($plan->planned_end_date, false);
                                $isEarly = $diffMinutes > 0;
                                $diffAbs = abs($diffMinutes);

                                // Daha okunakl sre format (Gn varsa ekle)
                                $days = floor($diffAbs / (24 * 60));
                                $hours = floor(($diffAbs % (24 * 60)) / 60);
                                $minutes = $diffAbs % 60;

                                $diffText = '';
                                if ($days > 0) {
                                    $diffText .= $days . ' gn ';
                                }
                                if ($hours > 0) {
                                    $diffText .= $hours . ' sa ';
                                }
                                $diffText .= $minutes . ' dk';
                            @endphp

                            <div class="progress rounded-pill mb-2" style="height: 35px; background-color: #f1f5f9;">
                                @if ($isEarly)
                                    <div class="progress-bar bg-success d-flex align-items-center justify-content-center"
                                        role="progressbar" style="width: 100%; font-size: 0.9rem;">
                                        <i class="fas fa-check-circle me-2"></i> {{ $diffText }} ERKEN
                                    </div>
                                @else
                                    <div class="progress-bar bg-danger d-flex align-items-center justify-content-center"
                                        role="progressbar" style="width: 100%; font-size: 0.9rem;">
                                        <i class="fas fa-exclamation-triangle me-2"></i> {{ $diffText }} GECKMEL
                                    </div>
                                @endif
                            </div>

                            <div class="text-center mb-4">
                                @if ($isEarly)
                                    <small class="text-success fw-bold"><i class="fas fa-thumbs-up me-1"></i> Harika!
                                        Planlanandan daha ksa srd.</small>
                                @else
                                    <small class="text-danger fw-bold"><i class="fas fa-clock me-1"></i> Planlanan sreyi
                                        at.</small>
                                @endif
                            </div>

                            {{-- AYIRACI ZG --}}
                            <hr class="border-secondary opacity-10 my-4">

                            {{-- 3. BLM: AIKLAMA / NOT (ALTTA VE GEN) --}}
                            <div>
                                <h6 class="fw-bold text-secondary mb-2" style="font-size: 0.85rem;">
                                    <i class="fas fa-comment-alt me-2"></i>Biti Notu / Sapma Nedeni:
                                </h6>
                                <div
                                    class="bg-light p-3 rounded-3 border border-start-0 border-end-0 border-top-0 border-bottom-4 
                    {{ $isEarly ? 'border-success' : 'border-danger' }} bg-opacity-25">
                                    <p class="mb-0 text-dark fst-italic">
                                        "{{ $plan->completion_note ?? 'Herhangi bir not girilmemi.' }}"
                                    </p>
                                </div>
                            </div>

                        </div>
                    </div>
                @endif
            </div>

            {{-- SA STUN: erik --}}
            <div class="col-lg-8">

                {{-- Aklama --}}
                <div class="detail-card">
                    <div class="card-header-custom">
                        <span><i class="fas fa-align-left me-2"></i> Emri Detaylar</span>
                    </div>
                    <div class="p-4">
                        <p class="text-secondary mb-0" style="white-space: pre-line; line-height: 1.6;">
                            {{ $plan->description ?? 'Herhangi bir aklama girilmemi.' }}
                        </p>
                    </div>
                </div>

                {{-- Dosyalar --}}
                <div class="detail-card">
                    <div class="p-4">
                        <div class="d-flex justify-content-between align-items-center mb-4">
                            <h5 class="fw-bold m-0 text-dark">
                                <i class="fas fa-paperclip me-2 text-primary"></i>Ekli Dosyalar
                            </h5>
                            <button class="btn btn-sm btn-outline-primary rounded-pill px-3" data-bs-toggle="modal"
                                data-bs-target="#uploadModal">
                                <i class="fas fa-plus me-1"></i> Dosya Ekle
                            </button>
                        </div>

                        @if ($plan->files->count() > 0)
                            <div class="row g-3">
                                @foreach ($plan->files as $file)
                                    <div class="col-md-6">
                                        <div
                                            class="file-item p-3 bg-white rounded-3 d-flex justify-content-between align-items-center h-100">
                                            <div class="d-flex align-items-center text-truncate">
                                                <div class="bg-light p-2 rounded me-3 text-secondary">
                                                    <i class="fas fa-file-alt fa-lg"></i>
                                                </div>
                                                <div class="text-truncate">
                                                    <a href="{{ url($file->file_path) }}" target="_blank"
                                                        class="text-decoration-none text-dark fw-bold text-truncate d-block">
                                                        {{ $file->file_name }}
                                                    </a>
                                                    <small
                                                        class="text-muted">{{ $file->created_at->format('d.m.Y') }}</small>
                                                </div>
                                            </div>
                                            <form action="{{ route('maintenance.delete-file', $file->id) }}"
                                                method="POST">
                                                @csrf @method('DELETE')
                                                <button type="submit"
                                                    class="btn btn-link text-danger p-0 ms-2 opacity-50 hover-opacity-100"
                                                    title="Sil">
                                                    <i class="fas fa-times"></i>
                                                </button>
                                            </form>
                                        </div>
                                    </div>
                                @endforeach
                            </div>
                        @else
                            <div class="text-center py-4 bg-light rounded-3 border border-dashed">
                                <i class="fas fa-folder-open text-muted fa-2x mb-2 opacity-50"></i>
                                <p class="text-muted small mb-0">Henz dosya yklenmemi.</p>
                            </div>
                        @endif
                    </div>
                </div>

                {{-- Tarihe / Loglar --}}
                <div class="detail-card">
                    <div class="p-4">
                        <h5 class="fw-bold border-bottom pb-3 mb-4 text-dark">
                            <i class="fas fa-history me-2 text-primary"></i>lem Tarihesi
                        </h5>
                        <div class="timeline">
                            @foreach ($plan->logs->sortByDesc('created_at') as $log)
                                <div class="timeline-item">
                                    <div class="d-flex flex-column">
                                        <div class="d-flex justify-content-between align-items-center mb-1">
                                            <strong class="text-dark"
                                                style="font-size: 1.05rem;">{{ $log->user->name }}</strong>
                                            <small
                                                class="text-muted bg-light px-2 py-1 rounded">{{ $log->created_at->diffForHumans() }}</small>
                                        </div>
                                        <p class="mb-0 text-secondary bg-light p-2 rounded border-start border-4 border-primary bg-opacity-10"
                                            style="font-size: 0.95rem;">
                                            {{ $log->description }}
                                        </p>
                                    </div>
                                </div>
                            @endforeach
                        </div>
                    </div>
                </div>

            </div>
        </div>
    </div>

    {{-- 1. Saya Durdurma Modal --}}
    <div class="modal fade" id="stopTimerModal" tabindex="-1">
        <div class="modal-dialog modal-dialog-centered">
            <div class="modal-content border-0 shadow-lg rounded-4">
                <form action="{{ route('maintenance.stop-timer', $plan->id) }}" method="POST">
                    @csrf
                    <div class="modal-header border-0 pb-0">
                        <h5 class="modal-title fw-bold">alma lemi</h5>
                        <button type="button" class="btn-close" data-bs-dismiss="modal"></button>
                    </div>
                    <div class="modal-body">

                        <div class="mb-4">
                            <label class="form-label fw-bold text-dark mb-3">Ne yapmak istiyorsunuz?</label>

                            {{-- SEENEK 1: i Bitir (ARTIK VARSAYILAN SEL - CHECKED BURADA) --}}
                            <div class="form-check custom-option basic-checkbox p-3 rounded border mb-3 bg-light"
                                style="cursor: pointer;" onclick="document.getElementById('radioFinish').checked = true;">
                                <input class="form-check-input" type="radio" name="completion_type" id="radioFinish"
                                    value="finish" checked>
                                <label class="form-check-label ms-2" for="radioFinish" style="cursor: pointer;">
                                    <span class="fw-bold d-block text-dark"><i
                                            class="fas fa-check-circle text-success me-2"></i>i Tamamla</span>
                                    @can('approve', $plan)
                                        <span class="small text-success">lem direkt <strong>Tamamland</strong>
                                            olacak.</span>
                                    @else
                                        <span class="small text-muted">lem <strong>Onay Bekliyor</strong> statsne
                                            geecek.</span>
                                    @endcan
                                </label>
                            </div>

                            {{-- SEENEK 2: Sadece Duraklat (kincil Seenek) --}}
                            <div class="form-check custom-option basic-checkbox p-3 rounded border"
                                style="cursor: pointer;" onclick="document.getElementById('radioPause').checked = true;">
                                <input class="form-check-input" type="radio" name="completion_type" id="radioPause"
                                    value="pause">
                                <label class="form-check-label ms-2" for="radioPause" style="cursor: pointer;">
                                    <span class="fw-bold d-block text-dark"><i
                                            class="fas fa-pause-circle text-warning me-2"></i>Sadece Duraklat / Ara
                                        Ver</span>
                                    <span class="small text-muted">Saya duracak ama durum "lemde" kalacak.</span>
                                </label>
                            </div>
                        </div>

                        <div class="mb-3">
                            <label class="form-label fw-semibold">
                                Aklama / Not <span class="text-danger">*</span>
                            </label>

                            {{-- is-invalid snf ile kutuyu krmz yapyoruz --}}
                            <textarea name="note" class="form-control bg-light @error('note') is-invalid @enderror" rows="3"
                                placeholder="Yaplan ilemi ksaca zetleyin...">{{ old('note') }}</textarea>

                            {{-- Hata mesajn gsteren blok --}}
                            @error('note')
                                <div class="invalid-feedback d-block">
                                    <i class="fas fa-exclamation-circle me-1"></i> {{ $message }}
                                </div>
                            @enderror
                        </div>
                    </div>
                    <div class="modal-footer border-0 pt-0">
                        <button type="button" class="btn btn-light" data-bs-dismiss="modal">Vazge</button>
                        <button type="submit" class="btn btn-primary px-4">Kaydet</button>
                    </div>
                </form>
            </div>
        </div>
    </div>

    {{-- 2. Dosya Ykleme Modal  --}}
    <div class="modal fade" id="uploadModal" tabindex="-1">
        <div class="modal-dialog">
            <div class="modal-content">
                <form action="{{ route('maintenance.upload-file', $plan->id) }}" method="POST"
                    enctype="multipart/form-data">
                    @csrf
                    <div class="modal-header">
                        <h5 class="modal-title">Dosya Ykle</h5>
                        <button type="button" class="btn-close" data-bs-dismiss="modal"></button>
                    </div>
                    <div class="modal-body">
                        <div class="mb-3">
                            <label for="fileInput" class="form-label fw-bold">Dosya(lar) Sein</label>
                            <input type="file" id="fileInput" name="files[]" class="form-control" multiple required>

                            <div class="form-text text-muted mt-2">
                                <i class="fas fa-info-circle me-1"></i>
                                Birden fazla dosya semek iin <strong>CTRL</strong> tuuna basl tutarak tklayn.
                                <br> (zin verilenler: PDF, Resim, Excel, Word. Max: 50MB)
                            </div>
                        </div>
                    </div>
                    <div class="modal-footer">
                        <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">ptal</button>
                        <button type="submit" class="btn btn-primary">
                            <i class="fas fa-cloud-upload-alt me-2"></i> Ykle
                        </button>
                    </div>
                </form>
            </div>
        </div>
    </div>
    {{-- 3. HIZLI BTRME MODALI (Sayasz lem) --}}
    <div class="modal fade" id="quickFinishModal" tabindex="-1">
        <div class="modal-dialog modal-dialog-centered">
            <div class="modal-content border-0 shadow-lg rounded-4">
                {{-- DKKAT: Buras 'update' rotasna gidiyor, 'stop-timer' rotasna DEL --}}
                <form action="{{ route('maintenance.update', $plan->id) }}" method="POST">
                    @csrf
                    @method('PUT')

                    {{-- Kullancnn yetkisine gre stat belirleme mant Controller'da var ama --}}
                    {{-- Formdan 'completed' gnderiyoruz, controller yetkisi yoksa 'pending_approval' yapyor --}}
                    <input type="hidden" name="status" value="completed">

                    <div class="modal-header border-0 pb-0">
                        <h5 class="modal-title fw-bold">lemi Tamamla</h5>
                        <button type="button" class="btn-close" data-bs-dismiss="modal"></button>
                    </div>

                    <div class="modal-body">
                        <div class="alert alert-info border-0 bg-info bg-opacity-10 text-info">
                            <i class="fas fa-info-circle me-2"></i>
                            Saya altrlmadan ilem sonlandrlyor. (Hzl Onay)
                        </div>

                        <div class="mb-3">
                            <label class="form-label fw-semibold">
                                Aklama / Yaplan Dzeltme <span class="text-danger">*</span>
                            </label>
                            <textarea name="completion_note" class="form-control bg-light" rows="3" required
                                placeholder="rn: Yneticinin belirttii eksikler tamamland..."></textarea>
                        </div>
                    </div>

                    <div class="modal-footer border-0 pt-0">
                        <button type="button" class="btn btn-light" data-bs-dismiss="modal">Vazge</button>
                        <button type="submit" class="btn btn-primary px-4">
                            <i class="fas fa-paper-plane me-2"></i>Gnder
                        </button>
                    </div>
                </form>
            </div>
        </div>
    </div>
@endsection

@section('page_scripts')
    <script>
        document.addEventListener('DOMContentLoaded', function() {
            const hasNoteError = @json($errors->has('note'));
            const hasCompletionNoteError = @json($errors->has('completion_note'));

            if (hasNoteError) {
                const stopModalEl = document.getElementById('stopTimerModal');
                if (stopModalEl) {
                    const stopModal = new bootstrap.Modal(stopModalEl);
                    stopModal.show();
                }
            }

            if (hasCompletionNoteError) {
                const quickModalEl = document.getElementById('quickFinishModal');
                if (quickModalEl) {
                    const quickModal = new bootstrap.Modal(quickModalEl);
                    quickModal.show();
                }
            }
            // --- 2. SAYA MANTII ---
            @php
                // Get the active timer entry (regardless of user) to feed into JS
                $jsActiveEntry = $plan->timeEntries->whereNull('end_time')->first();
            @endphp

            @if ($jsActiveEntry)
                // If there is an active timer, run the JS clock for everyone
                const startTimeString = "{{ $jsActiveEntry->start_time->format('Y-m-d H:i:s') }}";
                const startTime = new Date(startTimeString).getTime();

                const previousDurationMs = {{ $plan->previous_duration_minutes * 60 * 1000 }};
                const timerElement = document.getElementById("liveTimer");

                if (timerElement) {
                    // Update the timer immediately to avoid 1-second delay
                    updateTimerDisplay();

                    const x = setInterval(updateTimerDisplay, 1000);

                    function updateTimerDisplay() {
                        const now = new Date().getTime();
                        // If client time is behind server time, prevent negative numbers
                        let currentSessionDuration = now - startTime;
                        if (currentSessionDuration < 0) currentSessionDuration = 0;

                        const totalDuration = previousDurationMs + currentSessionDuration;

                        const hours = Math.floor((totalDuration / (1000 * 60 * 60)));
                        const minutes = Math.floor((totalDuration % (1000 * 60 * 60)) / (1000 * 60));
                        const seconds = Math.floor((totalDuration % (1000 * 60)) / 1000);

                        timerElement.innerHTML =
                            (hours < 10 ? "0" + hours : hours) + ":" +
                            (minutes < 10 ? "0" + minutes : minutes) + ":" +
                            (seconds < 10 ? "0" + seconds : seconds);
                    }
                }
            @endif
        });

        // ... (Toast fonksiyonlar aynen kalacak) ...
        function showToast() {
            /* ... */
        }

        function closeToast(button) {
            /* ... */
        }
    </script>
@endsection


----------------------------------------
DOSYA YOLU: resources\views\maintenance\assets\create.blade.php
----------------------------------------

@extends('layouts.app')

@section('title', 'Yeni Makine Ekle')

@push('styles')
    <style>
        /* --- ANA TASARIM (Dier sayfalarla ortak) --- */
        #app>main.py-4 {
            padding: 2rem 0 !important;
            min-height: calc(100vh - 72px);
            background: linear-gradient(-45deg, #667eea, #764ba2, #f093fb, #4facfe);
            background-size: 400% 400%;
            animation: gradientShift 15s ease infinite;
        }

        @keyframes gradientShift {
            0% {
                background-position: 0% 50%;
            }

            50% {
                background-position: 100% 50%;
            }

            100% {
                background-position: 0% 50%;
            }
        }

        .modern-container {
            max-width: 1000px;
            margin: 0 auto;
        }

        /* Form Kart */
        .form-card {
            background: rgba(255, 255, 255, 0.95);
            backdrop-filter: blur(20px);
            border-radius: 20px;
            border: 1px solid rgba(255, 255, 255, 0.3);
            box-shadow: 0 10px 40px rgba(0, 0, 0, 0.1);
            overflow: hidden;
        }

        .form-card .card-header {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            padding: 1.5rem 2rem;
            border-bottom: none;
        }

        .form-card .card-header h4 {
            color: white;
            font-weight: 700;
            margin: 0;
            font-size: 1.25rem;
        }

        /* Form Elemanlar */
        .form-label {
            color: #495057;
            font-weight: 600;
            font-size: 0.9rem;
            margin-bottom: 0.5rem;
        }

        .form-control,
        .form-select {
            border-radius: 12px;
            border: 2px solid #e9ecef;
            padding: 0.8rem 1rem;
            font-size: 0.95rem;
            transition: all 0.3s ease;
            background-color: #fff;
        }

        .form-control:focus,
        .form-select:focus {
            border-color: #667eea;
            box-shadow: 0 0 0 4px rgba(102, 126, 234, 0.1);
        }

        .form-text {
            font-size: 0.8rem;
            color: #8898aa;
            margin-top: 0.4rem;
        }

        /* Butonlar */
        .btn-save {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            border: none;
            color: white;
            font-weight: 600;
            padding: 1rem 2.5rem;
            border-radius: 12px;
            transition: all 0.3s ease;
            box-shadow: 0 4px 15px rgba(102, 126, 234, 0.3);
        }

        .btn-save:hover {
            transform: translateY(-2px);
            box-shadow: 0 8px 25px rgba(102, 126, 234, 0.4);
            color: white;
        }

        .btn-cancel {
            padding: 1rem 2rem;
            color: #6c757d;
            font-weight: 600;
            transition: all 0.3s;
        }

        .btn-cancel:hover {
            color: #343a40;
            background-color: rgba(0, 0, 0, 0.05);
            border-radius: 12px;
        }
    </style>
@endpush

@section('content')
    <div class="container-fluid modern-container">

        {{-- st Navigasyon --}}
        <div class="d-flex align-items-center mb-4">
            <a href="{{ route('maintenance.assets.index') }}" class="btn btn-light rounded-circle shadow-sm me-3"
                style="width: 40px; height: 40px; display: flex; align-items: center; justify-content: center;">
                <i class="fas fa-arrow-left text-primary"></i>
            </a>
            <div>
                <h4 class="fw-bold text-white mb-0" style="text-shadow: 0 2px 4px rgba(0,0,0,0.1);">Yeni Makine Olutur</h4>
                <small class="text-white-50">Sisteme yeni bir makine veya blge tanmlayn</small>
            </div>
        </div>

        <div class="row justify-content-center">
            <div class="col-12">
                <div class="card form-card">
                    <div class="card-header">
                        <h4><i class="fas fa-cube me-2"></i>Makine Bilgileri</h4>
                    </div>

                    <div class="card-body p-4 p-md-5">

                        {{-- Hata Mesajlar --}}
                        @if ($errors->any())
                            <div class="alert alert-danger border-0 shadow-sm rounded-3 mb-4">
                                <div class="d-flex align-items-center mb-2">
                                    <i class="fas fa-exclamation-triangle me-2"></i>
                                    <strong>Dikkat!</strong> Ltfen aadaki hatalar kontrol edin.
                                </div>
                                <ul class="mb-0 ps-3">
                                    @foreach ($errors->all() as $error)
                                        <li>{{ $error }}</li>
                                    @endforeach
                                </ul>
                            </div>
                        @endif

                        <form action="{{ route('maintenance.assets.store') }}" method="POST" autocomplete="off">
                            @csrf

                            {{-- Temel Bilgiler --}}
                            <div class="mb-4">
                                <label for="name" class="form-label">
                                    <i class="fas fa-font me-1 text-primary opacity-75"></i> Makine Ad <span
                                        class="text-danger">*</span>
                                </label>
                                <input type="text" class="form-control form-control-lg" id="name" name="name"
                                    value="{{ old('name') }}" placeholder="rn: Husky HyPET 300 Enjeksiyon" required>
                            </div>

                            <div class="row g-4">
                                {{-- Sol Stun --}}
                                <div class="col-md-6">
                                    <div class="mb-3">
                                        <label for="code" class="form-label">
                                            <i class="fas fa-barcode me-1 text-primary opacity-75"></i> Varlk Kodu <span
                                                class="text-danger">*</span>
                                        </label>
                                        <input type="text" class="form-control" id="code" name="code"
                                            value="{{ old('code') }}" placeholder="rn: MACH-001" required>
                                        <div class="form-text">Demirba kodu veya dahili takip kodu.</div>
                                    </div>

                                    <div class="mb-3">
                                        <label for="category" class="form-label">
                                            <i class="fas fa-layer-group me-1 text-primary opacity-75"></i> Kategori <span
                                                class="text-danger">*</span>
                                        </label>
                                        <select class="form-select" id="category" name="category" required>
                                            <option value="">Seiniz...</option>
                                            <option value="machine" {{ old('category') == 'machine' ? 'selected' : '' }}>
                                                Makine (retim/Yardmc)</option>
                                            <option value="zone" {{ old('category') == 'zone' ? 'selected' : '' }}>Blge
                                                (Zone/Oda)</option>
                                            <option value="facility" {{ old('category') == 'facility' ? 'selected' : '' }}>
                                                Tesisat / Sistem</option>
                                        </select>
                                    </div>

                                    <div class="mb-3">
                                        <label for="brand" class="form-label">Marka</label>
                                        <input type="text" class="form-control" id="brand" name="brand"
                                            value="{{ old('brand') }}" placeholder="rn: Netstal, Husky">
                                    </div>

                                    <div class="mb-3">
                                        <label for="model" class="form-label">Model</label>
                                        <input type="text" class="form-control" id="model" name="model"
                                            value="{{ old('model') }}" placeholder="rn: S7-1200">
                                    </div>
                                </div>

                                {{-- Sa Stun --}}
                                <div class="col-md-6">
                                    <div class="mb-3">
                                        <label for="location" class="form-label">
                                            <i class="fas fa-map-marker-alt me-1 text-primary opacity-75"></i> Lokasyon /
                                            Konum
                                        </label>
                                        <input type="text" class="form-control" id="location" name="location"
                                            value="{{ old('location') }}" placeholder="rn: Preform">
                                    </div>

                                    <div class="mb-3">
                                        <label for="serial_number" class="form-label">Seri Numaras</label>
                                        <input type="text" class="form-control" id="serial_number" name="serial_number"
                                            value="{{ old('serial_number') }}" placeholder="Cihaz zerindeki seri no">
                                    </div>

                                    <div class="mb-3">
                                        <label for="manufacturing_year" class="form-label">retim Yl</label>
                                        <input type="number" class="form-control" id="manufacturing_year"
                                            name="manufacturing_year" value="{{ old('manufacturing_year') }}"
                                            min="1950" max="{{ date('Y') + 1 }}" placeholder="YYYY">
                                    </div>

                                    {{-- Eer veritabannda is_active varsa ekleyelim, yoksa kaldrlabilir --}}
                                    <div class="mb-3">
                                        <label for="is_active" class="form-label">
                                            <i class="fas fa-toggle-on me-1 text-primary opacity-75"></i> Durum
                                        </label>
                                        <select class="form-select" id="is_active" name="is_active">
                                            <option value="1" {{ old('is_active', 1) == 1 ? 'selected' : '' }}>Aktif
                                            </option>
                                            <option value="0" {{ old('is_active') == 0 ? 'selected' : '' }}>Pasif
                                            </option>
                                        </select>
                                    </div>
                                </div>
                            </div>

                            {{-- Aklama --}}
                            <div class="mt-4">
                                <label for="description" class="form-label">
                                    <i class="fas fa-align-left me-1 text-primary opacity-75"></i> Teknik Aklama / Notlar
                                </label>
                                <textarea class="form-control" id="description" name="description" rows="4"
                                    placeholder="Makine hakknda teknik detaylar veya zel notlar...">{{ old('description') }}</textarea>
                            </div>

                            {{-- Aksiyon Butonlar --}}
                            <div class="d-flex justify-content-end align-items-center mt-5 pt-3 border-top">
                                <a href="{{ route('maintenance.assets.index') }}"
                                    class="btn btn-cancel me-3 text-decoration-none">
                                    ptal Et
                                </a>
                                <button type="submit" class="btn btn-save">
                                    <i class="fas fa-save me-2"></i>Makineyi Kaydet
                                </button>
                            </div>

                        </form>
                    </div>
                </div>
            </div>
        </div>
    </div>
@endsection


----------------------------------------
DOSYA YOLU: resources\views\maintenance\assets\edit.blade.php
----------------------------------------

@extends('layouts.app')

@section('title', 'Makine Detaylarn Dzenle')

@push('styles')
    <style>
        /* --- ANA TASARIM (Create sayfasyla birebir ayn) --- */
        #app>main.py-4 {
            padding: 2rem 0 !important;
            min-height: calc(100vh - 72px);
            background: linear-gradient(-45deg, #667eea, #764ba2, #f093fb, #4facfe);
            background-size: 400% 400%;
            animation: gradientShift 15s ease infinite;
        }

        @keyframes gradientShift {
            0% {
                background-position: 0% 50%;
            }

            50% {
                background-position: 100% 50%;
            }

            100% {
                background-position: 0% 50%;
            }
        }

        .modern-container {
            max-width: 1000px;
            margin: 0 auto;
        }

        /* Form Kart */
        .form-card {
            background: rgba(255, 255, 255, 0.95);
            backdrop-filter: blur(20px);
            border-radius: 20px;
            border: 1px solid rgba(255, 255, 255, 0.3);
            box-shadow: 0 10px 40px rgba(0, 0, 0, 0.1);
            overflow: hidden;
        }

        .form-card .card-header {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            padding: 1.5rem 2rem;
            border-bottom: none;
        }

        .form-card .card-header h4 {
            color: white;
            font-weight: 700;
            margin: 0;
            font-size: 1.25rem;
        }

        /* Form Elemanlar */
        .form-label {
            color: #495057;
            font-weight: 600;
            font-size: 0.9rem;
            margin-bottom: 0.5rem;
        }

        .form-control,
        .form-select {
            border-radius: 12px;
            border: 2px solid #e9ecef;
            padding: 0.8rem 1rem;
            font-size: 0.95rem;
            transition: all 0.3s ease;
            background-color: #fff;
        }

        .form-control:focus,
        .form-select:focus {
            border-color: #667eea;
            box-shadow: 0 0 0 4px rgba(102, 126, 234, 0.1);
        }

        .form-text {
            font-size: 0.8rem;
            color: #8898aa;
            margin-top: 0.4rem;
        }

        /* Butonlar */
        .btn-save {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            border: none;
            color: white;
            font-weight: 600;
            padding: 1rem 2.5rem;
            border-radius: 12px;
            transition: all 0.3s ease;
            box-shadow: 0 4px 15px rgba(102, 126, 234, 0.3);
        }

        .btn-save:hover {
            transform: translateY(-2px);
            box-shadow: 0 8px 25px rgba(102, 126, 234, 0.4);
            color: white;
        }

        .btn-cancel {
            padding: 1rem 2rem;
            color: #6c757d;
            font-weight: 600;
            transition: all 0.3s;
        }

        .btn-cancel:hover {
            color: #343a40;
            background-color: rgba(0, 0, 0, 0.05);
            border-radius: 12px;
        }
    </style>
@endpush

@section('content')
    <div class="container-fluid modern-container">

        {{-- st Navigasyon --}}
        <div class="d-flex align-items-center mb-4">
            <a href="{{ route('maintenance.assets.index') }}" class="btn btn-light rounded-circle shadow-sm me-3"
                style="width: 40px; height: 40px; display: flex; align-items: center; justify-content: center;">
                <i class="fas fa-arrow-left text-primary"></i>
            </a>
            <div>
                <h4 class="fw-bold text-white mb-0" style="text-shadow: 0 2px 4px rgba(0,0,0,0.1);">Makine Detaylarn Dzenle
                </h4>
                <small class="text-white-50">#{{ $asset->id }} - {{ $asset->name }} kaydn gncelliyorsunuz</small>
            </div>
        </div>

        <div class="row justify-content-center">
            <div class="col-12">
                <div class="card form-card">
                    <div class="card-header">
                        <h4><i class="fas fa-edit me-2"></i>Makine Bilgilerini Gncelle</h4>
                    </div>

                    <div class="card-body p-4 p-md-5">

                        {{-- Hata Mesajlar --}}
                        @if ($errors->any())
                            <div class="alert alert-danger border-0 shadow-sm rounded-3 mb-4">
                                <div class="d-flex align-items-center mb-2">
                                    <i class="fas fa-exclamation-triangle me-2"></i>
                                    <strong>Dikkat!</strong> Ltfen aadaki hatalar kontrol edin.
                                </div>
                                <ul class="mb-0 ps-3">
                                    @foreach ($errors->all() as $error)
                                        <li>{{ $error }}</li>
                                    @endforeach
                                </ul>
                            </div>
                        @endif

                        <form action="{{ route('maintenance.assets.update', $asset->id) }}" method="POST"
                            autocomplete="off">
                            @csrf
                            @method('PUT') {{-- Gncelleme ilemi iin zorunlu --}}

                            {{-- Temel Bilgiler --}}
                            <div class="mb-4">
                                <label for="name" class="form-label">
                                    <i class="fas fa-font me-1 text-primary opacity-75"></i> Makine Ad <span
                                        class="text-danger">*</span>
                                </label>
                                <input type="text" class="form-control form-control-lg" id="name" name="name"
                                    value="{{ old('name', $asset->name) }}" required>
                            </div>

                            <div class="row g-4">
                                {{-- Sol Stun --}}
                                <div class="col-md-6">
                                    <div class="mb-3">
                                        <label for="code" class="form-label">
                                            <i class="fas fa-barcode me-1 text-primary opacity-75"></i> Makine Kodu <span
                                                class="text-danger">*</span>
                                        </label>
                                        <input type="text" class="form-control" id="code" name="code"
                                            value="{{ old('code', $asset->code) }}" required>
                                    </div>

                                    <div class="mb-3">
                                        <label for="category" class="form-label">
                                            <i class="fas fa-layer-group me-1 text-primary opacity-75"></i> Kategori <span
                                                class="text-danger">*</span>
                                        </label>
                                        <select class="form-select" id="category" name="category" required>
                                            <option value="">Seiniz...</option>
                                            <option value="machine"
                                                {{ old('category', $asset->category) == 'machine' ? 'selected' : '' }}>
                                                Makine (retim/Yardmc)</option>
                                            <option value="zone"
                                                {{ old('category', $asset->category) == 'zone' ? 'selected' : '' }}>Blge
                                                (Zone/Oda)</option>
                                            <option value="facility"
                                                {{ old('category', $asset->category) == 'facility' ? 'selected' : '' }}>
                                                Tesisat / Sistem</option>
                                        </select>
                                    </div>

                                    <div class="mb-3">
                                        <label for="brand" class="form-label">Marka</label>
                                        <input type="text" class="form-control" id="brand" name="brand"
                                            value="{{ old('brand', $asset->brand) }}">
                                    </div>

                                    <div class="mb-3">
                                        <label for="model" class="form-label">Model</label>
                                        <input type="text" class="form-control" id="model" name="model"
                                            value="{{ old('model', $asset->model) }}">
                                    </div>
                                </div>

                                {{-- Sa Stun --}}
                                <div class="col-md-6">
                                    <div class="mb-3">
                                        <label for="location" class="form-label">
                                            <i class="fas fa-map-marker-alt me-1 text-primary opacity-75"></i> Lokasyon /
                                            Konum
                                        </label>
                                        <input type="text" class="form-control" id="location" name="location"
                                            value="{{ old('location', $asset->location) }}">
                                    </div>

                                    <div class="mb-3">
                                        <label for="serial_number" class="form-label">Seri Numaras</label>
                                        <input type="text" class="form-control" id="serial_number" name="serial_number"
                                            value="{{ old('serial_number', $asset->serial_number) }}">
                                    </div>

                                    <div class="mb-3">
                                        <label for="manufacturing_year" class="form-label">retim Yl</label>
                                        <input type="number" class="form-control" id="manufacturing_year"
                                            name="manufacturing_year"
                                            value="{{ old('manufacturing_year', $asset->manufacturing_year) }}"
                                            min="1950" max="{{ date('Y') + 1 }}">
                                    </div>

                                    <div class="mb-3">
                                        <label for="is_active" class="form-label">
                                            <i class="fas fa-toggle-on me-1 text-primary opacity-75"></i> Durum
                                        </label>
                                        <select class="form-select" id="is_active" name="is_active">
                                            <option value="1"
                                                {{ old('is_active', $asset->is_active) == 1 ? 'selected' : '' }}>Aktif
                                            </option>
                                            <option value="0"
                                                {{ old('is_active', $asset->is_active) == 0 ? 'selected' : '' }}>Pasif
                                            </option>
                                        </select>
                                    </div>
                                </div>
                            </div>

                            {{-- Aklama --}}
                            <div class="mt-4">
                                <label for="description" class="form-label">
                                    <i class="fas fa-align-left me-1 text-primary opacity-75"></i> Teknik Aklama / Notlar
                                </label>
                                <textarea class="form-control" id="description" name="description" rows="4">{{ old('description', $asset->description) }}</textarea>
                            </div>

                            {{-- Aksiyon Butonlar --}}
                            <div class="d-flex justify-content-end align-items-center mt-5 pt-3 border-top">
                                <a href="{{ route('maintenance.assets.index') }}"
                                    class="btn btn-cancel me-3 text-decoration-none">
                                    ptal
                                </a>
                                <button type="submit" class="btn btn-save">
                                    <i class="fas fa-save me-2"></i>Deiiklikleri Kaydet
                                </button>
                            </div>

                        </form>
                    </div>
                </div>
            </div>
        </div>
    </div>
@endsection


----------------------------------------
DOSYA YOLU: resources\views\maintenance\assets\index.blade.php
----------------------------------------

@extends('layouts.app')
@section('title', 'Makine ve Varlk Ynetimi')

@push('styles')
    <style>
        /* --- ANA TASARIM (Dier sayfalarla ortak) --- */
        #app>main.py-4 {
            padding: 2rem 0 !important;
            min-height: calc(100vh - 72px);
            background: linear-gradient(-45deg, #667eea, #764ba2, #f093fb, #4facfe);
            background-size: 400% 400%;
            animation: gradientShift 15s ease infinite;
        }

        @keyframes gradientShift {
            0% {
                background-position: 0% 50%;
            }

            50% {
                background-position: 100% 50%;
            }

            100% {
                background-position: 0% 50%;
            }
        }

        .modern-container {
            max-width: 1400px;
            margin: 0 auto;
        }

        /* Balk Alan */
        .page-header {
            background: rgba(255, 255, 255, 0.95);
            backdrop-filter: blur(20px);
            border-radius: 20px;
            padding: 2rem;
            margin-bottom: 2rem;
            box-shadow: 0 10px 40px rgba(0, 0, 0, 0.1);
            border: 1px solid rgba(255, 255, 255, 0.3);
        }

        .page-header h1 {
            margin: 0;
            font-size: 2rem;
            font-weight: 700;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
        }

        /* Liste Kart */
        .list-card {
            background: rgba(255, 255, 255, 0.95);
            backdrop-filter: blur(20px);
            border-radius: 20px;
            border: 1px solid rgba(255, 255, 255, 0.3);
            box-shadow: 0 10px 40px rgba(0, 0, 0, 0.1);
            overflow: hidden;
        }

        .list-card .card-header {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
            font-weight: 700;
            font-size: 1.3rem;
            border: none;
            padding: 1.5rem 2rem;
            display: flex;
            align-items: center;
            justify-content: space-between;
        }

        /* Tablo Stilleri */
        .table {
            background-color: transparent;
            margin-bottom: 0;
        }

        .table thead {
            background: rgba(102, 126, 234, 0.05);
        }

        .table thead th {
            color: #495057;
            font-weight: 700;
            font-size: 0.85rem;
            text-transform: uppercase;
            letter-spacing: 0.5px;
            border-bottom: 2px solid rgba(102, 126, 234, 0.2);
            padding: 1.25rem 1rem;
        }

        .table tbody tr {
            transition: all 0.3s ease;
            border-bottom: 1px solid rgba(0, 0, 0, 0.05);
        }

        .table tbody tr:hover {
            background: rgba(102, 126, 234, 0.08) !important;
            transform: scale(1.005);
            box-shadow: 0 5px 15px rgba(0, 0, 0, 0.08);
            z-index: 10;
            position: relative;
        }

        .table td {
            vertical-align: middle;
            padding: 1.25rem 1rem;
            color: #495057;
            font-size: 0.95rem;
        }

        /* Butonlar */
        .btn-modern-add {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            border: none;
            color: white;
            padding: 0.8rem 1.5rem;
            border-radius: 12px;
            font-weight: 600;
            transition: all 0.3s;
            box-shadow: 0 4px 15px rgba(102, 126, 234, 0.3);
        }

        .btn-modern-add:hover {
            transform: translateY(-2px);
            color: white;
            box-shadow: 0 8px 25px rgba(102, 126, 234, 0.4);
        }

        .btn-action {
            width: 36px;
            height: 36px;
            border-radius: 8px;
            display: inline-flex;
            align-items: center;
            justify-content: center;
            border: none;
            transition: all 0.3s ease;
            font-size: 0.85rem;
            margin: 0 0.2rem;
        }

        .btn-action:hover {
            transform: translateY(-3px);
        }

        .btn-action.btn-primary {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
        }

        .btn-action.btn-danger {
            background: linear-gradient(135deg, #ff6b6b 0%, #ee5a6f 100%);
            color: white;
        }

        /* Animasyon */
        @keyframes slideDown {
            from {
                opacity: 0;
                transform: translateY(-20px);
            }

            to {
                opacity: 1;
                transform: translateY(0);
            }
        }

        /* Yeil Excel Butonu */
        .btn-export-global {
            background: linear-gradient(135deg, #28c76f 0%, #1e7e34 100%);
            border: none;
            color: white;
            font-weight: 600;
            padding: 0.6rem 1.5rem;
            border-radius: 0.5rem;
            text-decoration: none;
            display: inline-flex;
            align-items: center;
            transition: all 0.3s ease;
        }

        .btn-export-global:hover {
            transform: translateY(-2px);
            box-shadow: 0 4px 12px rgba(40, 199, 111, 0.3);
            color: white;
        }
    </style>
@endpush

@section('content')
    <div class="container-fluid modern-container">

        {{-- Balk Alan --}}
        <div class="page-header d-flex justify-content-between align-items-center">
            <div>
                <h1><i class="fas fa-industry"></i> Makine ve Varlklar</h1>
                <p>letmenize ait makine parkuru, blgeler ve tesisatlarn ynetimi.</p>
            </div>
            <div>
                <a href="{{ route('maintenance.assets.export') }}" class="btn btn-export-global shadow-sm">
                    <i class="fas fa-file-excel me-2"></i>Listeyi Excel'e Aktar
                </a>
                <a href="{{ route('maintenance.assets.create') }}" class="btn btn-modern-add">
                    <i class="fas fa-plus me-2"></i> Yeni Makine/Varlk Ekle
                </a>
            </div>
        </div>

        {{-- Mesajlar --}}
        @if (session('success'))
            <div class="alert alert-success alert-dismissible fade show border-0 shadow-sm rounded-3 mb-4"
                style="background: rgba(40, 199, 111, 0.15); color: #1e7e34;">
                <i class="fas fa-check-circle me-2"></i>{{ session('success') }}
                <button type="button" class="btn-close" data-bs-dismiss="alert"></button>
            </div>
        @endif

        {{-- Liste Kart --}}
        <div class="card list-card">
            <div class="card-header">
                <div>
                    <i class="fas fa-list me-2"></i> Varlk Listesi
                </div>
                <span class="badge bg-white text-primary rounded-pill fs-6 shadow-sm">{{ $assets->count() }} Kayt</span>
            </div>

            <div class="card-body p-0">
                <div class="table-responsive">
                    <table class="table mb-0">
                        <thead>
                            <tr>
                                <th class="ps-4">Kod</th>
                                <th>Kategori</th>
                                <th>Marka / Model</th>
                                <th>Varlk Ad</th>
                                <th>Lokasyon</th>
                                <th>Durum</th>
                                <th class="text-end pe-4">lemler</th>
                            </tr>
                        </thead>
                        <tbody>
                            @forelse($assets as $asset)
                                <tr>
                                    <td class="ps-4">
                                        <span class="fw-bold text-primary" style="font-family: monospace; font-size: 1rem;">
                                            {{ $asset->code ?? '-' }}
                                        </span>
                                    </td>
                                    <td>
                                        @if ($asset->category == 'machine')
                                            <span
                                                class="badge bg-info bg-opacity-10 text-info border border-info rounded-pill px-3">
                                                <i class="fas fa-cogs me-1"></i> Makine
                                            </span>
                                        @elseif($asset->category == 'zone')
                                            <span
                                                class="badge bg-warning bg-opacity-10 text-warning border border-warning rounded-pill px-3">
                                                <i class="fas fa-map-marked-alt me-1"></i> Blge
                                            </span>
                                        @else
                                            <span
                                                class="badge bg-secondary bg-opacity-10 text-secondary border border-secondary rounded-pill px-3">
                                                <i class="fas fa-wrench me-1"></i> Tesisat
                                            </span>
                                        @endif
                                    </td>
                                    <td>
                                        @if ($asset->brand)
                                            <div class="d-flex flex-column">
                                                <span class="fw-bold text-dark">{{ $asset->brand }}</span>
                                                <small class="text-muted">{{ $asset->model }}</small>
                                            </div>
                                        @else
                                            <span class="text-muted small">-</span>
                                        @endif
                                    </td>
                                    <td>
                                        <strong class="text-dark">{{ $asset->name }}</strong>
                                    </td>
                                    <td>
                                        @if ($asset->location)
                                            <i class="fas fa-map-pin text-danger me-1 opacity-50"></i>
                                            {{ $asset->location }}
                                        @else
                                            -
                                        @endif
                                    </td>
                                    <td>
                                        @if ($asset->is_active)
                                            <span class="badge bg-success rounded-pill">
                                                <i class="fas fa-check me-1"></i> Aktif
                                            </span>
                                        @else
                                            <span class="badge bg-danger rounded-pill">
                                                <i class="fas fa-times me-1"></i> Pasif
                                            </span>
                                        @endif
                                    </td>
                                    <td class="text-end pe-4">
                                        <a href="{{ route('maintenance.assets.edit', $asset->id) }}"
                                            class="btn btn-action btn-primary" title="Dzenle">
                                            <i class="fas fa-edit"></i>
                                        </a>
                                        <form action="{{ route('maintenance.assets.destroy', $asset->id) }}" method="POST"
                                            class="d-inline"
                                            onsubmit="return confirm('Bu varl silmek istediinize emin misiniz?');">
                                            @csrf @method('DELETE')
                                            <button type="submit" class="btn btn-action btn-danger" title="Sil">
                                                <i class="fas fa-trash"></i>
                                            </button>
                                        </form>
                                    </td>
                                </tr>
                            @empty
                                <tr>
                                    <td colspan="7" class="text-center py-5">
                                        <div
                                            class="d-flex flex-column align-items-center justify-content-center opacity-50">
                                            <i class="fas fa-box-open fa-3x mb-3 text-secondary"></i>
                                            <p class="mb-0 text-muted fw-bold">Kaytl makine veya varlk bulunamad.</p>
                                        </div>
                                    </td>
                                </tr>
                            @endforelse
                        </tbody>
                    </table>
                </div>
            </div>
        </div>
    </div>
@endsection

@section('page_scripts')
    <script>
        document.addEventListener('DOMContentLoaded', function() {
            // Tablo animasyonu
            const tableRows = document.querySelectorAll('tbody tr');
            tableRows.forEach((row, index) => {
                row.style.animation = `slideDown 0.3s ease ${index * 0.05}s forwards`;
                row.style.opacity = '0';
            });

            // Alert otomatik kapanma
            setTimeout(() => {
                const alerts = document.querySelectorAll('.alert');
                alerts.forEach(alert => {
                    const bsAlert = new bootstrap.Alert(alert);
                    bsAlert.close();
                });
            }, 5000);
        });
    </script>
@endsection


----------------------------------------
DOSYA YOLU: resources\views\partials\calendar-modal.blade.php
----------------------------------------

{{-- BU, YEN EVRENSEL MODALIMIZDIR --}}
<div class="modal fade" id="detailModal" tabindex="-1">
    <div class="modal-dialog modal-dialog-centered modal-lg">
        <div class="modal-content">
            <div class="modal-header">
                {{-- Balk JavaScript ile dinamik olarak dolacak --}}
                <h5 class="modal-title" id="modalTitle">Detaylar</h5>
                <button type="button" class="btn-close" data-bs-dismiss="modal"></button>
            </div>

            {{-- erik JavaScript ile dinamik olarak dolacak --}}
            <div class="modal-body" id="modalDynamicBody" style="min-height: 200px;">
                {{-- Buras JS tarafndan doldurulacak --}}
                <div class="d-flex justify-content-center align-items-center h-100">
                    <div class="spinner-border text-primary" role="status">
                        <span class="visually-hidden">Ykleniyor...</span>
                    </div>
                </div>
            </div>

            <div class="modal-footer">
                {{-- DNAMK BUTONLAR (JS ile gsterilip/gizlenecek) --}}

                {{-- Dzenle Butonu (Tm iin) --}}
                <a href="#" id="modalEditButton" class="btn btn-warning"> Dzenle</a>

                <form method="POST" action="" id="modalDeleteForm" style="display: none; margin: 0 0 0 5px;">
                    @csrf
                    @method('DELETE')
                    <button type="submit" class="btn btn-danger"
                        onclick="return confirm('Bu kayd silmek istediinizden emin misiniz? Bu ilem geri alnamaz.')">
                        <i class="fas "></i>  Sil
                    </button>
                </form>

                {{-- Excel'e Kaydet (Sadece Sevkiyat iin) --}}
                <a href="#" id="modalExportButton" class="btn btn-success me-auto" style="display: none;">
                    Excel'e Kaydet</a>

                {{-- Onay Formlar (Sadece Sevkiyat iin) --}}
                <form id="modalOnayForm" method="POST" action="" class="p-0 m-0" style="display: none;"
                    onsubmit="return confirm('Sevkiyatn tesise ulatn onaylyor musunuz?');">
                    @csrf
                    <button type="submit" class="btn btn-info text-white"> Sevkiyat Onayla</button>
                </form>

                @if (in_array(Auth::user()->role, ['admin', 'ynetici', 'kullanc']))
                    <form id="modalOnayKaldirForm" method="POST" action="" class="p-0 m-0" style="display: none;"
                        onsubmit="return confirm('Bu sevkiyatn onayn geri almak istediinizden emin misiniz?');">
                        @csrf
                        <button type="submit" class="btn btn-warning"> Onay Geri Al</button>
                    </form>
                @endif

                {{-- Onay Rozeti (Sadece Sevkiyat iin) --}}
                <span id="modalOnayBadge" class="badge bg-success p-2" style="display:none; font-size: 0.9rem;">
                     Onayland (<span id="modalOnayBadgeTarih"></span> - <span id="modalOnayBadgeKullanici"></span>)
                </span>

                <div id="modalImportantCheckboxContainer" class="form-check form-switch me-auto" style="display: none;">
                    <input class="form-check-input" type="checkbox" role="switch" id="modalImportantCheckbox"
                        data-model-id="" data-model-type="">
                    <label class="form-check-label" for="modalImportantCheckbox">
                        <strong> nemli Olarak aretle</strong>
                    </label>
                </div>

                {{-- Kapat Butonu --}}
                <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Kapat</button>
            </div>
        </div>
    </div>
</div>


----------------------------------------
DOSYA YOLU: resources\views\production\plans\create.blade.php
----------------------------------------

@extends('layouts.app')

@section('title', 'Yeni retim Plan Olutur')

@push('styles')
    <style>
        /* Ana ierik alanna (main) animasyonlu arka plan uygula */
        #app>main.py-4 {
            padding: 2.5rem 0 !important;
            min-height: calc(100vh - 72px);
            background: linear-gradient(-45deg,
                    #dbe4ff,
                    #fde2ff,
                    #d9fcf7,
                    #fff0d9);
            background-size: 400% 400%;
            animation: gradientWave 18s ease infinite;
        }

        /* Arka plan dalgalanma animasyonu */
        @keyframes gradientWave {
            0% {
                background-position: 0% 50%;
            }

            50% {
                background-position: 100% 50%;
            }

            100% {
                background-position: 0% 50%;
            }
        }

        /* === GNCELLEND (create-plan-card) === */
        .create-plan-card {
            border-radius: 1rem;
            box-shadow: none !important;
            border: 0;
            background-color: transparent;
            backdrop-filter: none;
        }

        .create-plan-card .card-header,
        .create-plan-card .form-label {
            color: #444;
            font-weight: bold;
            text-shadow: 0 1px 2px rgba(255, 255, 255, 0.7);
        }

        .create-plan-card .card-header {
            color: #000;
        }

        .create-plan-card .form-control,
        .create-plan-card .form-select {
            border-radius: 0.5rem;
            background-color: rgba(255, 255, 255, 0.8);
        }

        /* YEN EKLEND: Plan detaylar satr iin stiller */
        .plan-detail-row {
            display: flex;
            gap: 0.75rem;
            /* 12px */
            margin-bottom: 0.75rem;
            align-items: center;
        }

        /* GNCELLEND: .form-select de flex: 1 almal */
        .plan-detail-row .form-control,
        .plan-detail-row .form-select {
            flex: 1;
            /* Alanlarn eit bymesini salar */
        }

        .plan-detail-row .btn-danger {
            flex-shrink: 0;
            /* Butonun klmesini engeller */
            padding: 0.375rem 0.75rem;
            /* Bootstrap btn-sm boyutu */
        }

        /* YEN EKLEND BT */

        /* Animasyonlu buton (Deiiklik yok) */
        .btn-animated-gradient {
            background: linear-gradient(-45deg,
                    #667EEA, #F093FB, #4FD1C5, #FBD38D);
            background-size: 400% 400%;
            animation: gradientWave 18s ease infinite;
            border: none;
            color: white;
            font-weight: bold;
            transition: transform 0.2s ease-out, box-shadow 0.2s ease-out;
        }

        .btn-animated-gradient:hover {
            color: white;
            transform: scale(1.05);
            box-shadow: 0 4px 15px rgba(0, 0, 0, 0.1);
        }
    </style>
@endpush

@section('content')
    <div class="container">
        <div class="row justify-content-center">
            <div class="col-md-10">
                {{-- CSS Snf gncellendi --}}
                <div class="card create-plan-card">
                    {{-- Balk gncellendi --}}
                    <div class="card-header h4 bg-transparent border-0 pt-4">{{ __('Yeni retim Plan Olutur') }}</div>
                    <div class="card-body p-4">
                        @if (session('success'))
                            <div class="alert alert-success" role="alert">{{ session('success') }}</div>
                        @endif

                        {{-- Form action ve enctype gncellendi --}}
                        <form method="POST" action="{{ route('production.plans.store') }}" autocomplete="off">
                            @csrf
                            <div class="row">
                                {{-- Sol Stun (Ana Bilgiler) --}}
                                <div class="col-md-6">
                                    <div class="mb-3">
                                        <label for="plan_title" class="form-label">Plan Bal (*)</label>
                                        <input type="text" class="form-control @error('plan_title') is-invalid @enderror"
                                            id="plan_title" name="plan_title" value="{{ old('plan_title') }}" required
                                            autocomplete="off">
                                        @error('plan_title')
                                            <div class="invalid-feedback">{{ $message }}</div>
                                        @enderror
                                    </div>
                                    <div class="mb-3">
                                        <label for="week_start_date" class="form-label">Hafta Balang Tarihi (*)</label>
                                        <input type="date"
                                            class="form-control @error('week_start_date') is-invalid @enderror"
                                            id="week_start_date" name="week_start_date" value="{{ old('week_start_date') }}"
                                            required autocomplete="off">
                                        @error('week_start_date')
                                            <div class="invalid-feedback">{{ $message }}</div>
                                        @enderror
                                    </div>
                                </div>

                                {{-- Sa Stun (Dinamik Plan Detaylar) --}}
                                <fieldset class="col-md-6">
                                    {{-- GNCELLEND: Label metni --}}
                                    <legend class="form-legend">Plan Detaylar (Makine, rn, Miktar, Birim)</legend>

                                    {{-- Hata durumunda eski verileri doldurmak iin --}}
                                    @if ($errors->has('plan_details.*'))
                                        <div class="alert alert-danger p-2 small">
                                            Plan detaylarnda hatalar var. Ltfen krmz ile iaretli alanlar kontrol
                                            edin.
                                        </div>
                                    @endif

                                    {{-- Dinamik satrlarn eklenecei ana kapsayc --}}
                                    <div id="plan-details-wrapper">

                                        {{-- Validasyon hatas olursa, eski girilen satrlar tekrar ykle --}}
                                        @if (old('plan_details'))
                                            @foreach (old('plan_details') as $index => $details)
                                                <div class="plan-detail-row">
                                                    <input type="text" name="plan_details[{{ $index }}][machine]"
                                                        class="form-control @error('plan_details.' . $index . '.machine') is-invalid @enderror"
                                                        placeholder="Makine Ad" value="{{ $details['machine'] ?? '' }}"
                                                        required autocomplete="off">

                                                    <input type="text" name="plan_details[{{ $index }}][product]"
                                                        class="form-control @error('plan_details.' . $index . '.product') is-invalid @enderror"
                                                        placeholder="rn Kodu/Ad" value="{{ $details['product'] ?? '' }}"
                                                        required autocomplete="off">

                                                    {{-- GNCELLEND: "Adet" -> "Miktar" --}}
                                                    <input type="number"
                                                        name="plan_details[{{ $index }}][quantity]"
                                                        class="form-control @error('plan_details.' . $index . '.quantity') is-invalid @enderror"
                                                        placeholder="Miktar" value="{{ $details['quantity'] ?? '' }}"
                                                        required min="1" autocomplete="off">

                                                    {{-- YEN EKLEND: Birim Dropdown --}}
                                                    <select name="plan_details[{{ $index }}][birim_id]"
                                                        class="form-select @error('plan_details.' . $index . '.birim_id') is-invalid @enderror"
                                                        required>
                                                        <option value="" disabled>Birim Sein</option>
                                                        @foreach ($birimler as $birim)
                                                            <option value="{{ $birim->id }}"
                                                                {{ isset($details['birim_id']) && $details['birim_id'] == $birim->id ? 'selected' : '' }}>
                                                                {{ $birim->ad }}
                                                            </option>
                                                        @endforeach
                                                    </select>

                                                    <button type="button"
                                                        class="btn btn-danger btn-sm remove-plan-row">&times;</button>
                                                </div>
                                                {{-- Hata mesajlarn satrn altnda gstermek iin (opsiyonel ama k) --}}
                                                @error('plan_details.' . $index . '.machine')
                                                    <div class="invalid-feedback d-block mb-2">{{ $message }}</div>
                                                @enderror
                                                @error('plan_details.' . $index . '.product')
                                                    <div class="invalid-feedback d-block mb-2">{{ $message }}</div>
                                                @enderror
                                                @error('plan_details.' . $index . '.quantity')
                                                    <div class="invalid-feedback d-block mb-2">{{ $message }}</div>
                                                @enderror
                                                {{-- YEN EKLEND: Birim hata mesaj --}}
                                                @error('plan_details.' . $index . '.birim_id')
                                                    <div class="invalid-feedback d-block mb-2">{{ $message }}</div>
                                                @enderror
                                            @endforeach
                                        @endif
                                    </div>

                                    <button type="button" id="add-plan-row" class="btn btn-success btn-sm mt-2">+ Satr
                                        Ekle</button>
                                </fieldset>
                            </div>
                            {{-- DNAMK ALANLAR --}}
                            <div class="mb-3">
                                <x-dynamic-fields :model="\App\Models\ProductionPlan::class" />
                            </div>

                            <div class="text-end mt-4">
                                {{-- Buton metni gncellendi --}}
                                <button type="submit" class="btn btn-animated-gradient rounded-3 px-4 py-2">Plan
                                    Olutur</button>
                            </div>
                        </form>
                    </div>
                </div>
            </div>
        </div>
    </div>
@endsection

@section('page_scripts')
    {{-- TAMAMEN GNCELLEND --}}
    <script>
        // Controller'dan gelen $birimler deikenini JavaScript'e JSON olarak aktaryoruz
        const allBirimler = @json($birimler);

        document.addEventListener('DOMContentLoaded', function() {

            // Satr ekleme ve silme ilemleri iin benzersiz bir index tutucu.
            // Eer form validasyondan dnerse, mevcut satr saysndan balar.
            let rowIndex = {{ old('plan_details') ? count(old('plan_details')) : 0 }};

            const wrapper = document.getElementById('plan-details-wrapper');
            const addButton = document.getElementById('add-plan-row');

            // Birimler iin HTML <option> listesini oluturan yardmc fonksiyon
            function getBirimOptions() {
                let optionsHtml = '<option value="" selected disabled>Birim Sein</option>';
                allBirimler.forEach(birim => {
                    optionsHtml += `<option value="${birim.id}">${birim.ad}</option>`;
                });
                return optionsHtml;
            }

            // "Satr Ekle" butonuna tklandnda
            addButton.addEventListener('click', function() {
                // Her defasnda taze bir birim <option> listesi al
                const birimOptions = getBirimOptions();

                // Yeni satrn HTML ablonu
                // GNCELLEND: placeholder="Miktar" ve <select> eklendi
                const newRow = `
            <div class="plan-detail-row">
                <input type="text" name="plan_details[${rowIndex}][machine]" class="form-control" placeholder="Makine Ad" required autocomplete="off">
                <input type="text" name="plan_details[${rowIndex}][product]" class="form-control" placeholder="rn Kodu/Ad" required autocomplete="off">
                <input type="number" name="plan_details[${rowIndex}][quantity]" class="form-control" placeholder="Miktar" required min="1" autocomplete="off">
                <select name="plan_details[${rowIndex}][birim_id]" class="form-select" required>
                    ${birimOptions}
                </select>
                <button type="button" class="btn btn-danger btn-sm remove-plan-row">&times;</button>
            </div>
            `;

                // Yeni satr kapsaycya ekle
                wrapper.insertAdjacentHTML('beforeend', newRow);

                // Bir sonraki satr iin index'i artr
                rowIndex++;
            });

            // "Sil" (X) butonuna tklandnda (Event Delegation)
            // Kapsaycya bir tklama dinleyicisi ekliyoruz, bu sayede sonradan eklenen
            // butonlar da alr.
            wrapper.addEventListener('click', function(e) {
                // Tklanan eleman 'remove-plan-row' class'na sahip bir buton mu?
                if (e.target && e.target.classList.contains('remove-plan-row')) {
                    // Butonun en yakn 'plan-detail-row' class'l ebeveynini bul ve kaldr
                    e.target.closest('.plan-detail-row').remove();
                }
            });

        });
    </script>
@endsection


----------------------------------------
DOSYA YOLU: resources\views\production\plans\edit.blade.php
----------------------------------------

@extends('layouts.app')

@section('title', 'retim Plann Dzenle')

@push('styles')
    <style>
        /* Ana ierik alanna (main) animasyonlu arka plan uygula */
        #app>main.py-4 {
            padding: 2.5rem 0 !important;
            min-height: calc(100vh - 72px);
            background: linear-gradient(-45deg,
                    #dbe4ff,
                    #fde2ff,
                    #d9fcf7,
                    #fff0d9);
            background-size: 400% 400%;
            animation: gradientWave 18s ease infinite;
        }

        /* Arka plan dalgalanma animasyonu */
        @keyframes gradientWave {
            0% {
                background-position: 0% 50%;
            }

            50% {
                background-position: 100% 50%;
            }

            100% {
                background-position: 0% 50%;
            }
        }

        /* === GNCELLEND (plan-edit-card) === */
        .plan-edit-card {
            border-radius: 1rem;
            box-shadow: none !important;
            border: 0;
            background-color: transparent;
            backdrop-filter: none;
        }

        .plan-edit-card .card-header,
        .plan-edit-card .form-label {
            color: #444;
            font-weight: bold;
            text-shadow: 0 1px 2px rgba(255, 255, 255, 0.7);
        }

        .plan-edit-card .card-header {
            color: #000;
        }

        .plan-edit-card .form-control,
        .plan-edit-card .form-select {
            border-radius: 0.5rem;
            background-color: rgba(255, 255, 255, 0.8);
        }

        /* Plan detaylar satr iin stiller (create.blade.php ile ayn) */
        .plan-detail-row {
            display: flex;
            gap: 0.75rem;
            margin-bottom: 0.75rem;
            align-items: center;
        }

        .plan-detail-row .form-control {
            flex: 1;
        }

        .plan-detail-row .btn-danger {
            flex-shrink: 0;
            padding: 0.375rem 0.75rem;
        }

        /* Animasyonlu buton (Deiiklik yok) */
        .btn-animated-gradient {
            background: linear-gradient(-45deg,
                    #667EEA, #F093FB, #4FD1C5, #FBD38D);
            background-size: 400% 400%;
            animation: gradientWave 18s ease infinite;
            border: none;
            color: white;
            font-weight: bold;
            transition: transform 0.2s ease-out, box-shadow 0.2s ease-out;
        }

        .btn-animated-gradient:hover {
            color: white;
            transform: scale(1.05);
            box-shadow: 0 4px 15px rgba(0, 0, 0, 0.1);
        }
    </style>
@endpush

@section('content')

    {{-- 
    Validasyon hatas durumunda 'old()' fonksiyonundan gelen verileri, 
    normal durumda ise modelden ($productionPlan) gelen verileri kullanmak iin
    bir deiken tanmlyoruz.
--}}
    @php
        $details_data = old('plan_details', $productionPlan->plan_details ?? []);
    @endphp

    <div class="container">
        <div class="row justify-content-center">
            <div class="col-md-10">
                {{-- CSS Snf gncellendi --}}
                <div class="card plan-edit-card">

                    {{-- Balk ve Sil Butonu (shipments/edit.blade.php referans alnd) --}}
                    <div
                        class="card-header d-flex justify-content-between align-items-center h4 bg-transparent border-0 pt-4">
                        <span>{{ __('retim Plann Dzenle') }}</span>

                        {{-- Controller ve list.blade.php'deki 'admin' kural baz alnd --}}
                        @if (Auth::user()->role === 'admin')
                            <form method="POST" action="{{ route('production.plans.destroy', $productionPlan->id) }}"
                                onsubmit="return confirm('Bu retim plann silmek istediinizden emin misiniz?');"
                                autocomplete="off">
                                @csrf
                                @method('DELETE')
                                <button type="submit" class="btn btn-danger btn-sm">Plan Sil</button>
                            </form>
                        @endif
                    </div>

                    <div class="card-body p-4">
                        @if (session('success'))
                            <div class="alert alert-success" role="alert">{{ session('success') }}</div>
                        @endif

                        {{-- Form action ve method gncellendi --}}
                        <form method="POST" action="{{ route('production.plans.update', $productionPlan->id) }}"
                            autocomplete="off">
                            @csrf
                            @method('PUT') {{-- GNCELLEND --}}

                            <div class="row">
                                {{-- Sol Stun (Ana Bilgiler) --}}
                                <div class="col-md-6">
                                    <div class="mb-3">
                                        <label for="plan_title" class="form-label">Plan Bal (*)</label>
                                        {{-- Veri doldurma gncellendi --}}
                                        <input type="text" class="form-control @error('plan_title') is-invalid @enderror"
                                            id="plan_title" name="plan_title"
                                            value="{{ old('plan_title', $productionPlan->plan_title) }}" required
                                            autocomplete="off">
                                        @error('plan_title')
                                            <div class="invalid-feedback">{{ $message }}</div>
                                        @enderror
                                    </div>
                                    <div class="mb-3">
                                        <label for="week_start_date" class="form-label">Hafta Balang Tarihi (*)</label>
                                        {{-- Veri doldurma ve formatlama gncellendi --}}
                                        <input type="date"
                                            class="form-control @error('week_start_date') is-invalid @enderror"
                                            id="week_start_date" name="week_start_date"
                                            value="{{ old('week_start_date', $productionPlan->week_start_date->format('Y-m-d')) }}"
                                            required autocomplete="off">
                                        @error('week_start_date')
                                            <div class="invalid-feedback">{{ $message }}</div>
                                        @enderror
                                    </div>
                                </div>

                                {{-- Sa Stun (Dinamik Plan Detaylar) --}}
                                <fieldset class="col-md-6">
                                    <legend class="form-label">Plan Detaylar (Makine, rn, Adet)</legend>

                                    @if ($errors->has('plan_details.*'))
                                        <div class="alert alert-danger p-2 small">
                                            Plan detaylarnda hatalar var. Ltfen krmz ile iaretli alanlar kontrol
                                            edin.
                                        </div>
                                    @endif

                                    <div id="plan-details-wrapper">

                                        {{-- Dng, hem 'old' hem de '$productionPlan' verisini ilemek iin $details_data'y kullanr --}}
                                        @foreach ($details_data as $index => $details)
                                            <div class="plan-detail-row">
                                                <input type="text" name="plan_details[{{ $index }}][machine]"
                                                    class="form-control @error('plan_details.' . $index . '.machine') is-invalid @enderror"
                                                    placeholder="Makine Ad" value="{{ $details['machine'] ?? '' }}"
                                                    required autocomplete="off">

                                                <input type="text" name="plan_details[{{ $index }}][product]"
                                                    class="form-control @error('plan_details.' . $index . '.product') is-invalid @enderror"
                                                    placeholder="rn Kodu/Ad" value="{{ $details['product'] ?? '' }}"
                                                    required autocomplete="off">

                                                <input type="number" name="plan_details[{{ $index }}][quantity]"
                                                    class="form-control @error('plan_details.' . $index . '.quantity') is-invalid @enderror"
                                                    placeholder="Adet" value="{{ $details['quantity'] ?? '' }}" required
                                                    min="1" autocomplete="off">

                                                <button type="button"
                                                    class="btn btn-danger btn-sm remove-plan-row">&times;</button>
                                            </div>
                                            {{-- Hata mesajlar (Validasyon iin) --}}
                                            @error('plan_details.' . $index . '.machine')
                                                <div class="invalid-feedback d-block mb-2">{{ $message }}</div>
                                            @enderror
                                            @error('plan_details.' . $index . '.product')
                                                <div class="invalid-feedback d-block mb-2">{{ $message }}</div>
                                            @enderror
                                            @error('plan_details.' . $index . '.quantity')
                                                <div class="invalid-feedback d-block mb-2">{{ $message }}</div>
                                            @enderror
                                        @endforeach
                                    </div>

                                    <button type="button" id="add-plan-row" class="btn btn-success btn-sm mt-2">+ Satr
                                        Ekle</button>
                                </fieldset>
                            </div>
                            {{-- DNAMK ALANLAR --}}
                            <div class="mb-3">
                                <x-dynamic-fields :model="\App\Models\ProductionPlan::class" :entity="$productionPlan" />
                            </div>

                            <div class="text-end mt-4">
                                {{-- Butonlar gncellendi --}}
                                <button type="submit" class="btn btn-animated-gradient rounded-3 px-4 py-2">Deiiklikleri
                                    Kaydet</button>
                                <a href="{{ route('production.plans.index') }}"
                                    class="btn btn-outline-secondary rounded-3">ptal</a>
                            </div>
                        </form>
                    </div>
                </div>
            </div>
        </div>
    </div>
@endsection

@section('page_scripts')
    {{-- JavaScript (create.blade.php'den kopyaland, rowIndex gncellendi) --}}
    <script>
        document.addEventListener('DOMContentLoaded', function() {

            // Satr index'ini, sayfada halihazrda bulunan satr saysndan balatyoruz.
            let rowIndex = {{ count($details_data) }};

            const wrapper = document.getElementById('plan-details-wrapper');
            const addButton = document.getElementById('add-plan-row');

            addButton.addEventListener('click', function() {
                const newRow = `
            <div class="plan-detail-row">
                <input type="text" name="plan_details[${rowIndex}][machine]" class="form-control" placeholder="Makine Ad" required autocomplete="off">
                <input type="text" name="plan_details[${rowIndex}][product]" class="form-control" placeholder="rn Kodu/Ad" required autocomplete="off">
                <input type="number" name="plan_details[${rowIndex}][quantity]" class="form-control" placeholder="Adet" required min="1" autocomplete="off">
                <button type="button" class="btn btn-danger btn-sm remove-plan-row">&times;</button>
            </div>
        `;
                wrapper.insertAdjacentHTML('beforeend', newRow);
                rowIndex++;
            });

            wrapper.addEventListener('click', function(e) {
                if (e.target && e.target.classList.contains('remove-plan-row')) {
                    e.target.closest('.plan-detail-row').remove();
                }
            });

        });
    </script>
@endsection


----------------------------------------
DOSYA YOLU: resources\views\production\plans\index.blade.php
----------------------------------------

@extends('layouts.app')
@section('title', 'retim Planlar')

@push('styles')
    <style>
        /* Ana ierik alan - Modern gradient arka plan */
        #app>main.py-4 {
            padding: 2rem 0 !important;
            min-height: calc(100vh - 72px);
            background: linear-gradient(-45deg, #667eea, #764ba2, #f093fb, #4facfe);
            background-size: 400% 400%;
            animation: gradientShift 15s ease infinite;
        }

        @keyframes gradientShift {
            0% {
                background-position: 0% 50%;
            }

            50% {
                background-position: 100% 50%;
            }

            100% {
                background-position: 0% 50%;
            }
        }

        /* Container iin max-width */
        .modern-container {
            max-width: 1400px;
            margin: 0 auto;
        }

        /* st balk blm */
        .page-header {
            background: rgba(255, 255, 255, 0.95);
            backdrop-filter: blur(20px);
            border-radius: 20px;
            padding: 2rem;
            margin-bottom: 2rem;
            box-shadow: 0 10px 40px rgba(0, 0, 0, 0.1);
            border: 1px solid rgba(255, 255, 255, 0.3);
        }

        .page-header h1 {
            margin: 0;
            font-size: 2rem;
            font-weight: 700;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
        }

        .page-header p {
            margin: 0.5rem 0 0 0;
            color: #6c757d;
            font-size: 0.95rem;
        }

        /* Alert mesajlar - Modern stil */
        .alert {
            border-radius: 15px;
            border: none;
            backdrop-filter: blur(10px);
            box-shadow: 0 5px 20px rgba(0, 0, 0, 0.08);
        }

        .alert-success {
            background: rgba(40, 199, 111, 0.15);
            color: #1e7e34;
        }

        .alert-danger {
            background: rgba(235, 87, 87, 0.15);
            color: #c82333;
        }

        .alert-warning {
            background: rgba(255, 193, 7, 0.15);
            color: #856404;
        }

        /* Filtre butonu */
        .btn-filter-toggle {
            background: rgba(255, 255, 255, 0.95);
            backdrop-filter: blur(10px);
            border: 2px solid rgba(102, 126, 234, 0.3);
            border-radius: 15px;
            color: #667eea;
            font-weight: 600;
            padding: 1rem 1.5rem;
            transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
            box-shadow: 0 4px 15px rgba(102, 126, 234, 0.2);
        }

        .btn-filter-toggle:hover {
            background: #667eea;
            color: white;
            border-color: #667eea;
            transform: translateY(-2px);
            box-shadow: 0 8px 25px rgba(102, 126, 234, 0.3);
        }

        .btn-filter-toggle[aria-expanded="true"] {
            background: #667eea;
            color: white;
            border-color: #667eea;
        }

        .btn-filter-toggle i {
            transition: transform 0.3s ease;
        }

        .btn-filter-toggle[aria-expanded="true"] i.fa-chevron-down {
            transform: rotate(180deg);
        }

        /* Filtre kart */
        .filter-card {
            background: rgba(255, 255, 255, 0.95);
            backdrop-filter: blur(20px);
            border-radius: 20px;
            border: 1px solid rgba(255, 255, 255, 0.3);
            box-shadow: 0 10px 40px rgba(0, 0, 0, 0.1);
            padding: 2rem;
            animation: slideDown 0.3s ease;
        }

        @keyframes slideDown {
            from {
                opacity: 0;
                transform: translateY(-20px);
            }

            to {
                opacity: 1;
                transform: translateY(0);
            }
        }

        .filter-card .form-label {
            font-weight: 600;
            color: #495057;
            margin-bottom: 0.5rem;
            font-size: 0.9rem;
        }

        .filter-card .form-label i {
            margin-right: 0.5rem;
            color: #667eea;
        }

        .filter-card .form-control,
        .filter-card .form-select {
            border-radius: 12px;
            border: 2px solid #e9ecef;
            padding: 0.75rem 1rem;
            transition: all 0.3s ease;
            background-color: white;
        }

        .filter-card .form-control:focus,
        .filter-card .form-select:focus {
            border-color: #667eea;
            box-shadow: 0 0 0 0.2rem rgba(102, 126, 234, 0.15);
        }

        /* Butonlar */
        .btn-apply-filter {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            border: none;
            color: white;
            font-weight: 600;
            padding: 0.75rem 2rem;
            border-radius: 12px;
            transition: all 0.3s ease;
            box-shadow: 0 4px 15px rgba(102, 126, 234, 0.3);
        }

        .btn-apply-filter:hover {
            transform: translateY(-2px);
            box-shadow: 0 6px 20px rgba(102, 126, 234, 0.4);
            color: white;
        }

        .btn-clear-filter {
            background: white;
            border: 2px solid #e9ecef;
            color: #6c757d;
            font-weight: 600;
            padding: 0.75rem 2rem;
            border-radius: 12px;
            transition: all 0.3s ease;
        }

        .btn-clear-filter:hover {
            background: #f8f9fa;
            border-color: #dee2e6;
            transform: translateY(-2px);
        }

        /* YEN: Global Export Butonu Stili */
        .btn-export-global {
            background: linear-gradient(135deg, #28c76f 0%, #1e7e34 100%);
            border: none;
            color: white;
            font-weight: 600;
            padding: 0.75rem 2rem;
            border-radius: 12px;
            transition: all 0.3s ease;
            box-shadow: 0 4px 15px rgba(40, 199, 111, 0.3);
            text-decoration: none;
            display: inline-flex;
            align-items: center;
        }

        .btn-export-global:hover {
            transform: translateY(-2px);
            box-shadow: 0 6px 20px rgba(40, 199, 111, 0.4);
            color: white;
        }

        /* Ana liste kart */
        .list-card {
            background: rgba(255, 255, 255, 0.95);
            backdrop-filter: blur(20px);
            border-radius: 20px;
            border: 1px solid rgba(255, 255, 255, 0.3);
            box-shadow: 0 10px 40px rgba(0, 0, 0, 0.1);
            overflow: hidden;
        }

        .list-card .card-header {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
            font-weight: 700;
            font-size: 1.3rem;
            border: none;
            padding: 1.5rem 2rem;
            display: flex;
            align-items: center;
            gap: 0.75rem;
        }

        .list-card .card-header i {
            font-size: 1.5rem;
        }

        /* Tablo stilleri */
        .table {
            background-color: transparent;
            margin-bottom: 0;
        }

        .table thead {
            background: rgba(102, 126, 234, 0.05);
        }

        .table thead th {
            color: #495057;
            font-weight: 700;
            font-size: 0.85rem;
            text-transform: uppercase;
            letter-spacing: 0.5px;
            border-bottom: 2px solid rgba(102, 126, 234, 0.2);
            padding: 1.25rem 1rem;
        }

        .table tbody tr {
            transition: all 0.3s ease;
            border-bottom: 1px solid rgba(0, 0, 0, 0.05);
        }

        .table tbody tr:hover {
            background: rgba(102, 126, 234, 0.08) !important;
            transform: scale(1.01);
            box-shadow: 0 5px 15px rgba(0, 0, 0, 0.08);
        }

        .table td {
            vertical-align: middle;
            padding: 1.25rem 1rem;
            color: #495057;
            font-size: 0.95rem;
        }

        /* nemli satr vurgusu */
        .row-important {
            background: linear-gradient(90deg, rgba(255, 107, 107, 0.15) 0%, rgba(255, 107, 107, 0.05) 100%) !important;
            border-left: 4px solid #ff6b6b !important;
        }

        .row-important td {
            color: #c92a2a;
            font-weight: 600;
        }

        .row-important:hover {
            background: linear-gradient(90deg, rgba(255, 107, 107, 0.25) 0%, rgba(255, 107, 107, 0.1) 100%) !important;
        }

        /* Aksiyon butonlar */
        .btn-action {
            width: 40px;
            height: 40px;
            border-radius: 10px;
            display: inline-flex;
            align-items: center;
            justify-content: center;
            border: none;
            transition: all 0.3s ease;
            font-size: 0.9rem;
            margin: 0 0.25rem;
        }

        .btn-action:hover {
            transform: translateY(-3px);
            box-shadow: 0 5px 15px rgba(0, 0, 0, 0.2);
        }

        .btn-action.btn-primary {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
        }

        .btn-action.btn-danger {
            background: linear-gradient(135deg, #ff6b6b 0%, #ee5a6f 100%);
            color: white;
        }

        /* YEN: Tablo i Yeil Export Butonu */
        .btn-action.btn-success {
            background: linear-gradient(135deg, #28c76f 0%, #1e7e34 100%);
            color: white;
        }

        /* Pagination */
        .pagination {
            margin: 0;
            gap: 0.5rem;
        }

        .page-item .page-link {
            border-radius: 10px;
            border: 2px solid #e9ecef;
            color: #667eea;
            font-weight: 600;
            padding: 0.5rem 1rem;
            transition: all 0.3s ease;
            margin: 0;
        }

        .page-item.active .page-link {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            border-color: #667eea;
            color: white;
        }

        .page-item .page-link:hover {
            background: #667eea;
            border-color: #667eea;
            color: white;
            transform: translateY(-2px);
        }

        .card-footer {
            background: rgba(255, 255, 255, 0.5);
            border-top: 1px solid rgba(0, 0, 0, 0.05) !important;
            padding: 1.5rem 2rem !important;
        }

        /* Badge stilleri */
        .badge-custom {
            padding: 0.5rem 1rem;
            border-radius: 8px;
            font-weight: 600;
            font-size: 0.85rem;
        }

        .badge-important {
            background: linear-gradient(135deg, #ff6b6b 0%, #ee5a6f 100%);
            color: white;
        }

        /* Responsive iyiletirmeler */
        @media (max-width: 768px) {
            .page-header h1 {
                font-size: 1.5rem;
            }

            .btn-filter-toggle {
                font-size: 0.9rem;
                padding: 0.75rem 1rem;
            }

            .table {
                font-size: 0.85rem;
            }

            .btn-action {
                width: 35px;
                height: 35px;
                font-size: 0.8rem;
            }

            .btn-export-global {
                width: 100%;
                justify-content: center;
                margin-top: 10px;
            }
        }

        html {
            scroll-behavior: smooth;
        }

        @keyframes pulse {

            0%,
            100% {
                opacity: 1;
            }

            50% {
                opacity: 0.5;
            }
        }
    </style>
@endpush

@section('content')
    <div class="container-fluid modern-container">
        <div class="row justify-content-center">
            <div class="col-12">

                {{-- Sayfa Bal --}}
                <div class="page-header">
                    <h1><i class="fas fa-clipboard-list"></i> retim Planlar</h1>
                    <p>Haftalk retim planlarnz grntleyin, dzenleyin ve ynetin.</p>
                </div>

                {{-- Baar/Hata Mesajlar --}}
                @if (session('success'))
                    <div class="alert alert-success alert-dismissible fade show" role="alert">
                        <i class="fas fa-check-circle me-2"></i>{{ session('success') }}
                        <button type="button" class="btn-close" data-bs-dismiss="alert"></button>
                    </div>
                @endif
                @if (session('error'))
                    <div class="alert alert-danger alert-dismissible fade show" role="alert">
                        <i class="fas fa-exclamation-circle me-2"></i>{{ session('error') }}
                        <button type="button" class="btn-close" data-bs-dismiss="alert"></button>
                    </div>
                @endif

                {{-- Filtre Blm --}}
                <div class="mb-4">
                    <div class="d-grid">
                        <button class="btn btn-filter-toggle" type="button" data-bs-toggle="collapse"
                            data-bs-target="#filterCollapse" aria-expanded="false" aria-controls="filterCollapse">
                            <i class="fas fa-sliders-h me-2"></i> Filtre Seenekleri
                            <i class="fas fa-chevron-down ms-2"></i>
                        </button>
                    </div>

                    <div class="collapse mt-3" id="filterCollapse">
                        <div class="card filter-card">
                            <form method="GET" action="{{ route('production.plans.index') }}">
                                <div class="row">
                                    @php
                                        $isAdminOrManager = in_array(Auth::user()->role, ['admin', 'ynetici']);
                                    @endphp

                                    {{-- Plan Bal --}}
                                    <div class="{{ $isAdminOrManager ? 'col-lg-3 col-md-6' : 'col-md-6' }}">
                                        <label for="plan_title" class="form-label">
                                            <i class="fas fa-search"></i>Plan Bal
                                        </label>
                                        <input type="text" class="form-control" id="plan_title" name="plan_title"
                                            value="{{ $filters['plan_title'] ?? '' }}" placeholder="Plan bal girin...">
                                    </div>

                                    {{-- nem Durumu --}}
                                    @if ($isAdminOrManager)
                                        <div class="col-lg-3 col-md-6">
                                            <label for="is_important" class="form-label">
                                                <i class="fas fa-exclamation-triangle"></i>nem Durumu
                                            </label>
                                            <select class="form-select" id="is_important" name="is_important">
                                                <option value="all"
                                                    {{ ($filters['is_important'] ?? 'all') == 'all' ? 'selected' : '' }}>
                                                    Tm
                                                </option>
                                                <option value="yes"
                                                    {{ ($filters['is_important'] ?? '') == 'yes' ? 'selected' : '' }}>
                                                    Sadece nemliler
                                                </option>
                                                <option value="no"
                                                    {{ ($filters['is_important'] ?? '') == 'no' ? 'selected' : '' }}>
                                                    nemli Olmayanlar
                                                </option>
                                            </select>
                                        </div>
                                    @endif

                                    {{-- Tarih Aral --}}
                                    <div class="col-lg-3 col-md-6">
                                        <label for="date_from" class="form-label">
                                            <i class="fas fa-calendar-alt"></i>Balang Tarihi
                                        </label>
                                        <input type="date" class="form-control" id="date_from" name="date_from"
                                            value="{{ $filters['date_from'] ?? '' }}">
                                    </div>
                                    <div class="col-lg-3 col-md-6">
                                        <label for="date_to" class="form-label">
                                            <i class="fas fa-calendar-check"></i>Biti Tarihi
                                        </label>
                                        <input type="date" class="form-control" id="date_to" name="date_to"
                                            value="{{ $filters['date_to'] ?? '' }}">
                                    </div>
                                </div>

                                {{-- Butonlar --}}
                                <div class="d-flex justify-content-end gap-2 mt-4">
                                    <a href="{{ route('production.plans.index') }}" class="btn btn-clear-filter">
                                        <i class="fas fa-times me-2"></i>Temizle
                                    </a>
                                    <button type="submit" class="btn btn-apply-filter">
                                        <i class="fas fa-check me-2"></i>Filtrele
                                    </button>
                                </div>
                            </form>
                        </div>
                    </div>
                </div>

                {{-- YEN EKLEND: Global Excel Export Butonu --}}
                <div class="mb-4 text-end">
                    <a href="{{ route('production.plans.export_list') }}" class="btn-export-global">
                        <i class="fas fa-file-excel me-2"></i> Listeyi Excel'e Aktar
                    </a>
                </div>

                {{-- Ana Liste Kart --}}
                <div class="card list-card">
                    <div class="card-header">
                        <i class="fas fa-list"></i>
                        <span>Plan Listesi</span>
                    </div>

                    <div class="card-body p-0">
                        @if ($plans->isEmpty())
                            <div class="alert alert-warning m-4" role="alert">
                                <i class="fas fa-info-circle me-2"></i>Kaytl retim plan bulunamad.
                            </div>
                        @else
                            <div class="table-responsive">
                                <table class="table mb-0">
                                    <thead>
                                        <tr>
                                            <th scope="col" class="ps-3">Plan Bal</th>
                                            <th scope="col">Hafta Balangc</th>
                                            <th scope="col">Oluturan</th>
                                            <th scope="col">Kayt Tarihi</th>
                                            <th scope="col" class="text-end pe-3">lemler</th>
                                        </tr>
                                    </thead>
                                    <tbody>
                                        @foreach ($plans as $plan)
                                            <tr class="{{ $plan->is_important ? 'row-important' : '' }}">
                                                <td class="ps-3">
                                                    <strong>{{ $plan->plan_title }}</strong>
                                                    @if ($plan->is_important)
                                                        <span class="badge badge-custom badge-important ms-2">
                                                            <i class="fas fa-star"></i> nemli
                                                        </span>
                                                    @endif
                                                </td>
                                                <td>
                                                    <i class="fas fa-calendar me-2"></i>
                                                    {{ $plan->week_start_date ? \Carbon\Carbon::parse($plan->week_start_date)->format('d.m.Y') : '-' }}
                                                </td>
                                                <td>
                                                    <i class="fas fa-user me-2"></i>
                                                    {{ $plan->user->name ?? 'Bilinmiyor' }}
                                                </td>
                                                <td>
                                                    <i class="fas fa-clock me-2"></i>
                                                    {{ $plan->created_at ? \Carbon\Carbon::parse($plan->created_at)->format('d.m.Y H:i') : '-' }}
                                                </td>
                                                <td class="text-end pe-3">
                                                    {{--  Emri ndir Butonu --}}
                                                    <a href="{{ route('production.plans.export', $plan) }}"
                                                        class="btn btn-success btn-sm text-white"
                                                        title=" Emri Fiini ndir">
                                                        <i class="fas fa-file-excel me-1"></i> Plan Excel'e Aktar
                                                    </a>

                                                    @if (!in_array(Auth::user()->role, ['izleyici']))
                                                        {{-- Dzenle Butonu --}}
                                                        <a href="{{ route('production.plans.edit', $plan) }}"
                                                            class="btn btn-primary btn-sm text-white" title="Dzenle">
                                                            <i class="fas fa-edit me-1"></i> Dzenle
                                                        </a>

                                                        {{-- Sil Butonu --}}
                                                        <form action="{{ route('production.plans.destroy', $plan) }}"
                                                            method="POST" class="d-inline"
                                                            onsubmit="return confirm('Bu plan silmek istediinizden emin misiniz? Bu ilem geri alnamaz.');">
                                                            @csrf
                                                            @method('DELETE')
                                                            <button type="submit"
                                                                class="btn btn-danger btn-sm text-white" title="Sil">
                                                                <i class="fas fa-trash me-1"></i> Sil
                                                            </button>
                                                        </form>
                                                    @endif
                                                </td>
                                            </tr>
                                        @endforeach
                                    </tbody>
                                </table>
                            </div>

                            {{-- Sayfalama --}}
                            @if ($plans->hasPages())
                                <div class="card-footer">
                                    {{ $plans->appends($filters ?? [])->links('pagination::bootstrap-5') }}
                                </div>
                            @endif
                        @endif
                    </div>
                </div>
            </div>
        </div>
    </div>
@endsection

@section('page_scripts')
    <script>
        document.addEventListener('DOMContentLoaded', function() {
            // Filtre toggle animasyonu
            const filterCollapse = document.getElementById('filterCollapse');
            const filterButton = document.querySelector('.btn-filter-toggle');
            const chevronIcon = filterButton.querySelector('.fa-chevron-down');

            if (filterCollapse) {
                filterCollapse.addEventListener('show.bs.collapse', function() {
                    chevronIcon.style.transform = 'rotate(180deg)';
                });

                filterCollapse.addEventListener('hide.bs.collapse', function() {
                    chevronIcon.style.transform = 'rotate(0deg)';
                });

                // Sayfa yklendiinde filtre aksa icon'u dndr
                if (filterCollapse.classList.contains('show')) {
                    chevronIcon.style.transform = 'rotate(180deg)';
                }
            }

            // Alert otomatik kapanma
            const alerts = document.querySelectorAll('.alert');
            alerts.forEach(alert => {
                setTimeout(() => {
                    const bsAlert = new bootstrap.Alert(alert);
                    bsAlert.close();
                }, 5000);
            });

            // Tablo satr animasyonu
            const tableRows = document.querySelectorAll('tbody tr');
            tableRows.forEach((row, index) => {
                row.style.animation = `slideDown 0.3s ease ${index * 0.05}s forwards`;
                row.style.opacity = '0';
            });
        });
    </script>
@endsection


----------------------------------------
DOSYA YOLU: resources\views\profile\edit.blade.php
----------------------------------------

@extends('layouts.app')

@section('title', 'Profilimi Dzenle')
@push('styles')
    <style>
        /* Ana ierik alanna animasyonlu arka plan uygula */
        #app>main.py-4 {
            padding: 2.5rem 0 !important;
            min-height: calc(100vh - 72px);
            background: linear-gradient(-45deg,
                    #667EEA,
                    #764BA2,
                    #F093FB,
                    #4FD1C5,
                    #FBD38D);
            background-size: 400% 400%;
            animation: gradientWave 15s ease infinite;
            position: relative;
            overflow: hidden;
        }

        /* Animated floating particles */
        #app>main.py-4::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background-image:
                radial-gradient(circle at 20% 30%, rgba(255, 255, 255, 0.1) 0%, transparent 50%),
                radial-gradient(circle at 80% 70%, rgba(255, 255, 255, 0.08) 0%, transparent 50%);
            animation: float 20s ease-in-out infinite;
            pointer-events: none;
        }

        @keyframes float {

            0%,
            100% {
                transform: translate(0, 0);
            }

            33% {
                transform: translate(30px, -30px);
            }

            66% {
                transform: translate(-20px, 20px);
            }
        }

        @keyframes gradientWave {
            0% {
                background-position: 0% 50%;
            }

            50% {
                background-position: 100% 50%;
            }

            100% {
                background-position: 0% 50%;
            }
        }

        /* Modern Glassmorphism Card */
        .profile-edit-card {
            border-radius: 1.5rem;
            background: rgba(255, 255, 255, 0.95);
            backdrop-filter: blur(20px);
            box-shadow:
                0 8px 32px 0 rgba(31, 38, 135, 0.15),
                0 0 0 1px rgba(255, 255, 255, 0.18) inset;
            border: 1px solid rgba(255, 255, 255, 0.3);
            overflow: hidden;
            position: relative;
            transform: translateY(0);
            transition: transform 0.3s ease, box-shadow 0.3s ease;
        }

        .profile-edit-card:hover {
            transform: translateY(-5px);
            box-shadow:
                0 12px 40px 0 rgba(31, 38, 135, 0.2),
                0 0 0 1px rgba(255, 255, 255, 0.18) inset;
        }

        /* Decorative gradient overlay on card header */
        .profile-edit-card .card-header {
            background: linear-gradient(135deg, rgba(102, 126, 234, 0.1), rgba(240, 147, 251, 0.1));
            border-bottom: 2px solid rgba(102, 126, 234, 0.2);
            color: #2d3748;
            font-weight: 700;
            font-size: 1.75rem;
            padding: 1.5rem 2rem;
            position: relative;
            overflow: hidden;
        }

        .profile-edit-card .card-header::before {
            content: '';
            position: absolute;
            top: 0;
            left: -100%;
            width: 100%;
            height: 100%;
            background: linear-gradient(90deg, transparent, rgba(255, 255, 255, 0.3), transparent);
            transition: left 0.5s ease;
        }

        .profile-edit-card:hover .card-header::before {
            left: 100%;
        }

        /* Profile icon */
        .profile-edit-card .card-header::after {
            content: '';
            position: absolute;
            right: 2rem;
            top: 50%;
            transform: translateY(-50%);
            font-size: 2rem;
            opacity: 0.3;
            animation: pulse 2s ease-in-out infinite;
        }

        @keyframes pulse {

            0%,
            100% {
                transform: translateY(-50%) scale(1);
            }

            50% {
                transform: translateY(-50%) scale(1.1);
            }
        }

        /* Form Labels */
        .profile-edit-card .form-label {
            color: #4a5568;
            font-weight: 600;
            font-size: 0.95rem;
            margin-bottom: 0.5rem;
            display: flex;
            align-items: center;
            gap: 0.5rem;
        }

        .profile-edit-card .form-label::before {
            content: '';
            width: 4px;
            height: 16px;
            background: linear-gradient(135deg, #667EEA, #764BA2);
            border-radius: 2px;
        }

        /* Modern Form Controls */
        .profile-edit-card .form-control {
            border-radius: 0.75rem;
            background-color: rgba(255, 255, 255, 0.9);
            border: 2px solid rgba(102, 126, 234, 0.2);
            padding: 0.75rem 1rem;
            transition: all 0.3s ease;
            font-size: 0.95rem;
        }

        .profile-edit-card .form-control:focus {
            background-color: #ffffff;
            border-color: #667EEA;
            box-shadow: 0 0 0 4px rgba(102, 126, 234, 0.1);
            transform: translateY(-2px);
        }

        .profile-edit-card .form-control:hover {
            border-color: rgba(102, 126, 234, 0.4);
        }

        /* Divider Section */
        .password-divider {
            margin: 2rem 0;
            padding: 1.5rem;
            background: linear-gradient(135deg, rgba(102, 126, 234, 0.05), rgba(240, 147, 251, 0.05));
            border-radius: 1rem;
            border-left: 4px solid #667EEA;
        }

        .password-divider-text {
            color: #4a5568;
            font-size: 0.9rem;
            margin: 0;
            display: flex;
            align-items: center;
            gap: 0.5rem;
        }

        .password-divider-text::before {
            content: '';
            font-size: 1.2rem;
        }

        /* Success Alert */
        .alert-success {
            border-radius: 1rem;
            background: linear-gradient(135deg, rgba(72, 187, 120, 0.1), rgba(56, 178, 172, 0.1));
            border: 2px solid rgba(72, 187, 120, 0.3);
            color: #2f855a;
            padding: 1rem 1.5rem;
            animation: slideDown 0.4s ease;
        }

        @keyframes slideDown {
            from {
                opacity: 0;
                transform: translateY(-20px);
            }

            to {
                opacity: 1;
                transform: translateY(0);
            }
        }

        /* Animated Gradient Button */
        .btn-animated-gradient {
            background: linear-gradient(-45deg, #667EEA, #764BA2, #F093FB, #4FD1C5);
            background-size: 300% 300%;
            animation: gradientWave 6s ease infinite;
            border: none;
            color: white;
            font-weight: 600;
            padding: 0.75rem 2rem;
            border-radius: 0.75rem;
            transition: all 0.3s ease;
            box-shadow: 0 4px 15px rgba(102, 126, 234, 0.3);
            position: relative;
            overflow: hidden;
        }

        .btn-animated-gradient::before {
            content: '';
            position: absolute;
            top: 0;
            left: -100%;
            width: 100%;
            height: 100%;
            background: linear-gradient(90deg, transparent, rgba(255, 255, 255, 0.3), transparent);
            transition: left 0.5s ease;
        }

        .btn-animated-gradient:hover::before {
            left: 100%;
        }

        .btn-animated-gradient:hover {
            color: white;
            transform: translateY(-2px);
            box-shadow: 0 6px 20px rgba(102, 126, 234, 0.4);
        }

        .btn-animated-gradient:active {
            transform: translateY(0);
        }

        /* Cancel Button */
        .btn-outline-secondary {
            border: 2px solid #cbd5e0;
            color: #4a5568;
            font-weight: 600;
            padding: 0.75rem 2rem;
            border-radius: 0.75rem;
            transition: all 0.3s ease;
            background: transparent;
        }

        .btn-outline-secondary:hover {
            background-color: #f7fafc;
            border-color: #a0aec0;
            color: #2d3748;
            transform: translateY(-2px);
            box-shadow: 0 4px 12px rgba(0, 0, 0, 0.08);
        }

        /* Input Icons */
        .input-icon-wrapper {
            position: relative;
        }

        .input-icon-wrapper .input-icon {
            position: absolute;
            right: 1rem;
            top: 50%;
            transform: translateY(-50%);
            color: #a0aec0;
            font-size: 1.2rem;
            transition: color 0.3s ease;
        }

        .input-icon-wrapper .form-control:focus~.input-icon {
            color: #667EEA;
        }

        /* Card Body */
        .profile-edit-card .card-body {
            padding: 2.5rem;
        }

        /* Responsive Design */
        @media (max-width: 768px) {
            .profile-edit-card .card-body {
                padding: 1.5rem;
            }

            .profile-edit-card .card-header {
                font-size: 1.5rem;
                padding: 1.25rem 1.5rem;
            }

            .btn-animated-gradient,
            .btn-outline-secondary {
                width: 100%;
                margin-top: 0.5rem;
            }
        }
    </style>
@endpush

@section('content')
    <div class="container">
        <div class="row justify-content-center">
            <div class="col-md-8">
                <div class="card profile-edit-card">
                    <div class="card-header border-0">
                        {{ __('Profil Bilgilerini Dzenle') }}
                    </div>

                    <div class="card-body">
                        @if (session('success'))
                            <div class="alert alert-success alert-dismissible fade show" role="alert">
                                <strong></strong> {{ session('success') }}
                                <button type="button" class="btn-close" data-bs-dismiss="alert" aria-label="Close"></button>
                            </div>
                        @endif

                        <form method="POST" action="{{ route('profile.update') }}">
                            @csrf
                            @method('PUT')

                            {{-- Ad Soyad --}}
                            <div class="row mb-4">
                                <label for="name" class="col-md-4 col-form-label text-md-end">
                                    {{ __('Ad Soyad') }}
                                </label>
                                <div class="col-md-6">
                                    <div class="input-icon-wrapper">
                                        <input id="name" type="text"
                                            class="form-control @error('name') is-invalid @enderror" name="name"
                                            value="{{ old('name', Auth::user()->name) }}" required autocomplete="name"
                                            autofocus>
                                        <span class="input-icon"></span>
                                    </div>
                                    @error('name')
                                        <span class="invalid-feedback" role="alert">
                                            <strong>{{ $message }}</strong>
                                        </span>
                                    @enderror
                                </div>
                            </div>

                            {{-- E-posta --}}
                            <div class="row mb-4">
                                <label for="email" class="col-md-4 col-form-label text-md-end">
                                    {{ __('E-posta Adresi') }}
                                </label>
                                <div class="col-md-6">
                                    <div class="input-icon-wrapper">
                                        <input id="email" type="email"
                                            class="form-control @error('email') is-invalid @enderror" name="email"
                                            value="{{ old('email', Auth::user()->email) }}" required autocomplete="email">
                                        <span class="input-icon"></span>
                                    </div>
                                    @error('email')
                                        <span class="invalid-feedback" role="alert">
                                            <strong>{{ $message }}</strong>
                                        </span>
                                    @enderror
                                </div>
                            </div>

                            {{-- Password Section Divider --}}
                            <div class="password-divider">
                                <p class="password-divider-text">
                                    ifrenizi deitirmek istemiyorsanz bu alanlar bo brakn
                                </p>
                            </div>

                            {{-- Yeni ifre --}}
                            <div class="row mb-4">
                                <label for="password" class="col-md-4 col-form-label text-md-end">
                                    {{ __('Yeni ifre') }}
                                </label>
                                <div class="col-md-6">
                                    <div class="input-icon-wrapper">
                                        <input id="password" type="password"
                                            class="form-control @error('password') is-invalid @enderror" name="password"
                                            autocomplete="new-password">
                                        <span class="input-icon"></span>
                                    </div>
                                    @error('password')
                                        <span class="invalid-feedback" role="alert">
                                            <strong>{{ $message }}</strong>
                                        </span>
                                    @enderror
                                </div>
                            </div>

                            {{-- ifre Tekrar --}}
                            <div class="row mb-4">
                                <label for="password-confirm" class="col-md-4 col-form-label text-md-end">
                                    {{ __('Yeni ifreyi Onayla') }}
                                </label>
                                <div class="col-md-6">
                                    <div class="input-icon-wrapper">
                                        <input id="password-confirm" type="password" class="form-control"
                                            name="password_confirmation" autocomplete="new-password">
                                        <span class="input-icon"></span>
                                    </div>
                                </div>
                            </div>

                            {{-- Action Buttons --}}
                            <div class="row mb-0 mt-5">
                                <div class="col-md-6 offset-md-4 d-flex gap-2">
                                    <button type="submit" class="btn btn-animated-gradient">
                                         Deiiklikleri Kaydet
                                    </button>
                                    <a href="{{ route('home') }}" class="btn btn-outline-secondary">
                                         ptal
                                    </a>
                                </div>
                            </div>
                        </form>
                    </div>
                </div>
            </div>
        </div>
    </div>
@endsection


----------------------------------------
DOSYA YOLU: resources\views\roles\create.blade.php
----------------------------------------

@extends('layouts.app')

@section('title', 'Yeni Rol Ekle')

@section('content')
    <div class="container py-5">
        <div class="row justify-content-center">
            <div class="col-md-6">
                <div class="card shadow-lg border-0" style="border-radius: 1.5rem;">
                    <div class="card-header bg-transparent border-0 text-center pt-4 pb-2">
                        <h4 class="fw-bold text-secondary">Yeni Rol Tanmla</h4>
                    </div>
                    <div class="card-body p-4">
                        <form action="{{ route('roles.store') }}" method="POST">
                            @csrf
                            <div class="mb-4">
                                <label class="form-label text-muted fw-bold">Rol Ad</label>
                                <input type="text" name="name" class="form-control form-control-lg"
                                    placeholder="rn: Muhasebe Mdr" required>
                                <small class="text-muted">Slug (kod) otomatik oluturulacaktr.</small>
                            </div>

                            <div class="d-grid">
                                <button type="submit" class="btn btn-primary btn-lg rounded-pill">Kaydet</button>
                            </div>
                            <div class="text-center mt-3">
                                <a href="{{ route('roles.index') }}" class="text-decoration-none text-muted">ptal</a>
                            </div>
                        </form>
                    </div>
                </div>
            </div>
        </div>
    </div>
@endsection


----------------------------------------
DOSYA YOLU: resources\views\roles\edit.blade.php
----------------------------------------

@extends('layouts.app')

@section('title', 'Rol Dzenle')

@section('content')
    <div class="container py-5">
        <div class="row justify-content-center">
            <div class="col-md-6">
                <div class="card shadow-lg border-0" style="border-radius: 1.5rem;">
                    <div class="card-header bg-transparent border-0 text-center pt-4 pb-2">
                        <h4 class="fw-bold text-secondary">Rol Dzenle</h4>
                    </div>
                    <div class="card-body p-4">
                        <form action="{{ route('roles.update', $role) }}" method="POST">
                            @csrf
                            @method('PUT')

                            <div class="mb-4">
                                <label class="form-label text-muted fw-bold">Rol Ad</label>
                                <input type="text" name="name" value="{{ old('name', $role->name) }}"
                                    class="form-control form-control-lg" required>
                            </div>

                            <div class="d-grid">
                                <button type="submit" class="btn btn-success btn-lg rounded-pill">Gncelle</button>
                            </div>
                            <div class="text-center mt-3">
                                <a href="{{ route('roles.index') }}" class="text-decoration-none text-muted">ptal</a>
                            </div>
                        </form>
                    </div>
                </div>
            </div>
        </div>
    </div>
@endsection


----------------------------------------
DOSYA YOLU: resources\views\roles\index.blade.php
----------------------------------------

@extends('layouts.app')

@section('title', 'Rol Ynetimi')

@section('content')
    <div class="container py-4">
        <div class="card shadow-sm border-0" style="border-radius: 1rem; overflow: hidden;">
            <div class="card-header bg-white py-3 d-flex justify-content-between align-items-center">
                <h5 class="mb-0 fw-bold text-secondary"> Rol Listesi</h5>
                <a href="{{ route('roles.create') }}" class="btn btn-primary btn-sm rounded-pill px-3">
                    + Yeni Rol Ekle
                </a>
            </div>
            <div class="card-body p-0">
                <table class="table table-hover mb-0 align-middle">
                    <thead class="bg-light">
                        <tr>
                            <th class="ps-4">Rol Ad</th>
                            <th>Slug (Kod)</th>
                            <th>Kullanc Says</th>
                            <th class="text-end pe-4">lemler</th>
                        </tr>
                    </thead>
                    <tbody>
                        @foreach ($roles as $role)
                            <tr>
                                <td class="ps-4 fw-bold">{{ $role->name }}</td>
                                <td><span class="badge bg-secondary text-light">{{ $role->slug }}</span></td>
                                <td>{{ $role->users()->count() }} Kii</td>
                                <td class="text-end pe-4">
                                    {{-- Admin rol dzenlenemesin/silinemesin --}}
                                    @if ($role->slug !== 'admin')
                                        <a href="{{ route('roles.edit', $role) }}"
                                            class="btn btn-sm btn-outline-primary me-1">
                                             Dzenle
                                        </a>

                                        {{-- Temel roller silinemesin --}}
                                        @if (!in_array($role->slug, ['admin', 'kullanici']))
                                            <form action="{{ route('roles.destroy', $role) }}" method="POST"
                                                class="d-inline"
                                                onsubmit="return confirm('Bu rol silmek istediinize emin misiniz?');">
                                                @csrf
                                                @method('DELETE')
                                                <button type="submit" class="btn btn-sm btn-outline-danger">
                                                    Sil</button>
                                            </form>
                                        @endif
                                    @else
                                        <span class="text-muted fst-italic text-small">Sistem Rol</span>
                                    @endif
                                </td>
                            </tr>
                        @endforeach
                    </tbody>
                </table>
            </div>
        </div>
    </div>
@endsection


----------------------------------------
DOSYA YOLU: resources\views\service\assignments\assigned_by_me.blade.php
----------------------------------------

resources\views\service\assignments\assigned_by_me.blade.php:

@extends('layouts.app')
@section('title', 'Atadm Grevler')

@push('styles')
    <style>
        /* Mavi/Mor Tema Balangc */
        .assigned-tasks-header {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            border-radius: 20px;
            padding: 2rem;
            margin-bottom: 2rem;
            box-shadow: 0 10px 30px rgba(102, 126, 234, 0.3);
            position: relative;
            overflow: hidden;
        }

        .assigned-tasks-header::before {
            content: '';
            position: absolute;
            top: -50%;
            right: -50%;
            width: 200%;
            height: 200%;
            background: radial-gradient(circle, rgba(255, 255, 255, 0.1) 0%, transparent 70%);
            animation: pulse 15s ease-in-out infinite;
        }

        @keyframes pulse {

            0%,
            100% {
                transform: scale(1);
                opacity: 0.5;
            }

            50% {
                transform: scale(1.1);
                opacity: 0.8;
            }
        }

        .assigned-tasks-header h4 {
            color: white;
            font-weight: 700;
            margin: 0;
            position: relative;
            z-index: 1;
            display: flex;
            align-items: center;
            gap: 1rem;
        }

        .assigned-tasks-header .icon-wrapper {
            width: 60px;
            height: 60px;
            background: rgba(255, 255, 255, 0.2);
            border-radius: 15px;
            display: flex;
            align-items: center;
            justify-content: center;
            backdrop-filter: blur(10px);
        }

        .assigned-tasks-header .icon-wrapper i {
            font-size: 1.8rem;
            color: white;
        }

        .assigned-tasks-header .header-content {
            position: relative;
            z-index: 1;
        }

        .assigned-tasks-header .stats {
            display: flex;
            gap: 2rem;
            margin-top: 1.5rem;
        }

        .assigned-tasks-header .stat-item {
            color: rgba(255, 255, 255, 0.95);
            font-size: 0.9rem;
        }

        .assigned-tasks-header .stat-item strong {
            display: block;
            font-size: 1.5rem;
            font-weight: 700;
            color: white;
        }

        .modern-card {
            background: white;
            border-radius: 20px;
            box-shadow: 0 5px 20px rgba(0, 0, 0, 0.08);
            border: none;
            overflow: hidden;
            transition: all 0.3s ease;
        }

        .task-card {
            background: white;
            border-radius: 16px;
            padding: 1.5rem;
            margin-bottom: 1rem;
            box-shadow: 0 2px 10px rgba(0, 0, 0, 0.06);
            transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
            border: 1px solid rgba(0, 0, 0, 0.05);
            position: relative;
            z-index: 1;
            overflow: visible !important;
        }

        /* Kartn solundaki erit rengi */
        .task-card::before {
            content: '';
            position: absolute;
            left: 0;
            top: 0;
            bottom: 0;
            width: 4px;
            background: linear-gradient(135deg, #4facfe 0%, #00f2fe 100%);
            transform: scaleY(0);
            transition: transform 0.3s ease;
            border-top-left-radius: 16px;
            border-bottom-left-radius: 16px;
            z-index: 2;
        }

        .task-card:hover {
            box-shadow: 0 8px 25px rgba(0, 0, 0, 0.1);
            transform: translateY(-4px);
            border-color: rgba(102, 126, 234, 0.3);
            z-index: 100 !important;
        }

        .task-card:hover::before {
            transform: scaleY(1);
        }

        .task-header {
            display: flex;
            justify-content: space-between;
            align-items: start;
            margin-bottom: 1rem;
        }

        .task-title {
            font-size: 1.1rem;
            font-weight: 700;
            color: #2d3748;
            margin: 0;
            display: flex;
            align-items: center;
            gap: 0.5rem;
        }

        /* Balk ikon rengi */
        .task-title i {
            color: #667eea;
            font-size: 1rem;
        }

        .task-meta {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: 1rem;
            margin-top: 1rem;
            padding-top: 1rem;
            border-top: 1px solid rgba(0, 0, 0, 0.06);
        }

        .meta-item {
            display: flex;
            align-items: center;
            gap: 0.75rem;
        }

        /* Meta ikon kutular */
        .meta-icon {
            width: 40px;
            height: 40px;
            background: linear-gradient(135deg, #667eea15 0%, #764ba215 100%);
            border-radius: 10px;
            display: flex;
            align-items: center;
            justify-content: center;
            color: #667eea;
            font-size: 1rem;
            flex-shrink: 0;
        }

        .meta-content {
            flex: 1;
            min-width: 0;
        }

        .meta-label {
            font-size: 0.75rem;
            color: #718096;
            text-transform: uppercase;
            letter-spacing: 0.5px;
            font-weight: 600;
            margin-bottom: 0.25rem;
        }

        .meta-value {
            font-size: 0.95rem;
            color: #2d3748;
            font-weight: 600;
            white-space: nowrap;
            overflow: hidden;
            text-overflow: ellipsis;
        }

        .meta-value.allow-overflow {
            overflow: visible !important;
            white-space: normal !important;
        }

        .status-badge {
            padding: 0.5rem 1rem;
            border-radius: 50px;
            font-size: 0.85rem;
            font-weight: 600;
            letter-spacing: 0.3px;
            display: inline-flex;
            align-items: center;
            gap: 0.5rem;
        }

        .status-badge::before {
            content: '';
            width: 8px;
            height: 8px;
            border-radius: 50%;
            background: currentColor;
            animation: pulse-dot 2s ease-in-out infinite;
        }

        @keyframes pulse-dot {

            0%,
            100% {
                opacity: 1;
            }

            50% {
                opacity: 0.5;
            }
        }

        .action-buttons {
            display: flex;
            gap: 0.5rem;
            flex-wrap: wrap;
        }

        .modern-btn {
            padding: 0.5rem 1rem;
            border-radius: 10px;
            border: none;
            font-weight: 600;
            font-size: 0.9rem;
            transition: all 0.3s ease;
            display: inline-flex;
            align-items: center;
            gap: 0.5rem;
            cursor: pointer;
            text-decoration: none;
        }

        /* Buton renkleri - Mavi tema */
        .modern-btn-view {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
        }

        .modern-btn-view:hover {
            background: linear-gradient(135deg, #764ba2 0%, #667eea 100%);
            transform: translateY(-2px);
            box-shadow: 0 4px 12px rgba(102, 126, 234, 0.4);
            color: white;
        }

        .modern-btn-edit {
            background: linear-gradient(135deg, #f6ad55 0%, #ed8936 100%);
            color: white;
        }

        .modern-btn-edit:hover {
            background: linear-gradient(135deg, #ed8936 0%, #dd6b20 100%);
            transform: translateY(-2px);
            box-shadow: 0 4px 12px rgba(237, 137, 54, 0.4);
            color: white;
        }

        .empty-state {
            text-align: center;
            padding: 4rem 2rem;
        }

        .empty-state-icon {
            width: 120px;
            height: 120px;
            background: linear-gradient(135deg, #667eea15 0%, #764ba215 100%);
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            margin: 0 auto 1.5rem;
        }

        .empty-state-icon i {
            font-size: 3rem;
            color: #667eea;
        }

        .empty-state h5 {
            color: #2d3748;
            font-weight: 700;
            margin-bottom: 0.5rem;
        }

        .empty-state p {
            color: #718096;
            margin-bottom: 1.5rem;
        }

        .responsible-badge {
            display: inline-flex;
            align-items: center;
            gap: 0.5rem;
            padding: 0.4rem 0.8rem;
            background: linear-gradient(135deg, #667eea15 0%, #764ba215 100%);
            border-radius: 8px;
            font-size: 0.85rem;
            font-weight: 600;
            color: #667eea;
        }

        .responsible-badge i {
            font-size: 0.8rem;
        }

        /* Ara Badge'i - Mavi temaya uygun revize edildi */
        .vehicle-badge {
            display: inline-flex;
            align-items: center;
            gap: 0.5rem;
            padding: 0.4rem 0.8rem;
            background: linear-gradient(135deg, #e0e7ff 0%, #c7d2fe 100%);
            border-radius: 8px;
            font-size: 0.85rem;
            font-weight: 600;
            color: #4338ca;
        }

        .vehicle-badge i {
            font-size: 0.8rem;
        }

        .pagination-wrapper {
            padding: 1.5rem;
            display: flex;
            justify-content: center;
        }

        .fade-in {
            animation: fadeIn 0.5s ease;
        }

        @keyframes fadeIn {
            from {
                opacity: 0;
                transform: translateY(20px);
            }

            to {
                opacity: 1;
                transform: translateY(0);
            }
        }

        @media (max-width: 768px) {
            .assigned-tasks-header {
                padding: 1.5rem;
            }

            .assigned-tasks-header h4 {
                font-size: 1.3rem;
            }

            .assigned-tasks-header .stats {
                flex-direction: column;
                gap: 1rem;
            }

            .task-card {
                padding: 1rem;
            }

            .task-meta {
                grid-template-columns: 1fr;
            }

            .action-buttons {
                width: 100%;
            }

            .modern-btn {
                flex: 1;
                justify-content: center;
            }
        }
    </style>
@endpush

@section('content')
    <div class="container-fluid px-4 py-4">
        <div class="assigned-tasks-header fade-in">
            <div class="header-content">
                <h4>
                    <div class="icon-wrapper">
                        <i class="fas fa-paper-plane"></i>
                    </div>
                    <div>
                        Atadm Grevler
                        <small
                            style="display: block; font-size: 0.9rem; font-weight: 400; opacity: 0.9; margin-top: 0.25rem;">
                            Bakalarna verdiim grevleri takip edin
                        </small>
                    </div>
                </h4>
                <div class="stats">
                    <div class="stat-item">
                        <strong>{{ $assignments->total() }}</strong>
                        Toplam Atama
                    </div>
                </div>
            </div>
        </div>

        <div class="modern-card fade-in" style="animation-delay: 0.2s;">
            @forelse($assignments as $index => $assignment)
                <div class="task-card" style="animation-delay: {{ 0.3 + $index * 0.05 }}s;">
                    <div class="task-header">
                        <h5 class="task-title">
                            <i class="fas fa-clipboard-check"></i>
                            {{ $assignment->title }}
                        </h5>
                        <div class="action-buttons">
                            <a href="{{ route('service.assignments.show', $assignment) }}"
                                class="modern-btn modern-btn-view">
                                <i class="fas fa-eye"></i>
                                Grntle
                            </a>
                            <a href="{{ route('service.assignments.edit', $assignment) }}"
                                class="modern-btn modern-btn-edit">
                                <i class="fas fa-edit"></i>
                                Dzenle
                            </a>
                        </div>
                    </div>

                    <div class="task-meta">
                        <div class="meta-item">
                            <div class="meta-icon">
                                <i class="fas fa-user-circle"></i>
                            </div>
                            <div class="meta-content">
                                <div class="meta-label">Atanan Kii/Takm</div>
                                <div class="meta-value">
                                    @if ($assignment->responsible)
                                        <div class="responsible-badge">
                                            <i
                                                class="fas fa-{{ $assignment->responsible_type === 'App\Models\User' ? 'user' : 'users' }}"></i>
                                            {{ $assignment->responsible->name }}
                                        </div>
                                    @else
                                        <span style="color: #e53e3e; font-weight: 600;">
                                            <i class="fas fa-exclamation-triangle"></i> Sorumlu Yok
                                        </span>
                                    @endif
                                </div>
                            </div>
                        </div>

                        <div class="meta-item">
                            <div class="meta-icon">
                                <i class="fas fa-car"></i>
                            </div>
                            <div class="meta-content">
                                <div class="meta-label">Ara</div>
                                <div class="meta-value">
                                    @if ($assignment->vehicle)
                                        <div class="vehicle-badge">
                                            <i class="fas fa-car"></i>
                                            {{ $assignment->vehicle->plate_number }}
                                        </div>
                                    @else
                                        <span style="color: #a0aec0;">Ara Yok</span>
                                    @endif
                                </div>
                            </div>
                        </div>

                        <div class="meta-item">
                            <div class="meta-icon">
                                <i class="fas fa-clock"></i>
                            </div>
                            <div class="meta-content">
                                <div class="meta-label">Balang Zaman</div>
                                <div class="meta-value">{{ $assignment->start_time->format('d.m.Y H:i') }}</div>
                            </div>
                        </div>

                        <div class="meta-item">
                            <div class="meta-icon">
                                <i class="fas fa-info-circle"></i>
                            </div>
                            <div class="meta-content">
                                <div class="meta-label">Durum</div>
                                <div class="meta-value">
                                    <span class="status-badge bg-{{ $assignment->status_badge }}">
                                        {{ $assignment->status_name }}
                                    </span>
                                </div>
                            </div>
                        </div>
                        <div class="meta-item">
                            <div class="meta-icon"
                                style="{{ $assignment->files->count() > 0 ? 'background: rgba(79, 172, 254, 0.1); color: #4facfe;' : 'background: #f7fafc; color: #cbd5e0;' }}">
                                <i class="fas fa-paperclip"></i>
                            </div>
                            <div class="meta-content">
                                <div class="meta-label">Ekli Dosyalar</div>
                                <div class="meta-value allow-overflow">
                                    @if ($assignment->files->count() > 0)
                                        <div class="dropdown">
                                            <a href="#" class="text-decoration-none dropdown-toggle fw-bold"
                                                style="color: #4facfe;" data-bs-toggle="dropdown" aria-expanded="false">
                                                {{ $assignment->files->count() }} Dosya Grntle
                                            </a>
                                            <ul class="dropdown-menu shadow-lg border-0 p-2"
                                                style="border-radius: 12px; min-width: 250px; z-index: 1050;">
                                                <li class="dropdown-header fw-bold small py-1" style="color: #4facfe;">
                                                    DOSYALAR</li>
                                                <li>
                                                    <hr class="dropdown-divider my-1">
                                                </li>
                                                @foreach ($assignment->files as $file)
                                                    <li>
                                                        <a class="dropdown-item d-flex align-items-center justify-content-between rounded-2 py-2"
                                                            href="{{ route('files.download', $file->id) }}"
                                                            target="_blank">
                                                            <div class="d-flex align-items-center text-truncate me-2"
                                                                style="max-width: 150px;">
                                                                @if (Str::contains($file->mime_type, 'image'))
                                                                    <i
                                                                        class="fa-regular fa-file-image me-2 text-success"></i>
                                                                @elseif(Str::contains($file->mime_type, 'pdf'))
                                                                    <i class="fa-regular fa-file-pdf me-2 text-danger"></i>
                                                                @else
                                                                    <i class="fa-regular fa-file me-2 text-muted"></i>
                                                                @endif
                                                                <span
                                                                    class="text-truncate">{{ $file->original_name }}</span>
                                                            </div>
                                                            <i
                                                                class="fa-solid fa-download text-secondary small opacity-50"></i>
                                                        </a>
                                                    </li>
                                                @endforeach
                                            </ul>
                                        </div>
                                    @else
                                        <span class="text-muted" style="font-weight: 400; font-size: 0.9rem;">
                                            Dosya Yok
                                        </span>
                                    @endif
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            @empty
                <div class="empty-state">
                    <div class="empty-state-icon">
                        <i class="fas fa-paper-plane"></i>
                    </div>
                    <h5>Henz Grev Atamadnz</h5>
                    <p>Takm yelerine veya aralara grev atayarak balayabilirsiniz.</p>
                </div>
            @endforelse

            @if ($assignments->isNotEmpty() && $assignments->hasPages())
                <div class="pagination-wrapper">
                    {{ $assignments->links() }}
                </div>
            @endif
        </div>
    </div>
@endsection


----------------------------------------
DOSYA YOLU: resources\views\service\assignments\create.blade.php
----------------------------------------

@extends('layouts.app')

@section('title', 'Yeni Grev Olutur')

@push('styles')
    <style>
        #app>main.py-4 {
            padding: 2.5rem 0 !important;
            min-height: calc(100vh - 72px);
            background: linear-gradient(-45deg, #dbe4ff, #fde2ff, #d9fcf7, #fff0d9);
            background-size: 400% 400%;
            animation: gradientWave 18s ease infinite;
        }

        @keyframes gradientWave {

            0%,
            100% {
                background-position: 0% 50%;
            }

            50% {
                background-position: 100% 50%;
            }
        }

        .create-assignment-card {
            border-radius: 1rem;
            box-shadow: 0 8px 32px rgba(0, 0, 0, 0.08);
            border: 0;
            background: rgba(255, 255, 255, 0.95);
            backdrop-filter: blur(10px);
        }

        .step-indicator {
            display: flex;
            justify-content: space-between;
            margin-bottom: 2rem;
            position: relative;
        }

        .step-indicator::before {
            content: '';
            position: absolute;
            top: 20px;
            left: 10%;
            right: 10%;
            height: 2px;
            background: #e0e0e0;
            z-index: 0;
        }

        .step-item {
            flex: 1;
            text-align: center;
            position: relative;
            z-index: 1;
        }

        .step-circle {
            width: 40px;
            height: 40px;
            border-radius: 50%;
            background: #e0e0e0;
            color: #666;
            display: inline-flex;
            align-items: center;
            justify-content: center;
            font-weight: bold;
            margin-bottom: 0.5rem;
            transition: all 0.3s ease;
        }

        .step-item.active .step-circle {
            background: linear-gradient(135deg, #667EEA, #764BA2);
            color: white;
            transform: scale(1.1);
        }

        .step-item.completed .step-circle {
            background: #10b981;
            color: white;
        }

        .step-label {
            font-size: 0.875rem;
            color: #666;
            font-weight: 500;
        }

        .step-item.active .step-label {
            color: #667EEA;
            font-weight: 600;
        }

        .selection-card {
            border: 2px solid #e5e7eb;
            border-radius: 1rem;
            padding: 1.5rem;
            margin-bottom: 1rem;
            cursor: pointer;
            transition: all 0.3s ease;
            background: white;
            position: relative;
            display: block;
        }

        .selection-card:hover {
            border-color: #667EEA;
            transform: translateY(-2px);
            box-shadow: 0 4px 12px rgba(102, 126, 234, 0.15);
        }

        .selection-card input[type="radio"] {
            position: absolute;
            opacity: 0;
        }

        .selection-card input[type="radio"]:checked~.card-content {
            border-left: 4px solid #667EEA;
            padding-left: 1.25rem;
        }

        .selection-card input[type="radio"]:checked~.card-content .card-icon {
            background: linear-gradient(135deg, #667EEA, #764BA2);
            color: white;
        }

        .card-content {
            display: flex;
            align-items: start;
            transition: all 0.3s ease;
            padding-left: 0.5rem;
        }

        .card-icon {
            width: 50px;
            height: 50px;
            border-radius: 12px;
            background: #f3f4f6;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 1.5rem;
            margin-right: 1rem;
            flex-shrink: 0;
            transition: all 0.3s ease;
        }

        .card-text h6 {
            margin: 0 0 0.25rem 0;
            font-weight: 600;
            color: #1f2937;
        }

        .card-text p {
            margin: 0;
            font-size: 0.875rem;
            color: #6b7280;
        }

        /* --- PULSE UYARI KUTUSU STLLER --- */
        .warning-box {
            background: linear-gradient(135deg, #fff5e6 0%, #fff9f0 100%);
            border: 2px solid #ff9800;
            border-radius: 12px;
            padding: 20px 24px;
            position: relative;
            overflow: hidden;
            box-shadow: 0 4px 12px rgba(255, 152, 0, 0.15);
            margin-top: 1.5rem;
        }

        .warning-box::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            height: 4px;
            background: linear-gradient(90deg, #ff9800, #ffa726, #ff9800);
            animation: shimmer 2s infinite;
        }

        @keyframes shimmer {
            0% {
                transform: translateX(-100%);
            }

            100% {
                transform: translateX(100%);
            }
        }

        .warning-box-content {
            display: flex;
            align-items: flex-start;
            gap: 16px;
        }

        .icon-wrapper {
            flex-shrink: 0;
            position: relative;
            width: 30px;
            height: 30px;
        }

        .warning-icon {
            width: 28px;
            height: 28px;
            background: #ff9800;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            color: white;
            font-weight: bold;
            font-size: 18px;
            position: relative;
            z-index: 2;
        }

        .pulse-ring {
            position: absolute;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
            width: 28px;
            height: 28px;
            border: 2px solid #ff9800;
            border-radius: 50%;
            animation: pulse 2s cubic-bezier(0.4, 0, 0.6, 1) infinite;
        }

        .pulse-ring:nth-child(2) {
            animation-delay: 0.5s;
        }

        @keyframes pulse {
            0% {
                transform: translate(-50%, -50%) scale(1);
                opacity: 1;
            }

            100% {
                transform: translate(-50%, -50%) scale(2.5);
                opacity: 0;
            }
        }

        .text-content {
            flex: 1;
            line-height: 1.6;
            color: #5d4037;
        }

        .text-content strong {
            color: #e65100;
            font-weight: 600;
        }

        .time-badge {
            display: inline-block;
            background: white;
            padding: 2px 10px;
            border-radius: 6px;
            font-weight: 600;
            color: #ff9800;
            border: 1px solid #ffe0b2;
            margin: 0 2px;
            font-size: 0.95em;
        }

        .info-text {
            margin-top: 10px;
            font-size: 0.9em;
            color: #6d4c41;
            padding-top: 10px;
            border-top: 1px dashed #ffcc80;
        }

        /* --- PULSE UYARI STLLER BT --- */

        .btn-animated-gradient {
            background: linear-gradient(-45deg, #667EEA, #F093FB, #4FD1C5, #FBD38D);
            background-size: 400% 400%;
            animation: gradientWave 18s ease infinite;
            border: none;
            color: white;
            font-weight: 600;
            padding: 0.75rem 2rem;
            transition: all 0.2s ease;
        }

        .btn-animated-gradient:hover {
            color: white;
            transform: scale(1.05);
            box-shadow: 0 4px 15px rgba(0, 0, 0, 0.2);
        }

        .fade-in-up {
            animation: fadeInUp 0.4s ease-out;
        }

        @keyframes fadeInUp {
            from {
                opacity: 0;
                transform: translateY(20px);
            }

            to {
                opacity: 1;
                transform: translateY(0);
            }
        }

        [x-cloak] {
            display: none !important;
        }
    </style>
@endpush

@section('content')
    <div class="container">
        <div class="row justify-content-center">
            <div class="col-lg-9">
                <div class="card create-assignment-card" x-data="{
                    needsVehicle: '{{ old('needs_vehicle', '') }}',
                    vehicleType: '{{ old('vehicle_type', '') }}',
                    responsibleType: '{{ old('responsible_type', '') }}',
                    currentStep: 1,
                
                    get step1Complete() {
                        return this.needsVehicle === 'no' || (this.needsVehicle === 'yes' && this.vehicleType !== '');
                    },
                    get step2Complete() {
                        return this.responsibleType !== '';
                    }
                }">

                    <div class="card-header bg-transparent border-0 pt-4 pb-3">
                        <h4 class="mb-1">Yeni Grev Olutur</h4>
                        <p class="text-muted mb-0">Adm adm grev atamas yapn</p>
                    </div>

                    <div class="card-body px-4 py-3">

                        {{-- ADIM GSTERGES --}}
                        <div class="step-indicator mb-4">
                            <div class="step-item"
                                :class="{ 'active': currentStep === 1, 'completed': step1Complete && currentStep > 1 }">
                                <div class="step-circle">
                                    <span x-show="!step1Complete || currentStep === 1">1</span>
                                    <span x-show="step1Complete && currentStep > 1"></span>
                                </div>
                                <div class="step-label">Grev Tipi</div>
                            </div>
                            <div class="step-item"
                                :class="{ 'active': currentStep === 2, 'completed': step2Complete && currentStep > 2 }">
                                <div class="step-circle">
                                    <span x-show="!step2Complete || currentStep === 2">2</span>
                                    <span x-show="step2Complete && currentStep > 2"></span>
                                </div>
                                <div class="step-label">Sorumlular</div>
                            </div>
                            <div class="step-item" :class="{ 'active': currentStep === 3 }">
                                <div class="step-circle">3</div>
                                <div class="step-label">Detaylar</div>
                            </div>
                        </div>

                        @if ($errors->any())
                            <div class="alert alert-danger">
                                <strong>Hata!</strong> Ltfen aadaki sorunlar dzeltin:
                                <ul class="mb-0 mt-2">
                                    @foreach ($errors->all() as $error)
                                        <li>{{ $error }}</li>
                                    @endforeach
                                </ul>
                            </div>
                        @endif

                        <form method="POST" action="{{ route('service.assignments.store') }}">
                            @csrf

                            {{-- ================== ADIM 1: GREV TP ================== --}}
                            <div x-show="currentStep === 1" class="fade-in-up">
                                <h5 class="mb-3">1 Bu grev iin ara gerekli mi?</h5>

                                <label class="selection-card">
                                    <input type="radio" name="needs_vehicle" value="yes" x-model="needsVehicle"
                                        @change="vehicleType = ''">
                                    <div class="card-content">
                                        <div class="card-icon"></div>
                                        <div class="card-text">
                                            <h6>Evet, Ara Gerekli</h6>
                                            <p>irket arac veya nakliye ile yaplacak grevler</p>
                                        </div>
                                    </div>
                                </label>

                                <label class="selection-card">
                                    <input type="radio" name="needs_vehicle" value="no" x-model="needsVehicle"
                                        @change="vehicleType = ''; currentStep = 2">
                                    <div class="card-content">
                                        <div class="card-icon"></div>
                                        <div class="card-text">
                                            <h6>Hayr, Ara Gereksiz</h6>
                                            <p>irket ii, telefon grmesi, toplant vb. grevler</p>
                                        </div>
                                    </div>
                                </label>

                                <div x-show="needsVehicle === 'yes'" class="mb-4 fade-in-up">
                                    <h6 class="mb-3">Hangi tr ara kullanlacak?</h6>

                                    <label class="selection-card">
                                        <input type="radio" name="vehicle_type" value="company" x-model="vehicleType">
                                        <div class="card-content">
                                            <div class="card-icon"></div>
                                            <div class="card-text">
                                                <h6>irket Arac</h6>
                                                <p>Ksa mesafeli grevler, evrak tama, toplant vb.</p>
                                            </div>
                                        </div>
                                    </label>

                                    <label class="selection-card">
                                        <input type="radio" name="vehicle_type" value="logistics" x-model="vehicleType">
                                        <div class="card-content">
                                            <div class="card-icon"></div>
                                            <div class="card-text">
                                                <h6>Nakliye Arac</h6>
                                                <p>Uzun mesafeli grevler, ar yk tama</p>
                                            </div>
                                        </div>
                                    </label>

                                    {{-- ========================================================= --}}
                                    {{-- PULSE EFEKTL UYARI KUTUSU BURADA --}}
                                    {{-- ========================================================= --}}
                                    <div x-show="vehicleType === 'company'" class="warning-box fade-in-up">
                                        <div class="warning-box-content">
                                            <div class="icon-wrapper">
                                                <div class="pulse-ring"></div>
                                                <div class="pulse-ring"></div>
                                                <div class="warning-icon">!</div>
                                            </div>
                                            <div class="text-content">
                                                <strong>nemli Bilgilendirme:</strong>
                                                <p class="mb-2">
                                                    irket aralar her gn <span class="time-badge">09:30</span> ve
                                                    <span class="time-badge">13:30</span> saatlerinde irketten hareket
                                                    etmektedir.
                                                </p>
                                                <p class="info-text mb-0">
                                                    Grev talebinizi, servis saatinden en az <strong>30 dakika nce</strong>
                                                    oluturmanz gerekmektedir.
                                                </p>
                                            </div>
                                        </div>
                                    </div>
                                    {{-- ========================================================= --}}

                                    {{-- YNETC OLMAYANLAR N ATAMA BEKLEYECEK UYARISI --}}
                                    @if (!in_array(auth()->user()->role, ['mdr', 'admin', 'ynetici']))
                                        {{-- 1. DI KAPSAYICI: Sadece gizleme/gsterme iini yapar --}}
                                        <div x-show="vehicleType !== ''" x-transition.opacity x-cloak class="mt-3">

                                            {{-- 2.  KUTU: Tasarm (d-flex, alert vb.) burada durur --}}
                                            <div class="alert alert-info border-info d-flex align-items-center mb-0">
                                                <div class="h2 me-3 mb-0"></div>
                                                <div>
                                                    <h6 class="alert-heading fw-bold mb-1">Ara Atamas Onay Bekleyecek</h6>
                                                    <p class="mb-0 small">
                                                        Setiiniz
                                                        {{-- Metin mant: irket ise irket, deilse Nakliye --}}
                                                        <strong
                                                            x-text="vehicleType === 'company' ? 'irket Arac' : 'Nakliye Arac'"></strong>
                                                        tr iin talep oluturuyorsunuz. Detaylar girip kaydettikten sonra
                                                        <strong>Ara Sorumlusu</strong> uygun arac atayacaktr.
                                                    </p>
                                                </div>
                                            </div>
                                        </div>

                                        {{-- Bo vehicle_id gnderimi --}}
                                        <input type="hidden" name="vehicle_id" value="">
                                    @endif
                                </div>

                                <div class="text-end mt-3">
                                    <button type="button" class="btn btn-primary" x-show="step1Complete"
                                        @click="currentStep = 2">
                                        Devam Et 
                                    </button>
                                </div>
                            </div>

                            {{-- ================== ADIM 2: SORUMLULAR ================== --}}
                            <div x-show="currentStep === 2" class="fade-in-up">
                                <button type="button" class="btn btn-sm btn-outline-secondary mb-3"
                                    @click="currentStep = 1; vehicleType = ''; responsibleType = ''"> Geri</button>

                                <h5 class="mb-3">2 Grevi kim yapacak?</h5>

                                <label class="selection-card">
                                    <input type="radio" name="responsible_type" value="user"
                                        x-model="responsibleType">
                                    <div class="card-content">
                                        <div class="card-icon"></div>
                                        <div class="card-text">
                                            <h6>Tek Kii</h6>
                                            <p>Belirli bir alana grev ata</p>
                                        </div>
                                    </div>
                                </label>

                                <div x-show="responsibleType === 'user'"
                                    class="mt-3 mb-4 ps-4 border-start border-3 border-primary">
                                    <label class="form-label fw-bold">Sorumlu Kiiyi Sein *</label>
                                    <select name="responsible_user_id" class="form-select"
                                        :required="responsibleType === 'user'"
                                        :disabled="responsibleType !== 'user'">
                                        <option value="">Kii seiniz...</option>
                                        @foreach ($users as $user)
                                            <option value="{{ $user->id }}">{{ $user->name }}</option>
                                        @endforeach
                                    </select>
                                    <div class="mt-2 text-end">
                                        <button type="button" class="btn btn-primary btn-sm"
                                            @click="currentStep = 3">Devam Et </button>
                                    </div>
                                </div>

                                <label class="selection-card mt-3">
                                    <input type="radio" name="responsible_type" value="team"
                                        x-model="responsibleType">
                                    <div class="card-content">
                                        <div class="card-icon"></div>
                                        <div class="card-text">
                                            <h6>Takm</h6>
                                            <p>Birden fazla kiiye ayn anda grev ata</p>
                                        </div>
                                    </div>
                                </label>

                                <div x-show="responsibleType === 'team'"
                                    class="mt-3 mb-4 ps-4 border-start border-3 border-primary">
                                    <label class="form-label fw-bold">Sorumlu Takm Sein *</label>
                                    <div class="input-group">
                                        <select id="responsible_team_id" name="responsible_team_id" class="form-select"
                                            :required="responsibleType === 'team'"
                                            :disabled="responsibleType !== 'team'">
                                            <option value="">Takm seiniz...</option>
                                            @foreach ($teams as $team)
                                                <option value="{{ $team->id }}">{{ $team->name }}
                                                    ({{ $team->members_count }} kii)
                                                </option>
                                            @endforeach
                                        </select>
                                        <button class="btn btn-outline-success" type="button" data-bs-toggle="modal"
                                            data-bs-target="#newTeamModal">
                                            <i class="fas fa-plus"></i> Yeni
                                        </button>
                                    </div>
                                    <div class="mt-2 text-end">
                                        <button type="button" class="btn btn-primary btn-sm"
                                            @click="currentStep = 3">Devam Et </button>
                                    </div>
                                </div>
                            </div>

                            {{-- ================== ADIM 3: DETAYLAR ================== --}}
                            <div x-show="currentStep === 3" class="fade-in-up">
                                <button type="button" class="btn btn-sm btn-outline-secondary mb-3"
                                    @click="currentStep = 2"> Geri</button>

                                <h5 class="mb-4">3 Grev Detaylar</h5>

                                <div class="mb-4">
                                    <label class="form-label fw-bold"> Grev Bal *</label>
                                    <input type="text" name="title" class="form-control"
                                        placeholder="Grevin ksa ad" required value="{{ old('title') }}">
                                </div>
                                <div class="row mb-4">
                                    <div class="col-md-6">
                                        <label class="form-label fw-bold"> Planlanan Balang *</label>
                                        <input type="datetime-local" name="start_time" class="form-control"
                                            min="{{ now()->format('Y-m-d\TH:i') }}"
                                            max="{{ now()->addMonth()->format('Y-m-d\TH:i') }}"
                                            value="{{ old('start_time') }}" required>
                                        <div class="form-text">En fazla 1 ay sonrasna kadar grev oluturabilirsiniz.
                                        </div>
                                    </div>
                                    <div class="col-md-6">
                                        <label class="form-label fw-bold"> Tahmini Biti *</label>
                                        <input type="datetime-local" name="end_time" class="form-control"
                                            min="{{ now()->format('Y-m-d\TH:i') }}"
                                            max="{{ now()->addMonth()->endOfDay()->format('Y-m-d\TH:i') }}"
                                            value="{{ old('end_time') }}" required>
                                    </div>
                                </div>

                                {{-- YNETC SE ARA SEM GRNR --}}
                                @if (in_array(auth()->user()->role, ['mdr', 'admin', 'ynetici']))
                                    <div x-show="needsVehicle === 'yes'" class="mb-4">
                                        <label class="form-label fw-bold">
                                            <span
                                                x-text="vehicleType === 'company' ? ' irket Arac' : ' Nakliye Arac'"></span>
                                            Sein *
                                        </label>

                                        <div x-show="vehicleType === 'company'">
                                            <select name="vehicle_id" class="form-select"
                                                :required="needsVehicle === 'yes' && vehicleType === 'company'"
                                                :disabled="vehicleType !== 'company'">
                                                <option value="">irket arac seiniz...</option>
                                                @foreach ($companyVehicles as $vehicle)
                                                    <option value="{{ $vehicle->id }}">{{ $vehicle->plate_number }} -
                                                        {{ $vehicle->brand_model }}</option>
                                                @endforeach
                                            </select>
                                        </div>

                                        <div x-show="vehicleType === 'logistics'">
                                            <select name="vehicle_id" class="form-select"
                                                :required="needsVehicle === 'yes' && vehicleType === 'logistics'"
                                                :disabled="vehicleType !== 'logistics'">
                                                <option value="">Nakliye arac seiniz...</option>
                                                @foreach ($logisticsVehicles as $vehicle)
                                                    <option value="{{ $vehicle->id }}">{{ $vehicle->plate_number }} -
                                                        {{ $vehicle->brand }} {{ $vehicle->model }}</option>
                                                @endforeach
                                            </select>
                                        </div>
                                    </div>

                                    {{-- NAKLYE BALANGI DETAYLARI (Sadece Yneticiler Girebilir) --}}
                                    <div x-show="needsVehicle === 'yes' && vehicleType === 'logistics'"
                                        class="row mb-4 p-3 bg-light rounded border mx-1">
                                        <div class="col-12 mb-2">
                                            <h6 class="text-primary"><i class="fas fa-tachometer-alt me-1"></i> Sefer
                                                Balang Bilgileri</h6>
                                        </div>
                                        <div class="col-md-6 mb-3">
                                            <label class="form-label fw-bold">Balang KM *</label>
                                            <input type="number" step="0.1" name="start_km" class="form-control"
                                                placeholder="rn: 125000.5">
                                        </div>
                                        <div class="col-md-6 mb-3">
                                            <label class="form-label fw-bold">Yakt Durumu *</label>
                                            <select name="start_fuel_level" class="form-select">
                                                <option value="">Seiniz...</option>
                                                <option value="full">Dolu (Full)</option>
                                                <option value="3/4">3/4</option>
                                                <option value="1/2">1/2</option>
                                                <option value="1/4">1/4</option>
                                                <option value="empty">Bo</option>
                                            </select>
                                        </div>
                                    </div>
                                @endif

                                <div class="mb-4">
                                    <label class="form-label fw-bold"> Grev Aklamas *</label>
                                    <textarea name="task_description" class="form-control" rows="3" required>{{ old('task_description') }}</textarea>
                                </div>

                                <div class="mb-4">
                                    <label class="form-label fw-bold"> lgili Mteri (Opsiyonel)</label>
                                    <select name="customer_id" class="form-select" x-data
                                        @change="
                                        if($el.options[$el.selectedIndex].text !== 'Seiniz...' && document.querySelector('[name=destination]').value === '') {
                                            document.querySelector('[name=destination]').value = $el.options[$el.selectedIndex].text;
                                        }
                                    ">
                                        <option value="">Seiniz...</option>
                                        @foreach ($customers as $customer)
                                            <option value="{{ $customer->id }}"
                                                {{ old('customer_id') == $customer->id ? 'selected' : '' }}>
                                                {{ $customer->name }}
                                            </option>
                                        @endforeach
                                    </select>
                                </div>

                                <div class="mb-4">
                                    <label class="form-label fw-bold"> Hedef Konum</label>
                                    <input type="text" name="destination" class="form-control"
                                        value="{{ old('destination') }}">
                                </div>

                                <div class="d-flex justify-content-between align-items-center mt-4 pt-3 border-top">
                                    <a href="{{ route('service.assignments.index') }}"
                                        class="btn btn-outline-secondary">ptal</a>
                                    <button type="submit" class="btn btn-animated-gradient"> Grevi Olutur</button>
                                </div>
                            </div>
                        </form>
                    </div>
                </div>
            </div>
        </div>
    </div>

    {{-- HIZLI TAKIM OLUTURMA MODALI --}}
    <div class="modal fade" id="newTeamModal" tabindex="-1">
        <div class="modal-dialog modal-dialog-centered">
            <div class="modal-content">
                <div class="modal-header">
                    <h5 class="modal-title">Hzl Takm Olutur</h5>
                    <button type="button" class="btn-close" data-bs-dismiss="modal"></button>
                </div>
                <form id="newTeamForm" action="{{ route('teams.store') }}" method="POST">
                    @csrf
                    <div class="modal-body">
                        <div id="newTeamErrors" class="alert alert-danger" style="display: none;"></div>
                        <div class="mb-3">
                            <label class="form-label fw-bold">Takmn lk yesi/Yneticisi *</label>
                            <select name="members[]" class="form-select" required>
                                <option value="">Bir kullanc seiniz...</option>
                                @foreach ($users as $user)
                                    <option value="{{ $user->id }}">{{ $user->name }}</option>
                                @endforeach
                            </select>
                        </div>
                        <div class="mb-3">
                            <label class="form-label fw-bold">Takm Ad *</label>
                            <input type="text" class="form-control" name="name" placeholder="rn: Lojistik Ekibi"
                                required>
                        </div>
                    </div>
                    <div class="modal-footer">
                        <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">ptal</button>
                        <button type="submit" class="btn btn-primary" id="saveTeamButton">Takm Kaydet</button>
                    </div>
                </form>
            </div>
        </div>
    </div>
@endsection

@section('page_scripts')
    {{-- 1. Alpine.js'i Gvenilir Kaynaktan ve Defer Olmadan Ykle --}}
    <script src="https://cdn.jsdelivr.net/npm/alpinejs@3.13.3/dist/cdn.min.js"></script>

    {{-- 2. x-data Mantn Buraya Tayoruz (HTML ii karkl nler) --}}
    <script>
        document.addEventListener('alpine:init', () => {
            Alpine.data('assignmentForm', () => ({
                needsVehicle: '{{ old('needs_vehicle', '') }}',
                vehicleType: '{{ old('vehicle_type', '') }}',
                responsibleType: '{{ old('responsible_type', '') }}',
                currentStep: 1,

                // Getter'lar fonksiyon olarak tanmlayalm (daha gvenli)
                isStep1Complete() {
                    return this.needsVehicle === 'no' || (this.needsVehicle === 'yes' && this
                        .vehicleType !== '');
                },
                isStep2Complete() {
                    return this.responsibleType !== '';
                }
            }))
        });
    </script>

    {{-- Senin Mevcut Takm Oluturma Scriptin --}}
    <script>
        document.addEventListener('DOMContentLoaded', function() {
            const newTeamForm = document.getElementById('newTeamForm');
            // ... (senin dier kodlarn aynen kalacak)
        });
    </script>
@endsection


----------------------------------------
DOSYA YOLU: resources\views\service\assignments\edit.blade.php
----------------------------------------

@extends('layouts.app')

@section('title', 'Grev Atamasn Dzenle')

@push('styles')
    <style>
        /* --- STLLER (AYNEN KORUNDU) --- */
        #app>main.py-4 {
            padding: 2.5rem 0 !important;
            min-height: calc(100vh - 72px);
            background: linear-gradient(-45deg, #dbe4ff, #fde2ff, #d9fcf7, #fff0d9);
            background-size: 400% 400%;
            animation: gradientWave 18s ease infinite;
        }

        @keyframes gradientWave {

            0%,
            100% {
                background-position: 0% 50%;
            }

            50% {
                background-position: 100% 50%;
            }
        }

        .edit-assignment-card {
            border-radius: 1rem;
            box-shadow: 0 8px 32px rgba(0, 0, 0, 0.08);
            border: 0;
            background: rgba(255, 255, 255, 0.95);
            backdrop-filter: blur(10px);
        }

        .section-header {
            display: flex;
            align-items: center;
            gap: 0.75rem;
            margin-bottom: 1.5rem;
            padding-bottom: 0.75rem;
            border-bottom: 2px solid #e5e7eb;
        }

        .section-header .icon {
            width: 40px;
            height: 40px;
            border-radius: 10px;
            background: linear-gradient(135deg, #667EEA, #764BA2);
            color: white;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 1.25rem;
        }

        .section-header h5 {
            margin: 0;
            color: #1f2937;
            font-weight: 600;
        }

        .form-label {
            font-weight: 600;
            color: #374151;
            margin-bottom: 0.5rem;
        }

        .form-control,
        .form-select {
            border-radius: 0.75rem;
            border: 2px solid #e5e7eb;
            padding: 0.75rem 1rem;
            transition: all 0.3s ease;
        }

        .form-control:focus,
        .form-select:focus {
            border-color: #667EEA;
            box-shadow: 0 0 0 3px rgba(102, 126, 234, 0.1);
        }

        .btn-animated-gradient {
            background: linear-gradient(-45deg, #667EEA, #F093FB, #4FD1C5, #FBD38D);
            background-size: 400% 400%;
            animation: gradientWave 18s ease infinite;
            border: none;
            color: white;
            font-weight: 600;
            padding: 0.75rem 2rem;
            transition: all 0.2s ease;
            border-radius: 0.75rem;
        }

        .btn-animated-gradient:hover {
            color: white;
            transform: scale(1.05);
            box-shadow: 0 4px 15px rgba(0, 0, 0, 0.2);
        }

        .selection-card {
            border: 2px solid #e5e7eb;
            border-radius: 1rem;
            padding: 1rem;
            margin-bottom: 0.75rem;
            cursor: pointer;
            transition: all 0.3s ease;
            background: white;
            position: relative;
        }

        .selection-card:hover {
            border-color: #667EEA;
            transform: translateY(-2px);
            box-shadow: 0 4px 12px rgba(102, 126, 234, 0.15);
        }

        .selection-card input[type="radio"] {
            position: absolute;
            opacity: 0;
        }

        .selection-card input[type="radio"]:checked~.card-content {
            border-left: 4px solid #667EEA;
            padding-left: 1rem;
        }

        .selection-card input[type="radio"]:checked~.card-content .card-icon {
            background: linear-gradient(135deg, #667EEA, #764BA2);
            color: white;
        }

        .card-content {
            display: flex;
            align-items: center;
            gap: 1rem;
            transition: all 0.3s ease;
        }

        .card-icon {
            width: 45px;
            height: 45px;
            border-radius: 10px;
            background: #f3f4f6;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 1.5rem;
            flex-shrink: 0;
            transition: all 0.3s ease;
        }

        .card-text h6 {
            margin: 0 0 0.25rem 0;
            font-weight: 600;
            color: #1f2937;
            font-size: 1rem;
        }

        .card-text p {
            margin: 0;
            font-size: 0.875rem;
            color: #6b7280;
        }

        [x-cloak] {
            display: none !important;
        }

        .fade-in {
            animation: fadeIn 0.3s ease-out;
        }

        @keyframes fadeIn {
            from {
                opacity: 0;
                transform: translateY(10px);
            }

            to {
                opacity: 1;
                transform: translateY(0);
            }
        }
    </style>
@endpush

@section('content')
    @php
        $user = Auth::user();

        // --- YETK KONTROLLER ---

        // 1. Ara Ynetme: Ulatrma Mdr veya Admin
        $canManageVehicle =
            $user->role === 'admin' ||
            ($user->role === 'mdr' && $user->department && $user->department->slug === 'ulastirma');

        // 2. Durum Deitirme: Atayan, Atanan veya Ynetici
        $isAssignee = false;
        if ($assignment->responsible_type === 'App\Models\User' && $assignment->responsible_id === $user->id) {
            $isAssignee = true;
        } elseif ($assignment->responsible_type === 'App\Models\Team') {
            $isAssignee = $user->teams->contains($assignment->responsible_id);
        }

        $canUpdateStatus = $user->id === $assignment->created_by || $isAssignee || $canManageVehicle;

        // 3. Genel Dzenleme: Sadece Atayan veya Admin
        $canEditDetails = $user->id === $assignment->created_by || $user->role === 'admin';

        // Eer dzenleyemiyorsa disabled yap
        $disableInput = $canEditDetails ? '' : 'disabled';
    @endphp

    <div class="container">
        <div class="row justify-content-center">
            <div class="col-lg-9">
                <div class="card edit-assignment-card" x-data="{
                    vehicleType: '{{ old('vehicle_type', $assignment->isLogistics() ? 'logistics' : 'company') }}',
                    responsibleType: '{{ old('responsible_type', $assignment->responsible_type === App\Models\User::class ? 'user' : 'team') }}',
                    status: '{{ old('status', $assignment->status) }}',
                    isLogistics() { return this.vehicleType === 'logistics'; }
                }" x-cloak>

                    <div class="card-header bg-transparent border-0 pt-4 pb-3">
                        <div class="d-flex justify-content-between align-items-center">
                            <div>
                                <h4 class="mb-1"> Grev Dzenleme</h4>
                                <p class="text-muted mb-0">Grev detaylarn ve durumunu gncelleyin</p>
                            </div>
                            @if ($canEditDetails)
                                <form method="POST" action="{{ route('service.assignments.destroy', $assignment->id) }}"
                                    onsubmit="return confirm('Bu atamay silmek istediinizden emin misiniz?');">
                                    @csrf
                                    @method('DELETE')
                                    <button type="submit" class="btn btn-danger btn-sm">
                                        <i class="fas fa-trash"></i> Grevi Sil
                                    </button>
                                </form>
                            @endif
                        </div>
                    </div>

                    <div class="card-body px-4 py-3">
                        @if ($errors->any())
                            <div class="alert alert-danger rounded-3">
                                <strong> Hata!</strong> Ltfen aadaki sorunlar dzeltin:
                                <ul class="mb-0 mt-2">
                                    @foreach ($errors->all() as $error)
                                        <li>{{ $error }}</li>
                                    @endforeach
                                </ul>
                            </div>
                        @endif

                        <form method="POST" action="{{ route('service.assignments.update', $assignment->id) }}">
                            @csrf
                            @method('PUT')
                            {{-- Ara tipi gizli olarak tutuluyor --}}
                            <input type="hidden" name="vehicle_type" :value="vehicleType">

                            {{-- GREV DURUMU --}}
                            <div class="section-header">
                                <div class="icon"></div>
                                <h5>Grev Durumu</h5>
                            </div>

                            <div class="row mb-4">
                                <div class="col-md-12">
                                    <label for="status" class="form-label">Gncel Durum</label>
                                    @if ($canUpdateStatus)
                                        <select name="status" id="status"
                                            class="form-select form-select-lg @error('status') is-invalid @enderror"
                                            required>
                                            <option value="waiting_assignment"
                                                {{ $assignment->status == 'waiting_assignment' ? 'selected' : '' }}> Atama
                                                Bekliyor</option>
                                            <option value="pending"
                                                {{ $assignment->status == 'pending' ? 'selected' : '' }}> Bekliyor /
                                                Planland</option>
                                            <option value="in_progress"
                                                {{ $assignment->status == 'in_progress' ? 'selected' : '' }}> Baladm /
                                                Devam Ediyor</option>
                                            <option value="completed"
                                                {{ $assignment->status == 'completed' ? 'selected' : '' }}> Tamamland
                                            </option>
                                            <option value="cancelled"
                                                {{ $assignment->status == 'cancelled' ? 'selected' : '' }}> ptal Edildi
                                            </option>
                                        </select>
                                        <small class="text-muted">Grevi balattnzda veya bitirdiinizde buradan durumu
                                            gncelleyiniz.</small>
                                    @else
                                        <div class="p-3 border rounded bg-light">
                                            <strong>{{ ucfirst($assignment->status) }}</strong>
                                            <input type="hidden" name="status" value="{{ $assignment->status }}">
                                        </div>
                                    @endif
                                </div>
                            </div>

                            {{-- SORUMLU ATAMA --}}
                            <div class="section-header">
                                <div class="icon"></div>
                                <h5>Sorumlu Atama</h5>
                                @if (!$canEditDetails)
                                    <span class="ms-3 text-muted small">(Sadece Grevi Atayan Deitirebilir)</span>
                                @endif
                            </div>

                            {{-- DZELTME 1: Eer yetki yoksa HIDDEN INPUTS ekle --}}
                            @if (!$canEditDetails)
                                <input type="hidden" name="responsible_type"
                                    value="{{ $assignment->responsible_type === App\Models\User::class ? 'user' : 'team' }}">
                                <input type="hidden" name="responsible_user_id" value="{{ $assignment->responsible_id }}">
                                <input type="hidden" name="responsible_team_id" value="{{ $assignment->responsible_id }}">
                            @endif

                            <div class="mb-3">
                                <label class="form-label">Sorumlu Tipi</label>
                                <div class="d-flex gap-2">
                                    <label class="selection-card flex-fill mb-0">
                                        <input type="radio" name="responsible_type" x-model="responsibleType"
                                            value="user" {{ $disableInput }}>
                                        <div class="card-content">
                                            <div class="card-icon"></div>
                                            <div class="card-text">
                                                <h6>Tek Kii</h6>
                                                <p>Bireysel atama</p>
                                            </div>
                                        </div>
                                    </label>
                                    <label class="selection-card flex-fill mb-0">
                                        <input type="radio" name="responsible_type" x-model="responsibleType"
                                            value="team" {{ $disableInput }}>
                                        <div class="card-content">
                                            <div class="card-icon"></div>
                                            <div class="card-text">
                                                <h6>Takm</h6>
                                                <p>Grup atamas</p>
                                            </div>
                                        </div>
                                    </label>
                                </div>
                            </div>

                            <div x-show="responsibleType === 'user'" class="mb-4 fade-in">
                                <label class="form-label"> Sorumlu Kii *</label>
                                <select name="responsible_user_id" class="form-select" {{ $disableInput }}>
                                    <option value="">Kii seiniz...</option>
                                    @foreach ($users as $user)
                                        <option value="{{ $user->id }}"
                                            {{ old('responsible_id', $assignment->responsible_id) == $user->id && $assignment->responsible_type === App\Models\User::class ? 'selected' : '' }}>
                                            {{ $user->name }}
                                        </option>
                                    @endforeach
                                </select>
                            </div>

                            <div x-show="responsibleType === 'team'" class="mb-4 fade-in">
                                <label class="form-label"> Sorumlu Takm *</label>
                                <select name="responsible_team_id" class="form-select" {{ $disableInput }}>
                                    <option value="">Takm seiniz...</option>
                                    @foreach ($teams as $team)
                                        <option value="{{ $team->id }}"
                                            {{ old('responsible_id', $assignment->responsible_id) == $team->id && $assignment->responsible_type === App\Models\Team::class ? 'selected' : '' }}>
                                            {{ $team->name }}
                                        </option>
                                    @endforeach
                                </select>
                            </div>

                            {{-- GREV BLGLER --}}
                            <div class="section-header">
                                <div class="icon"></div>
                                <h5>Grev Detaylar</h5>
                            </div>

                            <div class="row mb-4">
                                <div class="col-md-12 mb-3">
                                    <label for="title" class="form-label"> Grev Bal</label>
                                    {{-- Eer dzenleyemiyorsa HIDDEN olarak gnder --}}
                                    <input type="text" class="form-control" name="title"
                                        value="{{ old('title', $assignment->title) }}" {{ $disableInput }} required>
                                    @if (!$canEditDetails)
                                        <input type="hidden" name="title" value="{{ $assignment->title }}">
                                    @endif
                                </div>
                                <div class="col-md-12 mb-3">
                                    <label class="form-label">Aklama</label>
                                    <textarea name="task_description" class="form-control" rows="3" {{ $disableInput }}>{{ old('task_description', $assignment->task_description) }}</textarea>
                                    @if (!$canEditDetails)
                                        <input type="hidden" name="task_description"
                                            value="{{ $assignment->task_description }}">
                                    @endif
                                </div>
                                <div class="col-md-12">
                                    <label class="form-label">Notlar</label>
                                    {{-- Notlar her zaman dzenlenebilir kalsn istiyorsan disable' kaldr, aksi halde buraya da hidden koy --}}
                                    <textarea name="notes" class="form-control" rows="2">{{ old('notes', $assignment->notes) }}</textarea>
                                </div>
                            </div>
                            {{-- ARA BLGLER --}}
                            <div class="section-header mt-4">
                                <div class="icon"></div>
                                <h5>Ara Bilgileri</h5>
                            </div>

                            <div class="card-body border rounded p-3 mb-4 bg-light">
                                @if ($canManageVehicle)
                                    {{-- YNETC GRNM: ARA SEM KUTUSU --}}
                                    <div class="mb-3">
                                        <label for="vehicle_selection" class="form-label fw-bold">Ara Atamas /
                                            Deiimi</label>

                                        {{-- NEML: name="vehicle_selection" Controller ile elemeli --}}
                                        <select name="vehicle_selection" id="vehicle_selection"
                                            class="form-select select2">
                                            <option value="">-- Ara Yok / Atamay Kaldr --</option>

                                            {{-- GRUP 1: RKET ARALARI --}}
                                            <optgroup label="irket Aralar">
                                                @foreach ($companyVehicles as $vehicle)
                                                    @php
                                                        // Bu ara seili mi?
                                                        $isSelected =
                                                            $assignment->vehicle_type === 'App\Models\Vehicle' &&
                                                            $assignment->vehicle_id == $vehicle->id;
                                                    @endphp
                                                    <option value="company_{{ $vehicle->id }}"
                                                        {{ $isSelected ? 'selected' : '' }}>
                                                        {{ $vehicle->plate_number }} -
                                                        {{ $vehicle->brand_model ?? $vehicle->model }}
                                                    </option>
                                                @endforeach
                                            </optgroup>

                                            {{-- GRUP 2: LOJSTK ARALARI --}}
                                            <optgroup label="Lojistik (Nakliye) Aralar">
                                                @foreach ($logisticsVehicles as $lVehicle)
                                                    @php
                                                        // Bu ara seili mi?
                                                        $isSelected =
                                                            $assignment->vehicle_type ===
                                                                'App\Models\LogisticsVehicle' &&
                                                            $assignment->vehicle_id == $lVehicle->id;
                                                    @endphp
                                                    <option value="logistics_{{ $lVehicle->id }}"
                                                        {{ $isSelected ? 'selected' : '' }}>
                                                        {{ $lVehicle->plate_number }} (Lojistik)
                                                    </option>
                                                @endforeach
                                            </optgroup>
                                        </select>
                                        <div class="form-text text-muted">
                                            Listeden bir ara setiinizde sistem otomatik olarak trn (irket/Lojistik)
                                            alglar.
                                        </div>
                                    </div>
                                @else
                                    {{-- PERSONEL GRNM: SADECE BLG --}}
                                    @if ($assignment->vehicle)
                                        <div class="alert alert-success d-flex align-items-center">
                                            <div class="h2 me-3 mb-0"></div>
                                            <div>
                                                <h6 class="alert-heading fw-bold mb-0">Atanan Ara</h6>
                                                <p class="mb-0">{{ $assignment->vehicle->plate_number }}</p>
                                                @if ($assignment->vehicle_type == 'App\Models\LogisticsVehicle')
                                                    <small class="text-muted">(Lojistik Arac)</small>
                                                @endif
                                            </div>
                                        </div>
                                        {{-- Mevcut arac korumak iin gizli input --}}
                                        @php
                                            $prefix =
                                                $assignment->vehicle_type == 'App\Models\LogisticsVehicle'
                                                    ? 'logistics'
                                                    : 'company';
                                            $hiddenValue = $prefix . '_' . $assignment->vehicle_id;
                                        @endphp
                                        <input type="hidden" name="vehicle_selection" value="{{ $hiddenValue }}">
                                    @else
                                        <div class="alert alert-warning d-flex align-items-center">
                                            <div class="h2 me-3 mb-0"></div>
                                            <div>
                                                <h6 class="alert-heading fw-bold mb-0">Ara Bekleniyor</h6>
                                                <p class="mb-0 small">Ulatrma birimi henz ara atamas yapmad.</p>
                                            </div>
                                        </div>
                                    @endif
                                @endif

                                {{-- KM TAKB (HERKES GREBLR) --}}
                                <div class="mt-3 pt-3 border-top">
                                    <h6 class="text-primary mb-3"> Yakt ve Kilometre Takibi</h6>
                                    <div class="row">
                                        <div class="col-md-6 mb-3">
                                            <label class="form-label">Balang KM</label>
                                            <input type="number" step="0.1" name="start_km" class="form-control"
                                                value="{{ old('start_km', $assignment->start_km) }}"
                                                {{ $canManageVehicle ? '' : 'readonly' }}>
                                        </div>
                                        <div class="col-md-6 mb-3">
                                            <label class="form-label">Biti KM</label>
                                            <input type="number" step="0.1" name="final_km" class="form-control"
                                                value="{{ old('final_km', $assignment->end_km) }}"
                                                placeholder="Grevi bitirirken giriniz">
                                        </div>
                                    </div>
                                </div>
                            </div>

                            {{-- AKSYON --}}
                            <div class="d-flex justify-content-between align-items-center mt-5 pt-4 border-top">
                                <a href="{{ route('service.general-tasks.index') }}"
                                    class="btn btn-outline-secondary btn-lg">
                                     Listeye Dn
                                </a>
                                <button type="submit" class="btn btn-animated-gradient btn-lg">
                                     Kaydet ve Gncelle
                                </button>
                            </div>
                        </form>
                        {{-- DOSYA YKLEME ALANI --}}
                        <div class="section-header mt-5">
                            <div class="icon"></div>
                            <h5>Dosya ve Belgeler</h5>
                        </div>

                        <div class="card bg-light border-0 mb-4">
                            <div class="card-body">
                                {{-- Yklenmi Dosyalar Listesi --}}
                                @if ($assignment->files && $assignment->files->count() > 0)
                                    <div class="list-group mb-3">
                                        @foreach ($assignment->files as $file)
                                            <div
                                                class="list-group-item d-flex justify-content-between align-items-center bg-white border rounded mb-2">
                                                <div class="d-flex align-items-center">
                                                    <div class="me-3 text-primary fs-4">
                                                        @if (Str::contains($file->mime_type, 'image'))
                                                            <i class="fa-regular fa-image"></i>
                                                        @elseif(Str::contains($file->mime_type, 'pdf'))
                                                            <i class="fa-regular fa-file-pdf text-danger"></i>
                                                        @else
                                                            <i class="fa-regular fa-file"></i>
                                                        @endif
                                                    </div>
                                                    <div>
                                                        <a href="{{ route('files.download', $file->id) }}"
                                                            class="fw-bold text-dark text-decoration-none"
                                                            target="_blank">
                                                            {{ $file->original_name }}
                                                        </a>
                                                        <div class="small text-muted">
                                                            {{ $file->created_at->format('d.m.Y H:i') }} -
                                                            {{ $file->uploader->name ?? '?' }}
                                                        </div>
                                                    </div>
                                                </div>

                                                <div class="d-flex gap-2">
                                                    <a href="{{ route('files.download', $file->id) }}"
                                                        class="btn btn-sm btn-outline-primary" title="ndir">
                                                        <i class="fa-solid fa-download"></i>
                                                    </a>

                                                    {{-- Sadece ykleyen veya admin silebilir --}}
                                                    @if (Auth::id() === $file->uploaded_by || Auth::user()->role === 'admin')
                                                        <form action="{{ route('files.destroy', $file->id) }}"
                                                            method="POST"
                                                            onsubmit="return confirm('Silmek istediine emin misin?')">
                                                            @csrf
                                                            @method('DELETE')
                                                            <button type="submit" class="btn btn-sm btn-outline-danger"
                                                                title="Sil">
                                                                <i class="fa-solid fa-trash"></i>
                                                            </button>
                                                        </form>
                                                    @endif
                                                </div>
                                            </div>
                                        @endforeach
                                    </div>
                                @else
                                    <p class="text-muted text-center mb-3 small">Henz dosya yklenmemi.</p>
                                @endif

                                {{-- Yeni Dosya Ykleme Formu --}}
                                <div class="border-top pt-3">
                                    <form action="{{ route('files.store') }}" method="POST"
                                        enctype="multipart/form-data" class="d-flex gap-2 align-items-center">
                                        @csrf
                                        <input type="hidden" name="model_type" value="App\Models\VehicleAssignment">
                                        <input type="hidden" name="model_id" value="{{ $assignment->id }}">

                                        <input type="file" name="file" class="form-control form-control-sm"
                                            required>

                                        <button type="submit"
                                            class="btn btn-dark btn-sm d-flex align-items-center gap-2">
                                            <i class="fa-solid fa-upload"></i> Ykle
                                        </button>
                                    </form>
                                    <small class="text-muted ms-1" style="font-size: 0.75rem">Fatura, fi, ruhsat vb.
                                        (Max: 10MB)</small>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
@endsection

@section('page_scripts')
    <script defer src="https://unpkg.com/alpinejs@3.x.x/dist/cdn.min.js"></script>
@endsection


----------------------------------------
DOSYA YOLU: resources\views\service\assignments\general_index.blade.php
----------------------------------------

@extends('layouts.app')
@section('title', 'Genel Grev Listesi (Arasz)')

@push('styles')
    <style>
        .general-tasks-header {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            border-radius: 20px;
            padding: 2rem;
            margin-bottom: 2rem;
            box-shadow: 0 10px 30px rgba(102, 126, 234, 0.3);
            position: relative;
            overflow: hidden;
        }

        .general-tasks-header::before {
            content: '';
            position: absolute;
            top: -50%;
            right: -50%;
            width: 200%;
            height: 200%;
            background: radial-gradient(circle, rgba(255, 255, 255, 0.1) 0%, transparent 70%);
            animation: pulse 15s ease-in-out infinite;
        }

        @keyframes pulse {

            0%,
            100% {
                transform: scale(1);
                opacity: 0.5;
            }

            50% {
                transform: scale(1.1);
                opacity: 0.8;
            }
        }

        .general-tasks-header h4 {
            color: white;
            font-weight: 700;
            margin: 0;
            position: relative;
            z-index: 1;
            display: flex;
            align-items: center;
            gap: 1rem;
        }

        .general-tasks-header .icon-wrapper {
            width: 60px;
            height: 60px;
            background: rgba(255, 255, 255, 0.2);
            border-radius: 15px;
            display: flex;
            align-items: center;
            justify-content: center;
            backdrop-filter: blur(10px);
        }

        .general-tasks-header .icon-wrapper i {
            font-size: 1.8rem;
            color: white;
        }

        .general-tasks-header .header-content {
            position: relative;
            z-index: 1;
        }

        .general-tasks-header .stats {
            display: flex;
            gap: 2rem;
            margin-top: 1.5rem;
        }

        .general-tasks-header .stat-item {
            color: rgba(255, 255, 255, 0.95);
            font-size: 0.9rem;
        }

        .general-tasks-header .stat-item strong {
            display: block;
            font-size: 1.5rem;
            font-weight: 700;
            color: white;
        }

        .modern-card {
            background: white;
            border-radius: 20px;
            box-shadow: 0 5px 20px rgba(0, 0, 0, 0.08);
            border: none;
            overflow: hidden;
            transition: all 0.3s ease;
        }

        .modern-card:hover {
            box-shadow: 0 8px 30px rgba(0, 0, 0, 0.12);
            transform: translateY(-2px);
        }

        .task-card {
            background: white;
            border-radius: 16px;
            padding: 1.5rem;
            margin-bottom: 1rem;
            box-shadow: 0 2px 10px rgba(0, 0, 0, 0.06);
            transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
            border: 1px solid rgba(0, 0, 0, 0.05);
            position: relative;
            overflow: visible !important;
        }

        .task-card::before {
            content: '';
            position: absolute;
            left: 0;
            top: 0;
            bottom: 0;
            width: 4px;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            transform: scaleY(0);
            transition: transform 0.3s ease;
            border-top-left-radius: 16px;
            border-bottom-left-radius: 16px;
        }

        .task-card:hover {
            box-shadow: 0 8px 25px rgba(0, 0, 0, 0.1);
            transform: translateY(-4px);
            border-color: rgba(102, 126, 234, 0.3);
        }

        .task-card:hover::before {
            transform: scaleY(1);
        }

        .task-header {
            display: flex;
            justify-content: space-between;
            align-items: start;
            margin-bottom: 1rem;
        }

        .task-title {
            font-size: 1.1rem;
            font-weight: 700;
            color: #2d3748;
            margin: 0;
            display: flex;
            align-items: center;
            gap: 0.5rem;
        }

        .task-title i {
            color: #667eea;
            font-size: 1rem;
        }

        .task-meta {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: 1rem;
            margin-top: 1rem;
            padding-top: 1rem;
            border-top: 1px solid rgba(0, 0, 0, 0.06);
        }

        .meta-item {
            display: flex;
            align-items: center;
            gap: 0.75rem;
        }

        .meta-icon {
            width: 40px;
            height: 40px;
            background: linear-gradient(135deg, #667eea15 0%, #764ba215 100%);
            border-radius: 10px;
            display: flex;
            align-items: center;
            justify-content: center;
            color: #667eea;
            font-size: 1rem;
            flex-shrink: 0;
        }

        .meta-content {
            flex: 1;
            min-width: 0;
        }

        .meta-label {
            font-size: 0.75rem;
            color: #718096;
            text-transform: uppercase;
            letter-spacing: 0.5px;
            font-weight: 600;
            margin-bottom: 0.25rem;
        }

        .meta-value {
            font-size: 0.95rem;
            color: #2d3748;
            font-weight: 600;
            white-space: nowrap;
            overflow: hidden;
            text-overflow: ellipsis;
        }

        .meta-value.allow-overflow {
            overflow: visible !important;
            white-space: normal !important;
            /* Gerekirse alt satra gesin */
        }

        .status-badge {
            padding: 0.5rem 1rem;
            border-radius: 50px;
            font-size: 0.85rem;
            font-weight: 600;
            letter-spacing: 0.3px;
            display: inline-flex;
            align-items: center;
            gap: 0.5rem;
            animation: fadeInScale 0.3s ease;
        }

        @keyframes fadeInScale {
            from {
                opacity: 0;
                transform: scale(0.8);
            }

            to {
                opacity: 1;
                transform: scale(1);
            }
        }

        .status-badge::before {
            content: '';
            width: 8px;
            height: 8px;
            border-radius: 50%;
            background: currentColor;
            animation: pulse-dot 2s ease-in-out infinite;
        }

        @keyframes pulse-dot {

            0%,
            100% {
                opacity: 1;
            }

            50% {
                opacity: 0.5;
            }
        }

        .action-buttons {
            display: flex;
            gap: 0.5rem;
            flex-wrap: wrap;
        }

        .modern-btn {
            padding: 0.5rem 1rem;
            border-radius: 10px;
            border: none;
            font-weight: 600;
            font-size: 0.9rem;
            transition: all 0.3s ease;
            display: inline-flex;
            align-items: center;
            gap: 0.5rem;
            cursor: pointer;
            text-decoration: none;
        }

        .modern-btn-view {
            background: linear-gradient(135deg, #4299e1 0%, #3182ce 100%);
            color: white;
        }

        .modern-btn-view:hover {
            background: linear-gradient(135deg, #3182ce 0%, #2c5aa0 100%);
            transform: translateY(-2px);
            box-shadow: 0 4px 12px rgba(66, 153, 225, 0.4);
            color: white;
        }

        .modern-btn-edit {
            background: linear-gradient(135deg, #f6ad55 0%, #ed8936 100%);
            color: white;
        }

        .modern-btn-edit:hover {
            background: linear-gradient(135deg, #ed8936 0%, #dd6b20 100%);
            transform: translateY(-2px);
            box-shadow: 0 4px 12px rgba(237, 137, 54, 0.4);
            color: white;
        }

        .modern-btn-primary {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
            padding: 0.75rem 1.5rem;
            font-size: 1rem;
        }

        .modern-btn-primary:hover {
            background: linear-gradient(135deg, #764ba2 0%, #667eea 100%);
            transform: translateY(-2px);
            box-shadow: 0 6px 20px rgba(102, 126, 234, 0.4);
            color: white;
        }

        .modern-btn-export {
            background: linear-gradient(135deg, #48bb78 0%, #38a169 100%);
            color: white;
        }

        .empty-state {
            text-align: center;
            padding: 4rem 2rem;
        }

        .empty-state-icon {
            width: 120px;
            height: 120px;
            background: linear-gradient(135deg, #667eea15 0%, #764ba215 100%);
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            margin: 0 auto 1.5rem;
        }

        .empty-state-icon i {
            font-size: 3rem;
            color: #667eea;
        }

        .empty-state h5 {
            color: #2d3748;
            font-weight: 700;
            margin-bottom: 0.5rem;
        }

        .empty-state p {
            color: #718096;
            margin-bottom: 1.5rem;
        }

        .responsible-badge {
            display: inline-flex;
            align-items: center;
            gap: 0.5rem;
            padding: 0.4rem 0.8rem;
            background: linear-gradient(135deg, #667eea15 0%, #764ba215 100%);
            border-radius: 8px;
            font-size: 0.85rem;
            font-weight: 600;
            color: #667eea;
        }

        .responsible-badge i {
            font-size: 0.8rem;
        }

        .type-badge {
            padding: 0.25rem 0.6rem;
            border-radius: 6px;
            font-size: 0.7rem;
            font-weight: 700;
            text-transform: uppercase;
            letter-spacing: 0.5px;
        }

        .type-person {
            background: linear-gradient(135deg, #48bb78 0%, #38a169 100%);
            color: white;
        }

        .type-team {
            background: linear-gradient(135deg, #ed8936 0%, #dd6b20 100%);
            color: white;
        }

        .pagination-wrapper {
            padding: 1.5rem;
            display: flex;
            justify-content: center;
        }

        .filters-bar {
            background: white;
            border-radius: 16px;
            padding: 1.5rem;
            margin-bottom: 1.5rem;
            box-shadow: 0 2px 10px rgba(0, 0, 0, 0.06);
            display: flex;
            justify-content: space-between;
            align-items: center;
            flex-wrap: wrap;
            gap: 1rem;
        }

        .search-box {
            flex: 1;
            min-width: 250px;
            position: relative;
        }

        .search-box input {
            width: 100%;
            padding: 0.75rem 1rem 0.75rem 3rem;
            border: 2px solid #e2e8f0;
            border-radius: 12px;
            font-size: 0.95rem;
            transition: all 0.3s ease;
        }

        .search-box input:focus {
            outline: none;
            border-color: #667eea;
            box-shadow: 0 0 0 3px rgba(102, 126, 234, 0.1);
        }

        .search-box i {
            position: absolute;
            left: 1rem;
            top: 50%;
            transform: translateY(-50%);
            color: #a0aec0;
        }

        @media (max-width: 768px) {
            .general-tasks-header {
                padding: 1.5rem;
            }

            .general-tasks-header h4 {
                font-size: 1.3rem;
            }

            .general-tasks-header .stats {
                flex-direction: column;
                gap: 1rem;
            }

            .task-card {
                padding: 1rem;
            }

            .task-meta {
                grid-template-columns: 1fr;
            }

            .action-buttons {
                width: 100%;
            }

            .modern-btn {
                flex: 1;
                justify-content: center;
            }
        }

        .fade-in {
            animation: fadeIn 0.5s ease;
        }

        @keyframes fadeIn {
            from {
                opacity: 0;
                transform: translateY(20px);
            }

            to {
                opacity: 1;
                transform: translateY(0);
            }
        }
    </style>
@endpush

@section('content')
    <div class="container-fluid px-4 py-4">
        <!-- Modern Header -->
        <div class="general-tasks-header fade-in">
            <div class="header-content">
                <h4>
                    <div class="icon-wrapper">
                        <i class="fas fa-tasks"></i>
                    </div>
                    <div>
                        Genel Grevler
                        <small
                            style="display: block; font-size: 0.9rem; font-weight: 400; opacity: 0.9; margin-top: 0.25rem;">
                            Arasz grev ynetimi
                        </small>
                    </div>
                </h4>
                <div class="stats">
                    <div class="stat-item">
                        <strong>{{ $assignments->total() }}</strong>
                        Toplam Grev
                    </div>
                </div>
            </div>
        </div>

        <!-- Filters Bar -->
        <div class="filters-bar fade-in" style="animation-delay: 0.1s;">
            <div class="search-box">
                <i class="fas fa-search"></i>
                <input type="text" placeholder="Grev ara..." id="searchInput">
            </div>
            <a href="{{ route('service.assignments.export', ['type' => 'general']) }}" class="modern-btn modern-btn-export">
                <i class="fas fa-file-excel"></i>Excel'e Aktar
            </a>
            <a href="{{ route('service.assignments.create') }}" class="modern-btn modern-btn-primary">
                <i class="fas fa-plus"></i>
                Yeni Grev Olutur
            </a>
        </div>

        <!-- Task Cards -->
        <div class="modern-card fade-in" style="animation-delay: 0.2s;">
            @forelse($assignments as $index => $assignment)
                <div class="task-card" style="animation-delay: {{ 0.3 + $index * 0.05 }}s;">
                    <div class="task-header">
                        <h5 class="task-title">
                            <i class="fas fa-clipboard-check"></i>
                            {{ $assignment->title }}
                        </h5>
                        <div class="action-buttons">
                            <a href="{{ route('service.assignments.show', $assignment) }}"
                                class="modern-btn modern-btn-view">
                                <i class="fas fa-eye"></i>
                                Grntle
                            </a>
                            @if (Auth::user()->role === 'admin' || Auth::id() === $assignment->user_id)
                                <a href="{{ route('service.assignments.edit', $assignment) }}"
                                    class="modern-btn modern-btn-edit">
                                    <i class="fas fa-edit"></i>
                                    Dzenle
                                </a>
                            @endif
                        </div>
                    </div>

                    <div class="task-meta">
                        <div class="meta-item">
                            <div class="meta-icon">
                                <i class="fas fa-user-circle"></i>
                            </div>
                            <div class="meta-content">
                                <div class="meta-label">Grevden Sorumlu Kii/Takm</div>
                                <div class="meta-value">
                                    @if ($assignment->responsible)
                                        <div class="responsible-badge">
                                            <i
                                                class="fas fa-{{ $assignment->responsible_type === 'App\Models\User' ? 'user' : 'users' }}"></i>
                                            {{ $assignment->responsible->name }}
                                            <span
                                                class="type-badge {{ $assignment->responsible_type === 'App\Models\User' ? 'type-person' : 'type-team' }}">
                                                {{ $assignment->responsible_type === 'App\Models\User' ? 'Kii' : 'Takm' }}
                                            </span>
                                        </div>
                                    @else
                                        <span style="color: #e53e3e; font-weight: 600;">
                                            <i class="fas fa-exclamation-triangle"></i> Silinmi Sorumlu
                                        </span>
                                    @endif
                                </div>
                            </div>
                        </div>
                        <div class="meta-item">
                            <div class="meta-icon">
                                <i class="fas fa-user-edit"></i>
                            </div>
                            <div class="meta-content">
                                <div class="meta-label">Grevi Atayan</div>
                                <div class="meta-value">
                                    @if ($assignment->createdBy)
                                        <div class="responsible-badge">
                                            <i class="fas fa-user"></i>
                                            {{ $assignment->createdBy->name }}
                                            <span class="type-badge type-person">
                                                Kii
                                            </span>
                                        </div>
                                    @else
                                        <span class="text-muted">-</span>
                                    @endif
                                </div>
                            </div>
                        </div>
                        <div class="meta-item">
                            <div class="meta-icon">
                                <i class="fas fa-map-marker-alt"></i>
                            </div>
                            <div class="meta-content">
                                <div class="meta-label">Konum</div>
                                <div class="meta-value">{{ $assignment->destination ?? 'Belirtilmemi' }}</div>
                            </div>
                        </div>

                        <div class="meta-item">
                            <div class="meta-icon">
                                <i class="fas fa-clock"></i>
                            </div>
                            <div class="meta-content">
                                <div class="meta-label">Balang Zaman</div>
                                <div class="meta-value">{{ $assignment->start_time->format('d.m.Y H:i') }}</div>
                            </div>
                        </div>

                        <div class="meta-item">
                            <div class="meta-icon">
                                <i class="fas fa-info-circle"></i>
                            </div>
                            <div class="meta-content">
                                <div class="meta-label">Durum</div>
                                <div class="meta-value">
                                    <span class="status-badge bg-{{ $assignment->status_badge }}">
                                        {{ $assignment->status_name }}
                                    </span>
                                </div>
                            </div>
                        </div>
                        <div class="meta-item">
                            <div class="meta-icon"
                                style="{{ $assignment->files->count() > 0 ? 'background: rgba(102, 126, 234, 0.1); color: #667eea;' : 'background: #f7fafc; color: #cbd5e0;' }}">
                                <i class="fas fa-paperclip"></i>
                            </div>
                            <div class="meta-content">
                                <div class="meta-label">Ekli Dosyalar</div>
                                <div class="meta-value allow-overflow">
                                    @if ($assignment->files->count() > 0)
                                        <div class="dropdown">
                                            <a href="#"
                                                class="text-decoration-none dropdown-toggle fw-bold text-primary"
                                                data-bs-toggle="dropdown" aria-expanded="false">
                                                {{ $assignment->files->count() }} Dosya Grntle
                                            </a>
                                            <ul class="dropdown-menu shadow-lg border-0 p-2"
                                                style="border-radius: 12px; min-width: 250px;">
                                                <li class="dropdown-header text-primary fw-bold small py-1">DOSYALAR</li>
                                                <li>
                                                    <hr class="dropdown-divider my-1">
                                                </li>
                                                @foreach ($assignment->files as $file)
                                                    <li>
                                                        <a class="dropdown-item d-flex align-items-center justify-content-between rounded-2 py-2"
                                                            href="{{ route('files.download', $file->id) }}"
                                                            target="_blank">
                                                            <div class="d-flex align-items-center text-truncate me-2"
                                                                style="max-width: 150px;">
                                                                <i class="fa-regular fa-file me-2 text-muted"></i>
                                                                <span
                                                                    class="text-truncate">{{ $file->original_name }}</span>
                                                            </div>
                                                            <i
                                                                class="fa-solid fa-download text-secondary small opacity-50"></i>
                                                        </a>
                                                    </li>
                                                @endforeach
                                            </ul>
                                        </div>
                                    @else
                                        <span class="text-muted" style="font-weight: 400; font-size: 0.9rem;">
                                            Dosya Yok
                                        </span>
                                    @endif
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            @empty
                <div class="empty-state">
                    <div class="empty-state-icon">
                        <i class="fas fa-tasks"></i>
                    </div>
                    <h5>Henz Grev Bulunmuyor</h5>
                    <p>Yeni bir genel grev oluturarak balayabilirsiniz.</p>
                    <a href="{{ route('service.assignments.create') }}" class="modern-btn modern-btn-primary">
                        <i class="fas fa-plus"></i>
                        lk Grevi Olutur
                    </a>
                </div>
            @endforelse

            @if ($assignments->isNotEmpty())
                <div class="pagination-wrapper">
                    {{ $assignments->links() }}
                </div>
            @endif
        </div>
    </div>

    @push('scripts')
        <script>
            // Simple search functionality
            document.getElementById('searchInput')?.addEventListener('input', function(e) {
                const searchTerm = e.target.value.toLowerCase();
                const taskCards = document.querySelectorAll('.task-card');

                taskCards.forEach(card => {
                    const title = card.querySelector('.task-title').textContent.toLowerCase();
                    const responsible = card.querySelector('.meta-value').textContent.toLowerCase();

                    if (title.includes(searchTerm) || responsible.includes(searchTerm)) {
                        card.style.display = '';
                    } else {
                        card.style.display = 'none';
                    }
                });
            });
        </script>
    @endpush
@endsection


----------------------------------------
DOSYA YOLU: resources\views\service\assignments\index.blade.php
----------------------------------------

@extends('layouts.app')
@section('title', 'Ara Grev Listesi')

@push('styles')
    <style>
        /* ... Mevcut CSS kodlarn buraya ... */
        /* ... (CSS dosyann ieriini deitirmene gerek yok) ... */

        /* Sadece buraya eklediim stilleri kopyalamay unutma, yukardakiler ayn */
        .vehicle-tasks-header {
            background: linear-gradient(135deg, #4facfe 0%, #00f2fe 100%);
            border-radius: 20px;
            padding: 2rem;
            margin-bottom: 2rem;
            box-shadow: 0 10px 30px rgba(79, 172, 254, 0.3);
            position: relative;
            overflow: hidden;
        }

        .task-card.waiting-approval {
            border-left: 5px solid #f6ad55;
            background: linear-gradient(to right, #fffaf0, #ffffff);
        }

        .status-badge {
            padding: 0.35rem 0.8rem;
            border-radius: 50px;
            font-size: 0.75rem;
            font-weight: 700;
            text-transform: uppercase;
            letter-spacing: 0.5px;
            display: inline-flex;
            align-items: center;
            gap: 0.4rem;
        }

        .status-badge.warning {
            background: #ffebdad2;
            color: #c05621;
            border: 1px solid #f6ad55;
        }

        .modal-header-custom {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
            border-top-left-radius: 15px;
            border-top-right-radius: 15px;
        }

        .modal-content {
            border-radius: 16px;
            border: none;
            box-shadow: 0 10px 30px rgba(0, 0, 0, 0.1);
        }

        .btn-assign {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
            border: none;
        }

        .btn-assign:hover {
            color: white;
            transform: translateY(-2px);
            box-shadow: 0 4px 12px rgba(102, 126, 234, 0.4);
        }

        .modern-card {
            background: white;
            border-radius: 20px;
            box-shadow: 0 5px 20px rgba(0, 0, 0, 0.08);
            border: none;
            overflow: visible !important;
            transition: all 0.3s ease;
        }

        .modern-card:hover {
            box-shadow: 0 8px 30px rgba(0, 0, 0, 0.12);
            transform: translateY(-2px);
        }

        .task-card {
            background: white;
            border-radius: 16px;
            padding: 1.5rem;
            margin-bottom: 1rem;
            box-shadow: 0 2px 10px rgba(0, 0, 0, 0.06);
            transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
            border: 1px solid rgba(0, 0, 0, 0.05);
            position: relative;
            z-index: 1;
            overflow: visible !important;
        }

        .task-card::before {
            content: '';
            position: absolute;
            left: 0;
            top: 0;
            bottom: 0;
            width: 4px;
            background: linear-gradient(135deg, #4facfe 0%, #00f2fe 100%);
            transform: scaleY(0);
            transition: transform 0.3s ease;
            border-top-left-radius: 16px;
            border-bottom-left-radius: 16px;
            z-index: 2;
            /* izgi ieriin altnda kalmasn */
        }

        .task-card:hover {
            box-shadow: 0 8px 25px rgba(0, 0, 0, 0.1);
            transform: translateY(-4px);
            border-color: rgba(79, 172, 254, 0.3);
            z-index: 100 !important;
        }

        .task-card:hover::before {
            transform: scaleY(1);
        }

        .task-header {
            display: flex;
            justify-content: space-between;
            align-items: start;
            margin-bottom: 1rem;
        }

        .task-title {
            font-size: 1.1rem;
            font-weight: 700;
            color: #2d3748;
            margin: 0;
            display: flex;
            align-items: center;
            gap: 0.5rem;
        }

        .task-title i {
            color: #4facfe;
            font-size: 1rem;
        }

        .task-meta {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: 1rem;
            margin-top: 1rem;
            padding-top: 1rem;
            border-top: 1px solid rgba(0, 0, 0, 0.06);
        }

        .meta-item {
            display: flex;
            align-items: center;
            gap: 0.75rem;
        }

        .meta-icon {
            width: 40px;
            height: 40px;
            background: linear-gradient(135deg, #4facfe15 0%, #00f2fe15 100%);
            border-radius: 10px;
            display: flex;
            align-items: center;
            justify-content: center;
            color: #4facfe;
            font-size: 1rem;
            flex-shrink: 0;
        }

        .meta-content {
            flex: 1;
            min-width: 0;
        }

        .meta-label {
            font-size: 0.75rem;
            color: #718096;
            text-transform: uppercase;
            letter-spacing: 0.5px;
            font-weight: 600;
            margin-bottom: 0.25rem;
        }

        .meta-value {
            font-size: 0.95rem;
            color: #2d3748;
            font-weight: 600;
            white-space: nowrap;
            overflow: hidden;
            text-overflow: ellipsis;
        }

        .meta-value.allow-overflow {
            overflow: visible !important;
            white-space: normal !important;
        }

        .action-buttons {
            display: flex;
            gap: 0.5rem;
            flex-wrap: wrap;
        }

        .modern-btn {
            padding: 0.5rem 1rem;
            border-radius: 10px;
            border: none;
            font-weight: 600;
            font-size: 0.9rem;
            transition: all 0.3s ease;
            display: inline-flex;
            align-items: center;
            gap: 0.5rem;
            cursor: pointer;
            text-decoration: none;
        }

        .modern-btn-edit {
            background: linear-gradient(135deg, #f6ad55 0%, #ed8936 100%);
            color: white;
        }

        .modern-btn-edit:hover {
            background: linear-gradient(135deg, #ed8936 0%, #dd6b20 100%);
            transform: translateY(-2px);
            box-shadow: 0 4px 12px rgba(237, 137, 54, 0.4);
            color: white;
        }

        .modern-btn-delete {
            background: linear-gradient(135deg, #fc8181 0%, #f56565 100%);
            color: white;
        }

        .modern-btn-delete:hover {
            background: linear-gradient(135deg, #f56565 0%, #e53e3e 100%);
            transform: translateY(-2px);
            box-shadow: 0 4px 12px rgba(245, 101, 101, 0.4);
            color: white;
        }

        .modern-btn-primary {
            background: linear-gradient(135deg, #4facfe 0%, #00f2fe 100%);
            color: white;
            padding: 0.75rem 1.5rem;
            font-size: 1rem;
        }

        .modern-btn-primary:hover {
            background: linear-gradient(135deg, #00f2fe 0%, #4facfe 100%);
            transform: translateY(-2px);
            box-shadow: 0 6px 20px rgba(79, 172, 254, 0.4);
            color: white;
        }

        .modern-btn-filter {
            background: white;
            color: #2d3748;
            padding: 0.75rem 1.5rem;
            font-size: 1rem;
            border: 2px solid #e2e8f0;
        }

        .modern-btn-filter:hover {
            background: #f7fafc;
            border-color: #4facfe;
            color: #4facfe;
        }

        .modern-btn-filter[aria-expanded="true"] {
            background: #4facfe;
            color: white;
            border-color: #4facfe;
        }

        .empty-state {
            text-align: center;
            padding: 4rem 2rem;
        }

        .empty-state-icon {
            width: 120px;
            height: 120px;
            background: linear-gradient(135deg, #4facfe15 0%, #00f2fe15 100%);
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            margin: 0 auto 1.5rem;
        }

        .empty-state-icon i {
            font-size: 3rem;
            color: #4facfe;
        }

        .empty-state h5 {
            color: #2d3748;
            font-weight: 700;
            margin-bottom: 0.5rem;
        }

        .empty-state p {
            color: #718096;
            margin-bottom: 1.5rem;
        }

        .filters-bar {
            background: white;
            border-radius: 16px;
            padding: 1.5rem;
            margin-bottom: 1.5rem;
            box-shadow: 0 2px 10px rgba(0, 0, 0, 0.06);
            display: flex;
            justify-content: space-between;
            align-items: center;
            flex-wrap: wrap;
            gap: 1rem;
        }

        .filter-collapse {
            background: white;
            border-radius: 16px;
            padding: 1.5rem;
            margin-bottom: 1.5rem;
            box-shadow: 0 2px 10px rgba(0, 0, 0, 0.06);
        }

        .filter-collapse .form-label {
            font-weight: 600;
            color: #2d3748;
            font-size: 0.85rem;
            margin-bottom: 0.5rem;
        }

        .filter-collapse .form-control,
        .filter-collapse .form-select {
            border: 2px solid #e2e8f0;
            border-radius: 10px;
            padding: 0.625rem 1rem;
            transition: all 0.3s ease;
        }

        .filter-collapse .form-control:focus,
        .filter-collapse .form-select:focus {
            border-color: #4facfe;
            box-shadow: 0 0 0 3px rgba(79, 172, 254, 0.1);
        }

        .modern-btn-apply {
            background: linear-gradient(135deg, #48bb78 0%, #38a169 100%);
            color: white;
        }

        .modern-btn-apply:hover {
            background: linear-gradient(135deg, #38a169 0%, #2f855a 100%);
            transform: translateY(-2px);
            box-shadow: 0 4px 12px rgba(72, 187, 120, 0.4);
            color: white;
        }

        .modern-btn-clear {
            background: #f7fafc;
            color: #2d3748;
            border: 2px solid #e2e8f0;
        }

        .modern-btn-clear:hover {
            background: white;
            border-color: #cbd5e0;
            color: #2d3748;
        }

        .pagination-wrapper {
            padding: 1.5rem;
            display: flex;
            justify-content: center;
        }

        .alert {
            border-radius: 12px;
            padding: 1rem 1.25rem;
            border: none;
            box-shadow: 0 2px 10px rgba(0, 0, 0, 0.08);
        }

        .alert-success {
            background: linear-gradient(135deg, #48bb7815 0%, #38a16915 100%);
            color: #22543d;
            border-left: 4px solid #48bb78;
        }

        .alert-danger {
            background: linear-gradient(135deg, #fc818115 0%, #f5656515 100%);
            color: #742a2a;
            border-left: 4px solid #fc8181;
        }

        .alert-warning {
            background: linear-gradient(135deg, #f6ad5515 0%, #ed893615 100%);
            color: #7c2d12;
            border-left: 4px solid #f6ad55;
        }

        .modern-btn-export {
            background: linear-gradient(135deg, #48bb78 0%, #38a169 100%);
            color: white;
        }

        .modern-btn-export:hover {
            background: linear-gradient(135deg, #38a169 0%, #2f855a 100%);
            transform: translateY(-2px);
            box-shadow: 0 4px 12px rgba(72, 187, 120, 0.4);
            color: white;
        }

        @media (max-width: 768px) {
            .vehicle-tasks-header {
                padding: 1.5rem;
            }

            .vehicle-tasks-header h4 {
                font-size: 1.3rem;
            }

            .vehicle-tasks-header .stats {
                flex-direction: column;
                gap: 1rem;
            }

            .task-card {
                padding: 1rem;
            }

            .task-meta {
                grid-template-columns: 1fr;
            }

            .action-buttons {
                width: 100%;
            }

            .modern-btn {
                flex: 1;
                justify-content: center;
            }

            .filters-bar {
                flex-direction: column;
            }

            .modern-btn-primary,
            .modern-btn-filter {
                width: 100%;
            }
        }

        .fade-in {
            animation: fadeIn 0.5s ease;
        }

        @keyframes fadeIn {
            from {
                opacity: 0;
                transform: translateY(20px);
            }

            to {
                opacity: 1;
                transform: translateY(0);
            }
        }
    </style>
@endpush

@section('content')
    <div class="container-fluid px-4 py-4">

        {{-- HEADER KISMI --}}
        <div class="vehicle-tasks-header fade-in">
            <div class="header-content">
                <h4>
                    <div class="icon-wrapper"><i class="fas fa-car"></i></div>
                    <div>Ara Grevleri<small
                            style="display: block; font-size: 0.9rem; font-weight: 400; opacity: 0.9; margin-top: 0.25rem;">Ara
                            bazl grev ynetimi</small></div>
                </h4>
                <div class="stats">
                    <div class="stat-item"><strong>{{ $assignments->total() }}</strong>Toplam Grev</div>
                </div>
            </div>
        </div>

        @if (session('success'))
            <div class="alert alert-success alert-dismissible fade show fade-in" role="alert">
                <i class="fas fa-check-circle me-2"></i>{{ session('success') }}
                <button type="button" class="btn-close" data-bs-dismiss="alert"></button>
            </div>
        @endif
        @if (session('error'))
            <div class="alert alert-danger alert-dismissible fade show fade-in" role="alert">
                <i class="fas fa-exclamation-circle me-2"></i>{{ session('error') }}
                <button type="button" class="btn-close" data-bs-dismiss="alert"></button>
            </div>
        @endif

        {{-- FLTRELER --}}
        <div class="filters-bar fade-in" style="animation-delay: 0.1s;">
            <div class="d-flex gap-2">
                <a href="{{ route('service.assignments.create') }}" class="modern-btn modern-btn-primary">
                    <i class="fas fa-plus"></i>Yeni Grev Olutur
                </a>
                <a href="{{ route('service.assignments.export', ['type' => 'vehicle']) }}"
                    class="modern-btn modern-btn-export">
                    <i class="fas fa-file-excel"></i>Excel'e Aktar
                </a>
            </div>
            <button class="modern-btn modern-btn-filter" type="button" data-bs-toggle="collapse"
                data-bs-target="#filterCollapse" aria-expanded="false" aria-controls="filterCollapse">
                <i class="fas fa-filter"></i>Filtrele<i class="fas fa-chevron-down ms-1"></i>
            </button>
        </div>

        <div class="collapse" id="filterCollapse">
            <div class="filter-collapse fade-in">
                <form method="GET" action="{{ route('service.assignments.index') }}">
                    <div class="row g-3">
                        <div class="col-md-3">
                            <label for="vehicle_id" class="form-label"><i class="fas fa-car me-1"></i> Ara</label>
                            <select class="form-select" id="vehicle_id" name="vehicle_id">
                                <option value="">Tm</option>
                                <optgroup label="irket Aralar">
                                    @foreach ($vehicles->where('type', '!=', 'logistics')->whereInstanceOf(\App\Models\Vehicle::class) as $vehicle)
                                        <option value="{{ $vehicle->filter_key }}"
                                            {{ request('vehicle_id') == $vehicle->filter_key ? 'selected' : '' }}>
                                            {{ $vehicle->display_name }}</option>
                                    @endforeach
                                </optgroup>
                                <optgroup label="Nakliye Aralar">
                                    @foreach ($vehicles->whereInstanceOf(\App\Models\LogisticsVehicle::class) as $vehicle)
                                        <option value="{{ $vehicle->filter_key }}"
                                            {{ request('vehicle_id') == $vehicle->filter_key ? 'selected' : '' }}>
                                            {{ $vehicle->display_name }}</option>
                                    @endforeach
                                </optgroup>
                            </select>
                        </div>
                        <div class="col-md-4">
                            <label for="task_description" class="form-label"><i class="fas fa-search me-1"></i> Grev
                                Aklamas</label>
                            <input type="text" class="form-control" id="task_description" name="task_description"
                                value="{{ $filters['task_description'] ?? '' }}" placeholder="Grev aklamas girin...">
                        </div>
                        <div class="col-md-2">
                            <label for="date_from" class="form-label"><i class="fas fa-calendar-alt me-1"></i>
                                Balang</label>
                            <input type="date" class="form-control" id="date_from" name="date_from"
                                value="{{ $filters['date_from'] ?? '' }}">
                        </div>
                        <div class="col-md-2">
                            <label for="date_to" class="form-label"><i class="fas fa-calendar-check me-1"></i>
                                Biti</label>
                            <input type="date" class="form-control" id="date_to" name="date_to"
                                value="{{ $filters['date_to'] ?? '' }}">
                        </div>
                        <div class="col-md-1 d-flex align-items-end justify-content-end gap-2">
                            <a href="{{ route('service.assignments.index') }}" class="modern-btn modern-btn-clear"
                                title="Temizle"><i class="fas fa-times"></i></a>
                            <button type="submit" class="modern-btn modern-btn-apply" title="Filtrele"><i
                                    class="fas fa-check"></i></button>
                        </div>
                    </div>
                </form>
            </div>
        </div>

        {{-- LSTE KAPSAYICISI --}}
        <div class="modern-card fade-in" style="animation-delay: 0.2s;">
            @forelse($assignments as $index => $assignment)
                {{-- KART BALANGICI --}}
                <div class="task-card {{ $assignment->status == 'waiting_assignment' ? 'waiting-approval' : '' }}"
                    style="animation-delay: {{ 0.3 + $index * 0.05 }}s;">
                    <div class="task-header">
                        <h5 class="task-title">
                            @if ($assignment->status == 'waiting_assignment')
                                <span class="status-badge warning me-2"><i class="fas fa-clock"></i> Atama Bekliyor</span>
                            @else
                                <i class="fas fa-clipboard-list text-primary"></i>
                            @endif
                            {{ $assignment->task_description }}
                        </h5>
                        <div class="action-buttons">
                            @if (
                                $assignment->status == 'waiting_assignment' &&
                                    in_array(auth()->user()->role, ['mudur', 'mdr', 'admin', 'ynetici']))
                                <button type="button" class="modern-btn btn-assign" data-bs-toggle="modal"
                                    data-bs-target="#assignVehicleModal-{{ $assignment->id }}">
                                    <i class="fas fa-key"></i> Ara Ata
                                </button>
                            @endif

                            @if (!in_array(Auth::user()->role, ['izleyici']))
                                <a href="{{ route('service.assignments.edit', $assignment) }}"
                                    class="modern-btn modern-btn-edit"><i class="fas fa-edit"></i></a>
                                <form action="{{ route('service.assignments.destroy', $assignment) }}" method="POST"
                                    class="d-inline"
                                    onsubmit="return confirm('Bu ara grevini silmek istediinizden emin misiniz?');">
                                    @csrf @method('DELETE')
                                    <button type="submit" class="modern-btn modern-btn-delete"><i
                                            class="fas fa-trash"></i></button>
                                </form>
                            @endif
                        </div>
                    </div>

                    <div class="task-meta">
                        <div class="meta-item">
                            <div class="meta-icon"><i class="fas fa-user-cog"></i></div>
                            <div class="meta-content">
                                <div class="meta-label">Sorumlu Kii</div>
                                <div class="meta-value">{{ $assignment->responsible->name ?? 'Atanmam' }}</div>
                            </div>
                        </div>
                        <div class="meta-item">
                            <div class="meta-icon"><i class="fas fa-user-edit"></i></div>
                            <div class="meta-content">
                                <div class="meta-label">Talep Eden</div>
                                <div class="meta-value">{{ $assignment->createdBy->name ?? '-' }}</div>
                            </div>
                        </div>
                        <div class="meta-value">
                            {{-- DURUM 1: Ara Atanmsa --}}
                            @if ($assignment->vehicle)
                                <div class="meta-label">Atanan Ara</div>
                                @if ($assignment->vehicle instanceof \App\Models\LogisticsVehicle)
                                    {{-- Lojistik Arac --}}
                                    <span class="text-success fw-bold">
                                         {{ $assignment->vehicle->plate_number }}
                                    </span>
                                    <small class="text-muted">({{ $assignment->vehicle->brand }})</small>
                                @else
                                    {{-- irket Arac --}}
                                    <span class="text-primary fw-bold">
                                         {{ $assignment->vehicle->plate_number }}
                                    </span>
                                @endif

                                {{-- DURUM 2: Ara Henz Atanmamsa (Bekleme Durumu) --}}
                            @else
                                <span class="text-warning fw-bold" title="Ulatrma biriminden ara bekleniyor">
                                    <i class="fas fa-clock"></i> Ara Atamas Bekleniyor
                                </span>
                                {{-- stersen altna ufak bir not debilirsin: --}}
                                <div class="small text-muted fst-italic">Ulatrma onay bekleniyor</div>
                            @endif
                        </div>
                        <div class="meta-item">
                            <div class="meta-icon"><i class="fas fa-map-marker-alt"></i></div>
                            <div class="meta-content">
                                <div class="meta-label">Hedef</div>
                                <div class="meta-value">{{ $assignment->destination ?? '-' }}</div>
                            </div>
                        </div>
                        <div class="meta-item">
                            <div class="meta-icon"><i class="fas fa-clock"></i></div>
                            <div class="meta-content">
                                <div class="meta-label">Sefer Zaman</div>
                                <div class="meta-value">{{ $assignment->start_time->format('d.m.Y H:i') }}</div>
                            </div>
                        </div>
                        <div class="meta-item">
                            <div class="meta-icon"
                                style="{{ $assignment->files->count() > 0 ? 'background: rgba(79, 172, 254, 0.1); color: #4facfe;' : 'background: #f7fafc; color: #cbd5e0;' }}">
                                <i class="fas fa-paperclip"></i>
                            </div>
                            <div class="meta-content">
                                <div class="meta-label">Ekli Dosyalar</div>
                                <div class="meta-value allow-overflow">
                                    @if ($assignment->files->count() > 0)
                                        <div class="dropdown">
                                            <a href="#" class="text-decoration-none dropdown-toggle fw-bold"
                                                style="color: #4facfe;" data-bs-toggle="dropdown" aria-expanded="false">
                                                {{ $assignment->files->count() }} Dosya Grntle
                                            </a>
                                            <ul class="dropdown-menu shadow-lg border-0 p-2"
                                                style="border-radius: 12px; min-width: 250px; z-index: 1050;">
                                                <li class="dropdown-header fw-bold small py-1" style="color: #4facfe;">
                                                    DOSYALAR</li>
                                                <li>
                                                    <hr class="dropdown-divider my-1">
                                                </li>
                                                @foreach ($assignment->files as $file)
                                                    <li>
                                                        <a class="dropdown-item d-flex align-items-center justify-content-between rounded-2 py-2"
                                                            href="{{ route('files.download', $file->id) }}"
                                                            target="_blank">
                                                            <div class="d-flex align-items-center text-truncate me-2"
                                                                style="max-width: 150px;">
                                                                @if (Str::contains($file->mime_type, 'image'))
                                                                    <i
                                                                        class="fa-regular fa-file-image me-2 text-success"></i>
                                                                @elseif(Str::contains($file->mime_type, 'pdf'))
                                                                    <i class="fa-regular fa-file-pdf me-2 text-danger"></i>
                                                                @else
                                                                    <i class="fa-regular fa-file me-2 text-muted"></i>
                                                                @endif
                                                                <span
                                                                    class="text-truncate">{{ $file->original_name }}</span>
                                                            </div>
                                                            <i
                                                                class="fa-solid fa-download text-secondary small opacity-50"></i>
                                                        </a>
                                                    </li>
                                                @endforeach
                                            </ul>
                                        </div>
                                    @else
                                        <span class="text-muted" style="font-weight: 400; font-size: 0.9rem;">
                                            Dosya Yok
                                        </span>
                                    @endif
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
                {{-- KART BT --}}

            @empty
                <div class="empty-state">
                    <div class="empty-state-icon"><i class="fas fa-car"></i></div>
                    <h5>Henz Ara Grevi Bulunmuyor</h5>
                    <p>Yeni bir ara grevi oluturarak balayabilirsiniz.</p>
                    <a href="{{ route('service.assignments.create') }}" class="modern-btn modern-btn-primary"><i
                            class="fas fa-plus"></i> lk Grevi Olutur</a>
                </div>
            @endforelse

            @if ($assignments->isNotEmpty() && $assignments->hasPages())
                <div class="pagination-wrapper">{{ $assignments->appends($filters ?? [])->links() }}</div>
            @endif
        </div> {{-- MODERN CARD BURADA KAPANIYOR --}}

    </div> {{-- CONTAINER BURADA KAPANIYOR --}}

    {{-- ========================================================================= --}}
    {{-- MODALLAR BURADA: TM KAPTEYNLERN DIINDA --}}
    {{-- ========================================================================= --}}
    @foreach ($assignments as $assignment)
        @if (
            $assignment->status == 'waiting_assignment' &&
                in_array(auth()->user()->role, ['mudur', 'mdr', 'admin', 'ynetici']))
            {{-- AKILLI SAAT MANTII --}}
            @php
                $now = now();
                $todayMorning = $now->copy()->setTime(9, 30, 0);
                $todayAfternoon = $now->copy()->setTime(13, 30, 0);

                // Varsaylan Balang Saati Hesaplama
                if ($now->lt($todayMorning)) {
                    // Sabah 09:30'dan nceyse -> Bugn 09:30
    $suggestedStart = $todayMorning;
} elseif ($now->lt($todayAfternoon)) {
    // le 13:30'dan nceyse -> Bugn 13:30
                    $suggestedStart = $todayAfternoon;
                } else {
                    // 13:30'u getiyse -> Yarn sabah 09:30
                    $suggestedStart = $now->copy()->addDay()->setTime(9, 30, 0);

                    // Eer yarn Pazar ise Pazartesiye at (Opsiyonel Gelitirme)
                    if ($suggestedStart->isSunday()) {
                        $suggestedStart->addDay();
                    }
                }

                // Biti saati varsaylan 2 saat sonras
                $suggestedEnd = $suggestedStart->copy()->addHours(2);
            @endphp

            <div class="modal fade" id="assignVehicleModal-{{ $assignment->id }}" tabindex="-1" aria-hidden="true">
                <div class="modal-dialog modal-dialog-centered">
                    <form action="{{ route('service.assignments.assign', $assignment->id) }}" method="POST">
                        @csrf @method('PUT')
                        <div class="modal-content">
                            <div class="modal-header modal-header-custom p-4">
                                <div>
                                    <h5 class="modal-title fw-bold mb-1">Ara Atamas Yap</h5>
                                    <p class="mb-0 opacity-75 small">{{ $assignment->task_description }}</p>
                                </div>
                                <button type="button" class="btn-close btn-close-white"
                                    data-bs-dismiss="modal"></button>
                            </div>
                            <div class="modal-body p-4">
                                {{-- Ara Tipi Bilgisi --}}
                                <div class="alert alert-light border mb-4">
                                    <div class="d-flex align-items-center">
                                        <div class="h4 mb-0 me-3">
                                            {{ $assignment->vehicle_type == 'App\Models\LogisticsVehicle' ? '' : '' }}
                                        </div>
                                        <div>
                                            <small class="text-muted d-block">Talep Edilen Tr</small>
                                            <strong>{{ $assignment->vehicle_type == 'App\Models\LogisticsVehicle' ? 'Nakliye Arac' : 'irket Arac' }}</strong>
                                        </div>
                                    </div>
                                </div>

                                {{-- SEFER BLGS UYARISI --}}
                                <div class="alert alert-info border-info py-2 small">
                                    <i class="fas fa-info-circle me-1"></i>
                                    Sistem en yakn sefer saatini (09:30 / 13:30) otomatik seti.
                                </div>

                                <div class="mb-3">
                                    <label class="form-label fw-bold text-dark">Uygun Arac Sein</label>
                                    <select name="vehicle_id" class="form-select" required>
                                        <option value="">Seiniz...</option>
                                        @foreach ($vehicles as $vehicle)
                                            @if (
                                                ($assignment->vehicle_type == 'App\Models\Vehicle' && $vehicle instanceof App\Models\Vehicle) ||
                                                    ($assignment->vehicle_type == 'App\Models\LogisticsVehicle' && $vehicle instanceof App\Models\LogisticsVehicle))
                                                <option value="{{ $vehicle->id }}">{{ $vehicle->plate_number }} -
                                                    {{ $vehicle->display_name }}</option>
                                            @endif
                                        @endforeach
                                    </select>
                                </div>

                                <div class="row">
                                    <div class="col-12 mb-2">
                                        <div class="alert alert-light border py-2 px-3 small text-muted">
                                            <i class="fas fa-calendar-alt me-1"></i>
                                            Kullancnn talep ettii saatler aadadr. Deitirebilirsiniz.
                                        </div>
                                    </div>
                                    <div class="col-6 mb-3">
                                        <label class="form-label fw-bold text-dark">Balang</label>
                                        <input type="datetime-local" name="start_time" class="form-control"
                                            value="{{ $assignment->start_time->format('Y-m-d\TH:i') }}" required>
                                    </div>
                                    <div class="col-6 mb-3">
                                        <label class="form-label fw-bold text-dark">Biti</label>
                                        <input type="datetime-local" name="end_time" class="form-control"
                                            value="{{ $assignment->end_time->format('Y-m-d\TH:i') }}" required>
                                    </div>
                                </div>
                            </div>
                            <div class="modal-footer border-0 p-4 pt-0">
                                <button type="button" class="btn btn-light" data-bs-dismiss="modal">ptal</button>
                                <button type="submit" class="btn btn-primary px-4"> Atamay Tamamla</button>
                            </div>
                        </div>

                </div>
                </form>
            </div>
            </div>
        @endif
    @endforeach

    @push('scripts')
        <script>
            document.addEventListener('DOMContentLoaded', function() {
                var filterCollapse = document.getElementById('filterCollapse');
                var filterButton = document.querySelector('.modern-btn-filter');
                var filterIcon = filterButton?.querySelector('.fa-chevron-down');

                if (filterCollapse && filterIcon) {
                    filterCollapse.addEventListener('show.bs.collapse', function() {
                        filterIcon.classList.remove('fa-chevron-down');
                        filterIcon.classList.add('fa-chevron-up');
                    });
                    filterCollapse.addEventListener('hide.bs.collapse', function() {
                        filterIcon.classList.remove('fa-chevron-up');
                        filterIcon.classList.add('fa-chevron-down');
                    });
                }
            });
        </script>
    @endpush
@endsection


----------------------------------------
DOSYA YOLU: resources\views\service\assignments\my_assignments.blade.php
----------------------------------------

@extends('layouts.app')
@section('title', 'Bana Atanan Grevler')

@push('styles')
    <style>
        /* Mavi/Mor Tema - assigned_by_me ile ayn */
        .assigned-tasks-header {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            border-radius: 20px;
            padding: 2rem;
            margin-bottom: 2rem;
            box-shadow: 0 10px 30px rgba(102, 126, 234, 0.3);
            position: relative;
            overflow: hidden;
        }

        .assigned-tasks-header::before {
            content: '';
            position: absolute;
            top: -50%;
            right: -50%;
            width: 200%;
            height: 200%;
            background: radial-gradient(circle, rgba(255, 255, 255, 0.1) 0%, transparent 70%);
            animation: pulse 15s ease-in-out infinite;
        }

        @keyframes pulse {

            0%,
            100% {
                transform: scale(1);
                opacity: 0.5;
            }

            50% {
                transform: scale(1.1);
                opacity: 0.8;
            }
        }

        .assigned-tasks-header h4 {
            color: white;
            font-weight: 700;
            margin: 0;
            position: relative;
            z-index: 1;
            display: flex;
            align-items: center;
            gap: 1rem;
        }

        .assigned-tasks-header .icon-wrapper {
            width: 60px;
            height: 60px;
            background: rgba(255, 255, 255, 0.2);
            border-radius: 15px;
            display: flex;
            align-items: center;
            justify-content: center;
            backdrop-filter: blur(10px);
        }

        .assigned-tasks-header .icon-wrapper i {
            font-size: 1.8rem;
            color: white;
        }

        .assigned-tasks-header .header-content {
            position: relative;
            z-index: 1;
        }

        .assigned-tasks-header .stats {
            display: flex;
            gap: 2rem;
            margin-top: 1.5rem;
        }

        .assigned-tasks-header .stat-item {
            color: rgba(255, 255, 255, 0.95);
            font-size: 0.9rem;
        }

        .assigned-tasks-header .stat-item strong {
            display: block;
            font-size: 1.5rem;
            font-weight: 700;
            color: white;
        }

        /* Filtre Blm */
        .filter-section {
            background: white;
            border-radius: 16px;
            padding: 1.5rem;
            margin-bottom: 2rem;
            box-shadow: 0 2px 10px rgba(0, 0, 0, 0.06);
        }

        .filter-section .form-select {
            border: 2px solid #e2e8f0;
            border-radius: 10px;
            padding: 0.6rem 1rem;
            font-weight: 600;
            transition: all 0.3s ease;
        }

        .filter-section .form-select:focus {
            border-color: #667eea;
            box-shadow: 0 0 0 3px rgba(102, 126, 234, 0.1);
        }

        .filter-section .btn-outline-secondary {
            border: 2px solid #e2e8f0;
            border-radius: 10px;
            padding: 0.6rem 1rem;
            font-weight: 600;
            transition: all 0.3s ease;
        }

        .filter-section .btn-outline-secondary:hover {
            background: #f7fafc;
            border-color: #cbd5e0;
        }

        .modern-card {
            background: white;
            border-radius: 20px;
            box-shadow: 0 5px 20px rgba(0, 0, 0, 0.08);
            border: none;
            overflow: visible !important;
            transition: all 0.3s ease;
        }

        .task-card {
            background: white;
            border-radius: 16px;
            padding: 1.5rem;
            margin-bottom: 1rem;
            box-shadow: 0 2px 10px rgba(0, 0, 0, 0.06);
            transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
            border: 1px solid rgba(0, 0, 0, 0.05);
            position: relative;
            z-index: 1;
            overflow: visible !important;
        }

        /* Kartn solundaki erit rengi - Duruma gre dinamik */
        .task-card::before {
            content: '';
            position: absolute;
            left: 0;
            top: 0;
            bottom: 0;
            width: 4px;
            background: linear-gradient(135deg, #4facfe 0%, #00f2fe 100%);
            transform: scaleY(0);
            transition: transform 0.3s ease;
            border-top-left-radius: 16px;
            border-bottom-left-radius: 16px;
            z-index: 2;
        }

        .task-card.status-pending::before {
            background: linear-gradient(135deg, #ecc94b 0%, #f6ad55 100%);
        }

        .task-card.status-in_progress::before {
            background: linear-gradient(135deg, #4299e1 0%, #667eea 100%);
        }

        .task-card.status-completed::before {
            background: linear-gradient(135deg, #48bb78 0%, #38a169 100%);
        }

        .task-card.status-cancelled::before {
            background: linear-gradient(135deg, #e53e3e 0%, #c53030 100%);
        }

        .task-card:hover {
            box-shadow: 0 8px 25px rgba(0, 0, 0, 0.1);
            transform: translateY(-4px);
            border-color: rgba(102, 126, 234, 0.3);
            z-index: 100 !important;
        }

        .task-card:hover::before {
            transform: scaleY(1);
        }

        .task-header {
            display: flex;
            justify-content: space-between;
            align-items: start;
            margin-bottom: 1rem;
            gap: 1rem;
        }

        .task-title {
            font-size: 1.1rem;
            font-weight: 700;
            color: #2d3748;
            margin: 0;
            display: flex;
            align-items: center;
            gap: 0.5rem;
            flex: 1;
        }

        .task-title i {
            color: #667eea;
            font-size: 1rem;
        }

        /* Grev Tr Badge */
        .task-type-badge {
            display: inline-flex;
            align-items: center;
            gap: 0.5rem;
            padding: 0.4rem 0.9rem;
            border-radius: 8px;
            font-size: 0.85rem;
            font-weight: 600;
            margin-bottom: 0.5rem;
        }

        .task-type-badge.vehicle {
            background: linear-gradient(135deg, #667eea15 0%, #764ba215 100%);
            color: #667eea;
        }

        .task-type-badge.general {
            background: linear-gradient(135deg, #e2e8f015 0%, #cbd5e015 100%);
            color: #718096;
        }

        .task-meta {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: 1rem;
            margin-top: 1rem;
            padding-top: 1rem;
            border-top: 1px solid rgba(0, 0, 0, 0.06);
        }

        .meta-item {
            display: flex;
            align-items: center;
            gap: 0.75rem;
        }

        .meta-icon {
            width: 40px;
            height: 40px;
            background: linear-gradient(135deg, #667eea15 0%, #764ba215 100%);
            border-radius: 10px;
            display: flex;
            align-items: center;
            justify-content: center;
            color: #667eea;
            font-size: 1rem;
            flex-shrink: 0;
        }

        .meta-content {
            flex: 1;
            min-width: 0;
        }

        .meta-label {
            font-size: 0.75rem;
            color: #718096;
            text-transform: uppercase;
            letter-spacing: 0.5px;
            font-weight: 600;
            margin-bottom: 0.25rem;
        }

        .meta-value {
            font-size: 0.95rem;
            color: #2d3748;
            font-weight: 600;
            white-space: nowrap;
            overflow: hidden;
            text-overflow: ellipsis;
        }

        .status-badge {
            padding: 0.5rem 1rem;
            border-radius: 50px;
            font-size: 0.85rem;
            font-weight: 600;
            letter-spacing: 0.3px;
            display: inline-flex;
            align-items: center;
            gap: 0.5rem;
        }

        .status-badge::before {
            content: '';
            width: 8px;
            height: 8px;
            border-radius: 50%;
            background: currentColor;
            animation: pulse-dot 2s ease-in-out infinite;
        }

        @keyframes pulse-dot {

            0%,
            100% {
                opacity: 1;
            }

            50% {
                opacity: 0.5;
            }
        }

        .status-badge.bg-warning {
            background: linear-gradient(135deg, #ecc94b 0%, #f6ad55 100%);
            color: #7c4a03;
        }

        .status-badge.bg-primary {
            background: linear-gradient(135deg, #4299e1 0%, #667eea 100%);
            color: white;
        }

        .status-badge.bg-success {
            background: linear-gradient(135deg, #48bb78 0%, #38a169 100%);
            color: white;
        }

        .status-badge.bg-danger {
            background: linear-gradient(135deg, #e53e3e 0%, #c53030 100%);
            color: white;
        }

        .status-badge.bg-info {
            background: linear-gradient(135deg, #4299e1 0%, #3182ce 100%);
            color: white;
        }

        .action-buttons {
            display: flex;
            gap: 0.5rem;
            flex-wrap: wrap;
        }

        .modern-btn {
            padding: 0.5rem 1rem;
            border-radius: 10px;
            border: none;
            font-weight: 600;
            font-size: 0.9rem;
            transition: all 0.3s ease;
            display: inline-flex;
            align-items: center;
            gap: 0.5rem;
            cursor: pointer;
            text-decoration: none;
        }

        .modern-btn-view {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
        }

        .modern-btn-view:hover {
            background: linear-gradient(135deg, #764ba2 0%, #667eea 100%);
            transform: translateY(-2px);
            box-shadow: 0 4px 12px rgba(102, 126, 234, 0.4);
            color: white;
        }

        .modern-btn-edit {
            background: linear-gradient(135deg, #4299e1 0%, #3182ce 100%);
            color: white;
        }

        .modern-btn-edit:hover {
            background: linear-gradient(135deg, #3182ce 0%, #2c5282 100%);
            transform: translateY(-2px);
            box-shadow: 0 4px 12px rgba(66, 153, 225, 0.4);
            color: white;
        }

        .creator-badge {
            display: inline-flex;
            align-items: center;
            gap: 0.5rem;
            padding: 0.4rem 0.8rem;
            background: linear-gradient(135deg, #e0e7ff 0%, #c7d2fe 100%);
            border-radius: 8px;
            font-size: 0.85rem;
            font-weight: 600;
            color: #4338ca;
        }

        .creator-badge i {
            font-size: 0.8rem;
        }

        .vehicle-badge {
            display: inline-flex;
            align-items: center;
            gap: 0.5rem;
            padding: 0.4rem 0.8rem;
            background: linear-gradient(135deg, #e0e7ff 0%, #c7d2fe 100%);
            border-radius: 8px;
            font-size: 0.85rem;
            font-weight: 600;
            color: #4338ca;
        }

        .vehicle-badge i {
            font-size: 0.8rem;
        }

        .empty-state {
            text-align: center;
            padding: 4rem 2rem;
        }

        .empty-state-icon {
            width: 120px;
            height: 120px;
            background: linear-gradient(135deg, #667eea15 0%, #764ba215 100%);
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            margin: 0 auto 1.5rem;
        }

        .empty-state-icon i {
            font-size: 3rem;
            color: #667eea;
        }

        .empty-state h5 {
            color: #2d3748;
            font-weight: 700;
            margin-bottom: 0.5rem;
        }

        .empty-state p {
            color: #718096;
            margin-bottom: 1.5rem;
        }

        .empty-state .btn {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
            border: none;
            padding: 0.6rem 1.5rem;
            border-radius: 10px;
            font-weight: 600;
            transition: all 0.3s ease;
        }

        .empty-state .btn:hover {
            transform: translateY(-2px);
            box-shadow: 0 4px 12px rgba(102, 126, 234, 0.4);
        }

        .pagination-wrapper {
            padding: 1.5rem;
            display: flex;
            justify-content: center;
        }

        .fade-in {
            animation: fadeIn 0.5s ease;
        }

        @keyframes fadeIn {
            from {
                opacity: 0;
                transform: translateY(20px);
            }

            to {
                opacity: 1;
                transform: translateY(0);
            }
        }

        @media (max-width: 768px) {
            .assigned-tasks-header {
                padding: 1.5rem;
            }

            .assigned-tasks-header h4 {
                font-size: 1.3rem;
            }

            .assigned-tasks-header .stats {
                flex-direction: column;
                gap: 1rem;
            }

            .task-card {
                padding: 1rem;
            }

            .task-header {
                flex-direction: column;
            }

            .task-meta {
                grid-template-columns: 1fr;
            }

            .action-buttons {
                width: 100%;
            }

            .modern-btn {
                flex: 1;
                justify-content: center;
            }

            .filter-section {
                padding: 1rem;
            }
        }
    </style>
@endpush

@section('content')
    <div class="container-fluid px-4 py-4">
        <div class="assigned-tasks-header fade-in">
            <div class="header-content">
                <h4>
                    <div class="icon-wrapper">
                        <i class="fas fa-user-check"></i>
                    </div>
                    <div>
                        Bana Atanan Grevler
                        <small
                            style="display: block; font-size: 0.9rem; font-weight: 400; opacity: 0.9; margin-top: 0.25rem;">
                            Sorumluluunuzdaki tm aral ve genel grevler
                        </small>
                    </div>
                </h4>
                <div class="stats">
                    <div class="stat-item">
                        <strong>{{ $tasks->total() }}</strong>
                        Toplam Grev
                    </div>
                </div>
            </div>
        </div>

        {{-- Filtre Blm --}}
        <div class="filter-section fade-in" style="animation-delay: 0.1s;">
            <form method="GET" class="d-flex gap-2 align-items-center flex-wrap">
                <div class="d-flex align-items-center gap-2">
                    <label for="status-filter" class="text-muted fw-semibold mb-0" style="white-space: nowrap;">
                        <i class="fas fa-filter me-1"></i> Durum Filtresi:
                    </label>
                    <select name="status" id="status-filter" class="form-select form-select-sm"
                        onchange="this.form.submit()" style="min-width: 180px;">
                        <option value="">Tm Durumlar</option>
                        <option value="pending" {{ request('status') == 'pending' ? 'selected' : '' }}>Bekleyenler</option>
                        <option value="in_progress" {{ request('status') == 'in_progress' ? 'selected' : '' }}>Devam Edenler
                        </option>
                        <option value="completed" {{ request('status') == 'completed' ? 'selected' : '' }}>Tamamlananlar
                        </option>
                    </select>
                </div>

                @if (request()->has('status') || request()->has('type'))
                    <a href="{{ route('my-assignments.index') }}" class="btn btn-sm btn-outline-secondary"
                        title="Filtreleri Temizle">
                        <i class="fa-solid fa-times me-1"></i> Temizle
                    </a>
                @endif
            </form>
        </div>

        <div class="modern-card fade-in" style="animation-delay: 0.2s;">
            @forelse($tasks as $index => $task)
                @php
                    $statusClass = match ($task->status) {
                        'completed' => 'status-completed',
                        'in_progress' => 'status-in_progress',
                        'cancelled' => 'status-cancelled',
                        default => 'status-pending',
                    };
                @endphp

                <div class="task-card {{ $statusClass }}" style="animation-delay: {{ 0.3 + $index * 0.05 }}s;">
                    <div class="task-header">
                        <div style="flex: 1;">
                            {{-- Grev Tr Badge --}}
                            @if ($task->assignment_type === 'vehicle')
                                <span class="task-type-badge vehicle">
                                    <i class="fa-solid fa-car"></i> Ara Grevi
                                </span>
                            @else
                                <span class="task-type-badge general">
                                    <i class="fa-solid fa-clipboard-check"></i> Genel Grev
                                </span>
                            @endif

                            {{-- Balk --}}
                            <h5 class="task-title">
                                <i class="fas fa-clipboard-check"></i>
                                {{ $task->title }}
                            </h5>

                            {{-- Aklama --}}
                            @if ($task->task_description)
                                <p class="text-muted mb-0 mt-2" style="font-size: 0.9rem;">
                                    {{ Str::limit($task->task_description, 100) }}
                                </p>
                            @endif
                        </div>

                        <div class="action-buttons">
                            <a href="{{ route('service.assignments.show', $task->id) }}" class="modern-btn modern-btn-view">
                                <i class="fas fa-eye"></i>
                                Detay
                            </a>
                            @if (!in_array($task->status, ['completed', 'cancelled']))
                                <a href="{{ route('service.assignments.edit', $task->id) }}"
                                    class="modern-btn modern-btn-edit">
                                    <i class="fas fa-pen-to-square"></i>
                                    Gncelle
                                </a>
                            @endif
                        </div>
                    </div>

                    <div class="task-meta">
                        <div class="meta-item">
                            <div class="meta-icon">
                                <i class="fas fa-clock"></i>
                            </div>
                            <div class="meta-content">
                                <div class="meta-label">Balang Zaman</div>
                                <div class="meta-value">{{ $task->start_time->format('d.m.Y H:i') }}</div>
                                <small class="text-muted" style="font-size: 0.8rem;">
                                    <i class="far fa-clock me-1"></i>{{ $task->start_time->diffForHumans() }}
                                </small>
                            </div>
                        </div>

                        <div class="meta-item">
                            <div class="meta-icon">
                                <i class="fas fa-info-circle"></i>
                            </div>
                            <div class="meta-content">
                                <div class="meta-label">Durum</div>
                                <div class="meta-value">
                                    @if ($task->status == 'pending')
                                        <span class="status-badge bg-warning">
                                            <i class="fas fa-clock"></i> Bekliyor
                                        </span>
                                    @elseif($task->status == 'in_progress')
                                        <span class="status-badge bg-primary">
                                            <i class="fas fa-spinner fa-spin"></i> Devam Ediyor
                                        </span>
                                    @elseif($task->status == 'completed')
                                        <span class="status-badge bg-success">
                                            <i class="fas fa-check-circle"></i> Tamamland
                                        </span>
                                    @elseif($task->status == 'waiting_assignment')
                                        <span class="status-badge bg-info">
                                            <i class="fas fa-hourglass-half"></i> Atama Bekliyor
                                        </span>
                                    @else
                                        <span class="status-badge bg-danger">
                                            {{ ucfirst($task->status) }}
                                        </span>
                                    @endif
                                </div>
                            </div>
                        </div>

                        @if ($task->vehicle)
                            <div class="meta-item">
                                <div class="meta-icon">
                                    <i class="fas fa-car"></i>
                                </div>
                                <div class="meta-content">
                                    <div class="meta-label">Ara</div>
                                    <div class="meta-value">
                                        <div class="vehicle-badge">
                                            <i class="fas fa-car"></i>
                                            {{ $task->vehicle->plate_number }}
                                        </div>
                                        @if ($task->vehicle->brand_model)
                                            <small class="text-muted d-block mt-1" style="font-size: 0.8rem;">
                                                {{ $task->vehicle->brand_model }}
                                            </small>
                                        @endif
                                    </div>
                                </div>
                            </div>
                        @endif

                        <div class="meta-item">
                            <div class="meta-icon">
                                <i class="fas fa-user-circle"></i>
                            </div>
                            <div class="meta-content">
                                <div class="meta-label">Atayan Kii</div>
                                <div class="meta-value">
                                    <div class="creator-badge">
                                        <i class="fas fa-user"></i>
                                        {{ $task->createdBy->name ?? 'Sistem' }}
                                    </div>
                                </div>
                            </div>
                        </div>
                        <div class="meta-item">
                            <div class="meta-icon"
                                style="{{ $task->files->count() > 0 ? 'background: rgba(79, 172, 254, 0.1); color: #4facfe;' : 'background: #f7fafc; color: #cbd5e0;' }}">
                                <i class="fas fa-paperclip"></i>
                            </div>
                            <div class="meta-content">
                                <div class="meta-label">Ekli Dosyalar</div>
                                <div class="meta-value allow-overflow">
                                    @if ($task->files->count() > 0)
                                        <div class="dropdown">
                                            <a href="#" class="text-decoration-none dropdown-toggle fw-bold"
                                                style="color: #4facfe;" data-bs-toggle="dropdown" aria-expanded="false">
                                                {{ $task->files->count() }} Dosya Grntle
                                            </a>
                                            <ul class="dropdown-menu shadow-lg border-0 p-2"
                                                style="border-radius: 12px; min-width: 250px; z-index: 1050;">
                                                <li class="dropdown-header fw-bold small py-1" style="color: #4facfe;">
                                                    DOSYALAR</li>
                                                <li>
                                                    <hr class="dropdown-divider my-1">
                                                </li>
                                                @foreach ($task->files as $file)
                                                    <li>
                                                        <a class="dropdown-item d-flex align-items-center justify-content-between rounded-2 py-2"
                                                            href="{{ route('files.download', $file->id) }}"
                                                            target="_blank">
                                                            <div class="d-flex align-items-center text-truncate me-2"
                                                                style="max-width: 150px;">
                                                                @if (Str::contains($file->mime_type, 'image'))
                                                                    <i
                                                                        class="fa-regular fa-file-image me-2 text-success"></i>
                                                                @elseif(Str::contains($file->mime_type, 'pdf'))
                                                                    <i class="fa-regular fa-file-pdf me-2 text-danger"></i>
                                                                @else
                                                                    <i class="fa-regular fa-file me-2 text-muted"></i>
                                                                @endif
                                                                <span
                                                                    class="text-truncate">{{ $file->original_name }}</span>
                                                            </div>
                                                            <i
                                                                class="fa-solid fa-download text-secondary small opacity-50"></i>
                                                        </a>
                                                    </li>
                                                @endforeach
                                            </ul>
                                        </div>
                                    @else
                                        <span class="text-muted" style="font-weight: 400; font-size: 0.9rem;">
                                            Dosya Yok
                                        </span>
                                    @endif
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            @empty
                <div class="empty-state">
                    <div class="empty-state-icon">
                        <i class="fas fa-mug-hot"></i>
                    </div>
                    <h5>Harika! ler Yolunda.</h5>
                    <p>u anda size atanm bekleyen veya aktif bir grev bulunmuyor.</p>
                    <a href="{{ route('welcome') }}" class="btn">
                        <i class="fas fa-home me-2"></i>Ana Sayfaya Dn
                    </a>
                </div>
            @endforelse

            @if ($tasks->isNotEmpty() && $tasks->hasPages())
                <div class="pagination-wrapper">
                    {{ $tasks->links() }}
                </div>
            @endif
        </div>
    </div>
@endsection


----------------------------------------
DOSYA YOLU: resources\views\service\assignments\show.blade.php
----------------------------------------

@extends('layouts.app')

@section('title', 'Grev Detaylar: ' . $assignment->title)

@push('styles')
    <style>
        /* Ana ierik alanna animasyonlu arka plan */
        #app>main.py-4 {
            padding: 2.5rem 0 !important;
            min-height: calc(100vh - 72px);
            background: linear-gradient(-45deg, #667eea, #764ba2, #f093fb, #4facfe);
            background-size: 400% 400%;
            animation: gradientShift 15s ease infinite;
            position: relative;
            overflow: hidden;
        }

        @keyframes gradientShift {
            0% {
                background-position: 0% 50%;
            }

            50% {
                background-position: 100% 50%;
            }

            100% {
                background-position: 0% 50%;
            }
        }

        /* Yzen parack efekti */
        #app>main.py-4::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background-image:
                radial-gradient(circle at 20% 50%, rgba(255, 255, 255, 0.1) 0%, transparent 50%),
                radial-gradient(circle at 80% 80%, rgba(255, 255, 255, 0.08) 0%, transparent 50%),
                radial-gradient(circle at 40% 20%, rgba(255, 255, 255, 0.06) 0%, transparent 50%);
            animation: floatingParticles 20s ease-in-out infinite;
            pointer-events: none;
        }

        @keyframes floatingParticles {

            0%,
            100% {
                transform: translate(0, 0);
            }

            33% {
                transform: translate(30px, -30px);
            }

            66% {
                transform: translate(-20px, 20px);
            }
        }

        /* Balk Blm */
        .page-header {
            background: rgba(255, 255, 255, 0.15);
            backdrop-filter: blur(20px) saturate(180%);
            border-radius: 20px;
            border: 1px solid rgba(255, 255, 255, 0.3);
            padding: 1.75rem 2rem;
            margin-bottom: 2rem;
            box-shadow: 0 10px 40px rgba(0, 0, 0, 0.1);
            animation: slideInFromTop 0.6s cubic-bezier(0.34, 1.56, 0.64, 1);
        }

        @keyframes slideInFromTop {
            from {
                opacity: 0;
                transform: translateY(-30px);
            }

            to {
                opacity: 1;
                transform: translateY(0);
            }
        }

        .page-header h1 {
            color: white;
            font-weight: 700;
            font-size: 1.75rem;
            margin: 0;
            text-shadow: 0 2px 10px rgba(0, 0, 0, 0.2);
        }

        .page-header .btn-back {
            background: rgba(255, 255, 255, 0.95);
            color: #1a202c;
            border: none;
            font-weight: 600;
            padding: 0.625rem 1.25rem;
            border-radius: 12px;
            transition: all 0.3s ease;
            box-shadow: 0 4px 15px rgba(0, 0, 0, 0.1);
        }

        .page-header .btn-back:hover {
            background: white;
            transform: translateY(-2px);
            box-shadow: 0 6px 20px rgba(0, 0, 0, 0.15);
            color: #1a202c;
        }

        /* Ana Detay Kart */
        .detail-card {
            background: rgba(255, 255, 255, 0.15);
            backdrop-filter: blur(20px) saturate(180%);
            border-radius: 24px;
            border: 1px solid rgba(255, 255, 255, 0.3);
            box-shadow: 0 20px 60px rgba(0, 0, 0, 0.15);
            overflow: hidden;
            animation: cardSlideIn 0.7s cubic-bezier(0.34, 1.56, 0.64, 1);
        }

        @keyframes cardSlideIn {
            from {
                opacity: 0;
                transform: translateY(30px) scale(0.95);
            }

            to {
                opacity: 1;
                transform: translateY(0) scale(1);
            }
        }

        /* Kart Bal */
        .detail-card .card-header {
            background: linear-gradient(135deg, rgba(255, 255, 255, 0.95), rgba(255, 255, 255, 0.9));
            backdrop-filter: blur(10px);
            color: #1a202c;
            font-weight: 700;
            font-size: 1.5rem;
            border-bottom: 1px solid rgba(0, 0, 0, 0.1);
            padding: 1.75rem 2rem;
        }

        .detail-card .card-header .badge {
            font-size: 0.875rem;
            padding: 0.5rem 1rem;
            border-radius: 10px;
            font-weight: 600;
            box-shadow: 0 4px 10px rgba(0, 0, 0, 0.15);
        }

        /* Kart erii */
        .detail-card .card-body {
            background: rgba(255, 255, 255, 0.95);
            padding: 2.5rem;
        }

        /* Bilgi Kutular */
        .info-box {
            background: linear-gradient(135deg, rgba(102, 126, 234, 0.1), rgba(118, 75, 162, 0.1));
            border-radius: 16px;
            padding: 1.5rem;
            margin-bottom: 1.5rem;
            border: 1px solid rgba(102, 126, 234, 0.2);
            transition: all 0.3s ease;
        }

        .info-box:hover {
            transform: translateY(-3px);
            box-shadow: 0 8px 25px rgba(102, 126, 234, 0.2);
        }

        .info-box .info-label {
            font-size: 0.875rem;
            font-weight: 700;
            color: #667eea;
            text-transform: uppercase;
            letter-spacing: 0.5px;
            margin-bottom: 0.5rem;
            display: flex;
            align-items: center;
            gap: 0.5rem;
        }

        .info-box .info-value {
            font-size: 1.25rem;
            font-weight: 600;
            color: #1a202c;
            margin: 0;
        }

        /* Aklama Kutular */
        .description-box {
            background: linear-gradient(135deg, rgba(67, 233, 123, 0.08), rgba(56, 249, 215, 0.08));
            border-radius: 16px;
            padding: 1.5rem;
            margin-bottom: 1.5rem;
            border-left: 4px solid #43e97b;
            transition: all 0.3s ease;
        }

        .description-box:hover {
            box-shadow: 0 6px 20px rgba(67, 233, 123, 0.15);
        }

        .description-box h6 {
            font-weight: 700;
            color: #43e97b;
            font-size: 1.125rem;
            margin-bottom: 1rem;
            display: flex;
            align-items: center;
            gap: 0.5rem;
        }

        .description-box p {
            color: #1a202c;
            font-weight: 500;
            line-height: 1.6;
            margin: 0;
        }

        /* Lojistik Blm */
        .logistics-section {
            background: linear-gradient(135deg, rgba(240, 147, 251, 0.1), rgba(245, 87, 108, 0.1));
            border-radius: 20px;
            padding: 2rem;
            margin-top: 2rem;
            border: 2px solid rgba(245, 87, 108, 0.3);
        }

        .logistics-section h5 {
            color: #f5576c;
            font-weight: 700;
            font-size: 1.5rem;
            margin-bottom: 1.5rem;
            display: flex;
            align-items: center;
            gap: 0.75rem;
        }

        .logistics-table {
            background: white;
            border-radius: 12px;
            overflow: hidden;
            box-shadow: 0 4px 15px rgba(0, 0, 0, 0.08);
        }

        .logistics-table thead th {
            background: linear-gradient(135deg, #f093fb, #f5576c);
            color: white;
            font-weight: 700;
            text-transform: uppercase;
            font-size: 0.875rem;
            letter-spacing: 0.5px;
            padding: 1rem;
            border: none;
        }

        .logistics-table tbody tr {
            transition: all 0.3s ease;
        }

        .logistics-table tbody tr:hover {
            background: rgba(240, 147, 251, 0.05);
        }

        .logistics-table tbody td {
            padding: 1rem;
            color: #1a202c;
            font-weight: 500;
            border-bottom: 1px solid rgba(0, 0, 0, 0.05);
        }

        .logistics-table tbody td:first-child {
            font-weight: 700;
            color: #667eea;
        }

        /* Uyar Kutusu */
        .alert-custom {
            background: linear-gradient(135deg, rgba(255, 195, 113, 0.15), rgba(251, 200, 212, 0.15));
            border: 2px solid rgba(255, 195, 113, 0.4);
            border-radius: 12px;
            padding: 1.25rem;
            color: #7c4a03;
            font-weight: 600;
            margin-top: 1.5rem;
        }

        /* Alt Bilgi */
        .card-footer-info {
            background: rgba(102, 126, 234, 0.05);
            padding: 1.25rem 2rem;
            border-top: 1px solid rgba(0, 0, 0, 0.05);
            display: flex;
            justify-content: space-between;
            flex-wrap: wrap;
            gap: 1rem;
        }

        .card-footer-info span {
            color: #667eea;
            font-weight: 600;
            font-size: 0.875rem;
        }

        /* lem Butonlar */
        .action-footer {
            background: linear-gradient(135deg, rgba(255, 255, 255, 0.95), rgba(255, 255, 255, 0.9));
            padding: 1.5rem 2rem;
            border-top: 1px solid rgba(0, 0, 0, 0.1);
        }

        .btn-edit {
            background: linear-gradient(135deg, #ffa726, #fb8c00);
            border: none;
            color: white;
            font-weight: 700;
            padding: 0.875rem 2rem;
            border-radius: 12px;
            box-shadow: 0 8px 20px rgba(255, 167, 38, 0.4);
            transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
            position: relative;
            overflow: hidden;
        }

        .btn-edit::before {
            content: '';
            position: absolute;
            top: 0;
            left: -100%;
            width: 100%;
            height: 100%;
            background: linear-gradient(90deg, transparent, rgba(255, 255, 255, 0.3), transparent);
            transition: left 0.5s;
        }

        .btn-edit:hover::before {
            left: 100%;
        }

        .btn-edit:hover {
            transform: translateY(-3px) scale(1.02);
            box-shadow: 0 12px 30px rgba(255, 167, 38, 0.5);
        }

        /* Responsive */
        @media (max-width: 768px) {
            .page-header {
                padding: 1.25rem 1.5rem;
            }

            .page-header h1 {
                font-size: 1.5rem;
            }

            .detail-card .card-body {
                padding: 1.5rem;
            }

            .info-box {
                padding: 1.25rem;
            }

            .logistics-section {
                padding: 1.5rem;
            }

            .card-footer-info {
                flex-direction: column;
                gap: 0.5rem;
            }
        }

        /* Animasyon gecikmeleri */
        .info-box:nth-child(1) {
            animation: fadeInUp 0.6s ease 0.1s both;
        }

        .info-box:nth-child(2) {
            animation: fadeInUp 0.6s ease 0.2s both;
        }

        .info-box:nth-child(3) {
            animation: fadeInUp 0.6s ease 0.3s both;
        }

        .info-box:nth-child(4) {
            animation: fadeInUp 0.6s ease 0.4s both;
        }

        .info-box:nth-child(5) {
            animation: fadeInUp 0.6s ease 0.5s both;
        }

        .info-box:nth-child(6) {
            animation: fadeInUp 0.6s ease 0.6s both;
        }

        @keyframes fadeInUp {
            from {
                opacity: 0;
                transform: translateY(20px);
            }

            to {
                opacity: 1;
                transform: translateY(0);
            }
        }
    </style>
@endpush

@section('content')
    <div class="container">
        <div class="row justify-content-center">
            <div class="col-md-10 col-lg-9">

                {{-- BALIK VE GER DN BUTONU --}}
                <div class="page-header">
                    <div class="d-flex justify-content-between align-items-center flex-wrap gap-3">
                        <h1 style="color: #1a202c">
                            <i class="fas fa-file-invoice me-2"></i> Grev Detaylar
                        </h1>
                        <a href="{{ route('my-assignments.index') }}" class="btn btn-back">
                            <i class="fas fa-arrow-left me-2"></i> Grevlerime Geri Dn
                        </a>
                    </div>
                </div>

                {{-- ANA DETAY KARTI --}}
                <div class="card detail-card">
                    <div class="card-header">
                        <div class="d-flex justify-content-between align-items-center flex-wrap gap-2">
                            <span>{{ $assignment->title }}</span>
                            <span class="badge bg-primary">{{ $assignment->getStatusNameAttribute() }}</span>
                        </div>
                    </div>

                    <div class="card-body">

                        {{-- TEMEL GREV BLGLER --}}
                        <div class="row">
                            {{-- 1. Atanan Ara --}}
                            <div class="col-md-6">
                                <div class="info-box">
                                    <div class="info-label">
                                        <i class="fas fa-car"></i> Atanan Ara
                                    </div>
                                    <p class="info-value">
                                        {{ $assignment->vehicle->plate_number ?? 'Ara Yok' }}
                                        <small
                                            class="text-muted">({{ $assignment->vehicle->type ?? 'Arasz Grev' }})</small>
                                    </p>
                                </div>
                            </div>

                            {{-- 2. Sorumlu --}}
                            <div class="col-md-6">
                                <div class="info-box">
                                    <div class="info-label">
                                        @php
                                            $responsibleName = $assignment->responsible->name ?? 'Bilinmiyor';
                                            $responsibleType =
                                                $assignment->responsible_type === App\Models\User::class
                                                    ? 'Kii'
                                                    : 'Takm';
                                        @endphp
                                        <i class="fas fa-{{ $responsibleType === 'Kii' ? 'user' : 'users' }}"></i>
                                        Sorumlu
                                    </div>
                                    <p class="info-value">
                                        {{ $responsibleName }}
                                        <small class="text-muted">({{ $responsibleType }})</small>
                                    </p>
                                </div>
                            </div>

                            {{-- 3. Sefer Zaman --}}
                            <div class="col-md-6">
                                <div class="info-box">
                                    <div class="info-label">
                                        <i class="fas fa-clock"></i> Sefer Zaman
                                    </div>
                                    <p class="info-value">
                                        {{ $assignment->start_time->format('d.m.Y H:i') }} -
                                        {{ $assignment->end_time->format('H:i') }}
                                    </p>
                                </div>
                            </div>

                            {{-- 4. Yer / Hedef --}}
                            <div class="col-md-6">
                                <div class="info-box">
                                    <div class="info-label">
                                        <i class="fas fa-map-marker-alt"></i> Yer / Hedef
                                    </div>
                                    <p class="info-value">{{ $assignment->destination ?? 'Belirtilmedi' }}</p>
                                </div>
                            </div>

                            {{-- 5. Oluturan (YEN EKLEND) --}}
                            <div class="col-md-6">
                                <div class="info-box">
                                    <div class="info-label">
                                        <i class="fas fa-user-circle"></i> Oluturan
                                    </div>
                                    <p class="info-value">
                                        {{ $assignment->createdBy->name ?? 'Bilinmiyor' }}
                                    </p>
                                </div>
                            </div>

                            {{-- 6. Oluturulma Tarihi (YEN EKLEND) --}}
                            <div class="col-md-6">
                                <div class="info-box">
                                    <div class="info-label">
                                        <i class="fas fa-calendar-alt"></i> Oluturulma Tarihi
                                    </div>
                                    <p class="info-value">
                                        {{ $assignment->created_at->format('d.m.Y') }}
                                        <small class="text-muted">{{ $assignment->created_at->format('H:i') }}</small>
                                    </p>
                                </div>
                            </div>
                        </div>

                        {{-- AIKLAMA VE NOTLAR --}}
                        <div class="description-box">
                            <h6>
                                <i class="fas fa-clipboard-list"></i> Grev Aklamas
                            </h6>
                            <p>{{ $assignment->task_description }}</p>
                        </div>

                        <div class="description-box">
                            <h6>
                                <i class="fas fa-sticky-note"></i> Ek Notlar
                            </h6>
                            <p>{{ $assignment->notes ?? 'Ek not bulunmuyor.' }}</p>
                        </div>
                    </div>
                </div>

                {{-- NAKLYE (LOJSTK) DETAYLARI --}}
                @if ($assignment->isLogistics())
                    <div class="logistics-section">
                        <h5>
                            <i class="fas fa-truck"></i> Nakliye / Lojistik Kaytlar
                        </h5>

                        <div class="table-responsive">
                            <table class="table logistics-table mb-0">
                                <thead>
                                    <tr>
                                        <th>Detay</th>
                                        <th>Balang Deeri</th>
                                        <th>Biti Deeri</th>
                                    </tr>
                                </thead>
                                <tbody>
                                    <tr>
                                        <td>Kilometre (KM)</td>
                                        <td>{{ $assignment->start_km ?? '-' }}</td>
                                        <td>{{ $assignment->end_km ?? 'Bekleniyor' }}</td>
                                    </tr>
                                    <tr>
                                        <td>Yakt Durumu</td>
                                        <td>{{ $assignment->start_fuel_level ?? '-' }}</td>
                                        <td>{{ $assignment->end_fuel_level ?? 'Bekleniyor' }}</td>
                                    </tr>
                                    @if ($assignment->fuel_cost)
                                        <tr>
                                            <td colspan="2">Yakt Maliyeti</td>
                                            <td class="fw-bold">{{ number_format($assignment->fuel_cost, 2) }} TL
                                            </td>
                                        </tr>
                                    @endif
                                </tbody>
                            </table>
                        </div>

                        @if ($assignment->status !== 'completed')
                            <div class="alert-custom">
                                <i class="fas fa-exclamation-triangle me-2"></i>
                                Grevi tamamlamak iin <strong>Biti KM</strong> ve <strong>Yakt
                                    Maliyeti</strong> alanlarn doldurmanz gerekebilir.
                            </div>
                        @endif
                    </div>
                @endif

                {{-- DOSYALAR --}}
                @if ($assignment->files && $assignment->files->count() > 0)
                    <div class="mt-5 pt-4 border-top">
                        <div class="d-flex align-items-center mb-3">
                            <h5 class="fw-bold mb-0 me-3 text-secondary">
                                <i class="fa-solid fa-paperclip me-2"></i> Ekli Dosyalar
                            </h5>
                            <span class="badge bg-secondary rounded-pill">{{ $assignment->files->count() }}</span>
                        </div>

                        <div class="row g-3">
                            @foreach ($assignment->files as $file)
                                <div class="col-md-6 col-lg-4">
                                    <div class="card h-100 border"
                                        style="transition: transform 0.2s; box-shadow: 0 2px 8px rgba(0,0,0,0.05);">
                                        <div class="card-body d-flex align-items-center p-3">
                                            {{-- Dosya Tr konu --}}
                                            <div class="me-3 fs-1 text-secondary">
                                                @if (Str::contains($file->mime_type, 'image'))
                                                    <i class="fa-regular fa-file-image text-primary"></i>
                                                @elseif(Str::contains($file->mime_type, 'pdf'))
                                                    <i class="fa-regular fa-file-pdf text-danger"></i>
                                                @elseif(Str::contains($file->mime_type, 'excel') || Str::contains($file->mime_type, 'spreadsheet'))
                                                    <i class="fa-regular fa-file-excel text-success"></i>
                                                @else
                                                    <i class="fa-regular fa-file"></i>
                                                @endif
                                            </div>

                                            <div class="flex-grow-1 overflow-hidden">
                                                <h6 class="mb-1 text-truncate" title="{{ $file->original_name }}"
                                                    style="font-size: 0.95rem; font-weight: 600;">
                                                    {{ $file->original_name }}
                                                </h6>
                                                <div class="small text-muted" style="font-size: 0.75rem;">
                                                    {{ $file->uploader->name ?? 'Sistem' }} 
                                                    {{ $file->created_at->diffForHumans() }}
                                                </div>
                                            </div>
                                        </div>
                                        <div class="card-footer bg-light border-top-0 p-2 text-end">
                                            <a href="{{ route('files.download', $file->id) }}"
                                                class="btn btn-sm btn-dark w-100" target="_blank">
                                                <i class="fa-solid fa-download me-2"></i> ndir / Grntle
                                            </a>
                                        </div>
                                    </div>
                                </div>
                            @endforeach
                        </div>
                    </div>
                @endif
            </div>

            @php
                $user = Auth::user();
                $canEdit =
                    $user->id === $assignment->created_by ||
                    $user->role === 'admin' ||
                    $user->role === 'mdr' ||
                    ($assignment->responsible_type === 'App\Models\User' && $assignment->responsible_id === $user->id);
            @endphp

            {{-- LEM BUTONLARI --}}
            @if ($canEdit)
                <div class="action-footer text-end">
                    <a href="{{ route('service.assignments.edit', $assignment->id) }}" class="btn btn-edit">
                        <i class="fas fa-edit me-2"></i> Grevi Dzenle / Tamamla
                    </a>
                </div>
            @endif
        </div>

    </div>
    </div>
    </div>
@endsection


----------------------------------------
DOSYA YOLU: resources\views\service\events\create.blade.php
----------------------------------------

@extends('layouts.app')

@section('title', 'Yeni Etkinlik Olutur')

@push('styles')
    <style>
        /* Ana ierik alanna (main) animasyonlu arka plan uygula */
        #app>main.py-4 {
            padding: 2.5rem 0 !important;
            min-height: calc(100vh - 72px);
            background: linear-gradient(-45deg,
                    #dbe4ff,
                    #fde2ff,
                    #d9fcf7,
                    #fff0d9);
            background-size: 400% 400%;
            animation: gradientWave 18s ease infinite;
        }

        /* Arka plan dalgalanma animasyonu */
        @keyframes gradientWave {
            0% {
                background-position: 0% 50%;
            }

            50% {
                background-position: 100% 50%;
            }

            100% {
                background-position: 0% 50%;
            }
        }

        /* === GNCELLEND (create-event-card) === */
        .create-event-card {
            border-radius: 1rem;
            box-shadow: none !important;
            border: 0;
            background-color: transparent;
            backdrop-filter: none;
        }

        .create-event-card .card-header,
        .create-event-card .form-label {
            color: #444;
            font-weight: bold;
            text-shadow: 0 1px 2px rgba(255, 255, 255, 0.7);
        }

        .create-event-card .card-header {
            color: #000;
        }

        .create-event-card .form-control,
        .create-event-card .form-select {
            border-radius: 0.5rem;
            background-color: rgba(255, 255, 255, 0.8);
        }

        /* === Dinamik satr CSS'leri (plan-detail-row) kaldrld === */

        /* Animasyonlu buton (Deiiklik yok) */
        .btn-animated-gradient {
            background: linear-gradient(-45deg,
                    #667EEA, #F093FB, #4FD1C5, #FBD38D);
            background-size: 400% 400%;
            animation: gradientWave 18s ease infinite;
            border: none;
            color: white;
            font-weight: bold;
            transition: transform 0.2s ease-out, box-shadow 0.2s ease-out;
        }

        .btn-animated-gradient:hover {
            color: white;
            transform: scale(1.05);
            box-shadow: 0 4px 15px rgba(0, 0, 0, 0.1);
        }
    </style>
@endpush

@section('content')
    <div class="container">
        <div class="row justify-content-center">
            <div class="col-md-10">
                {{-- CSS Snf gncellendi --}}
                <div class="card create-event-card">
                    {{-- Balk gncellendi --}}
                    <div class="card-header h4 bg-transparent border-0 pt-4">{{ __('Yeni Etkinlik Olutur') }}</div>
                    <div class="card-body p-4">
                        @if (session('success'))
                            <div class="alert alert-success" role="alert">{{ session('success') }}</div>
                        @endif

                        {{-- Form action gncellendi --}}
                        <form method="POST" action="{{ route('service.events.store') }}">
                            @csrf
                            <div class="row">
                                {{-- Sol Stun (Ana Etkinlik Bilgileri) --}}
                                <div class="col-md-6">
                                    <div class="mb-3">
                                        <label for="title" class="form-label">Etkinlik Bal (*)</label>
                                        <input type="text" class="form-control @error('title') is-invalid @enderror"
                                            id="title" name="title" value="{{ old('title') }}" required>
                                        @error('title')
                                            <div class="invalid-feedback">{{ $message }}</div>
                                        @enderror
                                    </div>

                                    <div class="mb-3">
                                        <label for="event_type" class="form-label">Etkinlik Tipi (*)</label>
                                        {{-- Controller'dan gelen $eventTypes deikenini kullanyoruz --}}
                                        <select name="event_type" id="event_type"
                                            class="form-select @error('event_type') is-invalid @enderror" required>
                                            <option value="">Seiniz...</option>
                                            @foreach ($eventTypes as $key => $value)
                                                <option value="{{ $key }}"
                                                    @if (old('event_type') == $key) selected @endif>{{ $value }}
                                                </option>
                                            @endforeach
                                        </select>
                                        <div id="crm-details-wrapper" style="display: none;">
                                            <hr class="my-4">

                                            <div class="row">
                                                {{-- SEYAHAT SEM (OPSYONEL) --}}
                                                <div class="col-md-6">
                                                    <div class="mb-3">
                                                        <label for="travel_id" class="form-label">Bal Olduu Seyahat
                                                            Program
                                                            (Opsiyonel)</label>
                                                        <select name="travel_id" id="travel_id" class="form-select">
                                                            <option value="">Bamsz Ziyaret</option>
                                                            @foreach ($availableTravels as $travel)
                                                                <option value="{{ $travel->id }}"
                                                                    @if (old('travel_id') == $travel->id) selected @endif>
                                                                    {{ $travel->name }}
                                                                    ({{ \Carbon\Carbon::parse($travel->start_date)->format('d/m/Y') }})
                                                                </option>
                                                            @endforeach
                                                        </select>
                                                    </div>
                                                </div>

                                                {{-- MTER SEM (ZORUNLU) --}}
                                                <div class="col-md-6">
                                                    <div class="mb-3">
                                                        <label for="customer_id" class="form-label">Hangi Mteri Ziyaret
                                                            Edildi?
                                                            (*)</label>
                                                        <select name="customer_id" id="customer_id"
                                                            class="form-select @error('customer_id') is-invalid @enderror">
                                                            <option value="">Mteri Seiniz...</option>
                                                            @foreach ($customers as $customer)
                                                                <option value="{{ $customer->id }}"
                                                                    @if (old('customer_id') == $customer->id) selected @endif>
                                                                    {{ $customer->name }}
                                                                </option>
                                                            @endforeach
                                                        </select>
                                                        @error('customer_id')
                                                            <div class="invalid-feedback">{{ $message }}</div>
                                                        @enderror
                                                    </div>
                                                </div>
                                            </div>

                                            <div class="row">
                                                {{-- ZYARET AMACI (ZORUNLU) --}}
                                                <div class="col-md-6">
                                                    <div class="mb-3">
                                                        <label for="visit_purpose" class="form-label">Ziyaret Amac
                                                            (*)</label>
                                                        <select name="visit_purpose" id="visit_purpose"
                                                            class="form-select @error('visit_purpose') is-invalid @enderror">
                                                            <option value="">Seiniz...</option>
                                                            <option value="satis_sonrasi_hizmet"
                                                                @if (old('visit_purpose') == 'satis_sonrasi_hizmet') selected @endif>Sat
                                                                Sonras Hizmet
                                                            </option>
                                                            <option value="egitim"
                                                                @if (old('visit_purpose') == 'egitim') selected @endif>
                                                                Eitim</option>
                                                            <option value="rutin_ziyaret"
                                                                @if (old('visit_purpose') == 'rutin_ziyaret') selected @endif>Rutin
                                                                Ziyaret
                                                            </option>
                                                            <option value="pazarlama"
                                                                @if (old('visit_purpose') == 'pazarlama') selected @endif>Pazarlama
                                                                Amal
                                                                Ziyaret</option>
                                                            <option value="diger"
                                                                @if (old('visit_purpose') == 'diger') selected @endif>
                                                                Dier</option>
                                                        </select>
                                                    </div>
                                                </div>
                                            </div>

                                            {{-- 'Sat Sonras Hizmet' seilince grnecek alan --}}
                                            <div id="after-sales-details" style="display: none;">
                                                <div class="row">
                                                    {{-- LGL MAKNE (AJAX ile dolacak) --}}
                                                    <div class="col-md-6">
                                                        <div class="mb-3">
                                                            <label for="customer_machine_id" class="form-label">lgili
                                                                Makine (Opsiyonel)</label>
                                                            <select name="customer_machine_id" id="customer_machine_id"
                                                                class="form-select" disabled> {{-- Balangta devre d --}}
                                                                <option value="">nce bir mteri seiniz...</option>
                                                            </select>
                                                            @error('customer_machine_id')
                                                                <div class="invalid-feedback d-block">{{ $message }}</div>
                                                            @enderror
                                                        </div>
                                                    </div>

                                                    {{-- SATI SONRASI NOTLARI (hep grnr, 'has_machine' kalkt) --}}
                                                    <div class="col-md-6">
                                                        <div class="mb-3">
                                                            <label for="after_sales_notes" class="form-label">Sat Sonras
                                                                Notlar</label>
                                                            <textarea class="form-control" id="after_sales_notes" name="after_sales_notes" rows="3">{{ old('after_sales_notes') }}</textarea>
                                                        </div>
                                                    </div>
                                                </div>
                                            </div>
                                        </div>
                                        @error('event_type')
                                            <div class="invalid-feedback">{{ $message }}</div>
                                        @enderror
                                    </div>

                                    <div class="mb-3">
                                        <label for="location" class="form-label">Konum / Yer</label>
                                        <input type="text" class="form-control @error('location') is-invalid @enderror"
                                            id="location" name="location" value="{{ old('location') }}">
                                        @error('location')
                                            <div class="invalid-feedback">{{ $message }}</div>
                                        @enderror
                                    </div>
                                </div>

                                {{-- Sa Stun (Tarih ve Aklama) --}}
                                <div class="col-md-6">
                                    <div class="mb-3">
                                        <label for="start_datetime" class="form-label">Balang Tarihi ve Saati
                                            (*)</label>
                                        <input type="datetime-local"
                                            class="form-control @error('start_datetime') is-invalid @enderror"
                                            id="start_datetime" name="start_datetime"
                                            value="{{ old('start_datetime') }}" required>
                                        @error('start_datetime')
                                            <div class="invalid-feedback">{{ $message }}</div>
                                        @enderror
                                    </div>

                                    <div class="mb-3">
                                        <label for="end_datetime" class="form-label">Biti Tarihi ve Saati (*)</label>
                                        <input type="datetime-local"
                                            class="form-control @error('end_datetime') is-invalid @enderror"
                                            id="end_datetime" name="end_datetime" value="{{ old('end_datetime') }}"
                                            required>
                                        @error('end_datetime')
                                            <div class="invalid-feedback">{{ $message }}</div>
                                        @enderror
                                    </div>

                                    <div class="mb-3">
                                        <label for="description" class="form-label">Aklama</label>
                                        <textarea class="form-control @error('description') is-invalid @enderror" id="description" name="description"
                                            rows="3">{{ old('description') }}</textarea>
                                        @error('description')
                                            <div class="invalid-feedback">{{ $message }}</div>
                                        @enderror
                                    </div>
                                </div>
                            </div>

                            {{-- DNAMK ALANLAR --}}
                            <div class="col-span-12">
                                <x-dynamic-fields :model="\App\Models\Event::class" />
                            </div>
                            <div class="text-end mt-4">
                                {{-- Buton metni gncellendi --}}
                                <button type="submit" class="btn btn-animated-gradient rounded-3 px-4 py-2">Etkinlii
                                    Olutur</button>
                            </div>
                        </form>
                    </div>
                </div>
            </div>
        </div>
    </div>
@endsection
@section('page_scripts')
    <script>
        document.addEventListener('DOMContentLoaded', function() {
            // Ana elemanlar
            const eventTypeDropdown = document.getElementById('event_type');
            const crmWrapper = document.getElementById('crm-details-wrapper');

            // CRM Elemanlar
            const customerIdDropdown = document.getElementById('customer_id');
            const visitPurposeDropdown = document.getElementById('visit_purpose');

            // Koullu CRM Elemanlar
            const afterSalesSection = document.getElementById('after-sales-details');
            const machineDropdown = document.getElementById('customer_machine_id'); // Radio yerine bu geldi

            // Seilen mteriye ait makineleri AJAX ile eken fonksiyon
            async function fetchCustomerMachines() {
                const customerId = customerIdDropdown.value;

                // Mteri seilmemise makine listesini sfrla
                if (!customerId) {
                    machineDropdown.innerHTML = '<option value="">nce bir mteri seiniz...</option>';
                    machineDropdown.disabled = true;
                    return;
                }

                // Mteri seilmise API'ye istek at
                try {
                    // API rotamz 'customer' ID'si ile aryoruz
                    const response = await fetch(`/api/customers/${customerId}/machines`);
                    if (!response.ok) throw new Error('Network response was not ok');

                    const machines = await response.json();

                    // Makine dropdown'n temizle ve doldur
                    machineDropdown.innerHTML = '<option value="">Makine se (Opsiyonel)...</option>';

                    if (machines.length > 0) {
                        machines.forEach(machine => {
                            const option = document.createElement('option');
                            option.value = machine.id;
                            option.textContent =
                                `${machine.model} (Seri No: ${machine.serial_number || 'N/A'})`;
                            machineDropdown.appendChild(option);
                        });
                        machineDropdown.disabled = false; // Dropdown' aktif et
                    } else {
                        machineDropdown.innerHTML =
                            '<option value="">Bu mteriye ait kaytl makine bulunamad.</option>';
                        machineDropdown.disabled = true;
                    }

                } catch (error) {
                    console.error('Makineler ekilirken hata olutu:', error);
                    machineDropdown.innerHTML = '<option value="">Makineler yklenemedi.</option>';
                    machineDropdown.disabled = true;
                }
            }

            // Etkinlik Tipi 'Mteri Ziyareti' ise ana CRM blounu ynetir
            function toggleCrmWrapper() {
                const selectedEventType = eventTypeDropdown.value;

                if (selectedEventType === 'musteri_ziyareti') {
                    crmWrapper.style.display = 'block';
                    customerIdDropdown.required = true;
                    visitPurposeDropdown.required = true;

                    //  mant tetikle
                    togglePurposeDetails();
                    // Mteri seiliyse makineleri de ykle (sayfa validation'dan dnerse)
                    fetchCustomerMachines();
                } else {
                    crmWrapper.style.display = 'none';
                    customerIdDropdown.required = false;
                    visitPurposeDropdown.required = false;

                    //  alanlar gizle
                    afterSalesSection.style.display = 'none';
                }
            }

            // 'Ziyaret Amac'na gre 'Sat Sonras' blounu ynetir
            function togglePurposeDetails() {
                const selectedVisitPurpose = visitPurposeDropdown.value;

                if (selectedVisitPurpose === 'satis_sonrasi_hizmet') {
                    afterSalesSection.style.display = 'block';
                    // Artk radio zorunluluu yok, makine seimi opsiyonel
                } else {
                    afterSalesSection.style.display = 'none';
                }
            }

            // Olay dinleyicilerini ekle
            eventTypeDropdown.addEventListener('change', toggleCrmWrapper);
            visitPurposeDropdown.addEventListener('change', togglePurposeDetails);

            // YEN DNLEYC: Mteri dropdown' deitiinde makineleri ek
            customerIdDropdown.addEventListener('change', fetchCustomerMachines);

            // Sayfa yklendiinde (validation hatasyla geri dnerse diye)
            toggleCrmWrapper();
        });
    </script>
@endsection


----------------------------------------
DOSYA YOLU: resources\views\service\events\edit.blade.php
----------------------------------------

@extends('layouts.app')

@section('title', 'Etkinlii Dzenle')

@push('styles')
    <style>
        /* Ana ierik alanna (main) animasyonlu arka plan uygula */
        #app>main.py-4 {
            padding: 2.5rem 0 !important;
            min-height: calc(100vh - 72px);
            background: linear-gradient(-45deg, #dbe4ff, #fde2ff, #d9fcf7, #fff0d9);
            background-size: 400% 400%;
            animation: gradientWave 18s ease infinite;
        }

        @keyframes gradientWave {
            0% {
                background-position: 0% 50%;
            }

            50% {
                background-position: 100% 50%;
            }

            100% {
                background-position: 0% 50%;
            }
        }

        /* Kart Stili */
        .event-edit-card {
            border-radius: 1rem;
            box-shadow: none !important;
            border: 0;
            background-color: transparent;
            backdrop-filter: none;
        }

        .event-edit-card .card-header,
        .event-edit-card .form-label {
            color: #444;
            font-weight: bold;
            text-shadow: 0 1px 2px rgba(255, 255, 255, 0.7);
        }

        .event-edit-card .card-header {
            color: #000;
        }

        .event-edit-card .form-control,
        .event-edit-card .form-select {
            border-radius: 0.5rem;
            background-color: rgba(255, 255, 255, 0.8);
        }

        /* Buton Stili */
        .btn-animated-gradient {
            background: linear-gradient(-45deg, #667EEA, #F093FB, #4FD1C5, #FBD38D);
            background-size: 400% 400%;
            animation: gradientWave 18s ease infinite;
            border: none;
            color: white;
            font-weight: bold;
            transition: transform 0.2s ease-out, box-shadow 0.2s ease-out;
        }

        .btn-animated-gradient:hover {
            color: white;
            transform: scale(1.05);
            box-shadow: 0 4px 15px rgba(0, 0, 0, 0.1);
        }

        /* CRM Blm Stili */
        .crm-update-section {
            background-color: rgba(255, 255, 255, 0.6);
            border: 1px solid rgba(0, 0, 0, 0.1);
            box-shadow: 0 2px 5px rgba(0, 0, 0, 0.05);
        }
    </style>
@endpush

@section('content')
    <div class="container">
        <div class="row justify-content-center">
            <div class="col-md-10">
                <div class="card event-edit-card">

                    {{-- Balk ve Sil Butonu --}}
                    <div
                        class="card-header d-flex justify-content-between align-items-center h4 bg-transparent border-0 pt-4">
                        <span>{{ __('Etkinlii Dzenle') }}</span>

                        {{-- Durum Rozeti --}}
                        @php
                            $statusMap = [
                                'planlandi' => ['class' => 'bg-info text-dark', 'icon' => '', 'label' => 'Planland'],
                                'gerceklesti' => ['class' => 'bg-success', 'icon' => '', 'label' => 'Gerekleti'],
                                'ertelendi' => [
                                    'class' => 'bg-warning text-dark',
                                    'icon' => '',
                                    'label' => 'Ertelendi',
                                ],
                                'iptal' => ['class' => 'bg-danger', 'icon' => '', 'label' => 'ptal'],
                            ];
                            $status = $statusMap[$event->visit_status] ?? [
                                'class' => 'bg-secondary',
                                'icon' => '?',
                                'label' => 'Bilinmiyor',
                            ];
                        @endphp
                        <span class="badge fs-6 rounded-pill {{ $status['class'] }} ms-2">
                            {{ $status['icon'] }} {{ $status['label'] }}
                        </span>

                        @if (Auth::user()->role === 'admin')
                            <form method="POST" action="{{ route('service.events.destroy', $event->id) }}"
                                onsubmit="return confirm('Bu etkinlii silmek istediinizden emin misiniz?');"
                                class="ms-auto">
                                @csrf
                                @method('DELETE')
                                <button type="submit" class="btn btn-danger btn-sm">Etkinlii Sil</button>
                            </form>
                        @endif
                    </div>

                    <div class="card-body p-4">
                        @if (session('success'))
                            <div class="alert alert-success" role="alert">{{ session('success') }}</div>
                        @endif
                        @if (session('error'))
                            <div class="alert alert-danger" role="alert">{{ session('error') }}</div>
                        @endif

                        <form method="POST" action="{{ route('service.events.update', $event->id) }}">
                            @csrf
                            @method('PUT')

                            <div class="row">
                                {{-- Sol Stun --}}
                                <div class="col-md-6">
                                    <div class="mb-3">
                                        <label for="title" class="form-label">Etkinlik Bal (*)</label>
                                        <input type="text" class="form-control @error('title') is-invalid @enderror"
                                            id="title" name="title" value="{{ old('title', $event->title) }}"
                                            required>
                                        @error('title')
                                            <div class="invalid-feedback">{{ $message }}</div>
                                        @enderror
                                    </div>

                                    <div class="mb-3">
                                        <label for="event_type" class="form-label">Etkinlik Tipi (*)</label>
                                        {{-- Mteri ziyareti ise tipi deitirmeyi engelle (mantk karmasn diye) --}}
                                        <select name="event_type" id="event_type"
                                            class="form-select @error('event_type') is-invalid @enderror" required
                                            {{ $event->event_type == 'musteri_ziyareti' ? 'disabled' : '' }}>
                                            <option value="">Seiniz...</option>
                                            @foreach ($eventTypes as $key => $value)
                                                <option value="{{ $key }}"
                                                    @if (old('event_type', $event->event_type) == $key) selected @endif>{{ $value }}
                                                </option>
                                            @endforeach
                                        </select>
                                        @if ($event->event_type == 'musteri_ziyareti')
                                            <input type="hidden" name="event_type" value="{{ $event->event_type }}">
                                        @endif
                                        @error('event_type')
                                            <div class="invalid-feedback">{{ $message }}</div>
                                        @enderror
                                    </div>

                                    <div class="mb-3">
                                        <label for="location" class="form-label">Konum / Yer</label>
                                        <input type="text" class="form-control @error('location') is-invalid @enderror"
                                            id="location" name="location" value="{{ old('location', $event->location) }}">
                                        @error('location')
                                            <div class="invalid-feedback">{{ $message }}</div>
                                        @enderror
                                    </div>
                                </div>

                                {{-- Sa Stun --}}
                                <div class="col-md-6">
                                    <div class="mb-3">
                                        <label for="start_datetime" class="form-label">Balang (*)</label>
                                        <input type="datetime-local"
                                            class="form-control @error('start_datetime') is-invalid @enderror"
                                            id="start_datetime" name="start_datetime"
                                            value="{{ old('start_datetime', $event->start_datetime->format('Y-m-d\TH:i')) }}"
                                            required>
                                        @error('start_datetime')
                                            <div class="invalid-feedback">{{ $message }}</div>
                                        @enderror
                                    </div>

                                    <div class="mb-3">
                                        <label for="end_datetime" class="form-label">Biti (*)</label>
                                        <input type="datetime-local"
                                            class="form-control @error('end_datetime') is-invalid @enderror"
                                            id="end_datetime" name="end_datetime"
                                            value="{{ old('end_datetime', $event->end_datetime->format('Y-m-d\TH:i')) }}"
                                            required>
                                        @error('end_datetime')
                                            <div class="invalid-feedback">{{ $message }}</div>
                                        @enderror
                                    </div>

                                    <div class="mb-3">
                                        <label for="description" class="form-label">Aklama</label>
                                        <textarea class="form-control @error('description') is-invalid @enderror" id="description" name="description"
                                            rows="3">{{ old('description', $event->description) }}</textarea>
                                        @error('description')
                                            <div class="invalid-feedback">{{ $message }}</div>
                                        @enderror
                                    </div>
                                </div>
                            </div>

                            {{-- ===== DURUM VE SONU GNCELLEME BLM (HERKES N GRNR) ===== --}}
                            <div class="crm-update-section mt-4 p-3 rounded-3">
                                <h5 class="text-primary mb-3">
                                    <i class="bi bi-check-circle-fill"></i>
                                    {{ $event->event_type == 'musteri_ziyareti' ? 'Ziyaret Durumu ve Sonular' : 'Etkinlik Durumu' }}
                                </h5>

                                <div class="row">
                                    {{-- Mteri Bilgisi (SADECE Mteri Ziyaretinde Grnsn) --}}
                                    @if ($event->event_type == 'musteri_ziyareti')
                                        <div class="col-md-6 mb-3">
                                            <label class="form-label text-muted small">lgili Mteri</label>
                                            <input type="text" class="form-control bg-white"
                                                value="{{ $event->customer?->name ?? 'Mteri Bilgisi Yok' }}" disabled>
                                            <input type="hidden" name="customer_id" value="{{ $event->customer_id }}">
                                        </div>
                                    @endif

                                    {{-- Durum Dropdown' (HERKES N GRNR) --}}
                                    <div
                                        class="{{ $event->event_type == 'musteri_ziyareti' ? 'col-md-6' : 'col-12' }} mb-3">
                                        <label for="visit_status" class="form-label fw-bold">Durum (*)</label>
                                        <select name="visit_status" id="visit_status"
                                            class="form-select @error('visit_status') is-invalid @enderror">
                                            <option value="planlandi"
                                                {{ old('visit_status', $event->visit_status) == 'planlandi' ? 'selected' : '' }}>
                                                 Planland</option>
                                            <option value="gerceklesti"
                                                {{ old('visit_status', $event->visit_status) == 'gerceklesti' ? 'selected' : '' }}>
                                                 Gerekleti / Tamamland</option>
                                            <option value="ertelendi"
                                                {{ old('visit_status', $event->visit_status) == 'ertelendi' ? 'selected' : '' }}>
                                                 Ertelendi</option>
                                            <option value="iptal"
                                                {{ old('visit_status', $event->visit_status) == 'iptal' ? 'selected' : '' }}>
                                                 ptal Edildi</option>
                                        </select>
                                        @error('visit_status')
                                            <div class="invalid-feedback">{{ $message }}</div>
                                        @enderror
                                    </div>
                                </div>

                                {{-- Dinamik Aklama Alan (JS ile ynetilir) --}}
                                <div class="row" id="reason-row" style="display: none;">
                                    <div class="col-12">
                                        <label for="cancellation_reason" class="form-label" id="reason-label">Aklama /
                                            Not</label>
                                        <textarea name="cancellation_reason" id="cancellation_reason" class="form-control" rows="3"
                                            placeholder="Durum ile ilgili notunuzu giriniz...">{{ old('cancellation_reason', $event->cancellation_reason) }}</textarea>
                                        @error('cancellation_reason')
                                            <div class="invalid-feedback d-block">{{ $message }}</div>
                                        @enderror
                                    </div>
                                </div>
                            </div>
                            {{-- ===== BLM SONU ===== --}}
                            {{-- DNAMK ALANLAR --}}
                            <div class="col-span-12">
                                <x-dynamic-fields :model="\App\Models\Event::class" :entity="$event" />
                            </div>
                            <div class="text-end mt-4">
                                <button type="submit"
                                    class="btn btn-animated-gradient rounded-3 px-4 py-2">Deiiklikleri Kaydet</button>
                                <a href="{{ route('service.events.index') }}"
                                    class="btn btn-outline-secondary rounded-3">ptal</a>
                            </div>
                        </form>
                    </div>
                </div>
            </div>
        </div>
    </div>
@endsection

@section('page_scripts')
    <script>
        document.addEventListener('DOMContentLoaded', function() {
            // Elemanlar se
            const visitStatusDropdown = document.getElementById('visit_status');
            const reasonRow = document.getElementById('reason-row');
            const reasonLabel = document.getElementById('reason-label');
            const reasonInput = document.getElementById('cancellation_reason');

            // Elemanlar yoksa almay durdur (Hata nleme)
            if (!visitStatusDropdown || !reasonRow) return;

            function toggleReasonField() {
                const status = visitStatusDropdown.value;

                // 1. Grnrlk Mant
                if (status === 'planlandi') {
                    reasonRow.style.display = 'none';
                    reasonInput.required = false;
                } else {
                    reasonRow.style.display = 'block';

                    // 2. Metin ve Zorunluluk Mant
                    if (status === 'iptal') {
                        reasonLabel.textContent = 'ptal Sebebi (Zorunlu)';
                        reasonInput.placeholder = 'Neden iptal edildiini ksaca belirtiniz...';
                        reasonInput.required = true;

                    } else if (status === 'ertelendi') {
                        reasonLabel.textContent = 'Erteleme Sebebi (Zorunlu)';
                        reasonInput.placeholder = 'Neden ertelendiini ve yeni plan belirtiniz...';
                        reasonInput.required = true;

                    } else if (status === 'gerceklesti') {
                        reasonLabel.textContent = 'Sonu Notlar / Rapor (Opsiyonel)';
                        reasonInput.placeholder = 'Toplant notlar, alnan kararlar, ziyaret sonucu vb...';
                        reasonInput.required = false; // Gerekletiyse not girmek opsiyonel
                    }
                }
            }

            // Sayfa ilk yklendiinde altr
            toggleReasonField();

            // Deiiklik olduunda altr
            visitStatusDropdown.addEventListener('change', toggleReasonField);
        });
    </script>
@endsection


----------------------------------------
DOSYA YOLU: resources\views\service\events\index.blade.php
----------------------------------------

@extends('layouts.app')
@section('title', 'Etkinlik Listesi')

@push('styles')
    <style>
        .page-hero {
            background: linear-gradient(135deg, #667EEA 0%, #764BA2 100%);
            border-radius: 1rem;
            padding: 2rem;
            color: white;
            margin-bottom: 2rem;
            position: relative;
            overflow: hidden;
            box-shadow: 0 4px 15px rgba(102, 126, 234, 0.25);
        }

        .page-hero::before {
            content: '';
            position: absolute;
            top: -50%;
            right: -10%;
            width: 400px;
            height: 400px;
            background: rgba(255, 255, 255, 0.1);
            border-radius: 50%;
        }

        .page-hero::after {
            content: '';
            position: absolute;
            bottom: -30%;
            left: -5%;
            width: 300px;
            height: 300px;
            background: rgba(255, 255, 255, 0.08);
            border-radius: 50%;
        }

        .page-hero-content {
            position: relative;
            z-index: 1;
        }

        /* Filtre Alan */
        .filter-card {
            background: linear-gradient(135deg, #f9fafb 0%, #ffffff 100%);
            border-radius: 1rem;
            padding: 1.5rem;
            border: 1px solid #e9ecef;
            box-shadow: 0 2px 8px rgba(0, 0, 0, 0.03);
            margin-bottom: 2rem;
        }

        .section-title {
            display: flex;
            align-items: center;
            gap: 0.75rem;
            margin-bottom: 1.25rem;
            padding-bottom: 0.75rem;
            border-bottom: 1px solid #e9ecef;
        }

        .section-title i {
            font-size: 1.2rem;
            background: linear-gradient(135deg, #667EEA, #764BA2);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
        }

        .section-title h5 {
            margin: 0;
            font-weight: 600;
            color: #4a5568;
            font-size: 1.1rem;
        }

        /* Kart ve Tablo Yaps */
        .content-card {
            background: white;
            border-radius: 1rem;
            border: 1px solid #e9ecef;
            box-shadow: 0 2px 10px rgba(0, 0, 0, 0.02);
            overflow: hidden;
        }

        /* FUAR KARTLARI N STL */
        .travel-card {
            background: white;
            border-radius: 0.75rem;
            padding: 1.5rem;
            margin-bottom: 1rem;
            border: 1px solid #e9ecef;
            transition: all 0.3s ease;
            box-shadow: 0 2px 4px rgba(0, 0, 0, 0.05);
        }

        .travel-card:hover {
            transform: translateY(-3px);
            box-shadow: 0 8px 20px rgba(102, 126, 234, 0.12);
            border-color: #667EEA;
        }

        /* TABLO STLLER */
        .table thead th {
            background-color: #f8f9fa;
            border-bottom: 2px solid #e9ecef;
            color: #4a5568;
            font-weight: 600;
            font-size: 0.85rem;
            padding: 1rem;
            text-transform: uppercase;
            letter-spacing: 0.05em;
        }

        .table tbody td {
            padding: 1rem;
            vertical-align: middle !important;
            border-bottom: 1px solid #f0f0f0;
        }

        .table tbody tr:hover {
            background-color: #fcfcfc;
        }

        /* Badge ve Butonlar */
        .status-badge {
            display: inline-flex;
            align-items: center;
            gap: 0.4rem;
            padding: 0.4rem 0.8rem;
            border-radius: 2rem;
            font-weight: 600;
            font-size: 0.8rem;
        }

        .status-badge.planned {
            background: #e0f2fe;
            color: #0284c7;
        }

        .status-badge.completed {
            background: #dcfce7;
            color: #16a34a;
        }

        .status-badge.cancelled {
            background: #fee2e2;
            color: #dc2626;
        }

        .status-badge.postponed {
            background: #ffedd5;
            color: #ea580c;
        }

        .type-icon {
            width: 36px;
            height: 36px;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 1rem;
            margin: 0 auto;
        }

        .type-icon.fuar {
            background: #f3e8ff;
            color: #9333ea;
        }

        /* Mor */
        .type-icon.toplanti {
            background: #e0e7ff;
            color: #4f46e5;
        }

        /* ndigo */
        .type-icon.ziyaret {
            background: #dbeafe;
            color: #2563eb;
        }

        /* Mavi */
        .type-icon.egitim {
            background: #ffedd5;
            color: #c2410c;
        }

        /* Turuncu */
        .type-icon.diger {
            background: #f3f4f6;
            color: #4b5563;
        }

        /* Gri */

        .btn-gradient {
            background: linear-gradient(135deg, #667EEA, #764BA2);
            color: white;
            border: none;
            padding: 0.6rem 1.5rem;
            border-radius: 0.5rem;
            font-weight: 600;
            transition: all 0.3s ease;
        }

        .btn-gradient:hover {
            transform: translateY(-2px);
            box-shadow: 0 4px 12px rgba(102, 126, 234, 0.3);
            color: white;
        }

        .btn-action {
            width: 32px;
            height: 32px;
            border-radius: 0.5rem;
            display: inline-flex;
            align-items: center;
            justify-content: center;
            transition: all 0.2s;
            border: 1px solid transparent;
        }

        .btn-action:hover {
            background-color: #f3f4f6;
            border-color: #e5e7eb;
        }

        .btn-action.edit {
            color: #2563eb;
        }

        .btn-action.delete {
            color: #dc2626;
        }

        .btn-action.view {
            color: #4b5563;
        }

        .empty-state {
            text-align: center;
            padding: 4rem 2rem;
            color: #9ca3af;
        }

        .empty-state i {
            font-size: 3.5rem;
            margin-bottom: 1rem;
            opacity: 0.5;
        }

        .btn-action-with-text {
            display: inline-flex;
            align-items: center;
            gap: 6px;
            padding: 6px 12px;
            border: none;
            border-radius: 6px;
            background: transparent;
            cursor: pointer;
            transition: all 0.2s;
            font-size: 14px;
            font-weight: 500;
            text-decoration: none;
        }

        .btn-action-with-text i {
            font-size: 14px;
        }

        .btn-action-with-text.view {
            color: #6366f1;
        }

        .btn-action-with-text.view:hover {
            background: #eef2ff;
        }

        .btn-action-with-text.edit {
            color: #3b82f6;
        }

        .btn-action-with-text.edit:hover {
            background: #dbeafe;
        }

        .btn-action-with-text.delete {
            color: #ef4444;
        }

        .btn-action-with-text.delete:hover {
            background: #fee2e2;
        }

        /* Excel Export Buton Stili */
        .btn-export-global {
            background: linear-gradient(135deg, #28c76f 0%, #1e7e34 100%);
            border: none;
            color: white;
            font-weight: 600;
            padding: 0.6rem 1.5rem;
            border-radius: 0.5rem;
            text-decoration: none;
            display: inline-flex;
            align-items: center;
            transition: all 0.3s ease;
            margin-right: 10px;
            /* Butonlar aras boluk */
        }

        .btn-export-global:hover {
            transform: translateY(-2px);
            box-shadow: 0 4px 12px rgba(40, 199, 111, 0.3);
            color: white;
        }
    </style>
@endpush

@section('content')
    <div class="container py-4">
        <div class="row justify-content-center">
            <div class="col-lg-12">

                {{-- Hero Section --}}
                <div class="page-hero">
                    <div class="page-hero-content">
                        <div class="d-flex justify-content-between align-items-center">
                            <div>
                                @if (request('event_type') == 'fuar')
                                    <h2 class="mb-1"> Fuar Ynetimi</h2>
                                    <p class="mb-0 opacity-90">Planlanm fuar organizasyonlarn ve rezervasyonlar buradan
                                        ynetebilirsiniz.</p>
                                @else
                                    <h2 class="mb-1"> Etkinlik Listesi</h2>
                                    <p class="mb-0 opacity-90">Tm toplant, ziyaret ve organizasyon listesi.</p>
                                @endif
                            </div>
                            <div class="text-end d-none d-md-block">
                                <h1 class="mb-0 display-6 fw-bold">{{ $events->total() }}</h1>
                                <span class="small opacity-75">Toplam Kayt</span>
                            </div>
                        </div>
                    </div>
                </div>

                {{-- Alert Mesajlar --}}
                @if (session('success'))
                    <div class="alert alert-success alert-dismissible fade show border-0 shadow-sm" role="alert"
                        style="background: #dcfce7; color: #166534;">
                        <i class="fa-solid fa-circle-check me-2"></i>{{ session('success') }}
                        <button type="button" class="btn-close" data-bs-dismiss="alert"></button>
                    </div>
                @endif

                {{-- 
                    ==================================================
                    MOD 1: FUAR YNETM (Travels Tarz Kartlar)
                    Adres: /service/events?event_type=fuar
                    ==================================================
                --}}
                @if (request('event_type') == 'fuar')

                    <div class="d-flex justify-content-end mb-4">
                        <a href="{{ route('service.events.export', request()->all()) }}" class="btn-export-global">
                            <i class="fas fa-file-excel me-2"></i> Listeyi Excel'e Aktar
                        </a>
                        <a href="{{ route('service.events.create') }}" class="btn-gradient">
                            <i class="fa-solid fa-plus me-2"></i> Yeni Fuar Ekle
                        </a>
                    </div>

                    @if ($events->isEmpty())
                        <div class="content-card empty-state">
                            <i class="fa-solid fa-ticket"></i>
                            <h4>Henz Fuar Kayd Yok</h4>
                            <p>Planlanm bir fuar bulunmuyor. Yeni ekleyerek balayabilirsiniz.</p>
                        </div>
                    @else
                        @foreach ($events as $event)
                            <div class="travel-card">
                                <div class="row align-items-center">
                                    {{-- nem Durumu --}}
                                    <div class="col-md-1 text-center">
                                        @if ($event->is_important)
                                            <i class="fa-solid fa-star text-warning fs-5" title="nemli"></i>
                                        @else
                                            <i class="fa-regular fa-star text-muted fs-5 opacity-50"></i>
                                        @endif
                                    </div>

                                    {{-- Balk ve Oluturan --}}
                                    <div class="col-md-3">
                                        <div class="fw-bold text-dark fs-5">{{ $event->title }}</div>
                                        <div class="text-muted small mt-1">
                                            <i class="fa-solid fa-user-circle me-1"></i>
                                            {{ $event->user->name ?? 'Bilinmiyor' }}
                                        </div>
                                    </div>

                                    {{-- Balang --}}
                                    <div class="col-md-2">
                                        <div class="text-muted small"
                                            style="font-size: 0.75rem; text-transform: uppercase; letter-spacing: 0.5px;">
                                            Balang</div>
                                        <div class="fw-bold text-dark">
                                            {{ \Carbon\Carbon::parse($event->start_datetime)->format('d.m.Y') }}</div>
                                        <div class="small text-muted">
                                            {{ \Carbon\Carbon::parse($event->start_datetime)->format('H:i') }}</div>
                                    </div>

                                    {{-- Biti --}}
                                    <div class="col-md-2">
                                        <div class="text-muted small"
                                            style="font-size: 0.75rem; text-transform: uppercase; letter-spacing: 0.5px;">
                                            Biti</div>
                                        <div class="fw-bold text-dark">
                                            {{ \Carbon\Carbon::parse($event->end_datetime)->format('d.m.Y') }}</div>
                                        <div class="small text-muted">
                                            {{ \Carbon\Carbon::parse($event->end_datetime)->format('H:i') }}</div>
                                    </div>

                                    {{-- Durum Badge --}}
                                    <div class="col-md-2">
                                        @php
                                            $statusClass = match ($event->visit_status) {
                                                'planlandi' => 'planned',
                                                'gerceklesti' => 'completed',
                                                'iptal' => 'cancelled',
                                                'ertelendi' => 'postponed',
                                                default => 'secondary',
                                            };
                                            $statusIcon = match ($event->visit_status) {
                                                'planlandi' => 'fa-clock',
                                                'gerceklesti' => 'fa-check-circle',
                                                'iptal' => 'fa-ban',
                                                'ertelendi' => 'fa-hourglass-half',
                                                default => 'fa-circle',
                                            };
                                        @endphp
                                        <span class="status-badge {{ $statusClass }}">
                                            <i class="fa-solid {{ $statusIcon }}"></i>
                                            {{ ucfirst($event->visit_status) }}
                                        </span>
                                    </div>

                                    {{-- Butonlar --}}
                                    <div class="col-md-2 text-end">
                                        <a href="{{ route('service.events.show', $event) }}"
                                            class="btn btn-outline-primary w-100 rounded-pill fw-bold"
                                            style="border: 2px solid; padding: 0.5rem;">
                                            <i class="fa-solid fa-eye me-1"></i> Detaylar
                                        </a>
                                    </div>
                                </div>
                            </div>
                        @endforeach

                        <div class="d-flex justify-content-center mt-4">
                            {{ $events->appends(request()->query())->links('pagination::bootstrap-5') }}
                        </div>
                    @endif

                    {{-- 
                    ==================================================
                    MOD 2: STANDART ETKNLK LSTES (Bookings Tarz Tablo)
                    Adres: /service/events
                    ==================================================
                --}}
                @else
                    {{-- 1. Filtre Ama Butonu --}}
                    <div class="d-flex justify-content-end mb-3">
                        <button class="btn btn-white border shadow-sm" type="button" data-bs-toggle="collapse"
                            data-bs-target="#eventFilters" aria-expanded="false" aria-controls="eventFilters">
                            <i class="fa-solid fa-filter me-1 text-primary"></i> Filtreleme Seenekleri

                            {{-- Eer aktif bir filtre varsa Badge gster --}}
                            @if (request()->hasAny(['title', 'event_type', 'visit_status', 'date_from', 'date_to']))
                                <span class="badge bg-primary ms-1">Aktif</span>
                            @endif
                        </button>
                    </div>

                    {{-- 2. Filtre Alan (Collapse iine alnd) --}}
                    {{-- Eer filtre varsa 'show' class' eklenir ve ak gelir --}}
                    <div class="collapse @if (request()->hasAny(['title', 'event_type', 'visit_status', 'date_from', 'date_to'])) show @endif" id="eventFilters">
                        <div class="filter-card">
                            <div class="section-title">
                                <i class="fa-solid fa-filter"></i>
                                <h5>Filtreleme Seenekleri</h5>
                            </div>

                            <form method="GET" action="{{ route('service.events.index') }}">
                                <div class="row g-3">
                                    <div class="col-lg-3 col-md-6">
                                        <label class="form-label small fw-bold text-muted">Etkinlik Bal</label>
                                        <input type="text" class="form-control" name="title"
                                            value="{{ $filters['title'] ?? '' }}" placeholder="Ara...">
                                    </div>
                                    <div class="col-lg-2 col-md-6">
                                        <label class="form-label small fw-bold text-muted">Etkinlik Tipi</label>
                                        <select class="form-select" name="event_type">
                                            <option value="all">Tm</option>
                                            @foreach ($eventTypes as $key => $value)
                                                <option value="{{ $key }}"
                                                    {{ ($filters['event_type'] ?? '') == $key ? 'selected' : '' }}>
                                                    {{ $value }}</option>
                                            @endforeach
                                        </select>
                                    </div>
                                    <div class="col-lg-2 col-md-6">
                                        <label class="form-label small fw-bold text-muted">Durum</label>
                                        <select class="form-select" name="visit_status">
                                            <option value="all">Tm</option>
                                            <option value="planlandi"
                                                {{ ($filters['visit_status'] ?? '') == 'planlandi' ? 'selected' : '' }}>
                                                Planland</option>
                                            <option value="gerceklesti"
                                                {{ ($filters['visit_status'] ?? '') == 'gerceklesti' ? 'selected' : '' }}>
                                                Gerekleti</option>
                                            <option value="iptal"
                                                {{ ($filters['visit_status'] ?? '') == 'iptal' ? 'selected' : '' }}>ptal
                                            </option>
                                        </select>
                                    </div>
                                    <div class="col-lg-2 col-md-6">
                                        <label class="form-label small fw-bold text-muted">Balang</label>
                                        <input type="date" class="form-control" name="date_from"
                                            value="{{ $filters['date_from'] ?? '' }}">
                                    </div>
                                    <div class="col-lg-2 col-md-6">
                                        <label class="form-label small fw-bold text-muted">Biti</label>
                                        <input type="date" class="form-control" name="date_to"
                                            value="{{ $filters['date_to'] ?? '' }}">
                                    </div>

                                    {{-- Butonlar --}}
                                    <div class="col-lg-1 d-flex align-items-end">
                                        <button type="submit" class="btn btn-primary w-100"
                                            style="background-color: #667EEA; border-color: #667EEA;">
                                            <i class="fa-solid fa-filter"></i>
                                        </button>
                                    </div>
                                </div>

                                {{-- Temizle Butonu (Filtre varsa grnr) --}}
                                @if (request()->hasAny(['title', 'event_type', 'visit_status', 'date_from', 'date_to']))
                                    <div class="row mt-3">
                                        <div class="col-12 text-end">
                                            <a href="{{ route('service.events.index') }}" class="btn btn-sm text-muted">
                                                <i class="fa-solid fa-rotate-right me-1"></i> Filtreleri Temizle
                                            </a>
                                        </div>
                                    </div>
                                @endif
                            </form>
                        </div>
                    </div>
                    <div class="mb-4 text-end">
                        <a href="{{ route('service.events.export', request()->all()) }}" class="btn-export-global">
                            <i class="fas fa-file-excel me-2"></i>Listeyi Excel'e Aktar
                        </a>
                        <a href="{{ route('kanban.board', ['scope' => 'events']) }}" class="btn-export-global">
                            <i class="fa fa-columns"></i> Pano Grnm
                        </a>
                    </div>
                    {{-- Tablo Grnm --}}
                    <div class="content-card">
                        @if ($events->isEmpty())
                            <div class="empty-state">
                                <i class="fa-solid fa-calendar-xmark"></i>
                                <h5>Kayt Bulunamad</h5>
                                <p class="mb-0">Arama kriterlerinize uygun etkinlik yok.</p>
                            </div>
                        @else
                            <div class="table-responsive">
                                <table class="table mb-0">
                                    <thead>
                                        <tr>
                                            <th class="text-center">Tip</th>
                                            <th>Balk</th>
                                            <th>Durum</th>
                                            <th>Konum</th>
                                            <th>Zaman</th>
                                            <th class="text-end pe-4">lemler</th>
                                        </tr>
                                    </thead>
                                    <tbody>
                                        @foreach ($events as $event)
                                            {{-- HATA ZM: Satr etiketi (tr) eklendi ve hiza iin class verildi --}}
                                            <tr class="align-middle">

                                                {{-- 1. TP STUNU --}}
                                                <td class="text-center">
                                                    @php
                                                        $typeClass = match ($event->event_type) {
                                                            'fuar' => 'fuar',
                                                            'toplanti' => 'toplanti',
                                                            'musteri_ziyareti' => 'ziyaret',
                                                            'egitim' => 'egitim',
                                                            default => 'diger',
                                                        };
                                                        $typeIcon = match ($event->event_type) {
                                                            'fuar' => 'fa-ticket',
                                                            'toplanti' => 'fa-briefcase',
                                                            'musteri_ziyareti' => 'fa-handshake',
                                                            'egitim' => 'fa-graduation-cap',
                                                            default => 'fa-calendar',
                                                        };
                                                        $typeName =
                                                            $eventTypes[$event->event_type] ??
                                                            ucfirst($event->event_type);
                                                    @endphp

                                                    <div class="d-inline-flex align-items-center">
                                                        <div class="type-icon {{ $typeClass }} me-2"
                                                            title="{{ $typeName }}">
                                                            <i class="fa-solid {{ $typeIcon }}"></i>
                                                        </div>
                                                        <span class="fw-bold text-dark small">
                                                            {{ $typeName }}
                                                        </span>
                                                    </div>
                                                </td>

                                                {{-- 2. BALIK STUNU --}}
                                                <td>
                                                    <div class="fw-bold text-dark">{{ $event->title }}</div>
                                                    <div class="small text-muted">{{ $event->user->name ?? 'Bilinmiyor' }}
                                                    </div>
                                                </td>

                                                {{-- 3. DURUM STUNU --}}
                                                <td>
                                                    @php
                                                        $statusClass = match ($event->visit_status) {
                                                            'planlandi' => 'planned',
                                                            'gerceklesti' => 'completed',
                                                            'iptal' => 'cancelled',
                                                            'ertelendi' => 'postponed',
                                                            default => 'secondary',
                                                        };
                                                    @endphp
                                                    <span class="status-badge {{ $statusClass }}">
                                                        {{ ucfirst($event->visit_status) }}
                                                    </span>
                                                </td>

                                                {{-- 4. KONUM STUNU --}}
                                                <td>
                                                    @if ($event->location)
                                                        <span class="text-dark">
                                                            <i class="fa-solid fa-location-dot me-1 text-muted"></i>
                                                            {{ Str::limit($event->location, 20) }}
                                                        </span>
                                                    @else
                                                        <span class="text-muted small">-</span>
                                                    @endif
                                                </td>

                                                {{-- 5. ZAMAN STUNU --}}
                                                <td>
                                                    <div class="fw-bold text-dark">
                                                        {{ \Carbon\Carbon::parse($event->start_datetime)->format('d.m.Y') }}
                                                    </div>
                                                    <div class="small text-muted">
                                                        {{ \Carbon\Carbon::parse($event->start_datetime)->format('H:i') }}
                                                        -
                                                        {{ \Carbon\Carbon::parse($event->end_datetime)->format('H:i') }}
                                                    </div>
                                                </td>

                                                {{-- 6. LEMLER STUNU --}}
                                                <td class="text-end pe-4">
                                                    <div class="d-flex justify-content-end gap-2">
                                                        <a href="{{ route('service.events.show', $event) }}"
                                                            class="btn-action-with-text view">
                                                            <i class="fa-solid fa-eye"></i>
                                                            <span>Grntle</span>
                                                        </a>

                                                        @if (!in_array(Auth::user()->role, ['izleyici']))
                                                            <a href="{{ route('service.events.edit', $event) }}"
                                                                class="btn-action-with-text edit">
                                                                <i class="fa-solid fa-pen"></i>
                                                                <span>Dzenle</span>
                                                            </a>


                                                            <form action="{{ route('service.events.destroy', $event) }}"
                                                                method="POST" class="d-inline"
                                                                onsubmit="return confirm('Bu etkinlii silmek istediinizden emin misiniz?');">
                                                                @csrf
                                                                @method('DELETE')
                                                                <button type="submit"
                                                                    class="btn-action-with-text delete">
                                                                    <i class="fa-solid fa-trash"></i>
                                                                    <span>Sil</span>
                                                                </button>
                                                            </form>
                                                        @endif
                                                    </div>
                                                </td>
                                            </tr> {{-- HATA ZM: Satr kapatld --}}
                                        @endforeach
                                    </tbody>
                                </table>
                            </div>
                            <div class="p-3 border-top">
                                {{ $events->appends(request()->query())->links('pagination::bootstrap-5') }}
                            </div>
                        @endif
                    </div>
                @endif

            </div>
        </div>
    </div>
@endsection


----------------------------------------
DOSYA YOLU: resources\views\service\events\show.blade.php
----------------------------------------

@extends('layouts.app')

@push('styles')
    <style>
        :root {
            --primary-gradient: linear-gradient(135deg, #667EEA 0%, #764BA2 100%);
            --glass-white: rgba(255, 255, 255, 0.95);
            --card-shadow: 0 10px 30px rgba(0, 0, 0, 0.05);
            --hover-shadow: 0 15px 35px rgba(102, 126, 234, 0.15);
        }

        body {
            background-color: #f3f4f6;
        }

        /* Hero Alan - Modernize Edildi */
        .event-hero {
            background: var(--primary-gradient);
            border-radius: 1.5rem;
            padding: 3rem 2.5rem;
            color: white;
            position: relative;
            overflow: hidden;
            box-shadow: 0 10px 25px rgba(118, 75, 162, 0.25);
            margin-bottom: -3rem;
            /* Kartlarn iine girmesi iin */
            z-index: 1;
        }

        /* Arka plan sslemeleri */
        .event-hero::before,
        .event-hero::after {
            content: '';
            position: absolute;
            border-radius: 50%;
            background: rgba(255, 255, 255, 0.1);
        }

        .event-hero::before {
            width: 300px;
            height: 300px;
            top: -100px;
            right: -50px;
        }

        .event-hero::after {
            width: 200px;
            height: 200px;
            bottom: -50px;
            left: 10%;
        }

        .hero-title {
            font-size: 2.2rem;
            font-weight: 700;
            letter-spacing: -0.5px;
        }

        .hero-badge {
            background: rgba(255, 255, 255, 0.2);
            backdrop-filter: blur(10px);
            padding: 0.5rem 1.2rem;
            border-radius: 50px;
            font-size: 0.9rem;
            border: 1px solid rgba(255, 255, 255, 0.3);
            text-transform: uppercase;
            letter-spacing: 1px;
        }

        /* Glass Buttons */
        .btn-glass {
            background: rgba(255, 255, 255, 0.15);
            border: 1px solid rgba(255, 255, 255, 0.4);
            color: white;
            padding: 0.6rem 1.2rem;
            border-radius: 12px;
            transition: all 0.3s ease;
            backdrop-filter: blur(5px);
            display: inline-flex;
            align-items: center;
            gap: 8px;
        }

        .btn-glass:hover {
            background: white;
            color: #764BA2;
            transform: translateY(-2px);
            box-shadow: 0 5px 15px rgba(0, 0, 0, 0.1);
        }

        /* Ana erik Kartlar */
        .content-container {
            position: relative;
            z-index: 2;
            padding-top: 0;
        }

        .custom-card {
            background: var(--glass-white);
            border-radius: 1.25rem;
            border: none;
            box-shadow: var(--card-shadow);
            transition: transform 0.3s ease;
            overflow: hidden;
            height: 100%;
        }

        .card-header-custom {
            background: transparent;
            border-bottom: 1px solid rgba(0, 0, 0, 0.05);
            padding: 1.5rem;
            display: flex;
            align-items: center;
            gap: 10px;
        }

        .card-header-title {
            font-size: 1.1rem;
            font-weight: 700;
            color: #2d3748;
            margin: 0;
        }

        .detail-item {
            padding: 1rem;
            border-radius: 12px;
            background: #f8f9fc;
            height: 100%;
            transition: background 0.3s;
        }

        .detail-item:hover {
            background: #f1f4f9;
        }

        .detail-label {
            font-size: 0.8rem;
            text-transform: uppercase;
            color: #a0aec0;
            font-weight: 600;
            margin-bottom: 0.3rem;
        }

        .detail-value {
            font-size: 1.05rem;
            color: #2d3748;
            font-weight: 600;
            word-break: break-word;
        }

        /* Status Icon Styling */
        .status-icon-wrapper {
            width: 80px;
            height: 80px;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            margin-bottom: 1rem;
            background: #f7fafc;
            position: relative;
        }

        .status-icon-wrapper i {
            font-size: 2.5rem;
        }

        /* Booking & Ticket Styles */
        .booking-section {
            background: white;
            border-radius: 1.5rem;
            padding: 2rem;
            box-shadow: var(--card-shadow);
            margin-top: 2rem;
        }

        .ticket-card {
            background: white;
            border-radius: 1rem;
            border: 1px solid #edf2f7;
            border-left: 5px solid #cbd5e0;
            /* Default color */
            transition: all 0.3s ease;
            position: relative;
            overflow: hidden;
        }

        .ticket-card:hover {
            transform: translateY(-3px);
            box-shadow: var(--hover-shadow);
        }

        /* Ticket Type Colors */
        .ticket-flight {
            border-left-color: #4299e1;
        }

        /* Blue */
        .ticket-flight .icon-box {
            background-color: #ebf8ff;
            color: #4299e1;
        }

        .ticket-hotel {
            border-left-color: #48bb78;
        }

        /* Green */
        .ticket-hotel .icon-box {
            background-color: #f0fff4;
            color: #48bb78;
        }

        .ticket-bus {
            border-left-color: #ed8936;
        }

        /* Orange */
        .ticket-bus .icon-box {
            background-color: #fffaf0;
            color: #ed8936;
        }

        .icon-box {
            width: 50px;
            height: 50px;
            border-radius: 12px;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 1.25rem;
        }

        .btn-gradient-primary {
            background: var(--primary-gradient);
            color: white;
            border: none;
            padding: 0.75rem 1.5rem;
            border-radius: 10px;
            font-weight: 600;
            transition: all 0.3s;
        }

        .btn-gradient-primary:hover {
            opacity: 0.9;
            transform: translateY(-1px);
            color: white;
            box-shadow: 0 4px 12px rgba(102, 126, 234, 0.4);
        }

        /* Form Wrappers */
        .form-wrapper {
            background: #f8fafc;
            border: 1px dashed #cbd5e0;
            border-radius: 1rem;
            padding: 1.5rem;
        }
    </style>
@endpush

@section('content')
    <div class="container py-4">
        <div class="row justify-content-center">
            <div class="col-lg-11">

                {{-- Alert Messages --}}
                @if (session('success'))
                    <div class="alert alert-success border-0 shadow-sm rounded-3 mb-4 d-flex align-items-center">
                        <i class="fa-solid fa-circle-check fa-lg me-3"></i>
                        <div>{{ session('success') }}</div>
                        <button type="button" class="btn-close ms-auto" data-bs-dismiss="alert"></button>
                    </div>
                @endif

                {{-- 1. HERO SECTION --}}
                <div class="event-hero">
                    <div class="row align-items-center">
                        <div class="col-lg-8">
                            <div class="d-flex align-items-center gap-3 mb-3">
                                <span class="hero-badge">
                                    <i class="fa-solid fa-tag me-1"></i>
                                    {{ $eventTypes[$event->event_type] ?? ucfirst($event->event_type) }}
                                </span>
                                @if ($event->visit_status == 'gerceklesti')
                                    <span
                                        class="badge bg-success bg-opacity-25 border border-success text-white rounded-pill">Tamamland</span>
                                @elseif($event->visit_status == 'iptal')
                                    <span
                                        class="badge bg-danger bg-opacity-25 border border-danger text-white rounded-pill">ptal</span>
                                @endif
                            </div>
                            <h1 class="hero-title mb-2">{{ $event->title }}</h1>
                            <p class="mb-0 opacity-75 fs-5">
                                <i class="fa-regular fa-calendar me-2"></i>
                                {{ \Carbon\Carbon::parse($event->start_datetime)->format('d F Y, H:i') }}
                                <i class="fa-solid fa-arrow-right mx-2 text-white-50"></i>
                                {{ \Carbon\Carbon::parse($event->end_datetime)->format('d F Y, H:i') }}
                            </p>
                        </div>
                        <div class="col-lg-4 text-lg-end mt-4 mt-lg-0">
                            <div class="d-flex flex-column flex-sm-row justify-content-lg-end gap-2">
                                <a href="{{ route('service.events.index') }}" class="btn-glass">
                                    <i class="fa-solid fa-arrow-left"></i> Listeye Dn
                                </a>
                                @if (!in_array(Auth::user()->role, ['izleyici']))
                                    <a href="{{ route('service.events.edit', $event) }}" class="btn-glass">
                                        <i class="fa-solid fa-pen-to-square"></i> Dzenle
                                    </a>
                                @endif
                            </div>
                        </div>
                    </div>
                </div>

                {{-- 2. CONTENT CARDS (Overlap Effect) --}}
                <div class="content-container mt-5 pt-3">
                    <div class="row g-4 mb-5">

                        {{-- Sol Kolon: Detaylar --}}
                        <div class="col-lg-8">
                            <div class="custom-card p-2">
                                <div class="card-header-custom">
                                    <div class="bg-primary bg-opacity-10 p-2 rounded-circle text-primary">
                                        <i class="fa-solid fa-layer-group fa-lg"></i>
                                    </div>
                                    <h5 class="card-header-title">Etkinlik Detaylar</h5>
                                </div>
                                <div class="card-body p-4">
                                    <div class="row g-3">
                                        <div class="col-md-6">
                                            <div class="detail-item">
                                                <div class="detail-label"><i class="fa-solid fa-location-dot me-1"></i>
                                                    Konum</div>
                                                <div class="detail-value">{{ $event->location ?? '-' }}</div>
                                            </div>
                                        </div>
                                        <div class="col-md-6">
                                            <div class="detail-item">
                                                <div class="detail-label"><i class="fa-solid fa-user me-1"></i> Oluturan
                                                </div>
                                                <div class="detail-value">{{ $event->user->name ?? 'Bilinmiyor' }}</div>
                                            </div>
                                        </div>
                                        <div class="col-12">
                                            <div class="detail-item">
                                                <div class="detail-label"><i class="fa-solid fa-align-left me-1"></i>
                                                    Aklama</div>
                                                <div class="detail-value text-muted fw-normal">
                                                    {{ $event->description ?? 'Aklama girilmemi.' }}
                                                </div>
                                            </div>
                                        </div>

                                        {{-- CRM Mteri Bilgileri --}}
                                        @if ($event->customerVisit)
                                            <div class="col-12 mt-4">
                                                <h6 class="text-primary fw-bold mb-3 border-bottom pb-2">
                                                    <i class="fa-solid fa-briefcase me-2"></i>Mteri likisi
                                                </h6>
                                            </div>
                                            <div class="col-md-6">
                                                <div class="detail-item border border-primary border-opacity-10 bg-white">
                                                    <div class="detail-label text-primary">Mteri</div>
                                                    <div class="detail-value">
                                                        <a href="{{ route('customers.show', $event->customerVisit->customer_id) }}"
                                                            class="text-decoration-none fw-bold text-primary stretched-link">
                                                            {{ $event->customerVisit->customer->name ?? '-' }}
                                                        </a>
                                                    </div>
                                                </div>
                                            </div>
                                            <div class="col-md-6">
                                                <div class="detail-item bg-white border">
                                                    <div class="detail-label">Ziyaret Amac</div>
                                                    <div class="detail-value">
                                                        {{ ucfirst(str_replace('_', ' ', $event->customerVisit->visit_purpose)) }}
                                                    </div>
                                                </div>
                                            </div>
                                        @endif
                                    </div>
                                </div>
                            </div>
                        </div>

                        {{-- Sa Kolon: Durum --}}
                        <div class="col-lg-4">
                            <div class="custom-card h-100">
                                <div class="card-header-custom">
                                    <div class="bg-info bg-opacity-10 p-2 rounded-circle text-info">
                                        <i class="fa-solid fa-chart-pie fa-lg"></i>
                                    </div>
                                    <h5 class="card-header-title">Durum Analizi</h5>
                                </div>
                                <div
                                    class="card-body d-flex flex-column justify-content-center align-items-center text-center p-4">

                                    @switch($event->visit_status)
                                        @case('planlandi')
                                            <div class="status-icon-wrapper text-info bg-info bg-opacity-10">
                                                <i class="fa-solid fa-clock"></i>
                                            </div>
                                            <h4 class="fw-bold text-info mb-1">Planland</h4>
                                            <p class="text-muted small">Etkinlik zaman bekleniyor.</p>
                                        @break

                                        @case('gerceklesti')
                                            <div class="status-icon-wrapper text-success bg-success bg-opacity-10">
                                                <i class="fa-solid fa-check"></i>
                                            </div>
                                            <h4 class="fw-bold text-success mb-1">Gerekleti</h4>
                                            <p class="text-muted small">Etkinlik baaryla tamamland.</p>
                                        @break

                                        @case('iptal')
                                            <div class="status-icon-wrapper text-danger bg-danger bg-opacity-10">
                                                <i class="fa-solid fa-xmark"></i>
                                            </div>
                                            <h4 class="fw-bold text-danger mb-1">ptal Edildi</h4>
                                            <p class="text-muted small">Etkinlik iptal edildi.</p>
                                        @break

                                        @default
                                            <div class="status-icon-wrapper text-secondary">
                                                <i class="fa-solid fa-question"></i>
                                            </div>
                                            <h4 class="fw-bold text-secondary mb-1">{{ ucfirst($event->visit_status) }}</h4>
                                    @endswitch

                                    @if ($event->cancellation_reason)
                                        <div
                                            class="alert alert-danger bg-danger bg-opacity-10 border-0 mt-3 w-100 text-start">
                                            <div class="d-flex gap-2">
                                                <i class="fa-solid fa-circle-exclamation mt-1"></i>
                                                <div>
                                                    <small class="fw-bold d-block">ptal/Erteleme Nedeni:</small>
                                                    <small class="text-dark">{{ $event->cancellation_reason }}</small>
                                                </div>
                                            </div>
                                        </div>
                                    @endif
                                </div>
                            </div>
                        </div>
                    </div>

                    {{-- REZERVASYON YNETM (Sadece Fuar vb. tipler iin) --}}
                    @if ($event->event_type === 'fuar')

                        <div class="booking-section mt-4">
                            <div class="d-flex align-items-center justify-content-between mb-4">
                                <h4 class="mb-0 fw-bold text-dark">
                                    <span class="text-primary me-2"><i class="fa-solid fa-plane-departure"></i></span>
                                    Seyahat & Konaklama Planlamas
                                </h4>
                                <span class="badge bg-white border text-dark px-3 py-2 rounded-pill shadow-sm">
                                    <i class="fa-solid fa-layer-group me-1 text-muted"></i>
                                    Toplam: <b>{{ $event->bookings->count() }}</b> Rezervasyon
                                </span>
                            </div>

                            {{-- 1. BLM: YEN EKLEME FORMU (Tam Genilik - Yatay) --}}
                            <div class="card border-0 shadow-sm mb-5">
                                <div class="card-header bg-white border-bottom py-3">
                                    <h6 class="mb-0 fw-bold text-primary">
                                        <i class="fa-solid fa-circle-plus me-2"></i>Yeni Rezervasyon Ekle
                                    </h6>
                                </div>
                                <div class="card-body bg-light bg-opacity-25">
                                    <form action="{{ route('service.events.bookings.store', $event->id) }}"
                                        method="POST" enctype="multipart/form-data" autocomplete="off">
                                        @csrf

                                        <div class="row g-3 align-items-end">
                                            {{-- 1. Satr: Temel Bilgiler --}}
                                            <div class="col-md-2">
                                                <label class="form-label small fw-bold text-muted">Tip (*)</label>
                                                <select name="type" class="form-select" required>
                                                    <option value="flight">Uak</option>
                                                    <option value="hotel">Otel</option>
                                                    <option value="bus">Otobs/Transfer</option>
                                                </select>
                                            </div>

                                            <div class="col-md-3">
                                                <label class="form-label small fw-bold text-muted">Salayc (*)</label>
                                                <input type="text" name="provider_name" class="form-control"
                                                    placeholder="rn: THY, Hilton" required>
                                            </div>

                                            <div class="col-md-2">
                                                <label class="form-label small fw-bold text-muted">Rezervasyon Kodu</label>
                                                <input type="text" name="confirmation_code" class="form-control"
                                                    placeholder="PNR / Kod">
                                            </div>

                                            <div class="col-md-3">
                                                <label class="form-label small fw-bold text-muted">Balang Tarihi
                                                    (*)</label>
                                                <input type="datetime-local" name="start_datetime" class="form-control"
                                                    required>
                                            </div>

                                            <div class="col-md-2">
                                                <label class="form-label small fw-bold text-muted">Tutar</label>
                                                <div class="input-group">
                                                    <input type="number" step="0.01" name="cost"
                                                        class="form-control" placeholder="0.00">
                                                    <span class="input-group-text bg-white"></span>
                                                </div>
                                            </div>

                                            {{-- 2. Satr: Detaylar ve Buton --}}
                                            <div class="col-md-3">
                                                <label class="form-label small fw-bold text-muted">Biti Tarihi</label>
                                                <input type="datetime-local" name="end_datetime" class="form-control">
                                            </div>

                                            <div class="col-md-3">
                                                <label class="form-label small fw-bold text-muted">Dosya
                                                    (Bilet/Voucher)</label>
                                                <input type="file" name="files[]" class="form-control" multiple>
                                            </div>

                                            <div class="col-md-4">
                                                <label class="form-label small fw-bold text-muted">Notlar</label>
                                                <input type="text" name="notes" class="form-control"
                                                    placeholder="rn: Bagaj hakk, oda tipi vb.">
                                            </div>

                                            <div class="col-md-2">
                                                <button type="submit" class="btn btn-primary w-100 fw-bold">
                                                    <i class="fa-solid fa-save me-1"></i> Kaydet
                                                </button>
                                            </div>
                                        </div>
                                    </form>
                                </div>
                            </div>

                            {{-- 2. BLM: LSTE (Alt Alta Kartlar) --}}
                            @if ($event->bookings->isEmpty())
                                <div class="text-center py-5 border rounded-3 bg-white border-dashed">
                                    <i class="fa-solid fa-ticket fa-3x text-muted opacity-25 mb-3"></i>
                                    <h6 class="text-muted">Henz kaytl bir rezervasyon yok.</h6>
                                    <p class="text-muted small mb-0">Yukardaki formu kullanarak ilk kayd
                                        oluturabilirsiniz.</p>
                                </div>
                            @else
                                <div class="row g-3">
                                    @foreach ($event->bookings as $booking)
                                        @php
                                            $typeClass = match ($booking->type) {
                                                'flight' => 'border-primary',
                                                'hotel' => 'border-success',
                                                'bus' => 'border-warning',
                                                default => 'border-secondary',
                                            };

                                            $iconClass = match ($booking->type) {
                                                'flight' => 'fa-plane text-primary bg-primary bg-opacity-10',
                                                'hotel' => 'fa-hotel text-success bg-success bg-opacity-10',
                                                'bus' => 'fa-bus text-warning bg-warning bg-opacity-10',
                                                default => 'fa-ticket text-secondary bg-secondary bg-opacity-10',
                                            };
                                            $typeLabel = match ($booking->type) {
                                                'flight' => 'Uak Bileti',
                                                'hotel' => 'Otel Konaklama',
                                                'bus' => 'Otobs / Transfer',
                                                default => 'Dier Rezervasyon',
                                            };
                                        @endphp

                                        <div class="col-md-6 col-xl-4">
                                            <div
                                                class="card h-100 border-0 shadow-sm {{ $typeClass }} border-start border-start-5">
                                                <div class="card-body">
                                                    <div class="d-flex justify-content-between align-items-start mb-3">
                                                        <div class="d-flex align-items-center gap-3">
                                                            <div class="rounded-circle d-flex align-items-center justify-content-center"
                                                                style="width: 45px; height: 45px; min-width: 45px;">
                                                                <i
                                                                    class="fa-solid {{ $iconClass }} p-2 rounded-circle w-100 h-100 d-flex justify-content-center align-items-center"></i>
                                                            </div>
                                                            <div>
                                                                <h6 class="fw-bold mb-0 text-dark">
                                                                    {{ $booking->provider_name }}</h6>
                                                                <small class="text-muted">{{ $typeLabel }}</small>
                                                            </div>
                                                        </div>
                                                        <div class="dropdown">
                                                            <button class="btn btn-sm btn-light rounded-circle"
                                                                data-bs-toggle="dropdown">
                                                                <i class="fa-solid fa-ellipsis"></i>
                                                            </button>
                                                            <ul class="dropdown-menu dropdown-menu-end border-0 shadow">
                                                                @if (Auth::id() == $booking->user_id || Auth::user()->can('is-global-manager'))
                                                                    <li><a class="dropdown-item"
                                                                            href="{{ route('bookings.edit', $booking) }}">Dzenle</a>
                                                                    </li>
                                                                    <li>
                                                                        <form
                                                                            action="{{ route('bookings.destroy', $booking) }}"
                                                                            method="POST"
                                                                            onsubmit="return confirm('Silmek istediine emin misin?')">
                                                                            @csrf @method('DELETE')
                                                                            <button type="submit"
                                                                                class="dropdown-item text-danger">Sil</button>
                                                                        </form>
                                                                    </li>
                                                                @endif
                                                            </ul>
                                                        </div>
                                                    </div>

                                                    <div class="bg-light rounded p-2 mb-3">
                                                        <div class="d-flex justify-content-between mb-1">
                                                            <small class="text-muted">Tarih:</small>
                                                            <small
                                                                class="fw-bold">{{ \Carbon\Carbon::parse($booking->start_datetime)->format('d.m.Y H:i') }}</small>
                                                        </div>
                                                        <div class="d-flex justify-content-between">
                                                            <small class="text-muted">Kod:</small>
                                                            <small
                                                                class="fw-bold">{{ $booking->confirmation_code ?? '-' }}</small>
                                                        </div>
                                                    </div>

                                                    <div class="d-flex justify-content-between align-items-center">
                                                        <div>
                                                            @if ($booking->notes)
                                                                <span class="badge bg-light text-dark border"
                                                                    data-bs-toggle="tooltip"
                                                                    title="{{ $booking->notes }}">
                                                                    <i class="fa-solid fa-note-sticky me-1"></i> Not Var
                                                                </span>
                                                            @endif
                                                        </div>
                                                        <h5 class="text-success mb-0 fw-bold">
                                                            {{ number_format($booking->cost, 2) }} </h5>
                                                    </div>
                                                </div>
                                            </div>
                                        </div>
                                    @endforeach
                                </div>
                            @endif
                        </div>

                    @endif

                </div>
            </div>
        </div>
    </div>
@endsection


----------------------------------------
DOSYA YOLU: resources\views\service\vehicles\create.blade.php
----------------------------------------

@extends('layouts.app')

@section('title', 'Yeni Ara Ekle')

@push('styles')
    <style>
        /* Ana ierik alanna (main) animasyonlu arka plan uygula */
        #app>main.py-4 {
            padding: 2.5rem 0 !important;
            min-height: calc(100vh - 72px);
            background: linear-gradient(-45deg,
                    #dbe4ff,
                    #fde2ff,
                    #d9fcf7,
                    #fff0d9);
            background-size: 400% 400%;
            animation: gradientWave 18s ease infinite;
        }

        /* Arka plan dalgalanma animasyonu */
        @keyframes gradientWave {
            0% {
                background-position: 0% 50%;
            }

            50% {
                background-position: 100% 50%;
            }

            100% {
                background-position: 0% 50%;
            }
        }

        /* === GNCELLEND (create-vehicle-card) === */
        .create-vehicle-card {
            border-radius: 1rem;
            box-shadow: none !important;
            border: 0;
            background-color: transparent;
            backdrop-filter: none;
        }

        .create-vehicle-card .card-header,
        .create-vehicle-card .form-label {
            color: #444;
            font-weight: bold;
            text-shadow: 0 1px 2px rgba(255, 255, 255, 0.7);
        }

        .create-vehicle-card .card-header {
            color: #000;
        }

        .create-vehicle-card .form-control,
        .create-vehicle-card .form-select,
        .create-vehicle-card .form-check-input {
            border-radius: 0.5rem;
            background-color: rgba(255, 255, 255, 0.8);
        }

        .create-vehicle-card .form-check-input {
            border: 1px solid rgba(0, 0, 0, .25);
            /* Kenarlk */
            cursor: pointer;
            /* Mouse ile zerine gelince el iareti ksn */
            position: relative;
            /* Pozisyonu belirginletir */
            z-index: 10;
            /* Dier elementlerin zerinde kalmasn sala */
        }

        /* Label'a da tklaynca almas iin bunu ekleyin */
        .create-vehicle-card .form-check-label {
            cursor: pointer;
            position: relative;
            z-index: 10;
            user-select: none;
            /* Yaznn seilmesini engelle, tklamay kolaylatr */
        }

        .create-vehicle-card .form-check-input:checked {
            /* Arka plan temanza uygun mor/mavi yap */
            background-color: #667EEA !important;
            border-color: #667EEA !important;

            /* Tik iaretini (SVG) zorla gster ve beyaz yap */
            background-image: url("data:image/svg+xml,%3csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 20 20'%3e%3cpath fill='none' stroke='%23fff' stroke-linecap='round' stroke-linejoin='round' stroke-width='3' d='M6 10l3 3l6-6'/%3e%3c/svg%3e") !important;

            /* Glge efekti ekle ki seildii belli olsun */
            box-shadow: 0 0 10px rgba(102, 126, 234, 0.5);
        }

        /* Animasyonlu buton (Deiiklik yok) */
        .btn-animated-gradient {
            background: linear-gradient(-45deg,
                    #667EEA, #F093FB, #4FD1C5, #FBD38D);
            background-size: 400% 400%;
            animation: gradientWave 18s ease infinite;
            border: none;
            color: white;
            font-weight: bold;
            transition: transform 0.2s ease-out, box-shadow 0.2s ease-out;
        }

        .btn-animated-gradient:hover {
            color: white;
            transform: scale(1.05);
            box-shadow: 0 4px 15px rgba(0, 0, 0, 0.1);
        }
    </style>
@endpush

@section('content')
    <div class="container">
        <div class="row justify-content-center">
            {{-- Stun genilii ayarland (col-md-8) --}}
            <div class="col-md-8">
                {{-- CSS Snf gncellendi --}}
                <div class="card create-vehicle-card">
                    {{-- Balk gncellendi --}}
                    <div class="card-header h4 bg-transparent border-0 pt-4">{{ __('Yeni Ara Ekle') }}</div>
                    <div class="card-body p-4">
                        @if (session('success'))
                            <div class="alert alert-success" role="alert">{{ session('success') }}</div>
                        @endif

                        {{-- Form action gncellendi --}}
                        <form method="POST" action="{{ route('service.vehicles.store') }}">
                            @csrf
                            {{-- Row kaldrld, tek stunlu form --}}
                            <div class="mb-3">
                                <label for="plate_number" class="form-label">Plaka (*)</label>
                                <input type="text" class="form-control @error('plate_number') is-invalid @enderror"
                                    id="plate_number" name="plate_number" value="{{ old('plate_number') }}" required
                                    placeholder="rn: 34 ABC 123">
                                @error('plate_number')
                                    <div class="invalid-feedback">{{ $message }}</div>
                                @enderror
                            </div>

                            <div class="mb-3">
                                <label for="type" class="form-label">Ara Tipi (*)</label>
                                <input type="text" class="form-control @error('type') is-invalid @enderror"
                                    id="type" name="type" value="{{ old('type') }}" required
                                    placeholder="rn: Kamyonet, Otomobil, Minibs">
                                @error('type')
                                    <div class="invalid-feedback">{{ $message }}</div>
                                @enderror
                            </div>

                            <div class="mb-3">
                                <label for="brand_model" class="form-label">Marka / Model</label>
                                <input type="text" class="form-control @error('brand_model') is-invalid @enderror"
                                    id="brand_model" name="brand_model" value="{{ old('brand_model') }}"
                                    placeholder="rn: Ford Transit, Fiat Doblo">
                                @error('brand_model')
                                    <div class="invalid-feedback">{{ $message }}</div>
                                @enderror
                            </div>

                            <div class="mb-3">
                                <label for="description" class="form-label">Aklama / Notlar</label>
                                <textarea class="form-control @error('description') is-invalid @enderror" id="description" name="description"
                                    rows="3">{{ old('description') }}</textarea>
                                @error('description')
                                    <div class="invalid-feedback">{{ $message }}</div>
                                @enderror
                            </div>

                            {{-- Aktif mi Checkbox' --}}
                            <div class="mb-3 form-check">
                                <input type="checkbox" class="form-check-input" id="is_active" name="is_active"
                                    value="1" {{ old('is_active', true) ? 'checked' : '' }}>
                                <label class="form-check-label" for="is_active">Ara Aktif (Kullanmda)</label>
                            </div>

                            <div class="mb-3 form-check border-top pt-3 mt-3">
                                <input type="checkbox" class="form-check-input @error('kvkk_onay') is-invalid @enderror"
                                    id="kvkk_onay" name="kvkk_onay" value="1" {{ old('kvkk_onay') ? 'checked' : '' }}>
                                <label class="form-check-label" for="kvkk_onay">
                                    <!--
                                                                    !!! DKKAT !!!
                                                                    Aadaki 'href' adresini kendi KVKK metninizin
                                                                    bulunduu sayfann URL'si ile deitirin.
                                                                -->
                                    <a href="{{ url('/kvkk-aydinlatma-metni') }}" target="_blank"
                                        class="text-decoration-underline" style="color: #0d6efd;">
                                        KVKK Aydnlatma Metni'ni
                                    </a>
                                    okudum, anladm ve ara verilerinin (plaka, marka vb.)
                                    kaydedilmesini ve ilenmesini kabul ediyorum.
                                </label>
                                @error('kvkk_onay')
                                    {{-- Hata mesaj checkbox'n altnda grnr yaplr --}}
                                    <div class="invalid-feedback d-block">{{ $message }}</div>
                                @enderror
                            </div>


                            <div class="text-end mt-4">
                                {{-- Buton metni gncellendi --}}
                                <button type="submit" class="btn btn-animated-gradient rounded-3 px-4 py-2">Arac
                                    Kaydet</button>
                                <a href="{{ route('service.vehicles.index') }}"
                                    class="btn btn-outline-secondary rounded-3">ptal</a>
                            </div>
                        </form>
                    </div>
                </div>
            </div>
        </div>
    </div>
@endsection

@section('page_scripts')
    <script>
        // Sayfa tamamen yklendiinde al
        document.addEventListener('DOMContentLoaded', function() {
            // Gerekli elementleri se
            const kvkkCheckbox = document.getElementById('kvkk_onay');
            const submitButton = document.getElementById('submit-button');

            // Kontrol: Bu elementler sayfada varsa devam et
            if (kvkkCheckbox && submitButton) {

                // Butonun mevcut durumunu ayarlamak iin bir fonksiyon
                function toggleSubmitButton() {
                    // Checkbox seiliyse 'disabled' zelliini kaldr,
                    // seili deilse 'disabled' zelliini ekle (true yap).
                    submitButton.disabled = !kvkkCheckbox.checked;
                }

                // 1. Sayfa ilk yklendiinde butonun durumunu ayarla
                //    (Eer form hatadan dolay geri dnerse ve checkbox iaretliyse, buton aktif kalr)
                toggleSubmitButton();

                // 2. Checkbox'n durumunda herhangi bir deiiklik olduunda
                //    (tklandnda) fonksiyonu tekrar altr
                kvkkCheckbox.addEventListener('change', toggleSubmitButton);
            }
        });
    </script>
@endsection


----------------------------------------
DOSYA YOLU: resources\views\service\vehicles\edit.blade.php
----------------------------------------

@extends('layouts.app')

@section('title', 'Ara Bilgilerini Dzenle')

@push('styles')
    <style>
        /* Ana ierik alanna (main) animasyonlu arka plan uygula */
        #app>main.py-4 {
            padding: 2.5rem 0 !important;
            min-height: calc(100vh - 72px);
            background: linear-gradient(-45deg,
                    #dbe4ff,
                    #fde2ff,
                    #d9fcf7,
                    #fff0d9);
            background-size: 400% 400%;
            animation: gradientWave 18s ease infinite;
        }

        /* Arka plan dalgalanma animasyonu */
        @keyframes gradientWave {
            0% {
                background-position: 0% 50%;
            }

            50% {
                background-position: 100% 50%;
            }

            100% {
                background-position: 0% 50%;
            }
        }

        /* === GNCELLEND (edit-vehicle-card) === */
        .edit-vehicle-card {
            border-radius: 1rem;
            box-shadow: none !important;
            border: 0;
            background-color: transparent;
            backdrop-filter: none;
        }

        .edit-vehicle-card .card-header,
        .edit-vehicle-card .form-label {
            color: #444;
            font-weight: bold;
            text-shadow: 0 1px 2px rgba(255, 255, 255, 0.7);
        }

        .edit-vehicle-card .card-header {
            color: #000;
        }

        .edit-vehicle-card .form-control,
        .edit-vehicle-card .form-select,
        .edit-vehicle-card .form-check-input {
            border-radius: 0.5rem;
            background-color: rgba(255, 255, 255, 0.8);
        }

        .edit-vehicle-card .form-check-input {
            border: 1px solid rgba(0, 0, 0, .25);
            cursor: pointer;
            position: relative;
            /* Tklanabilirlik iin */
            z-index: 10;
            /* Katman sorunu iin */
        }

        .edit-vehicle-card .form-check-label {
            cursor: pointer;
            position: relative;
            z-index: 10;
            user-select: none;
        }

        /* CHECKBOX SEL (CHECKED) DURUMU */
        .edit-vehicle-card .form-check-input:checked {
            background-color: #667EEA !important;
            border-color: #667EEA !important;
            background-image: url("data:image/svg+xml,%3csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 20 20'%3e%3cpath fill='none' stroke='%23fff' stroke-linecap='round' stroke-linejoin='round' stroke-width='3' d='M6 10l3 3l6-6'/%3e%3c/svg%3e") !important;
            box-shadow: 0 0 10px rgba(102, 126, 234, 0.5);
        }

        /* Animasyonlu buton (Deiiklik yok) */
        .btn-animated-gradient {
            background: linear-gradient(-45deg,
                    #667EEA, #F093FB, #4FD1C5, #FBD38D);
            background-size: 400% 400%;
            animation: gradientWave 18s ease infinite;
            border: none;
            color: white;
            font-weight: bold;
            transition: transform 0.2s ease-out, box-shadow 0.2s ease-out;
        }

        .btn-animated-gradient:hover {
            color: white;
            transform: scale(1.05);
            box-shadow: 0 4px 15px rgba(0, 0, 0, 0.1);
        }
    </style>
@endpush

@section('content')
    <div class="container">
        <div class="row justify-content-center">
            <div class="col-md-8">
                {{-- CSS Snf gncellendi --}}
                <div class="card edit-vehicle-card">
                    {{-- Balk ve Sil Butonu gncellendi --}}
                    <div
                        class="card-header d-flex justify-content-between align-items-center h4 bg-transparent border-0 pt-4">
                        <span>{{ __('Ara Bilgilerini Dzenle') }}</span>

                        @if (Auth::user()->role === 'admin')
                            <form method="POST" action="{{ route('service.vehicles.destroy', $vehicle->id) }}"
                                onsubmit="return confirm('Bu arac silmek istediinizden emin misiniz? Araca ait tm gemi atamalar da silinebilir!');">
                                @csrf
                                @method('DELETE')
                                <button type="submit" class="btn btn-danger btn-sm">Arac Sil</button>
                            </form>
                        @endif
                    </div>

                    <div class="card-body p-4">
                        @if (session('success'))
                            <div class="alert alert-success" role="alert">{{ session('success') }}</div>
                        @endif

                        {{-- Form action ve method gncellendi --}}
                        <form method="POST" action="{{ route('service.vehicles.update', $vehicle->id) }}">
                            @csrf
                            @method('PUT')

                            <div class="mb-3">
                                <label for="plate_number" class="form-label">Plaka (*)</label>
                                {{-- Veri doldurma gncellendi --}}
                                <input type="text" class="form-control @error('plate_number') is-invalid @enderror"
                                    id="plate_number" name="plate_number"
                                    value="{{ old('plate_number', $vehicle->plate_number) }}" required
                                    placeholder="rn: 34 ABC 123">
                                @error('plate_number')
                                    <div class="invalid-feedback">{{ $message }}</div>
                                @enderror
                            </div>

                            <div class="mb-3">
                                <label for="type" class="form-label">Ara Tipi (*)</label>
                                {{-- Veri doldurma gncellendi --}}
                                <input type="text" class="form-control @error('type') is-invalid @enderror"
                                    id="type" name="type" value="{{ old('type', $vehicle->type) }}" required
                                    placeholder="rn: Kamyonet, Otomobil, Minibs">
                                @error('type')
                                    <div class="invalid-feedback">{{ $message }}</div>
                                @enderror
                            </div>

                            <div class="mb-3">
                                <label for="brand_model" class="form-label">Marka / Model</label>
                                {{-- Veri doldurma gncellendi --}}
                                <input type="text" class="form-control @error('brand_model') is-invalid @enderror"
                                    id="brand_model" name="brand_model"
                                    value="{{ old('brand_model', $vehicle->brand_model) }}"
                                    placeholder="rn: Ford Transit, Fiat Doblo">
                                @error('brand_model')
                                    <div class="invalid-feedback">{{ $message }}</div>
                                @enderror
                            </div>

                            <div class="mb-3">
                                <label for="description" class="form-label">Aklama / Notlar</label>
                                {{-- Veri doldurma gncellendi --}}
                                <textarea class="form-control @error('description') is-invalid @enderror" id="description" name="description"
                                    rows="3">{{ old('description', $vehicle->description) }}</textarea>
                                @error('description')
                                    <div class="invalid-feedback">{{ $message }}</div>
                                @enderror
                            </div>

                            {{-- Aktif mi Checkbox' --}}
                            <div class="mb-3 form-check">
                                {{-- Veri doldurma gncellendi --}}
                                <input type="checkbox" class="form-check-input" id="is_active" name="is_active"
                                    value="1" {{ old('is_active', $vehicle->is_active) ? 'checked' : '' }}>
                                <label class="form-check-label" for="is_active">Ara Aktif (Kullanmda)</label>
                            </div>

                            <div class="text-end mt-4">
                                {{-- Butonlar gncellendi --}}
                                <button type="submit" class="btn btn-animated-gradient rounded-3 px-4 py-2">Deiiklikleri
                                    Kaydet</button>
                                <a href="{{ route('service.vehicles.index') }}"
                                    class="btn btn-outline-secondary rounded-3">ptal</a>
                            </div>
                        </form>
                    </div>
                </div>
            </div>
        </div>
    </div>
@endsection


----------------------------------------
DOSYA YOLU: resources\views\service\vehicles\index.blade.php
----------------------------------------

@extends('layouts.app')

@section('title', 'Ara Listesi')

@push('styles')
    <style>
        .page-header-gradient {
            background: linear-gradient(135deg, #667EEA 0%, #764BA2 100%);
            color: white;
            border-radius: 15px;
            padding: 2rem;
            margin-bottom: 2rem;
            box-shadow: 0 10px 20px rgba(118, 75, 162, 0.2);
        }

        .filter-card {
            background: white;
            border: none;
            border-radius: 15px;
            box-shadow: 0 5px 15px rgba(0, 0, 0, 0.05);
            margin-bottom: 2rem;
            overflow: hidden;
        }

        .filter-header {
            background: linear-gradient(135deg, #f6f8fb 0%, #ffffff 100%);
            padding: 1rem 1.5rem;
            border-bottom: 1px solid #e9ecef;
        }

        .filter-body {
            padding: 1.5rem;
        }

        .btn-filter-toggle {
            background-color: rgba(255, 255, 255, 0.2);
            border: 1px solid rgba(255, 255, 255, 0.3);
            color: white;
            font-weight: 500;
            transition: all 0.3s ease;
        }

        .btn-filter-toggle:hover {
            background-color: rgba(255, 255, 255, 0.3);
            border-color: rgba(255, 255, 255, 0.5);
            color: white;
        }

        .vehicle-card {
            border: none;
            border-radius: 15px;
            transition: all 0.3s ease;
            background: white;
            box-shadow: 0 5px 15px rgba(0, 0, 0, 0.05);
        }

        .vehicle-card:hover {
            transform: translateY(-5px);
            box-shadow: 0 15px 30px rgba(0, 0, 0, 0.1);
        }

        .status-badge {
            padding: 5px 12px;
            border-radius: 20px;
            font-size: 0.8rem;
            font-weight: bold;
        }

        .status-active {
            background-color: #d1fae5;
            color: #065f46;
        }

        .status-inactive {
            background-color: #fee2e2;
            color: #991b1b;
        }

        .table thead th {
            background: #f8f9fa;
            color: #495057;
            font-weight: 600;
            font-size: 0.875rem;
            text-transform: uppercase;
            letter-spacing: 0.5px;
            border-bottom: 2px solid #dee2e6;
        }

        .table tbody tr {
            transition: all 0.2s;
        }

        .table tbody tr:hover {
            background-color: rgba(102, 126, 234, 0.05);
        }

        .btn-create {
            background: rgba(255, 255, 255, 0.2);
            border: 1px solid rgba(255, 255, 255, 0.3);
            color: white;
            backdrop-filter: blur(10px);
            padding: 0.6rem 1.5rem;
            border-radius: 0.5rem;
            font-weight: 500;
            transition: all 0.3s ease;
        }

        .btn-create:hover {
            background: rgba(255, 255, 255, 0.3);
            border-color: rgba(255, 255, 255, 0.5);
            color: white;
            transform: translateY(-2px);
        }

        .empty-state {
            text-align: center;
            padding: 3rem 2rem;
        }

        .empty-state i {
            font-size: 3rem;
            color: #dee2e6;
            margin-bottom: 1rem;
        }

        /* Modern Action Buttons */
        .action-btn-group {
            display: inline-flex;
            gap: 0.5rem;
            align-items: center;
        }

        .btn-action {
            width: 38px;
            height: 38px;
            border-radius: 0.5rem;
            display: inline-flex;
            align-items: center;
            justify-content: center;
            border: 2px solid;
            background: white;
            transition: all 0.3s ease;
            padding: 0;
        }

        .btn-action i {
            font-size: 0.95rem;
        }

        .btn-action-edit {
            border-color: #667EEA;
            color: #667EEA;
        }

        .btn-action-edit:hover {
            background: linear-gradient(135deg, #667EEA, #764BA2);
            border-color: #667EEA;
            color: white;
            transform: translateY(-2px);
            box-shadow: 0 4px 12px rgba(102, 126, 234, 0.3);
        }

        .btn-action-delete {
            border-color: #F093FB;
            color: #F093FB;
        }

        .btn-action-delete:hover {
            background: linear-gradient(135deg, #F093FB, #F5576C);
            border-color: #F093FB;
            color: white;
            transform: translateY(-2px);
            box-shadow: 0 4px 12px rgba(240, 147, 251, 0.3);
        }
    </style>
@endpush

@section('content')
    <div class="container-fluid px-4">

        {{-- Hero Section --}}
        <div class="page-header-gradient">
            <div class="d-flex justify-content-between align-items-center">
                <div>
                    <h2 class="mb-1"><i class="fas fa-car me-2"></i>Ara Listesi</h2>
                    <p class="mb-0 opacity-75">Tm aralarn ynetimi ve takibi</p>
                </div>
                <a href="{{ route('service.vehicles.create') }}" class="btn btn-create">
                    <i class="fas fa-plus me-1"></i> Yeni Ara Ekle
                </a>
            </div>
        </div>

        {{-- Alerts --}}
        @if (session('success'))
            <div class="alert alert-success alert-dismissible fade show" role="alert">
                <i class="fas fa-check-circle me-2"></i>{{ session('success') }}
                <button type="button" class="btn-close" data-bs-dismiss="alert"></button>
            </div>
        @endif
        @if (session('error'))
            <div class="alert alert-danger alert-dismissible fade show" role="alert">
                <i class="fas fa-exclamation-circle me-2"></i>{{ session('error') }}
                <button type="button" class="btn-close" data-bs-dismiss="alert"></button>
            </div>
        @endif

        {{-- Filter Card --}}
        <div class="filter-card">
            <div class="filter-header">
                <button class="btn btn-link text-decoration-none p-0 w-100 text-start" type="button"
                    data-bs-toggle="collapse" data-bs-target="#filterCollapse" aria-expanded="false"
                    aria-controls="filterCollapse">
                    <div class="d-flex justify-content-between align-items-center">
                        <h5 class="mb-0 text-dark">
                            <i class="fas fa-filter me-2" style="color: #667EEA;"></i>
                            Filtreleme Seenekleri
                        </h5>
                        <i class="fas fa-chevron-down text-muted"></i>
                    </div>
                </button>
            </div>

            <div class="collapse" id="filterCollapse">
                <div class="filter-body">
                    <form method="GET" action="{{ route('service.vehicles.index') }}" autocomplete="off">
                        <div class="row g-3">
                            {{-- Plaka Filtresi --}}
                            <div class="col-md-4">
                                <label for="plate_number" class="form-label">
                                    <i class="fas fa-hashtag me-1"></i> Plaka
                                </label>
                                <input type="text" class="form-control" id="plate_number" name="plate_number"
                                    value="{{ $filters['plate_number'] ?? '' }}" placeholder="Plaka girin...">
                            </div>

                            {{-- Ara Tipi Filtresi --}}
                            <div class="col-md-4">
                                <label for="type" class="form-label">
                                    <i class="fas fa-car-side me-1"></i> Ara Tipi
                                </label>
                                <input type="text" class="form-control" id="type" name="type"
                                    value="{{ $filters['type'] ?? '' }}" placeholder="rn: Kamyonet, Otomobil...">
                            </div>

                            {{-- Durum Filtresi --}}
                            <div class="col-md-4">
                                <label for="status" class="form-label">
                                    <i class="fas fa-toggle-on me-1"></i> Durum
                                </label>
                                <select class="form-select" id="status" name="status">
                                    <option value="all" {{ ($filters['status'] ?? 'all') == 'all' ? 'selected' : '' }}>
                                        Tm</option>
                                    <option value="active"
                                        {{ ($filters['status'] ?? 'all') == 'active' ? 'selected' : '' }}>Aktif</option>
                                    <option value="inactive"
                                        {{ ($filters['status'] ?? 'all') == 'inactive' ? 'selected' : '' }}>Pasif</option>
                                </select>
                            </div>
                        </div>

                        {{-- Butonlar --}}
                        <div class="row mt-4">
                            <div class="col-12 d-flex justify-content-end gap-2">
                                <a href="{{ route('service.vehicles.index') }}" class="btn btn-outline-secondary">
                                    <i class="fas fa-times me-1"></i> Temizle
                                </a>
                                <button type="submit" class="btn btn-primary">
                                    <i class="fas fa-check me-1"></i> Filtrele
                                </button>
                            </div>
                        </div>
                    </form>
                </div>
            </div>
        </div>

        {{-- Vehicle List Card --}}
        <div class="vehicle-card">
            <div class="card-body p-0">
                @if ($vehicles->isEmpty())
                    <div class="empty-state">
                        <i class="fas fa-car fa-3x text-secondary"></i>
                        <h5 class="text-muted mt-3">Henz Ara Yok</h5>
                        <p class="text-muted mb-0">Filtrelere uygun ara bulunamad.</p>
                    </div>
                @else
                    <div class="table-responsive">
                        <table class="table table-hover align-middle mb-0">
                            <thead>
                                <tr>
                                    <th class="ps-4 py-3">Plaka</th>
                                    <th>Tip</th>
                                    <th>Marka/Model</th>
                                    <th>Durum</th>
                                    <th class="text-end pe-4">lemler</th>
                                </tr>
                            </thead>
                            <tbody>
                                @foreach ($vehicles as $vehicle)
                                    <tr>
                                        <td class="ps-4 fw-bold text-primary">{{ $vehicle->plate_number }}</td>
                                        <td>{{ $vehicle->type }}</td>
                                        <td>
                                            <div class="d-flex flex-column">
                                                <span class="fw-semibold">{{ $vehicle->brand_model ?? '-' }}</span>
                                            </div>
                                        </td>
                                        <td>
                                            @if ($vehicle->is_active)
                                                <span class="status-badge status-active">Aktif</span>
                                            @else
                                                <span class="status-badge status-inactive">Pasif</span>
                                            @endif
                                        </td>
                                        <td class="text-end pe-4">
                                            <div class="action-btn-group">
                                                @if (!in_array(Auth::user()->role, ['izleyici']))
                                                    <a href="{{ route('service.vehicles.edit', $vehicle) }}"
                                                        class="btn btn-action btn-action-edit" title="Dzenle">
                                                        <i class="fas fa-edit"></i>
                                                    </a>
                                                @endif

                                                @can('access-department', 'hizmet')
                                                    <form action="{{ route('service.vehicles.destroy', $vehicle) }}"
                                                        method="POST" class="d-inline"
                                                        onsubmit="return confirm('Bu arac silmek istediinizden emin misiniz? Araca ait tm gemi atamalar da silinebilir!');">
                                                        @csrf
                                                        @method('DELETE')
                                                        <button type="submit" class="btn btn-action btn-action-delete"
                                                            title="Sil">
                                                            <i class="fas fa-trash"></i>
                                                        </button>
                                                    </form>
                                                @endcan
                                            </div>
                                        </td>
                                    </tr>
                                @endforeach
                            </tbody>
                        </table>
                    </div>

                    {{-- Pagination --}}
                    @if ($vehicles->hasPages())
                        <div class="card-footer bg-white border-0 py-3">
                            {{ $vehicles->appends($filters ?? [])->links('pagination::bootstrap-5') }}
                        </div>
                    @endif
                @endif
            </div>
        </div>
    </div>
@endsection

{{-- JavaScript --}}
@section('page_scripts')
    <script>
        document.addEventListener('DOMContentLoaded', function() {
            var filterCollapse = document.getElementById('filterCollapse');
            var filterButton = document.querySelector('[data-bs-target="#filterCollapse"]');
            var filterIcon = filterButton ? filterButton.querySelector('.fa-chevron-down') : null;

            if (filterCollapse && filterIcon) {
                filterCollapse.addEventListener('show.bs.collapse', function() {
                    filterIcon.classList.remove('fa-chevron-down');
                    filterIcon.classList.add('fa-chevron-up');
                });
                filterCollapse.addEventListener('hide.bs.collapse', function() {
                    filterIcon.classList.remove('fa-chevron-up');
                    filterIcon.classList.add('fa-chevron-down');
                });
            }
        });
    </script>
@endsection


----------------------------------------
DOSYA YOLU: resources\views\shipments\create.blade.php
----------------------------------------

@extends('layouts.app')

@section('title', 'Yeni Sevkiyat Kayd')

@push('styles')
    <style>
        /* Ana ierik alanna (main) animasyonlu arka plan uygula */
        #app>main.py-4 {
            padding: 2.5rem 0 !important;
            min-height: calc(100vh - 72px);
            background: linear-gradient(-45deg,
                    #dbe4ff,
                    /* #667EEA (Canl mavi-mor) tonu */
                    #fde2ff,
                    /* #F093FB (Yumuak pembe) tonu */
                    #d9fcf7,
                    /* #4FD1C5 (Teal/turkuaz) tonu */
                    #fff0d9
                    /* #FBD38D (Scak sar) tonu */
                );
            background-size: 400% 400%;
            animation: gradientWave 18s ease infinite;
        }

        /* Arka plan dalgalanma animasyonu */
        @keyframes gradientWave {
            0% {
                background-position: 0% 50%;
            }

            50% {
                background-position: 100% 50%;
            }

            100% {
                background-position: 0% 50%;
            }
        }

        /* === GNCELLEND (TAM EFFAF KART) === */
        .create-shipment-card {
            border-radius: 1rem;
            /* Glgeyi ve blur'u kaldryoruz */
            box-shadow: none !important;
            border: 0;
            /* Arka plan tamamen effaf yapyoruz */
            background-color: transparent;
            backdrop-filter: none;
        }

        .create-shipment-card .card-header,
        .create-shipment-card .form-label {
            color: #444;
            /* Koyu renk (veya #FFFFFF beyaz) metin */
            font-weight: bold;
            /* Kaln Metin */
            /* Hareketli arka plan zerinde okunabilirlik iin hafif glge */
            text-shadow: 0 1px 2px rgba(255, 255, 255, 0.7);
        }

        .create-shipment-card .card-header {
            color: #000;
            /* Balk siyah kalsn */
        }

        /* Yumuak keli form elemanlar */
        .create-shipment-card .form-control,
        .create-shipment-card .form-select {
            border-radius: 0.5rem;
            /* Formlarn iini daha okunakl yapmak iin hafif opaklk */
            background-color: rgba(255, 255, 255, 0.8);
        }

        /* Animasyonlu buton (Deiiklik yok) */
        .btn-animated-gradient {
            background: linear-gradient(-45deg,
                    #667EEA, #F093FB, #4FD1C5, #FBD38D);
            background-size: 400% 400%;
            animation: gradientWave 18s ease infinite;
            border: none;
            color: white;
            font-weight: bold;
            transition: transform 0.2s ease-out, box-shadow 0.2s ease-out;
        }

        .btn-animated-gradient:hover {
            color: white;
            transform: scale(1.05);
            box-shadow: 0 4px 15px rgba(0, 0, 0, 0.1);
        }
    </style>
@endpush

@section('content')
    <div class="container">
        <div class="row justify-content-center">
            <div class="col-md-10">
                <div class="card create-shipment-card">
                    <div class="card-header h4 bg-transparent border-0 pt-4">{{ __('Yeni Sevkiyat Kayd Olutur') }}</div>
                    <div class="card-body p-4">
                        @if (session('success'))
                            <div class="alert alert-success" role="alert">{{ session('success') }}</div>
                        @endif

                        <form method="POST" action="{{ route('shipments.store') }}" enctype="multipart/form-data"
                            autocomplete="off">
                            @csrf
                            <div class="row">
                                {{-- Sol Stun --}}
                                <div class="col-md-6">
                                    <div class="mb-3">
                                        <label for="arac_tipi" class="form-label">Ara Tipi (*)</label>
                                        <select name="arac_tipi" id="arac_tipi"
                                            class="form-select @error('arac_tipi') is-invalid @enderror" required
                                            autocomplete="off">
                                            <option value="">Seiniz...</option>
                                            <option value="tr" @if (old('arac_tipi') == 'tr') selected @endif>Tr
                                            </option>
                                            <option value="gemi" @if (old('arac_tipi') == 'gemi') selected @endif>Gemi
                                            </option>
                                            <option value="kamyon" @if (old('arac_tipi') == 'kamyon') selected @endif>Kamyon
                                            </option>
                                        </select>
                                        @error('arac_tipi')
                                            <div class="invalid-feedback">{{ $message }}</div>
                                        @enderror
                                    </div>

                                    <div id="karaAraciAlanlari" style="display: none;">
                                        <div class="mb-3">
                                            <label for="plaka" class="form-label">Plaka (*)</label>
                                            <input type="text" class="form-control @error('plaka') is-invalid @enderror"
                                                id="plaka" name="plaka" value="{{ old('plaka') }}"
                                                autocomplete="off">
                                            @error('plaka')
                                                <div class="invalid-feedback">{{ $message }}
                                                </div>
                                            @enderror
                                        </div>
                                        <div class="mb-3" id="dorse_plakasi_div">
                                            <label for="dorse_plakasi" class="form-label">Dorse Plakas (*)</label>
                                            <input type="text"
                                                class="form-control @error('dorse_plakasi') is-invalid @enderror"
                                                id="dorse_plakasi" name="dorse_plakasi" value="{{ old('dorse_plakasi') }}"
                                                autocomplete="off">
                                            @error('dorse_plakasi')
                                                <div class="invalid-feedback">{{ $message }}
                                                </div>
                                            @enderror
                                        </div>
                                        <div class="mb-3">
                                            <label for="sofor_adi" class="form-label">ofr Ad</label>
                                            <input type="text"
                                                class="form-control @error('sofor_adi') is-invalid @enderror" id="sofor_adi"
                                                name="sofor_adi" value="{{ old('sofor_adi') }}" autocomplete="off">
                                            @error('sofor_adi')
                                                <div class="invalid-feedback">{{ $message }}
                                                </div>
                                            @enderror
                                        </div>
                                        <div class="mb-3">
                                            <label for="kalkis_noktasi" class="form-label">Kalk Noktas
                                                (Gmrk/Tesis)</label>
                                            <input type="text" class="form-control" id="kalkis_noktasi"
                                                name="kalkis_noktasi"
                                                value="{{ old('kalkis_noktasi', $shipment->kalkis_noktasi ?? '') }}"
                                                autocomplete="off">
                                        </div>
                                        <div class="mb-3">
                                            <label for="varis_noktasi" class="form-label">Var Noktas
                                                (Gmrk/Tesis)</label>
                                            <input type="text" class="form-control" id="varis_noktasi"
                                                name="varis_noktasi"
                                                value="{{ old('varis_noktasi', $shipment->varis_noktasi ?? '') }}"
                                                autocomplete="off">
                                        </div>
                                    </div>

                                    <div id="gemiAlanlari" style="display: none;">
                                        <div class="mb-3">
                                            <label for="imo_numarasi" class="form-label">IMO Numaras (*)</label>
                                            <input type="text"
                                                class="form-control @error('imo_numarasi') is-invalid @enderror"
                                                id="imo_numarasi" name="imo_numarasi" value="{{ old('imo_numarasi') }}"
                                                autocomplete="off">
                                            @error('imo_numarasi')
                                                <div class="invalid-feedback">{{ $message }}
                                                </div>
                                            @enderror
                                        </div>
                                        <div class="mb-3">
                                            <label for="gemi_adi" class="form-label">Gemi Ad (*)</label>
                                            <input type="text"
                                                class="form-control @error('gemi_adi') is-invalid @enderror" id="gemi_adi"
                                                name="gemi_adi" value="{{ old('gemi_adi') }}" autocomplete="off">
                                            @error('gemi_adi')
                                                <div class="invalid-feedback">{{ $message }}
                                                </div>
                                            @enderror
                                        </div>
                                        <div class="mb-3">
                                            <label for="kalkis_limani" class="form-label">Kalk Liman (*)</label>
                                            <input type="text"
                                                class="form-control @error('kalkis_limani') is-invalid @enderror"
                                                id="kalkis_limani" name="kalkis_limani"
                                                value="{{ old('kalkis_limani') }}" autocomplete="off">
                                            @error('kalkis_limani')
                                                <div class="invalid-feedback">{{ $message }}
                                                </div>
                                            @enderror
                                        </div>
                                        <div class="mb-3">
                                            <label for="varis_limani" class="form-label">Var Liman (*)</label>
                                            <input type="text"
                                                class="form-control @error('varis_limani') is-invalid @enderror"
                                                id="varis_limani" name="varis_limani" value="{{ old('varis_limani') }}"
                                                autocomplete="off">
                                            @error('varis_limani')
                                                <div class="invalid-feedback">{{ $message }}
                                                </div>
                                            @enderror
                                        </div>
                                    </div>

                                    <div class="mb-3">
                                        <label for="cikis_tarihi" class="form-label">Gmrkten / Limandan k Tarihi
                                            (*)</label>
                                        <input type="datetime-local"
                                            class="form-control @error('cikis_tarihi') is-invalid @enderror"
                                            id="cikis_tarihi" name="cikis_tarihi" value="{{ old('cikis_tarihi') }}"
                                            autocomplete="off" required>
                                        @error('cikis_tarihi')
                                            <div class="invalid-feedback">{{ $message }}
                                            </div>
                                        @enderror
                                    </div>
                                    <div class="mb-3">
                                        <label for="tahmini_varis_tarihi" class="form-label">Tesise / Limana Planlanan
                                            Var Tarihi (*)</label>
                                        <input type="datetime-local"
                                            class="form-control @error('tahmini_varis_tarihi') is-invalid @enderror"
                                            id="tahmini_varis_tarihi" name="tahmini_varis_tarihi"
                                            value="{{ old('tahmini_varis_tarihi') }}" autocomplete="off" required>
                                        @error('tahmini_varis_tarihi')
                                            <div class="invalid-feedback">{{ $message }}
                                            </div>
                                        @enderror
                                    </div>
                                </div>

                                {{-- Sa Stun --}}
                                <div class="col-md-6">
                                    <div class="mb-3">
                                        <label for="kargo_icerigi" class="form-label">Kargo Yk / erii (*)</label>
                                        <input type="text"
                                            class="form-control @error('kargo_icerigi') is-invalid @enderror"
                                            id="kargo_icerigi" name="kargo_icerigi" value="{{ old('kargo_icerigi') }}"
                                            autocomplete="off" required>
                                        @error('kargo_icerigi')
                                            <div class="invalid-feedback">{{ $message }}
                                            </div>
                                        @enderror
                                    </div>
                                    <div class="mb-3">
                                        <label for="kargo_tipi" class="form-label">Kargo Yk Tipi (*)</label>
                                        <select name="kargo_tipi" id="kargo_tipi"
                                            class="form-select @error('kargo_tipi') is-invalid @enderror" required
                                            autocomplete="off">
                                            <option value="">Birim Seiniz...</option>
                                            @if (isset($birimler))
                                                @foreach ($birimler as $birim)
                                                    <option value="{{ $birim->ad }}"
                                                        @if (old('kargo_tipi') == $birim->ad) selected @endif>
                                                        {{ $birim->ad }}</option>
                                                @endforeach
                                            @endif
                                        </select>
                                        @error('kargo_tipi')
                                            <div class="invalid-feedback">{{ $message }}</div>
                                        @enderror
                                    </div>
                                    <div class="mb-3">
                                        <label for="kargo_miktari" class="form-label">Yk Miktar (*)</label>
                                        <input type="text"
                                            class="form-control @error('kargo_miktari') is-invalid @enderror"
                                            id="kargo_miktari" name="kargo_miktari" value="{{ old('kargo_miktari') }}"
                                            autocomplete="off" required>
                                        @error('kargo_miktari')
                                            <div class="invalid-feedback">{{ $message }}
                                            </div>
                                        @enderror
                                    </div>

                                    <fieldset class="mb-3">
                                        <legend class="form-label fs-6">Sevkiyat Tr</legend>

                                        <div class="form-check">
                                            <input class="form-check-input" type="radio" name="shipment_type"
                                                id="type_import" value="import"
                                                {{ old('shipment_type', 'import') == 'import' ? 'checked' : '' }}
                                                autocomplete="off">
                                            <label class="form-check-label" for="type_import">
                                                thalat
                                            </label>
                                        </div>
                                        <div class="form-check">
                                            <input class="form-check-input" type="radio" name="shipment_type"
                                                id="type_export" value="export"
                                                {{ old('shipment_type') == 'export' ? 'checked' : '' }}
                                                autocomplete="off">
                                            <label class="form-check-label" for="type_export">
                                                hracat
                                            </label>
                                        </div>
                                    </fieldset>
                                    {{-- Ek Dosya Alan --}}
                                    <div class="mb-3">
                                        <label for="ek_dosya" class="form-label">Ek Dosya (Opsiyonel)</label>
                                        <input class="form-control @error('ek_dosya') is-invalid @enderror"
                                            type="file" id="ek_dosya" name="ek_dosya" autocomplete="off">
                                        @error('ek_dosya')
                                            <div class="invalid-feedback">{{ $message }}</div>
                                        @enderror
                                    </div>

                                    <div class="mb-3">
                                        <label for="aciklamalar" class="form-label">Aklamalar</label>
                                        <textarea class="form-control @error('aciklamalar') is-invalid @enderror" id="aciklamalar" name="aciklamalar"
                                            rows="6" autocomplete="off">{{ old('aciklamalar') }}</textarea>
                                        @error('aciklamalar')
                                            <div class="invalid-feedback">{{ $message }}</div>
                                        @enderror
                                    </div>
                                </div>
                            </div>
                            <div class="text-end mt-3">
                                {{-- DNAMK ALANLAR (HBRT YAPI) --}}
                                <x-dynamic-fields :model="\App\Models\Shipment::class" />
                                <button type="submit" class="btn btn-animated-gradient rounded-3 px-4 py-2">Kayd
                                    Olutur</button>
                            </div>
                        </form>
                    </div>
                </div>
            </div>
        </div>
    </div>
@endsection

@section('page_scripts')
    {{-- JavaScript kodunuzda deiiklik yaplmad --}}
    <script>
        document.addEventListener('DOMContentLoaded', function() {
            const aracTipiDropdown = document.getElementById('arac_tipi');
            const karaAraciAlanlari = document.getElementById('karaAraciAlanlari');
            const dorsePlakasiDiv = document.getElementById('dorse_plakasi_div');
            const gemiAlanlari = document.getElementById('gemiAlanlari');
            const plakaInput = document.getElementById('plaka');
            const dorsePlakasiInput = document.getElementById('dorse_plakasi');
            const imoInput = document.getElementById('imo_numarasi');
            const gemiAdiInput = document.getElementById('gemi_adi');
            const kalkisLimaniInput = document.getElementById('kalkis_limani');
            const varisLimaniInput = document.getElementById('varis_limani');
            const kalkisNoktasiInput = document.getElementById('kalkis_noktasi');
            const varisNoktasiInput = document.getElementById('varis_noktasi');

            function updateVehicleFields() {
                const selectedValue = aracTipiDropdown.value;
                karaAraciAlanlari.style.display = 'none';
                dorsePlakasiDiv.style.display = 'none';
                gemiAlanlari.style.display = 'none';
                plakaInput.required = false;
                dorsePlakasiInput.required = false;
                imoInput.required = false;
                gemiAdiInput.required = false;
                kalkisLimaniInput.required = false;
                varisLimaniInput.required = false;
                kalkisNoktasiInput.required = false;
                varisNoktasiInput.required = false;

                if (selectedValue === 'tr') {
                    karaAraciAlanlari.style.display = 'block';
                    dorsePlakasiDiv.style.display = 'block';
                    plakaInput.required = true;
                    dorsePlakasiInput.required = true;
                    kalkisNoktasiInput.required = true;
                    varisNoktasiInput.required = true;
                } else if (selectedValue === 'kamyon') {
                    karaAraciAlanlari.style.display = 'block';
                    plakaInput.required = true;
                    kalkisNoktasiInput.required = true;
                    varisNoktasiInput.required = true;
                } else if (selectedValue === 'gemi') {
                    gemiAlanlari.style.display = 'block';
                    imoInput.required = true;
                    gemiAdiInput.required = true;
                    kalkisLimaniInput.required = true;
                    varisLimaniInput.required = true;
                }
            }
            aracTipiDropdown.addEventListener('change', updateVehicleFields);
            updateVehicleFields();
        });
    </script>
@endsection


----------------------------------------
DOSYA YOLU: resources\views\shipments\edit.blade.php
----------------------------------------

@extends('layouts.app')

@section('title', 'Sevkiyat Kaydn Dzenle')

@push('styles')
    <style>
        /* Ana ierik alanna (main) animasyonlu arka plan uygula */
        #app>main.py-4 {
            padding: 2.5rem 0 !important;
            min-height: calc(100vh - 72px);
            background: linear-gradient(-45deg,
                    #dbe4ff,
                    #fde2ff,
                    #d9fcf7,
                    #fff0d9);
            background-size: 400% 400%;
            animation: gradientWave 18s ease infinite;
        }

        /* Arka plan dalgalanma animasyonu */
        @keyframes gradientWave {
            0% {
                background-position: 0% 50%;
            }

            50% {
                background-position: 100% 50%;
            }

            100% {
                background-position: 0% 50%;
            }
        }

        /* Ana Kart (Tam effaf) */
        .shipment-edit-card {
            border-radius: 1rem;
            box-shadow: none !important;
            border: 0;
            background-color: transparent;
            backdrop-filter: none;
        }

        /* Form Etiketleri (Okunabilirlik in) */
        .shipment-edit-card .card-header,
        .shipment-edit-card .form-label {
            color: #444;
            font-weight: bold;
            text-shadow: 0 1px 2px rgba(255, 255, 255, 0.7);
        }

        .shipment-edit-card .card-header {
            color: #000;
        }

        /* Form Elemanlar (Yumuak Ke + Opak Arka Plan) */
        .shipment-edit-card .form-control,
        .shipment-edit-card .form-select {
            border-radius: 0.5rem;
            background-color: rgba(255, 255, 255, 0.8);
        }

        /* Animasyonlu Buton */
        .btn-animated-gradient {
            background: linear-gradient(-45deg,
                    #667EEA, #F093FB, #4FD1C5, #FBD38D);
            background-size: 400% 400%;
            animation: gradientWave 18s ease infinite;
            border: none;
            color: white;
            font-weight: bold;
            transition: transform 0.2s ease-out, box-shadow 0.2s ease-out;
        }

        .btn-animated-gradient:hover {
            color: white;
            transform: scale(1.05);
            box-shadow: 0 4px 15px rgba(0, 0, 0, 0.1);
        }
    </style>
@endpush

@section('content')
    <div class="container">
        <div class="row justify-content-center">
            <div class="col-md-10">
                <div class="card shipment-edit-card">
                    <div
                        class="card-header d-flex justify-content-between align-items-center h4 bg-transparent border-0 pt-4">
                        <span>{{ __('Sevkiyat Kaydn Dzenle') }}</span>

                        @if (in_array(Auth::user()->role, ['admin', 'ynetici']))
                            <form method="POST" action="{{ route('shipments.destroy', $shipment->id) }}"
                                onsubmit="return confirm('Bu sevkiyat kaydn silmek istediinizden emin misiniz?');">
                                @csrf
                                @method('DELETE')
                                <button type="submit" class="btn btn-danger btn-sm">Kayd Sil</button>
                            </form>
                        @endif
                    </div>

                    <div class="card-body p-4">
                        <form method="POST" action="{{ route('shipments.update', $shipment->id) }}"
                            enctype="multipart/form-data">
                            @csrf
                            @method('PUT')

                            <div class="row">
                                {{-- Sol Stun --}}
                                <div class="col-md-6">
                                    <div class="mb-3">
                                        <label for="arac_tipi" class="form-label">Ara Tipi (*)</label>
                                        <select name="arac_tipi" id="arac_tipi"
                                            class="form-select @error('arac_tipi') is-invalid @enderror" required>
                                            <option value="">Seiniz...</option>
                                            <option value="tr" @if (old('arac_tipi', $shipment->arac_tipi) == 'tr') selected @endif>Tr
                                            </option>
                                            <option value="gemi" @if (old('arac_tipi', $shipment->arac_tipi) == 'gemi') selected @endif>Gemi
                                            </option>
                                            <option value="kamyon" @if (old('arac_tipi', $shipment->arac_tipi) == 'kamyon') selected @endif>Kamyon
                                            </option>
                                        </select>
                                        @error('arac_tipi')
                                            <div class="invalid-feedback">{{ $message }}</div>
                                        @enderror
                                    </div>

                                    {{-- Kara Arac Alanlar --}}
                                    <div id="karaAraciAlanlari" style="display: none;">
                                        <div class="mb-3">
                                            <label for="plaka" class="form-label">Plaka</label>
                                            <input type="text" class="form-control @error('plaka') is-invalid @enderror"
                                                id="plaka" name="plaka" value="{{ old('plaka', $shipment->plaka) }}"
                                                autocomplete="off">
                                            @error('plaka')
                                                <div class="invalid-feedback">{{ $message }}</div>
                                            @enderror
                                        </div>
                                        <div class="mb-3" id="dorse_plakasi_div">
                                            <label for="dorse_plakasi" class="form-label">Dorse Plakas</label>
                                            <input type="text"
                                                class="form-control @error('dorse_plakasi') is-invalid @enderror"
                                                id="dorse_plakasi" name="dorse_plakasi"
                                                value="{{ old('dorse_plakasi', $shipment->dorse_plakasi) }}"
                                                autocomplete="off">
                                            @error('dorse_plakasi')
                                                <div class="invalid-feedback">{{ $message }}</div>
                                            @enderror
                                        </div>
                                        <div class="mb-3">
                                            <label for="sofor_adi" class="form-label">ofr Ad</label>
                                            <input type="text"
                                                class="form-control @error('sofor_adi') is-invalid @enderror" id="sofor_adi"
                                                name="sofor_adi" value="{{ old('sofor_adi', $shipment->sofor_adi) }}"
                                                autocomplete="off">
                                            @error('sofor_adi')
                                                <div class="invalid-feedback">{{ $message }}</div>
                                            @enderror
                                        </div>
                                        <div class="mb-3">
                                            <label for="kalkis_noktasi" class="form-label">Kalk Noktas
                                                (Gmrk/Tesis)</label>
                                            <input type="text"
                                                class="form-control @error('kalkis_noktasi') is-invalid @enderror"
                                                id="kalkis_noktasi" name="kalkis_noktasi"
                                                value="{{ old('kalkis_noktasi', $shipment->kalkis_noktasi ?? '') }}"
                                                autocomplete="off">
                                            @error('kalkis_noktasi')
                                                <div class="invalid-feedback">{{ $message }}</div>
                                            @enderror
                                        </div>
                                        <div class="mb-3">
                                            <label for="varis_noktasi" class="form-label">Var Noktas
                                                (Gmrk/Tesis)</label>
                                            <input type="text"
                                                class="form-control @error('varis_noktasi') is-invalid @enderror"
                                                id="varis_noktasi" name="varis_noktasi"
                                                value="{{ old('varis_noktasi', $shipment->varis_noktasi ?? '') }}"
                                                autocomplete="off">
                                            @error('varis_noktasi')
                                                <div class="invalid-feedback">{{ $message }}</div>
                                            @enderror
                                        </div>
                                        <fieldset class="mb-3">
                                            <legend class="form-label fs-6">Sevkiyat Tr</legend>
                                            <div class="form-check">
                                                <input class="form-check-input" type="radio" name="shipment_type"
                                                    id="type_import" value="import"
                                                    {{ old('shipment_type', 'import') == 'import' ? 'checked' : '' }}
                                                    autocomplete="off">
                                                <label class="form-check-label" for="type_import">
                                                    thalat
                                                </label>
                                            </div>
                                            <div class="form-check">
                                                <input class="form-check-input" type="radio" name="shipment_type"
                                                    id="type_export" value="export"
                                                    {{ old('shipment_type') == 'export' ? 'checked' : '' }}
                                                    autocomplete="off">
                                                <label class="form-check-label" for="type_export">
                                                    hracat
                                                </label>
                                            </div>
                                        </fieldset>
                                        <hr>
                                    </div>

                                    {{-- Gemi Alanlar --}}
                                    <div id="gemiAlanlari" style="display: none;">
                                        <div class="mb-3">
                                            <label for="imo_numarasi" class="form-label">IMO Numaras</label>
                                            <input type="text"
                                                class="form-control @error('imo_numarasi') is-invalid @enderror"
                                                id="imo_numarasi" name="imo_numarasi"
                                                value="{{ old('imo_numarasi', $shipment->imo_numarasi) }}"
                                                autocomplete="off">
                                            @error('imo_numarasi')
                                                <div class="invalid-feedback">{{ $message }}</div>
                                            @enderror
                                        </div>
                                        <div class="mb-3">
                                            <label for="gemi_adi" class="form-label">Gemi Ad</label>
                                            <input type="text"
                                                class="form-control @error('gemi_adi') is-invalid @enderror"
                                                id="gemi_adi" name="gemi_adi"
                                                value="{{ old('gemi_adi', $shipment->gemi_adi) }}" autocomplete="off">
                                            @error('gemi_adi')
                                                <div class="invalid-feedback">{{ $message }}</div>
                                            @enderror
                                        </div>
                                        <div class="mb-3">
                                            <label for="kalkis_limani" class="form-label">Kalk Liman</label>
                                            <input type="text"
                                                class="form-control @error('kalkis_limani') is-invalid @enderror"
                                                id="kalkis_limani" name="kalkis_limani"
                                                value="{{ old('kalkis_limani', $shipment->kalkis_limani) }}"
                                                autocomplete="off">
                                            @error('kalkis_limani')
                                                <div class="invalid-feedback">{{ $message }}</div>
                                            @enderror
                                        </div>
                                        <div class="mb-3">
                                            <label for="varis_limani" class="form-label">Var Liman</label>
                                            <input type="text"
                                                class="form-control @error('varis_limani') is-invalid @enderror"
                                                id="varis_limani" name="varis_limani"
                                                value="{{ old('varis_limani', $shipment->varis_limani) }}"
                                                autocomplete="off">
                                            @error('varis_limani')
                                                <div class="invalid-feedback">{{ $message }}</div>
                                            @enderror
                                        </div>
                                    </div>

                                    {{-- Ortak Alanlar (Tarihler) --}}
                                    <div class="mb-3">
                                        <label for="cikis_tarihi" class="form-label">k Tarihi (*)</label>
                                        <input type="datetime-local"
                                            class="form-control @error('cikis_tarihi') is-invalid @enderror"
                                            id="cikis_tarihi" name="cikis_tarihi"
                                            value="{{ old('cikis_tarihi', \Carbon\Carbon::parse($shipment->cikis_tarihi)->format('Y-m-d\TH:i')) }}"
                                            required autocomplete="off">
                                        @error('cikis_tarihi')
                                            <div class="invalid-feedback">{{ $message }}</div>
                                        @enderror
                                    </div>
                                    <div class="mb-3">
                                        <label for="tahmini_varis_tarihi" class="form-label">Planlanan Var Tarihi
                                            (*)</label>
                                        <input type="datetime-local"
                                            class="form-control @error('tahmini_varis_tarihi') is-invalid @enderror"
                                            id="tahmini_varis_tarihi" name="tahmini_varis_tarihi"
                                            value="{{ old('tahmini_varis_tarihi', \Carbon\Carbon::parse($shipment->tahmini_varis_tarihi)->format('Y-m-d\TH:i')) }}"
                                            required autocomplete="off">
                                        @error('tahmini_varis_tarihi')
                                            <div class="invalid-feedback">{{ $message }}</div>
                                        @enderror
                                    </div>
                                </div>

                                {{-- Sa Stun (Kargo Bilgileri) --}}
                                <div class="col-md-6">
                                    <div class="mb-3">
                                        <label for="kargo_icerigi" class="form-label">Kargo Yk / erii (*)</label>
                                        <input type="text"
                                            class="form-control @error('kargo_icerigi') is-invalid @enderror"
                                            id="kargo_icerigi" name="kargo_icerigi"
                                            value="{{ old('kargo_icerigi', $shipment->kargo_icerigi) }}" required
                                            autocomplete="off">
                                        @error('kargo_icerigi')
                                            <div class="invalid-feedback">{{ $message }}</div>
                                        @enderror
                                    </div>
                                    <div class="mb-3">
                                        <label for="kargo_tipi" class="form-label">Kargo Yk Tipi (*)</label>
                                        <select name="kargo_tipi" id="kargo_tipi"
                                            class="form-select @error('kargo_tipi') is-invalid @enderror" required>
                                            <option value="">Birim Seiniz...</option>
                                            @foreach ($birimler as $birim)
                                                <option value="{{ $birim->ad }}"
                                                    @if (old('kargo_tipi', $shipment->kargo_tipi) == $birim->ad) selected @endif>{{ $birim->ad }}
                                                </option>
                                            @endforeach
                                        </select>
                                        @error('kargo_tipi')
                                            <div class="invalid-feedback">{{ $message }}</div>
                                        @enderror
                                    </div>
                                    <div class="mb-3">
                                        <label for="kargo_miktari" class="form-label">Yk Miktar (*)</label>
                                        <input type="text"
                                            class="form-control @error('kargo_miktari') is-invalid @enderror"
                                            id="kargo_miktari" name="kargo_miktari"
                                            value="{{ old('kargo_miktari', $shipment->kargo_miktari) }}" required
                                            autocomplete="off">
                                        @error('kargo_miktari')
                                            <div class="invalid-feedback">{{ $message }}</div>
                                        @enderror
                                    </div>
                                    {{-- STAT SEM (KANBAN ENTEGRASYONU N) --}}
                                    <div class="mb-3">
                                        <label for="shipment_status" class="form-label fw-bold text-primary">
                                            <i class="fas fa-tasks"></i> Sevkiyat Durumu
                                        </label>
                                        <select name="shipment_status" id="shipment_status"
                                            class="form-select border-primary" required>
                                            <option value="pending"
                                                {{ old('shipment_status', $shipment->shipment_status) == 'pending' ? 'selected' : '' }}>
                                                 Sipari Alnd (Bekliyor)
                                            </option>
                                            <option value="on_road"
                                                {{ old('shipment_status', $shipment->shipment_status) == 'on_road' ? 'selected' : '' }}>
                                                 Yolda (Transit)
                                            </option>
                                            <option value="delivered"
                                                {{ old('shipment_status', $shipment->shipment_status) == 'delivered' ? 'selected' : '' }}>
                                                 Teslim Edildi
                                            </option>
                                        </select>
                                        <div class="form-text text-muted small">
                                            Bu durumu deitirdiinizde, sevkiyat <strong>Lojistik Panosu</strong> zerinde
                                            otomatik olarak ilgili stuna tanacaktr.
                                        </div>
                                    </div>

                                    {{-- DOSYA YNETM ALANI --}}
                                    <div class="mb-3">
                                        <label for="ek_dosya" class="form-label">Yeni Ek Dosya (Mevcut Dosyay
                                            Deitirir)</label>
                                        <input class="form-control @error('ek_dosya') is-invalid @enderror"
                                            type="file" id="ek_dosya" name="ek_dosya" autocomplete="off">
                                        @error('ek_dosya')
                                            <div class="invalid-feedback">{{ $message }}</div>
                                        @enderror
                                    </div>

                                    @if ($shipment->dosya_yolu)
                                        <div class="mb-3 border p-2 rounded"
                                            style="background-color: rgba(255, 255, 255, 0.7);">
                                            <p class="mb-1"><strong>Mevcut Dosya:</strong></p>

                                            {{-- AKILLI LINK YAPISI: Hem eski (http...) hem yeni (relative path) veriyi destekler --}}
                                            @if (Str::startsWith($shipment->dosya_yolu, ['http://', 'https://']))
                                                <a href="{{ $shipment->dosya_yolu }}" target="_blank"
                                                    class="btn btn-sm btn-info text-white">
                                                    <i class="fas fa-external-link-alt"></i> Dosyay Grntle
                                                </a>
                                            @else
                                                <a href="{{ asset('storage/' . $shipment->dosya_yolu) }}" target="_blank"
                                                    class="btn btn-sm btn-info text-white">
                                                    <i class="fas fa-external-link-alt"></i> Dosyay Grntle
                                                </a>
                                            @endif

                                            {{-- DOSYA SLME SEENE --}}
                                            <div class="form-check mt-2">
                                                <input class="form-check-input" type="checkbox" name="dosya_sil"
                                                    id="dosya_sil" value="1" autocomplete="off">
                                                <label class="form-check-label text-danger" for="dosya_sil">
                                                    Mevcut dosyay sil
                                                </label>
                                            </div>
                                        </div>
                                    @endif
                                    {{-- DOSYA YNETM ALANI SONU --}}

                                    <div class="mb-3">
                                        <label for="aciklamalar" class="form-label">Aklamalar</label>
                                        <textarea class="form-control @error('aciklamalar') is-invalid @enderror" id="aciklamalar" name="aciklamalar"
                                            rows="5" autocomplete="off">{{ old('aciklamalar', $shipment->aciklamalar) }}</textarea>
                                        @error('aciklamalar')
                                            <div class="invalid-feedback">{{ $message }}</div>
                                        @enderror
                                    </div>
                                </div>
                            </div>
                            <div class="text-end mt-3">
                                {{-- DNAMK ALANLAR (HBRT YAPI) --}}
                                <x-dynamic-fields :model="\App\Models\Shipment::class" :entity="$shipment" />
                                <button type="submit"
                                    class="btn btn-animated-gradient rounded-3 px-4 py-2">Deiiklikleri Kaydet</button>
                                <a href="{{ route('home') }}" class="btn btn-outline-secondary rounded-3">ptal</a>
                            </div>
                        </form>
                    </div>
                </div>
            </div>
        </div>
    </div>
@endsection

@section('page_scripts')
    <script>
        document.addEventListener('DOMContentLoaded', function() {
            const aracTipiDropdown = document.getElementById('arac_tipi');
            const karaAraciAlanlari = document.getElementById('karaAraciAlanlari');
            const dorsePlakasiDiv = document.getElementById('dorse_plakasi_div');
            const gemiAlanlari = document.getElementById('gemiAlanlari');
            const plakaInput = document.getElementById('plaka');
            const dorsePlakasiInput = document.getElementById('dorse_plakasi');
            const imoInput = document.getElementById('imo_numarasi');
            const gemiAdiInput = document.getElementById('gemi_adi');
            const kalkisLimaniInput = document.getElementById('kalkis_limani');
            const varisLimaniInput = document.getElementById('varis_limani');
            const kalkisNoktasiInput = document.getElementById('kalkis_noktasi');
            const varisNoktasiInput = document.getElementById('varis_noktasi');

            function updateVehicleFields() {
                const selectedValue = aracTipiDropdown.value;
                karaAraciAlanlari.style.display = 'none';
                dorsePlakasiDiv.style.display = 'none';
                gemiAlanlari.style.display = 'none';

                // Tm required zelliklerini kaldr
                plakaInput.required = false;
                dorsePlakasiInput.required = false;
                imoInput.required = false;
                gemiAdiInput.required = false;
                kalkisLimaniInput.required = false;
                varisLimaniInput.required = false;
                kalkisNoktasiInput.required = false;
                varisNoktasiInput.required = false;

                if (selectedValue === 'tr') {
                    karaAraciAlanlari.style.display = 'block';
                    dorsePlakasiDiv.style.display = 'block';
                    plakaInput.required = true;
                    dorsePlakasiInput.required = true;
                    kalkisNoktasiInput.required = true;
                    varisNoktasiInput.required = true;
                } else if (selectedValue === 'kamyon') {
                    karaAraciAlanlari.style.display = 'block';
                    plakaInput.required = true;
                    kalkisNoktasiInput.required = true;
                    varisNoktasiInput.required = true;
                } else if (selectedValue === 'gemi') {
                    gemiAlanlari.style.display = 'block';
                    imoInput.required = true;
                    gemiAdiInput.required = true;
                    kalkisLimaniInput.required = true;
                    varisLimaniInput.required = true;
                }
            }

            aracTipiDropdown.addEventListener('change', updateVehicleFields);
            updateVehicleFields(); // Sayfa yklendiinde de altr
        });
    </script>
@endsection


----------------------------------------
DOSYA YOLU: resources\views\shipments\list.blade.php
----------------------------------------

@extends('layouts.app')
@section('title', 'Sevkiyat Listesi')

@push('styles')
    <style>
        /* --- General Tasks Sayfasndan Alnan UI Stilleri --- */
        .page-header-gradient {
            background: linear-gradient(135deg, #0f4c75 0%, #3282b8 100%);
            border-radius: 20px;
            padding: 2rem;
            margin-bottom: 2rem;
            box-shadow: 0 10px 30px rgba(15, 76, 117, 0.3);
            position: relative;
            overflow: hidden;
        }

        .page-header-gradient::before {
            content: '';
            position: absolute;
            top: -50%;
            right: -50%;
            width: 200%;
            height: 200%;
            background: radial-gradient(circle, rgba(255, 255, 255, 0.1) 0%, transparent 70%);
            animation: pulse 15s ease-in-out infinite;
        }

        @keyframes pulse {

            0%,
            100% {
                transform: scale(1);
                opacity: 0.5;
            }

            50% {
                transform: scale(1.1);
                opacity: 0.8;
            }
        }

        .page-header-gradient h4 {
            color: white;
            font-weight: 700;
            margin: 0;
            position: relative;
            z-index: 1;
            display: flex;
            align-items: center;
            gap: 1rem;
        }

        .page-header-gradient .icon-wrapper {
            width: 60px;
            height: 60px;
            background: rgba(255, 255, 255, 0.2);
            border-radius: 15px;
            display: flex;
            align-items: center;
            justify-content: center;
            backdrop-filter: blur(10px);
        }

        .page-header-gradient .icon-wrapper i {
            font-size: 1.8rem;
            color: white;
        }

        .page-header-gradient .stats {
            display: flex;
            gap: 2rem;
            margin-top: 1.5rem;
            position: relative;
            z-index: 1;
        }

        .page-header-gradient .stat-item {
            color: rgba(255, 255, 255, 0.95);
            font-size: 0.9rem;
        }

        .page-header-gradient .stat-item strong {
            display: block;
            font-size: 1.5rem;
            font-weight: 700;
            color: white;
        }

        /* Modern Kart Yaps */
        .modern-card {
            background: white;
            border-radius: 20px;
            box-shadow: 0 5px 20px rgba(0, 0, 0, 0.08);
            border: none;
            overflow: hidden;
            transition: all 0.3s ease;
            margin-bottom: 1.5rem;
        }

        .modern-card:hover {
            box-shadow: 0 8px 30px rgba(0, 0, 0, 0.12);
            transform: translateY(-2px);
        }

        /* Modern Butonlar */
        .modern-btn {
            padding: 0.5rem 1rem;
            border-radius: 10px;
            border: none;
            font-weight: 600;
            font-size: 0.9rem;
            transition: all 0.3s ease;
            display: inline-flex;
            align-items: center;
            gap: 0.5rem;
            cursor: pointer;
            text-decoration: none;
        }

        .modern-btn-sm {
            padding: 0.3rem 0.7rem;
            font-size: 0.8rem;
            border-radius: 8px;
        }

        .modern-btn-primary {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
        }

        .modern-btn-primary:hover {
            background: linear-gradient(135deg, #764ba2 0%, #667eea 100%);
            transform: translateY(-2px);
            box-shadow: 0 4px 12px rgba(102, 126, 234, 0.4);
            color: white;
        }

        .modern-btn-view {
            background: linear-gradient(135deg, #4299e1 0%, #3182ce 100%);
            color: white;
        }

        .modern-btn-view:hover {
            transform: translateY(-2px);
            color: white;
            box-shadow: 0 4px 12px rgba(66, 153, 225, 0.4);
        }

        .modern-btn-edit {
            background: linear-gradient(135deg, #f6ad55 0%, #ed8936 100%);
            color: white;
        }

        .modern-btn-edit:hover {
            transform: translateY(-2px);
            color: white;
            box-shadow: 0 4px 12px rgba(237, 137, 54, 0.4);
        }

        .modern-btn-danger {
            background: linear-gradient(135deg, #fc8181 0%, #e53e3e 100%);
            color: white;
        }

        .modern-btn-danger:hover {
            transform: translateY(-2px);
            color: white;
            box-shadow: 0 4px 12px rgba(229, 62, 62, 0.4);
        }

        .modern-btn-export {
            background: linear-gradient(135deg, #48bb78 0%, #38a169 100%);
            color: white;
        }

        .modern-btn-export:hover {
            transform: translateY(-2px);
            color: white;
            box-shadow: 0 4px 12px rgba(72, 187, 120, 0.4);
        }

        .modern-btn-secondary {
            background: #e2e8f0;
            color: #4a5568;
        }

        .modern-btn-secondary:hover {
            background: #cbd5e0;
            color: #2d3748;
        }

        /* Modern Grntle Butonu */
        .modern-btn-view {
            background: linear-gradient(135deg, #4299e1 0%, #3182ce 100%);
            color: white;
            padding: 0.5rem 1rem;
            border-radius: 10px;
            border: none;
            font-weight: 600;
            font-size: 0.9rem;
            transition: all 0.3s ease;
            display: inline-flex;
            align-items: center;
            gap: 0.5rem;
            cursor: pointer;
            text-decoration: none;
            box-shadow: 0 2px 8px rgba(66, 153, 225, 0.2);
        }

        .modern-btn-view:hover {
            background: linear-gradient(135deg, #3182ce 0%, #2c5282 100%);
            transform: translateY(-2px);
            color: white;
            box-shadow: 0 4px 12px rgba(66, 153, 225, 0.4);
            text-decoration: none;
        }

        .modern-btn-view:active {
            transform: translateY(0);
            box-shadow: 0 2px 6px rgba(66, 153, 225, 0.3);
        }

        /* Kk boyut */
        .modern-btn-view.modern-btn-sm {
            padding: 0.3rem 0.7rem;
            font-size: 0.8rem;
            border-radius: 8px;
        }

        /* kon ile birlikte kullanm */
        .modern-btn-view i {
            font-size: 0.9em;
        }

        /* Disabled durumu */
        .modern-btn-view:disabled,
        .modern-btn-view.disabled {
            background: #cbd5e0;
            color: #a0aec0;
            cursor: not-allowed;
            transform: none;
            box-shadow: none;
        }

        .modern-btn-view:disabled:hover,
        .modern-btn-view.disabled:hover {
            background: #cbd5e0;
            transform: none;
            box-shadow: none;
        }

        /* Filtre Blm Stilleri */
        .filters-container {
            padding: 1.5rem;
            background: #fff;
        }

        .form-label {
            font-weight: 600;
            color: #4a5568;
            font-size: 0.85rem;
            margin-bottom: 0.4rem;
        }

        .form-control,
        .form-select {
            border: 2px solid #e2e8f0;
            border-radius: 10px;
            padding: 0.5rem 1rem;
            font-size: 0.9rem;
            transition: all 0.3s ease;
        }

        .form-control:focus,
        .form-select:focus {
            border-color: #667eea;
            box-shadow: 0 0 0 3px rgba(102, 126, 234, 0.1);
        }

        /* Tablo yiletirmeleri */
        .table {
            margin-bottom: 0;
            vertical-align: middle;
        }

        .table thead th {
            background-color: #f7fafc;
            color: #4a5568;
            font-weight: 600;
            text-transform: uppercase;
            font-size: 0.75rem;
            letter-spacing: 0.05em;
            padding: 1rem;
            border-bottom: 2px solid #edf2f7;
        }

        .table tbody td {
            padding: 1rem;
            color: #2d3748;
            font-weight: 500;
            border-bottom: 1px solid #edf2f7;
        }

        .table-striped tbody tr:nth-of-type(odd) {
            background-color: rgba(247, 250, 252, 0.5);
        }

        /* nemli Satr Vurgusu */
        .row-important {
            background-color: rgba(255, 235, 238, 0.4) !important;
            border-left: 4px solid #e53e3e;
        }

        .row-important td {
            color: #c53030 !important;
        }

        .empty-state {
            text-align: center;
            padding: 4rem 2rem;
        }

        .empty-state i {
            font-size: 3rem;
            color: #cbd5e0;
            margin-bottom: 1rem;
        }

        /* Animasyon */
        .fade-in {
            animation: fadeIn 0.5s ease;
        }

        @keyframes fadeIn {
            from {
                opacity: 0;
                transform: translateY(20px);
            }

            to {
                opacity: 1;
                transform: translateY(0);
            }
        }
    </style>
@endpush

@section('content')
    <div class="container-fluid px-4 py-4">

        {{-- Baar/Hata Mesajlar --}}
        @if (session('success'))
            <div class="alert alert-success alert-dismissible fade show shadow-sm rounded-3 border-0 mb-4" role="alert">
                <i class="fas fa-check-circle me-2"></i> {{ session('success') }}
                <button type="button" class="btn-close" data-bs-dismiss="alert"></button>
            </div>
        @endif
        @if (session('error'))
            <div class="alert alert-danger alert-dismissible fade show shadow-sm rounded-3 border-0 mb-4" role="alert">
                <i class="fas fa-exclamation-circle me-2"></i> {{ session('error') }}
                <button type="button" class="btn-close" data-bs-dismiss="alert"></button>
            </div>
        @endif

        <div class="page-header-gradient fade-in">
            <div class="header-content">
                <h4>
                    <div class="icon-wrapper">
                        <i class="fas fa-shipping-fast"></i>
                    </div>
                    <div>
                        Sevkiyat Ynetimi
                        <small
                            style="display: block; font-size: 0.9rem; font-weight: 400; opacity: 0.9; margin-top: 0.25rem;">
                            thalat ve hracat sre takibi
                        </small>
                    </div>
                </h4>
                <div class="stats">
                    <div class="stat-item">
                        <strong>{{ $shipments->count() }}</strong>
                        Listelenen Sevkiyat
                    </div>
                    {{-- sterseniz buraya baka istatistikler ekleyebilirsiniz --}}
                    <a href="{{ route('kanban.board', ['scope' => 'logistics']) }}" class="modern-btn modern-btn-primary">
                        <i class="fas fa-plus me-2"></i> Pano Grnm
                    </a>
                </div>
            </div>
        </div>

        <div class="modern-card fade-in" style="animation-delay: 0.1s;">
            <div class="filters-container">
                <div class="d-flex justify-content-between align-items-center mb-3">
                    <h5 class="m-0 text-secondary" style="font-weight: 700; font-size: 1rem;">
                        <i class="fas fa-filter me-2 text-primary"></i>Filtreleme Seenekleri
                    </h5>
                    <button class="modern-btn modern-btn-secondary modern-btn-sm" type="button" data-bs-toggle="collapse"
                        data-bs-target="#filterCollapse" aria-expanded="false" aria-controls="filterCollapse">
                        <i class="fas fa-chevron-down"></i> Gster/Gizle
                    </button>
                </div>

                <div class="collapse {{ request()->hasAny(['shipment_type', 'vehicle_type', 'cargo_content', 'date_from']) ? 'show' : '' }}"
                    id="filterCollapse">
                    <form method="GET" action="{{ route('products.list') }}">
                        <div class="row g-3">
                            {{-- Sevkiyat Tr --}}
                            <div class="col-md-3">
                                <label for="shipment_type" class="form-label">Sevkiyat Tr</label>
                                <select class="form-select" id="shipment_type" name="shipment_type">
                                    <option value="all"
                                        {{ ($filters['shipment_type'] ?? 'all') == 'all' ? 'selected' : '' }}>Tm</option>
                                    <option value="import"
                                        {{ ($filters['shipment_type'] ?? '') == 'import' ? 'selected' : '' }}>thalat
                                    </option>
                                    <option value="export"
                                        {{ ($filters['shipment_type'] ?? '') == 'export' ? 'selected' : '' }}>hracat
                                    </option>
                                </select>
                            </div>

                            {{-- Ara Tipi --}}
                            <div class="col-md-3">
                                <label for="vehicle_type" class="form-label">Ara Tipi</label>
                                <select class="form-select" id="vehicle_type" name="vehicle_type">
                                    <option value="all"
                                        {{ ($filters['vehicle_type'] ?? 'all') == 'all' ? 'selected' : '' }}>Tm</option>
                                    @foreach ($vehicleTypes as $type)
                                        <option value="{{ $type }}"
                                            {{ ($filters['vehicle_type'] ?? '') == $type ? 'selected' : '' }}>
                                            {{ ucfirst($type) }}
                                        </option>
                                    @endforeach
                                </select>
                            </div>

                            {{-- Kargo erii --}}
                            <div class="col-md-6">
                                <label for="cargo_content" class="form-label">Kargo erii Ara</label>
                                <div class="input-group">
                                    <span class="input-group-text bg-light border-end-0"><i
                                            class="fas fa-search text-muted"></i></span>
                                    <input type="text" class="form-control border-start-0 ps-0" id="cargo_content"
                                        name="cargo_content" value="{{ $filters['cargo_content'] ?? '' }}"
                                        placeholder="erik ad girin...">
                                </div>
                            </div>

                            {{-- Tarih Aral --}}
                            <div class="col-md-3">
                                <label for="date_from" class="form-label">Balang Tarihi</label>
                                <input type="date" class="form-control" id="date_from" name="date_from"
                                    value="{{ $filters['date_from'] ?? '' }}">
                            </div>
                            <div class="col-md-3">
                                <label for="date_to" class="form-label">Biti Tarihi</label>
                                <input type="date" class="form-control" id="date_to" name="date_to"
                                    value="{{ $filters['date_to'] ?? '' }}">
                            </div>

                            {{-- nem Durumu (Admin) --}}
                            @if (in_array(Auth::user()->role, ['admin', 'ynetici']))
                                <div class="col-md-3">
                                    <label for="is_important" class="form-label text-danger">
                                        <i class="fas fa-bell me-1"></i> nem Durumu
                                    </label>
                                    <select class="form-select" id="is_important" name="is_important">
                                        <option value="all"
                                            {{ ($filters['is_important'] ?? 'all') == 'all' ? 'selected' : '' }}>Tm
                                        </option>
                                        <option value="yes"
                                            {{ ($filters['is_important'] ?? '') == 'yes' ? 'selected' : '' }}>Sadece
                                            nemliler</option>
                                        <option value="no"
                                            {{ ($filters['is_important'] ?? '') == 'no' ? 'selected' : '' }}>nemli
                                            Olmayanlar</option>
                                    </select>
                                </div>
                            @endif

                            {{-- Butonlar --}}
                            @php
                                $buttonCol = in_array(Auth::user()->role, ['admin', 'ynetici'])
                                    ? 'col-md-3'
                                    : 'col-md-6';
                            @endphp
                            <div class="{{ $buttonCol }} d-flex align-items-end justify-content-end gap-2">
                                <a href="{{ route('products.list') }}" class="modern-btn modern-btn-secondary">
                                    <i class="fas fa-times"></i> Temizle
                                </a>
                                <button type="submit" class="modern-btn modern-btn-primary">
                                    <i class="fas fa-filter"></i> Filtrele
                                </button>
                                <button type="submit" formaction="{{ route('shipments.export_list') }}"
                                    class="modern-btn modern-btn-export">
                                    <i class="fas fa-file-excel"></i> Listeyi Excel'e Aktar
                                </button>
                            </div>
                        </div>
                    </form>
                </div>
            </div>
        </div>

        <div class="modern-card fade-in" style="animation-delay: 0.2s;">
            @if ($shipments->isEmpty())
                <div class="empty-state">
                    <i class="fas fa-inbox"></i>
                    <h5>Kayt Bulunamad</h5>
                    <p class="text-muted">Seilen filtrelere uygun sevkiyat kayd bulunmamaktadr.</p>
                </div>
            @else
                <div class="table-responsive">
                    <table class="table table-hover">
                        <thead>
                            {{-- align-middle: Balklar dikeyde ortalar --}}
                            <tr class="text-center align-middle">
                                <th scope="col">Sevkiyat Tr</th>
                                <th scope="col">Kargo erii</th>
                                <th scope="col">Ara Tipi</th>
                                <th scope="col">Kalk</th>
                                <th scope="col">Var</th>
                                <th scope="col">k Tarihi</th>
                                <th scope="col">Tahmini Var</th>
                                <th scope="col" class="text-end pe-4" style="width: 1%; white-space: nowrap;">lemler
                                </th>
                            </tr>
                        </thead>
                        <tbody>
                            @foreach ($shipments as $shipment)
                                {{-- align-middle: erikleri dikeyde ortalar, text-center: yatayda ortalar --}}
                                <tr class="text-center align-middle {{ $shipment->is_important ? 'row-important' : '' }}">

                                    {{-- 1. Sevkiyat Tr --}}
                                    <td>
                                        @if ($shipment->shipment_type == 'import')
                                            <span
                                                class="badge bg-primary bg-opacity-10 text-primary rounded-pill px-3 py-2">
                                                <i class="fas fa-arrow-down me-1"></i> thalat
                                            </span>
                                        @elseif($shipment->shipment_type == 'export')
                                            <span
                                                class="badge bg-success bg-opacity-10 text-success rounded-pill px-3 py-2">
                                                <i class="fas fa-arrow-up me-1"></i> hracat
                                            </span>
                                        @else
                                            <span class="badge bg-secondary">-</span>
                                        @endif
                                    </td>

                                    {{-- 2. Kargo erii --}}
                                    <td class="fw-bold">{{ $shipment->kargo_icerigi }}</td>

                                    {{-- 3. Ara Tipi --}}
                                    <td>
                                        <div class="d-flex align-items-center justify-content-center gap-2">
                                            <div class="icon-wrapper bg-light rounded-circle p-2 d-flex justify-content-center align-items-center"
                                                style="width: 32px; height: 32px;">
                                                @if ($shipment->arac_tipi == 'gemi')
                                                    <i class="fas fa-ship text-primary small"></i>
                                                @elseif($shipment->arac_tipi == 'ucak')
                                                    <i class="fas fa-plane text-info small"></i>
                                                @elseif($shipment->arac_tipi == 'tir')
                                                    <i class="fas fa-truck text-warning small"></i>
                                                @else
                                                    <i class="fas fa-truck-loading text-secondary small"></i>
                                                @endif
                                            </div>
                                            {{ ucfirst($shipment->arac_tipi) }}
                                        </div>
                                    </td>

                                    {{-- 4. Kalk --}}
                                    <td>{{ $shipment->arac_tipi == 'gemi' ? $shipment->kalkis_limani : $shipment->kalkis_noktasi }}
                                    </td>

                                    {{-- 5. Var --}}
                                    <td>{{ $shipment->arac_tipi == 'gemi' ? $shipment->varis_limani : $shipment->varis_noktasi }}
                                    </td>

                                    {{-- 6. k Tarihi --}}
                                    <td>
                                        @if ($shipment->cikis_tarihi)
                                            {{ \Carbon\Carbon::parse($shipment->cikis_tarihi)->format('d.m.Y') }}
                                            <br>
                                            <span class="text-muted small">Saat:
                                                {{ \Carbon\Carbon::parse($shipment->cikis_tarihi)->format('H:i') }}</span>
                                        @else
                                            -
                                        @endif
                                    </td>

                                    {{-- 7. Tahmini Var --}}
                                    <td>
                                        @if ($shipment->tahmini_varis_tarihi)
                                            {{ \Carbon\Carbon::parse($shipment->tahmini_varis_tarihi)->format('d.m.Y') }}
                                            <br>
                                            <span class="text-muted small">Saat:
                                                {{ \Carbon\Carbon::parse($shipment->tahmini_varis_tarihi)->format('H:i') }}</span>
                                        @else
                                            -
                                        @endif
                                    </td>

                                    {{-- 8. LEMLER (Saa Yasl) --}}
                                    <td class="text-end pe-4">
                                        <div class="d-flex justify-content-end gap-2">
                                            @if (!in_array(Auth::user()->role, ['izleyici']))
                                                {{-- Dzenle --}}
                                                <a href="{{ route('shipments.edit', $shipment) }}"
                                                    class="modern-btn modern-btn-edit modern-btn-sm d-inline-flex align-items-center justify-content-center"
                                                    style="width: 135px;" title="Dzenle">
                                                    <i class="fas fa-edit me-2"></i> Dzenle
                                                </a>

                                                {{-- Sil --}}
                                                <form action="{{ route('shipments.destroy', $shipment) }}" method="POST"
                                                    class="d-inline"
                                                    onsubmit="return confirm('Bu sevkiyat silmek istediinizden emin misiniz?');">
                                                    @csrf @method('DELETE')
                                                    <button type="submit"
                                                        class="modern-btn modern-btn-danger modern-btn-sm d-inline-flex align-items-center justify-content-center"
                                                        style="width: 135px;" title="Sil">
                                                        <i class="fas fa-trash me-2"></i> Sil
                                                    </button>
                                                </form>
                                            @endif

                                            {{-- Excel --}}
                                            <a href="{{ route('shipments.export', $shipment->id) }}"
                                                class="modern-btn modern-btn-export modern-btn-sm d-inline-flex align-items-center justify-content-center"
                                                style="width: 135px;" title="Excel ndir">
                                                <i class="fas fa-file-excel me-2"></i> Excel
                                            </a>

                                            {{-- Grntle --}}
                                            <a href="{{ route('shipments.show', $shipment->id) }}"
                                                class="modern-btn modern-btn-view modern-btn-sm d-inline-flex align-items-center justify-content-center"
                                                style="min-width: 100px;">
                                                <i class="fas fa-eye me-2"></i> Grntle
                                            </a>
                                        </div>
                                    </td>
                                </tr>
                            @endforeach
                        </tbody>
                    </table>
                </div>
            @endif
        </div>
    </div>
@endsection

@section('page_scripts')
    <script>
        document.addEventListener('DOMContentLoaded', function() {
            var filterCollapse = document.getElementById('filterCollapse');
            var filterButtonIcon = document.querySelector('.modern-btn[data-bs-target="#filterCollapse"] i');

            if (filterCollapse && filterButtonIcon) {
                filterCollapse.addEventListener('show.bs.collapse', function() {
                    filterButtonIcon.classList.remove('fa-chevron-down');
                    filterButtonIcon.classList.add('fa-chevron-up');
                });
                filterCollapse.addEventListener('hide.bs.collapse', function() {
                    filterButtonIcon.classList.remove('fa-chevron-up');
                    filterButtonIcon.classList.add('fa-chevron-down');
                });
            }
        });
    </script>
@endsection


----------------------------------------
DOSYA YOLU: resources\views\shipments\show.blade.php
----------------------------------------

@extends('layouts.app')

@section('title', 'Sevkiyat Detay')
@section('content')

    <style>
        /* ==========================================
                           1. EKRAN GRNM (STANDART ARAYZ)
                           ========================================== */
        .shipment-header {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            border-radius: 12px;
            padding: 24px;
            margin-bottom: 24px;
            color: white;
            box-shadow: 0 4px 6px rgba(0, 0, 0, 0.1);
        }

        .shipment-header h1 {
            font-size: 24px;
            font-weight: 600;
            margin: 0;
        }

        .shipment-header .badge {
            font-size: 14px;
            padding: 6px 12px;
            background: rgba(255, 255, 255, 0.2);
            border-radius: 6px;
        }

        .action-buttons .btn {
            border-radius: 8px;
            padding: 10px 20px;
            font-weight: 500;
            transition: all 0.3s ease;
        }

        .action-buttons .btn:hover {
            transform: translateY(-2px);
            box-shadow: 0 4px 8px rgba(0, 0, 0, 0.15);
        }

        .info-card {
            background: white;
            border-radius: 12px;
            padding: 24px;
            box-shadow: 0 2px 8px rgba(0, 0, 0, 0.08);
            margin-bottom: 24px;
            border: 1px solid #e5e7eb;
        }

        .info-card-header {
            display: flex;
            align-items: center;
            gap: 12px;
            margin-bottom: 20px;
            padding-bottom: 16px;
            border-bottom: 2px solid #f3f4f6;
        }

        .info-card-header i {
            font-size: 20px;
            color: #667eea;
        }

        .info-card-header h6 {
            margin: 0;
            font-size: 16px;
            font-weight: 600;
            color: #1f2937;
        }

        .info-table {
            width: 100%;
        }

        .info-table tr {
            border-bottom: 1px solid #f3f4f6;
        }

        .info-table th {
            padding: 12px 0;
            font-weight: 500;
            color: #6b7280;
            font-size: 14px;
            width: 45%;
        }

        .info-table td {
            padding: 12px 0;
            color: #1f2937;
            font-size: 14px;
            font-weight: 500;
        }

        .current-load-box {
            background: linear-gradient(135deg, #10b981 0%, #059669 100%);
            border-radius: 12px;
            padding: 20px;
            text-align: center;
            color: white;
            height: 100%;
            display: flex;
            flex-direction: column;
            justify-content: center;
        }

        .current-load-box.empty {
            background: linear-gradient(135deg, #ef4444 0%, #dc2626 100%);
        }

        .current-load-box .load-amount {
            font-size: 32px;
            font-weight: 700;
            margin: 0;
        }

        .stops-table {
            width: 100%;
            border-collapse: separate;
            border-spacing: 0;
        }

        .stops-table thead th {
            background: #f9fafb;
            color: #374151;
            font-weight: 600;
            font-size: 13px;
            text-transform: uppercase;
            padding: 12px 16px;
            border-bottom: 2px solid #e5e7eb;
            text-align: left;
        }

        .stops-table tbody td {
            padding: 14px 16px;
            border-bottom: 1px solid #f3f4f6;
            font-size: 14px;
            vertical-align: middle;
        }

        .stops-table .factory-row {
            background: #fef3c7;
            font-weight: 600;
        }

        .badge-index {
            background: #667eea;
            color: white;
            padding: 4px 10px;
            border-radius: 6px;
            font-weight: 600;
            font-size: 12px;
        }

        .amount-dropped {
            color: #dc2626;
            font-weight: 600;
        }

        .amount-remaining {
            color: #059669;
            font-weight: 600;
        }

        .modal-content {
            border-radius: 12px;
            border: none;
        }

        .modal-header {
            border-bottom: none;
            padding: 24px;
        }

        .form-control {
            border-radius: 8px;
            padding: 10px 14px;
        }

        /* Ekranda Gizli Olan Yazdrma Alanlar */
        .print-header,
        .print-signature-area {
            display: none;
        }


        /* ==========================================
                           2. YAZDIRMA (PRINT) TASARIMI
                           ========================================== */
        @media print {

            /* --- GZLEMELER --- */
            .btn,
            .sidebar,
            nav,
            header,
            footer,
            .alert,
            .breadcrumb,
            .no-print,
            .action-buttons,
            .modal,
            .modal-backdrop {
                display: none !important;
            }

            /* konlar temizle */
            i.fas,
            i.far {
                display: none !important;
            }

            /* --- SAYFA YAPISI --- */
            @page {
                size: A4;
                margin: 10mm;
                /* Kenar boluklar */
            }

            body {
                margin: 0 !important;
                padding: 0 !important;
                background-color: white !important;
                color: black !important;
                font-family: 'Times New Roman', Times, serif;
                font-size: 10pt;
                /* Fontu biraz klttk smas iin */
                -webkit-print-color-adjust: exact;
            }

            .container-fluid {
                width: 100% !important;
                padding: 0 !important;
                margin: 0 !important;
            }

            /* --- GRID SSTEM (YAN YANA DURMA GARANTS) --- */
            .row {
                display: flex !important;
                flex-wrap: nowrap !important;
                margin: 0 !important;
                width: 100% !important;
            }

            .col-md-8 {
                flex: 0 0 65% !important;
                width: 65% !important;
                padding-right: 15px !important;
                display: block !important;
            }

            .col-md-4 {
                flex: 0 0 35% !important;
                width: 35% !important;
                display: flex !important;
                flex-direction: column;
                padding-left: 0 !important;
            }

            /* --- KART VE BALIKLAR --- */
            .info-card {
                box-shadow: none !important;
                border: none !important;
                padding: 0 !important;
                margin-bottom: 10px !important;
            }

            .info-card-header {
                border-bottom: 2px solid #000 !important;
                margin-bottom: 5px !important;
                padding-bottom: 2px !important;
            }

            .info-card-header h6 {
                font-size: 12pt !important;
                font-weight: bold !important;
                text-transform: uppercase;
                color: black !important;
                margin: 0 !important;
            }

            /* --- TABLO GENEL AYARLARI --- */
            table {
                width: 100% !important;
                border-collapse: collapse !important;
                border: 1px solid #000 !important;
            }

            th,
            td {
                border: 1px solid #000 !important;
                padding: 4px !important;
                color: black !important;
                font-size: 9pt !important;
            }

            thead th,
            .info-table th {
                background-color: #eee !important;
                font-weight: bold !important;
                color: black !important;
            }

            /* --- TABLO SABTLEME (YAMUKLUK GDERC) --- */
            .stops-table {
                table-layout: fixed !important;
                /* Kilit nokta buras */
                width: 100% !important;
            }

            .stops-table td,
            .stops-table th {
                word-wrap: break-word !important;
                vertical-align: middle !important;
                text-align: center !important;
            }

            /* Lokasyon ad sola yasl olsun */
            .stops-table td:nth-child(2) {
                text-align: left !important;
            }

            /* Stun Genilikleri (Toplam %100) */
            .stops-table th:nth-child(1),
            .stops-table td:nth-child(1) {
                width: 5% !important;
            }

            /* # */
            .stops-table th:nth-child(2),
            .stops-table td:nth-child(2) {
                width: 30% !important;
            }

            /* Lokasyon */
            .stops-table th:nth-child(3),
            .stops-table td:nth-child(3) {
                width: 15% !important;
            }

            /* Tarih */
            .stops-table th:nth-child(4),
            .stops-table td:nth-child(4) {
                width: 12% !important;
            }

            /* ndirilen */
            .stops-table th:nth-child(5),
            .stops-table td:nth-child(5) {
                width: 12% !important;
            }

            /* Kalan */
            .stops-table th:nth-child(6),
            .stops-table td:nth-child(6) {
                width: 26% !important;
            }

            /* Not */

            /* lem Stununu (Sil butonu) Gizle */
            .stops-table th:nth-child(7),
            .stops-table td:nth-child(7) {
                display: none !important;
                width: 0 !important;
                border: none !important;
            }

            /* --- GNCEL YK KUTUSU --- */
            .current-load-box,
            .current-load-box.empty {
                background: white !important;
                color: black !important;
                border: 2px solid black !important;
                border-radius: 0 !important;
                padding: 10px !important;
                margin: 0 !important;
                height: 100% !important;
                display: flex !important;
                align-items: center;
                justify-content: center;
                flex-direction: column;
            }

            .current-load-box small {
                font-size: 11pt !important;
                font-weight: bold;
                text-transform: uppercase;
                margin-bottom: 5px;
                display: block;
                color: black !important;
                text-decoration: underline;
            }

            .current-load-box .load-amount {
                font-size: 28pt !important;
                font-weight: 800 !important;
                color: black !important;
            }

            /* --- RENKLER SIFIRLA --- */
            .amount-dropped,
            .amount-remaining,
            .badge-index {
                color: black !important;
                background: none !important;
                font-weight: normal !important;
                border: none !important;
            }

            .stops-table .factory-row {
                background-color: white !important;
                font-weight: bold !important;
            }

            /* --- BALIK VE MZA --- */
            .print-header {
                display: block !important;
                text-align: center;
                border-bottom: 2px solid black;
                margin-bottom: 10px;
                padding-bottom: 10px;
            }

            .print-header h2 {
                font-size: 14pt;
                font-weight: bold;
                margin: 0;
            }

            .print-header p {
                margin: 3px 0;
                font-size: 11pt;
            }

            .print-signature-area {
                display: flex !important;
                justify-content: space-between;
                margin-top: 40px;
                page-break-inside: avoid;
            }

            .signature-box {
                width: 30% !important;
            }
        }
    </style>

    <div class="container-fluid">
        <div class="print-header">
            <h2>KKSAN PET ve PLASTK AMBALAJ SAN. ve TC. A..</h2>
            <p>SEVKYAT VE DAITIM TAKP FORMU</p>
            <small>Form Tarihi: {{ now()->format('d.m.Y') }} | Belge No: #{{ $shipment->id }}</small>
        </div>

        <div class="shipment-header no-print">
            <div class="d-flex justify-content-between align-items-center">
                <div>
                    <h1>Sevkiyat Detay <span class="badge">#{{ $shipment->id }}</span></h1>
                    <p class="mb-0 mt-2" style="opacity: 0.9;">
                        <i class="fas fa-calendar-alt"></i>
                        {{ \Carbon\Carbon::parse($shipment->cikis_tarihi)->format('d.m.Y H:i') }}
                    </p>
                </div>
                <div class="action-buttons">
                    <a href="{{ route('shipments.index') }}" class="btn btn-light">
                        <i class="fas fa-arrow-left"></i> Geri Dn
                    </a>
                    <button onclick="window.print()" class="btn btn-warning">
                        <i class="fas fa-print"></i> Yazdr
                    </button>
                </div>
            </div>
        </div>

        @if (session('success'))
            <div class="alert alert-success no-print">
                <i class="fas fa-check-circle"></i> {{ session('success') }}
            </div>
        @endif
        @if ($errors->any())
            <div class="alert alert-danger no-print">
                <i class="fas fa-exclamation-circle"></i> {{ $errors->first() }}
            </div>
        @endif

        <div class="info-card">
            <div class="info-card-header">
                <i class="fas fa-truck"></i>
                <h6>Ara ve Yk Bilgileri</h6>
            </div>
            <div class="row">
                <div class="col-md-8">
                    <table class="info-table">
                        <tr>
                            <th><i class="fas fa-id-card text-muted"></i> Plaka / Ara</th>
                            <td>{{ $shipment->plaka ?? $shipment->gemi_adi }}</td>
                        </tr>
                        <tr>
                            <th><i class="fas fa-user text-muted"></i> ofr / Kaptan</th>
                            <td>{{ $shipment->sofor_adi ?? $shipment->imo_numarasi }}</td>
                        </tr>
                        <tr>
                            <th><i class="fas fa-weight-hanging text-muted"></i> Balang Yk</th>
                            <td><strong>{{ number_format($shipment->kargo_miktari, 2) }} Ton</strong></td>
                        </tr>
                        <tr>
                            <th><i class="fas fa-map-marker-alt text-muted"></i> Kalk Noktas</th>
                            <td>{{ $shipment->kalkis_noktasi ?? $shipment->kalkis_limani }}</td>
                        </tr>
                        <tr>
                            <th><i class="fas fa-flag-checkered text-muted"></i> Var Noktas</th>
                            <td>{{ $shipment->varis_noktasi ?? $shipment->varis_limani }}</td>
                        </tr>
                        <tr>
                            <th><i class="fas fa-calendar text-muted"></i> k Tarihi</th>
                            <td>{{ \Carbon\Carbon::parse($shipment->cikis_tarihi)->format('d.m.Y') }}</td>
                        </tr>
                        <tr>
                            <th><i class="fas fa-clock text-muted"></i> k Saati</th>
                            <td>{{ \Carbon\Carbon::parse($shipment->cikis_tarihi)->format('H:i') }}</td>
                        </tr>
                        {{-- EK DOSYA ALANI (YEN EKLEND) --}}
                        @if ($shipment->dosya_yolu)
                            <tr class="no-print"> {{-- Yazcda kmamas iin no-print eklendi --}}
                                <th><i class="fas fa-file-alt text-muted"></i> Ek Dosya</th>
                                <td>
                                    @if (Str::startsWith($shipment->dosya_yolu, ['http://', 'https://']))
                                        {{-- Eski usul tam URL --}}
                                        <a href="{{ $shipment->dosya_yolu }}" target="_blank"
                                            class="btn btn-sm btn-outline-primary">
                                            <i class="fas fa-external-link-alt"></i> Dosyay Grntle
                                        </a>
                                    @else
                                        {{-- Yeni sistem storage path --}}
                                        <a href="{{ asset('storage/' . $shipment->dosya_yolu) }}" target="_blank"
                                            class="btn btn-sm btn-outline-primary">
                                            <i class="fas fa-external-link-alt"></i> Dosyay Grntle
                                        </a>
                                    @endif
                                </td>
                            </tr>
                        @endif
                        {{-- EK DOSYA ALANI SONU --}}
                    </table>
                </div>
                <div class="col-md-4">
                    <div class="current-load-box {{ $shipment->latest_remaining_amount == 0 ? 'empty' : '' }}">
                        <small>Arataki Gncel Yk</small>
                        <div class="load-amount">{{ number_format($shipment->latest_remaining_amount, 2) }} Ton</div>
                    </div>
                </div>
            </div>
        </div>

        <div class="info-card">
            <div class="info-card-header">
                <i class="fas fa-list-alt"></i>
                <h6>Datm Duraklar (Teslimat Listesi)</h6>
                <div class="ms-auto">
                    @if ($shipment->latest_remaining_amount > 0)
                        <button type="button" class="btn btn-primary btn-sm no-print" data-bs-toggle="modal"
                            data-bs-target="#addStopModal">
                            <i class="fas fa-plus"></i> Yeni Durak Ekle
                        </button>
                    @endif
                </div>
            </div>

            <div class="table-responsive">
                <table class="stops-table">
                    <thead>
                        <tr>
                            <th style="width: 50px;">#</th>
                            <th>Lokasyon / Mteri</th>
                            <th style="width: 140px;">Tarih</th>
                            <th style="width: 110px;">ndirilen</th>
                            <th style="width: 110px;">Kalan</th>
                            <th style="width: 200px;">Not</th>
                            <th class="no-print" style="width: 80px;">lem</th>
                        </tr>
                    </thead>
                    <tbody>
                        <tr class="factory-row">
                            <td>-</td>
                            <td><strong><i class="fas fa-industry"></i> FABRKA IKI</strong></td>
                            <td>{{ \Carbon\Carbon::parse($shipment->created_at)->format('d.m.Y') }}</td>
                            <td>-</td>
                            <td class="amount-remaining"><strong>{{ (float) $shipment->kargo_miktari }}</strong></td>
                            <td><small>lk Ykleme</small></td>
                            <td class="no-print"></td>
                        </tr>

                        @foreach ($shipment->stops as $index => $stop)
                            <tr>
                                <td><span class="badge-index">{{ $index + 1 }}</span></td>
                                <td><strong>{{ $stop->location_name }}</strong></td>
                                <td>
                                    @if ($stop->stop_date)
                                        {{ \Carbon\Carbon::parse($stop->stop_date)->format('d.m.Y') }}
                                        <br>
                                        <small class="text-muted">
                                            <i class="fas fa-clock"></i>
                                            {{ \Carbon\Carbon::parse($stop->stop_date)->format('H:i') }}
                                        </small>
                                    @else
                                        -
                                    @endif
                                </td>
                                <td class="amount-dropped">
                                    <i class="fas fa-arrow-down"></i> {{ (float) $stop->dropped_amount }}
                                </td>
                                <td class="amount-remaining">
                                    <i class="fas fa-box"></i> {{ (float) $stop->remaining_amount }}
                                </td>
                                <td><small>{{ $stop->note }}</small></td>
                                <td class="no-print">
                                    <form action="{{ route('shipments.stops.destroy', $stop->id) }}" method="POST"
                                        onsubmit="return confirm('Silmek istediinize emin misiniz?');">
                                        @csrf @method('DELETE')
                                        <button type="submit" class="btn-delete" title="Sil">
                                            <i class="fas fa-trash"></i>
                                        </button>
                                    </form>
                                </td>
                            </tr>
                        @endforeach
                    </tbody>
                </table>
            </div>
        </div>

        <div class="print-signature-area">
            <div class="signature-box"
                style="text-align: center; width: 30%; border-top: 1px solid black; padding-top: 5px;">
                <strong>ofr / Teslim Eden</strong><br>
                .........................<br>
                <br>mza
            </div>
            <div class="signature-box"
                style="text-align: center; width: 30%; border-top: 1px solid black; padding-top: 5px;">
                <strong>Lojistik Sorumlusu</strong><br>
                .........................<br>
                <br>mza
            </div>
            <div class="signature-box"
                style="text-align: center; width: 30%; border-top: 1px solid black; padding-top: 5px;">
                <strong>Mteri / Teslim Alan</strong><br>
                .........................<br>
                <br>mza
            </div>
        </div>
    </div>

    <div class="modal fade" id="addStopModal" tabindex="-1" role="dialog">
        <div class="modal-dialog" role="document">
            <div class="modal-content">
                <form action="{{ route('shipments.stops.store', $shipment->id) }}" method="POST">
                    @csrf
                    <div class="modal-header bg-primary text-white">
                        <h5 class="modal-title"><i class="fas fa-plus-circle"></i> Yeni Teslimat Girii</h5>
                        <button type="button" class="close text-white" data-bs-dismiss="modal">&times;</button>
                    </div>
                    <div class="modal-body">
                        <div class="alert alert-info">
                            <i class="fas fa-info-circle"></i> Gncel Yk:
                            <strong>{{ number_format($shipment->latest_remaining_amount, 2) }} Ton</strong>
                        </div>

                        <div class="form-group">
                            <label><i class="fas fa-map-marker-alt"></i> Gidilen Lokasyon / Firma Ad <span
                                    class="text-danger">*</span></label>
                            <input type="text" class="form-control" name="location_name" required>
                        </div>

                        <div class="row">
                            <div class="col-md-6">
                                <div class="form-group">
                                    <label><i class="fas fa-weight"></i> ndirilen Miktar (Ton) <span
                                            class="text-danger">*</span></label>
                                    <input type="number" step="0.01" min="0.01"
                                        max="{{ $shipment->latest_remaining_amount }}" class="form-control"
                                        name="dropped_amount" required>
                                </div>
                            </div>
                            <div class="col-md-6">
                                <div class="form-group">
                                    <label><i class="fas fa-calendar-check"></i> Tarih/Saat <span
                                            class="text-danger">*</span></label>
                                    <input type="datetime-local" class="form-control" name="stop_date"
                                        value="{{ now()->format('Y-m-d\TH:i') }}" required>
                                </div>
                            </div>
                        </div>

                        <div class="form-group">
                            <label><i class="fas fa-user-check"></i> Teslim Alan Kii</label>
                            <input type="text" class="form-control" name="receiver_name">
                        </div>

                        <div class="form-group">
                            <label><i class="fas fa-sticky-note"></i> Notlar</label>
                            <textarea class="form-control" name="note" rows="2"></textarea>
                        </div>
                    </div>
                    <div class="modal-footer">
                        <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">
                            <i class="fas fa-times"></i> ptal
                        </button>
                        <button type="submit" class="btn btn-primary">
                            <i class="fas fa-save"></i> Kaydet
                        </button>
                    </div>
                </form>
            </div>
        </div>
    </div>
@endsection


----------------------------------------
DOSYA YOLU: resources\views\statistics\index.blade.php
----------------------------------------

@extends('layouts.app')

@section('title', $pageTitle)

@push('styles')
    <style>
        /* === 1. SAYFA ARKA PLANI === */
        #app>main.py-4 {
            padding: 2rem 0 !important;
            min-height: calc(100vh - 72px);
            background: linear-gradient(135deg, #4c1d95 0%, #3b82f6 100%);
            position: relative;
            background-attachment: fixed;
            overflow-x: hidden;
        }

        #app>main.py-4::before {
            content: '';
            position: absolute;
            top: -10%;
            left: -10%;
            width: 50%;
            height: 50%;
            background: radial-gradient(circle, rgba(255, 255, 255, 0.1) 0%, transparent 60%);
            border-radius: 50%;
            pointer-events: none;
        }

        #app>main.py-4::after {
            content: '';
            position: absolute;
            bottom: -10%;
            right: -10%;
            width: 50%;
            height: 50%;
            background: radial-gradient(circle, rgba(255, 255, 255, 0.1) 0%, transparent 60%);
            border-radius: 50%;
            pointer-events: none;
        }

        /* === 2. DASHBOARD WRAPPER === */
        .dashboard-wrapper {
            max-width: 1400px;
            width: 95%;
            margin: 0 auto;
            background: rgba(255, 255, 255, 0.1);
            backdrop-filter: blur(20px);
            -webkit-backdrop-filter: blur(20px);
            border-radius: 24px;
            border: 1px solid rgba(255, 255, 255, 0.2);
            box-shadow: 0 25px 50px -12px rgba(0, 0, 0, 0.25);
            padding: 2rem;
            position: relative;
            z-index: 10;
        }

        /* === 3. MODERN KARTLAR === */
        .modern-card {
            background: rgba(255, 255, 255, 0.85);
            backdrop-filter: blur(10px);
            border-radius: 16px;
            border: 1px solid rgba(255, 255, 255, 0.5);
            box-shadow: 0 4px 6px -1px rgba(0, 0, 0, 0.1);
            transition: transform 0.2s ease, box-shadow 0.2s ease;
            margin-bottom: 1.5rem;
        }

        .modern-card:hover {
            transform: translateY(-2px);
            box-shadow: 0 10px 15px -3px rgba(0, 0, 0, 0.1);
        }

        /* Page Header */
        .page-header {
            background: transparent;
            padding: 0 0 1.5rem 0;
            margin-bottom: 2rem;
            border-bottom: 1px solid rgba(255, 255, 255, 0.2);
        }

        .page-title {
            font-size: 2.25rem;
            font-weight: 800;
            color: #ffffff;
            text-shadow: 0 2px 4px rgba(0, 0, 0, 0.1);
            margin: 0;
        }

        /* Filter Panel */
        .admin-filter-panel {
            background: rgba(255, 255, 255, 0.9);
            border-radius: 16px;
            padding: 1.5rem;
            margin-bottom: 2rem;
            border: 1px solid rgba(102, 126, 234, 0.2);
            box-shadow: 0 10px 15px -3px rgba(0, 0, 0, 0.1);
        }

        .filter-section-title {
            font-size: 1.25rem;
            font-weight: 700;
            color: #4c1d95;
            margin-bottom: 1rem;
            display: flex;
            align-items: center;
            gap: 0.5rem;
        }

        /* Form Elemanlar */
        .modern-input,
        .modern-select {
            border: 1px solid #e2e8f0;
            border-radius: 10px;
            padding: 0.7rem 1rem;
            font-size: 0.95rem;
        }

        .modern-input:focus,
        .modern-select:focus {
            border-color: #667eea;
            box-shadow: 0 0 0 3px rgba(102, 126, 234, 0.2);
        }

        .modern-label {
            color: #4a5568;
            font-size: 0.8rem;
            font-weight: 700;
        }

        /* Chart Container */
        .chart-container {
            background: #ffffff;
            border-radius: 16px;
            padding: 1.5rem;
            height: 100%;
            border: 1px solid rgba(226, 232, 240, 0.8);
            box-shadow: 0 4px 6px -1px rgba(0, 0, 0, 0.05);
        }

        .chart-header {
            font-size: 1.1rem;
            font-weight: 700;
            color: #1a202c;
            margin-bottom: 1.25rem;
            padding-bottom: 0.75rem;
            border-bottom: 2px solid #edf2f7;
        }

        /* Badges */
        .role-badge {
            background: rgba(255, 255, 255, 0.2);
            color: white;
            border: 1px solid rgba(255, 255, 255, 0.4);
            padding: 0.4rem 1rem;
            border-radius: 20px;
            font-size: 0.8rem;
            font-weight: 600;
            backdrop-filter: blur(4px);
        }

        .unit-badge {
            background: #FBD38D;
            color: #744210;
            padding: 0.4rem 1rem;
            border-radius: 20px;
            font-size: 0.8rem;
            font-weight: 700;
            box-shadow: 0 2px 4px rgba(0, 0, 0, 0.1);
        }

        .dept-badge {
            background: #ffffff;
            color: #4c1d95;
            padding: 0.4rem 1rem;
            border-radius: 20px;
            font-weight: 700;
            box-shadow: 0 2px 4px rgba(0, 0, 0, 0.1);
        }

        /* Loading */
        .loading-overlay {
            background: rgba(255, 255, 255, 0.7);
            backdrop-filter: blur(8px);
        }

        .stat-card {
            border-radius: 16px;
            padding: 1.5rem;
            color: white;
            box-shadow: 0 10px 15px -3px rgba(0, 0, 0, 0.1);
        }

        .btn-modern-secondary {
            background: rgba(255, 255, 255, 0.1);
            color: white;
            border: 1px solid rgba(255, 255, 255, 0.5);
        }

        .btn-modern-secondary:hover {
            background: white;
            color: #4c1d95;
        }
    </style>
@endpush

@section('content')
    <div class="loading-overlay" id="loadingOverlay">
        <div class="loading-spinner"></div>
    </div>

    <div class="dashboard-wrapper">
        {{-- Page Header --}}
        <div class="page-header">
            <div class="row align-items-center">
                <div class="col-md-8">
                    <div class="d-flex align-items-center flex-wrap gap-2 mb-2">
                        {{-- AKTF FABRKA ROZET --}}
                        <span class="unit-badge"><i class="fa-solid fa-industry me-1"></i> {{ $activeUnitName }}</span>

                        @if ($viewLevel === 'full')
                            <span class="role-badge"><i class="fa-solid fa-user-tie me-1"></i> Ynetici Grnm</span>
                        @else
                            <span class="role-badge"><i class="fa-solid fa-user-gear me-1"></i> Personel Grnm</span>
                        @endif
                    </div>
                    <h1 class="page-title">{{ $pageTitle }}</h1>

                    @if ($departmentSlug !== 'genel')
                        <div class="mt-2">
                            <span class="dept-badge"><i class="fa-solid fa-building me-1"></i> {{ $departmentName }}</span>
                        </div>
                    @endif
                </div>
                <div class="col-md-4 text-md-end mt-4 mt-md-0">
                    <a href="{{ route('home') }}" class="btn btn-modern btn-modern-secondary">
                        <i class="fa-solid fa-arrow-left me-2"></i> Takvime Dn
                    </a>
                </div>
            </div>
        </div>

        {{-- YNETC/MDR N FLTRE PANEL --}}
        @if ($isManager || $isSuperUser || (isset($allowedDepartments) && $allowedDepartments->count() > 1))
            <div class="admin-filter-panel">
                <div class="filter-section-title">
                    <div class="d-flex align-items-center gap-2">
                        <i class="fa-solid fa-sliders"></i>
                        <span>Rapor Filtreleri</span>
                    </div>
                </div>
                <form method="GET" action="{{ route('statistics.index') }}" id="adminFilterForm">
                    <div class="row g-3 align-items-end">
                        <div class="col-md-3">
                            <label class="modern-label">Departman Seimi</label>
                            <select name="target_dept" id="deptSelect" class="form-select modern-select">
                                @if ($isSuperUser)
                                    <option value="genel" {{ $departmentSlug == 'genel' ? 'selected' : '' }}> Genel Bak
                                        ({{ $activeUnitName }})</option>
                                @endif
                                @foreach ($allowedDepartments as $dept)
                                    <option value="{{ $dept->slug }}"
                                        {{ $departmentSlug == $dept->slug ? 'selected' : '' }}>
                                        {{ $dept->name }}
                                    </option>
                                @endforeach
                            </select>
                        </div>
                        <div class="col-md-3">
                            <label class="modern-label">Balang Tarihi</label>
                            <input type="date" name="date_from" id="adminDateFrom" class="form-control modern-input"
                                value="{{ $filters['date_from'] }}">
                        </div>
                        <div class="col-md-3">
                            <label class="modern-label">Biti Tarihi</label>
                            <input type="date" name="date_to" id="adminDateTo" class="form-control modern-input"
                                value="{{ $filters['date_to'] }}">
                        </div>
                        <div class="col-md-3">
                            <a href="{{ route('statistics.index') }}"
                                class="btn btn-modern btn-modern-primary w-100 d-flex align-items-center justify-content-center gap-2">
                                <i class="fa-solid fa-rotate-right"></i> Filtreleri Sfrla
                            </a>
                        </div>
                    </div>
                </form>
            </div>
        @else
            {{-- STANDART KULLANICI FLTRE PANEL --}}
            <div class="modern-card mb-4">
                <div class="card-body p-4">
                    <div class="filter-section-title mb-4 d-flex align-items-center justify-content-between">
                        <div><i class="fa-solid fa-filter"></i> Tarih Aral Seiniz</div>
                    </div>
                    <form method="GET" action="{{ route('statistics.index') }}" id="standardFilterForm">
                        <input type="hidden" name="target_dept" value="{{ $departmentSlug }}">
                        <div class="row g-3 align-items-end">
                            <div class="col-md-4">
                                <label class="modern-label">Balang</label>
                                <input type="date" name="date_from" id="std_date_from" class="form-control modern-input"
                                    value="{{ $filters['date_from'] ?? '' }}">
                            </div>
                            <div class="col-md-4">
                                <label class="modern-label">Biti</label>
                                <input type="date" name="date_to" id="std_date_to" class="form-control modern-input"
                                    value="{{ $filters['date_to'] ?? '' }}">
                            </div>
                            <div class="col-md-4">
                                <a href="{{ route('statistics.index') }}"
                                    class="btn btn-modern btn-modern-primary w-100 d-flex align-items-center justify-content-center">
                                    <i class="fa-solid fa-rotate-right me-2"></i> Sfrla
                                </a>
                            </div>
                        </div>
                    </form>
                </div>
            </div>
        @endif

        {{-- GZL VER TAIYICI (JavaScript iin) --}}
        <div id="stats-data-container" style="display: none;" data-chart-data='@json($chartData ?? [])'
            data-department-slug="{{ $departmentSlug ?? '' }}"
            @if ($departmentSlug === 'lojistik') data-shipments='@json($shipmentsForFiltering ?? [])'
            @elseif ($departmentSlug === 'uretim') data-production-plans='@json($productionPlansForFiltering ?? [])'
            @elseif ($departmentSlug === 'hizmet') data-events='@json($eventsForFiltering ?? [])'
            @elseif ($departmentSlug === 'ulastirma') data-assignments='@json($assignmentsForFiltering ?? [])' data-vehicles='@json($vehiclesForFiltering ?? [])'
            @elseif ($departmentSlug === 'bakim')
                data-maintenance-plans='@json($maintenancePlansForFiltering ?? [])'
                data-maintenance-types='@json($maintenanceTypes ?? [])'
                data-assets='@json($assets ?? [])' @endif>
        </div>

        {{-- GRAFK ALANLARI --}}
        @if ($departmentSlug === 'genel')
            {{-- GENEL BAKI --}}
            <div class="row g-4">
                <div class="col-lg-8">
                    <div class="chart-container">
                        <div class="chart-header"> {{ $activeUnitName }} - Aktivite zeti</div>
                        <div id="department-summary-chart" style="height: 350px;"></div>
                    </div>
                </div>
                <div class="col-lg-4">
                    <div class="stat-card mb-3" style="background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);">
                        <div class="stat-label">Toplam lem</div>
                        <div class="stat-value">
                            {{ isset($chartData['departmentSummary']['data']) ? array_sum($chartData['departmentSummary']['data']) : 0 }}
                        </div>
                    </div>
                    <div class="stat-card mb-3" style="background: linear-gradient(135deg, #10b981 0%, #059669 100%);">
                        <div class="stat-label">Balang</div>
                        <div class="stat-value" style="font-size: 1.25rem;">{{ $filters['date_from'] }}</div>
                    </div>
                    <div class="stat-card" style="background: linear-gradient(135deg, #f59e0b 0%, #d97706 100%);">
                        <div class="stat-label">Biti</div>
                        <div class="stat-value" style="font-size: 1.25rem;">{{ $filters['date_to'] }}</div>
                    </div>
                </div>
            </div>
        @elseif ($departmentSlug === 'lojistik')
            {{-- LOJSTK GRAFKLER --}}
            <div class="row g-4 mb-4">
                <div class="col-md-6">
                    <div class="chart-container">
                        <div class="chart-header"> Ara Tipi</div>
                        <div id="vehicle-type-chart" style="height: 350px;"></div>
                    </div>
                </div>
                <div class="col-md-6">
                    <div class="chart-container">
                        <div class="chart-header"> Kargo erii</div>
                        <div id="cargo-content-chart" style="height: 350px;"></div>
                    </div>
                </div>
            </div>
            <div class="row g-4 mb-4">
                <div class="col-lg-6">
                    <div class="chart-container">
                        <div id="hourly-chart-lojistik" style="height: 300px;"></div>
                    </div>
                </div>
                <div class="col-lg-6">
                    <div class="chart-container">
                        <div id="daily-chart-lojistik" style="height: 300px;"></div>
                    </div>
                </div>
            </div>
            @if (!empty($chartData['monthly']) || !empty($chartData['yearly']))
                <hr class="section-divider">
                <h4 class="mb-4 text-white"><i class="fa-solid fa-chart-pie me-2"></i>Ynetici Analizleri</h4>
                <div class="row g-4 mb-4">
                    @if (!empty($chartData['monthly']))
                        <div class="col-lg-8">
                            <div class="chart-container">
                                <div id="monthly-chart-lojistik" style="height: 350px;"></div>
                            </div>
                        </div>
                    @endif
                    @if (!empty($chartData['yearly']))
                        <div class="col-lg-4">
                            <div class="chart-container">
                                <div id="yearly-chart-lojistik" style="height: 350px;"></div>
                            </div>
                        </div>
                    @endif
                </div>
            @endif
        @elseif($departmentSlug === 'uretim')
            {{-- RETM GRAFKLER --}}
            <div class="row g-4 mb-4">
                <div class="col-lg-6">
                    <div class="chart-container">
                        <div class="chart-header"> Makine Kullanm</div>
                        <div id="machine-chart-uretim" style="height: 350px;"></div>
                    </div>
                </div>
                <div class="col-lg-6">
                    <div class="chart-container">
                        <div class="chart-header"> rn Dalm</div>
                        <div id="product-chart-uretim" style="height: 350px;"></div>
                    </div>
                </div>
            </div>
            <div class="row g-4">
                <div class="col-12">
                    <div class="chart-container">
                        <div id="weekly-prod-chart" style="height: 350px;"></div>
                    </div>
                </div>
            </div>
            @if (!empty($chartData['monthly_prod']))
                <hr class="section-divider">
                <h4 class="mb-4 text-white"><i class="fa-solid fa-chart-pie me-2"></i>Ynetici Analizleri</h4>
                <div class="row g-4">
                    <div class="col-12">
                        <div class="chart-container">
                            <div id="monthly-prod-chart" style="height: 350px;"></div>
                        </div>
                    </div>
                </div>
            @endif
        @elseif($departmentSlug === 'hizmet')
            {{-- HZMET GRAFKLER --}}
            <div class="row g-4">
                <div class="col-lg-6">
                    <div class="chart-container">
                        <div class="chart-header"> Etkinlik Dalm</div>
                        <div id="event-type-pie-chart" style="height: 350px;"></div>
                    </div>
                </div>
                <div class="col-lg-6">
                    <div class="modern-alert modern-alert-info h-100 d-flex align-items-center">
                        <div><strong>Bilgi</strong>
                            <p class="mb-0">Ara grevleri iin Ulatrma departmanna geiniz.</p>
                        </div>
                    </div>
                </div>
            </div>
        @elseif($departmentSlug === 'ulastirma')
            {{-- ULATIRMA GRAFKLER --}}
            <div class="row g-4 mb-4">
                <div class="col-lg-6">
                    <div class="chart-container">
                        <div class="chart-header"> Grev Durumlar</div>
                        <div id="status-pie-chart" style="height: 350px;"></div>
                    </div>
                </div>
                @if (!empty($chartData['top_vehicles']))
                    <div class="col-lg-6">
                        <div class="chart-container">
                            <div class="chart-header"> En ok Kullanlan Aralar</div>
                            <div id="top-vehicles-chart" style="height: 350px;"></div>
                        </div>
                    </div>
                @endif
            </div>
            @if (!empty($chartData['monthly_trend']))
                <div class="row g-4">
                    <div class="col-12">
                        <div class="chart-container">
                            <div class="chart-header"> Aylk Grev Trendi</div>
                            <div id="monthly-trend-chart" style="height: 350px;"></div>
                        </div>
                    </div>
                </div>
            @endif
        @elseif($departmentSlug === 'bakim')
            {{-- BAKIM GRAFKLER --}}
            <div class="row g-4 mb-4">
                <div class="col-lg-12">
                    <div class="chart-container">
                        <div class="chart-header"> Bakm Tr Dalm</div>
                        <div id="maintenance-type-chart" style="height: 350px;"></div>
                    </div>
                </div>
            </div>
            @if (!empty($chartData['top_assets']) || !empty($chartData['monthly_maintenance']))
                <hr class="section-divider">
                <h4 class="mb-4 text-white"><i class="fa-solid fa-chart-pie me-2"></i>Ynetici Analizleri</h4>
                <div class="row g-4 mb-4">
                    @if (!empty($chartData['top_assets']))
                        <div class="col-lg-6">
                            <div class="chart-container">
                                <div class="chart-header"> En ok Arza Yapanlar</div>
                                <div id="top-assets-chart" style="height: 350px;"></div>
                            </div>
                        </div>
                    @endif
                    @if (!empty($chartData['monthly_maintenance']))
                        <div class="col-lg-6">
                            <div class="chart-container">
                                <div class="chart-header"> Aylk Bakm Yk</div>
                                <div id="monthly-maintenance-chart" style="height: 350px;"></div>
                            </div>
                        </div>
                    @endif
                </div>
            @endif
        @else
            <div class="modern-alert modern-alert-info">
                <div class="d-flex align-items-center"><i class="fa-solid fa-info-circle me-3"
                        style="font-size: 1.5rem;"></i>
                    <div><strong>Veri Bulunamad</strong>
                        <p class="mb-0">Bu departman iin istatistik verisi yok.</p>
                    </div>
                </div>
            </div>
        @endif

    </div>
@endsection

@section('page_scripts')
    <script src="https://cdn.jsdelivr.net/npm/apexcharts"></script>
    <script>
        document.addEventListener('DOMContentLoaded', function() {
            // Veri okuma ksm:
            const statsContainer = document.getElementById('stats-data-container');
            if (!statsContainer) return;
            let chartData = {};
            try {
                chartData = JSON.parse(statsContainer.dataset.chartData || '{}');
            } catch (e) {}

            // Ortak Grafik Ayarlar
            const colorPalette = ['#667EEA', '#764BA2', '#A78BFA', '#60D9A0', '#FDB4C8', '#FFB84D', '#9DECF9'];
            const commonChartOptions = {
                chart: {
                    height: 350,
                    toolbar: {
                        show: false
                    },
                    zoom: {
                        enabled: false
                    },
                    fontFamily: 'inherit'
                },
                colors: colorPalette,
                legend: {
                    show: false
                },
                title: {
                    align: 'left',
                    style: {
                        fontSize: '16px',
                        fontWeight: 'bold',
                        color: '#2d3748'
                    }
                },
                noData: {
                    text: 'Veri Yok'
                },
                dataLabels: {
                    enabled: false
                }
            };
            const commonBarOptions = {
                ...commonChartOptions,
                chart: {
                    ...commonChartOptions.chart,
                    type: 'bar'
                },
                plotOptions: {
                    bar: {
                        distributed: true,
                        borderRadius: 8
                    }
                }
            };
            const commonAreaOptions = {
                ...commonChartOptions,
                chart: {
                    ...commonChartOptions.chart,
                    type: 'area'
                },
                stroke: {
                    curve: 'smooth',
                    width: 2
                },
                fill: {
                    type: 'gradient',
                    gradient: {
                        opacityFrom: 0.6,
                        opacityTo: 0.1
                    }
                }
            };
            const commonPieOptions = {
                ...commonChartOptions,
                chart: {
                    ...commonChartOptions.chart,
                    type: 'donut'
                },
                legend: {
                    position: 'bottom',
                    show: true
                }
            };

            function safeRender(selector, options) {
                if (document.querySelector(selector)) {
                    new ApexCharts(document.querySelector(selector), options).render();
                }
            }

            // --- GRAFKLER Z ---
            const deptSlug = statsContainer.dataset.departmentSlug;

            // 1. GENEL BAKI
            if (deptSlug === 'genel' && chartData.departmentSummary) {
                safeRender("#department-summary-chart", {
                    ...commonBarOptions,
                    series: [{
                        name: 'Aktivite',
                        data: chartData.departmentSummary.data || []
                    }],
                    xaxis: {
                        categories: chartData.departmentSummary.labels || []
                    },
                    title: {
                        text: chartData.departmentSummary.title
                    }
                });
            }
            // 2. LOJSTK
            else if (deptSlug === 'lojistik') {
                if (chartData.pie) safeRender('#vehicle-type-chart', {
                    ...commonPieOptions,
                    series: chartData.pie.data,
                    labels: chartData.pie.labels,
                    title: {
                        text: chartData.pie.title
                    }
                });
                // Kargo grafii iin ekstra veri ekimi gerekebilir, imdilik bo brakyoruz veya custom veri varsa kullanlr.
                if (chartData.hourly) safeRender("#hourly-chart-lojistik", {
                    ...commonBarOptions,
                    series: [{
                        name: 'Sevkiyat',
                        data: chartData.hourly.data
                    }],
                    xaxis: {
                        categories: chartData.hourly.labels
                    },
                    title: {
                        text: chartData.hourly.title
                    }
                });
                if (chartData.daily) safeRender("#daily-chart-lojistik", {
                    ...commonBarOptions,
                    series: [{
                        name: 'Sevkiyat',
                        data: chartData.daily.data
                    }],
                    xaxis: {
                        categories: chartData.daily.labels
                    },
                    title: {
                        text: chartData.daily.title
                    }
                });
                if (chartData.monthly) safeRender("#monthly-chart-lojistik", {
                    ...commonAreaOptions,
                    series: [{
                        name: 'Sevkiyat',
                        data: chartData.monthly.data
                    }],
                    xaxis: {
                        categories: chartData.monthly.labels
                    },
                    title: {
                        text: chartData.monthly.title
                    }
                });
                if (chartData.yearly) safeRender("#yearly-chart-lojistik", {
                    ...commonBarOptions,
                    chart: {
                        type: 'bar',
                        height: 350
                    },
                    plotOptions: {
                        bar: {
                            horizontal: true,
                            distributed: true
                        }
                    },
                    series: [{
                        name: 'Sevkiyat',
                        data: chartData.yearly.data
                    }],
                    xaxis: {
                        categories: chartData.yearly.labels
                    },
                    title: {
                        text: chartData.yearly.title
                    }
                });
            }
            // 3. RETM
            else if (deptSlug === 'uretim') {
                if (chartData.weekly_prod) safeRender("#weekly-prod-chart", {
                    ...commonAreaOptions,
                    series: [{
                        name: 'Plan',
                        data: chartData.weekly_prod.data
                    }],
                    xaxis: {
                        categories: chartData.weekly_prod.labels
                    },
                    title: {
                        text: chartData.weekly_prod.title
                    }
                });
                if (chartData.monthly_prod) safeRender("#monthly-prod-chart", {
                    ...commonAreaOptions,
                    series: [{
                        name: 'Plan',
                        data: chartData.monthly_prod.data
                    }],
                    xaxis: {
                        categories: chartData.monthly_prod.labels
                    },
                    title: {
                        text: chartData.monthly_prod.title
                    }
                });
                // Makine ve rn grafikleri JS tarafnda filtrelenerek dolduruluyor, burada placeholder render edilebilir.
            }
            // 4. HZMET
            else if (deptSlug === 'hizmet') {
                if (chartData.event_type_pie) safeRender("#event-type-pie-chart", {
                    ...commonPieOptions,
                    series: chartData.event_type_pie.data,
                    labels: chartData.event_type_pie.labels,
                    title: {
                        text: chartData.event_type_pie.title
                    }
                });
            }
            // 5. ULATIRMA
            else if (deptSlug === 'ulastirma') {
                if (chartData.status_pie) safeRender("#status-pie-chart", {
                    ...commonPieOptions,
                    series: chartData.status_pie.data,
                    labels: chartData.status_pie.labels,
                    title: {
                        text: chartData.status_pie.title
                    }
                });
                if (chartData.top_vehicles) safeRender("#top-vehicles-chart", {
                    ...commonBarOptions,
                    series: [{
                        name: 'Grev',
                        data: chartData.top_vehicles.data
                    }],
                    xaxis: {
                        categories: chartData.top_vehicles.labels
                    },
                    title: {
                        text: chartData.top_vehicles.title
                    },
                    colors: ['#3182CE']
                });
                if (chartData.monthly_trend) safeRender("#monthly-trend-chart", {
                    ...commonAreaOptions,
                    series: [{
                        name: 'Toplam Grev',
                        data: chartData.monthly_trend.data
                    }],
                    xaxis: {
                        categories: chartData.monthly_trend.labels
                    },
                    title: {
                        text: chartData.monthly_trend.title
                    },
                    colors: ['#805AD5']
                });
            }
            // 6. BAKIM
            else if (deptSlug === 'bakim') {
                if (chartData.type_dist) safeRender("#maintenance-type-chart", {
                    ...commonPieOptions,
                    series: chartData.type_dist.data,
                    labels: chartData.type_dist.labels,
                    title: {
                        text: 'Bakm Tr Dalm'
                    }
                });
                if (chartData.top_assets) safeRender("#top-assets-chart", {
                    ...commonBarOptions,
                    series: [{
                        name: 'Bakm',
                        data: chartData.top_assets.data
                    }],
                    xaxis: {
                        categories: chartData.top_assets.labels
                    },
                    title: {
                        text: chartData.top_assets.title
                    },
                    colors: ['#F56565']
                });
                if (chartData.monthly_maintenance) safeRender("#monthly-maintenance-chart", {
                    ...commonAreaOptions,
                    series: [{
                        name: 'Plan',
                        data: chartData.monthly_maintenance.data
                    }],
                    xaxis: {
                        categories: chartData.monthly_maintenance.labels
                    },
                    title: {
                        text: chartData.monthly_maintenance.title
                    },
                    colors: ['#ED8936']
                });
            }
        });

        // Form gnderme mant
        const forms = [{
            id: 'adminFilterForm',
            from: 'adminDateFrom',
            to: 'adminDateTo',
            select: 'deptSelect'
        }, {
            id: 'standardFilterForm',
            from: 'std_date_from',
            to: 'std_date_to',
            select: null
        }];

        function submitForm(id) {
            document.getElementById(id)?.submit();
        }
        forms.forEach(f => {
            const el = document.getElementById(f.id);
            if (el) {
                if (f.select) document.getElementById(f.select)?.addEventListener('change', () => submitForm(f.id));
                const d1 = document.getElementById(f.from);
                const d2 = document.getElementById(f.to);
                if (d1) d1.addEventListener('change', () => {
                    if (d2.value) submitForm(f.id);
                });
                if (d2) d2.addEventListener('change', () => {
                    if (d1.value) submitForm(f.id);
                });
            }
        });
    </script>
@endsection


----------------------------------------
DOSYA YOLU: resources\views\teams\create.blade.php
----------------------------------------

@extends('layouts.app')

@section('title', 'Yeni Takm Olutur')

@push('styles')
    {{-- Select2 CSS ve JS bamllklar tamamen KALDIRILDI --}}
    <style>
        /* Arka plan animasyonu */
        #app>main.py-4 {
            padding: 2.5rem 0 !important;
            min-height: calc(100vh - 72px);
            background: linear-gradient(-45deg, #dbe4ff, #fde2ff, #d9fcf7, #fff0d9);
            background-size: 400% 400%;
            animation: gradientWave 18s ease infinite;
        }

        @keyframes gradientWave {
            0% {
                background-position: 0% 50%;
            }

            50% {
                background-position: 100% 50%;
            }

            100% {
                background-position: 0% 50%;
            }
        }

        /* Modern Kart Tasarm */
        .create-team-card {
            border-radius: 1.5rem;
            box-shadow: 0 20px 60px rgba(0, 0, 0, 0.08);
            border: 1px solid rgba(255, 255, 255, 0.8);
            background: rgba(255, 255, 255, 0.85);
            backdrop-filter: blur(20px);
            overflow: hidden;
            transition: transform 0.3s ease, box-shadow 0.3s ease;
        }

        .create-team-card:hover {
            transform: translateY(-5px);
            box-shadow: 0 25px 70px rgba(0, 0, 0, 0.12);
        }

        /* Balk Stili */
        .card-header-modern {
            background: linear-gradient(135deg, rgba(102, 126, 234, 0.1), rgba(240, 147, 251, 0.1));
            border: none;
            padding: 2rem;
            border-bottom: 2px solid rgba(102, 126, 234, 0.1);
        }

        .card-header-modern h4 {
            color: #2d3748;
            font-weight: 700;
            font-size: 1.75rem;
            margin: 0;
            display: flex;
            align-items: center;
            gap: 0.75rem;
        }

        .card-header-modern .icon-wrapper {
            width: 45px;
            height: 45px;
            border-radius: 12px;
            background: linear-gradient(135deg, #667EEA, #764BA2);
            display: flex;
            align-items: center;
            justify-content: center;
            color: white;
            font-size: 1.25rem;
        }

        /* Form Stilleri */
        .form-label-modern {
            color: #4a5568;
            font-weight: 600;
            font-size: 0.95rem;
            margin-bottom: 0.5rem;
            display: flex;
            align-items: center;
            gap: 0.5rem;
        }

        .form-label-modern i {
            color: #667EEA;
            font-size: 1rem;
        }

        .form-control-modern {
            border-radius: 0.75rem;
            border: 2px solid rgba(102, 126, 234, 0.2);
            background-color: rgba(255, 255, 255, 0.9);
            padding: 0.75rem 1rem;
            font-size: 0.95rem;
            transition: all 0.3s ease;
        }

        /* Checkbox Listesi Kapsaycs */
        .checkbox-list-container {
            border: 2px solid rgba(102, 126, 234, 0.2);
            border-radius: 0.75rem;
            background-color: rgba(255, 255, 255, 0.9);
            height: 250px;
            overflow-y: scroll;
            padding: 0.75rem;
        }

        .form-control-modern:focus {
            border-color: #667EEA;
            box-shadow: 0 0 0 4px rgba(102, 126, 234, 0.1);
            background-color: white;
        }

        .form-check {
            padding-left: 2.5rem;
        }

        .form-check-input {
            width: 1.25em;
            height: 1.25em;
            margin-top: 0.2em;
        }

        /* Yardm Metni */
        .form-text-modern {
            color: #718096;
            font-size: 0.875rem;
            margin-top: 0.5rem;
            display: flex;
            align-items: center;
            gap: 0.5rem;
            padding: 0.75rem;
            background: rgba(102, 126, 234, 0.05);
            border-radius: 0.5rem;
            border-left: 3px solid #667EEA;
        }

        .form-text-modern i {
            color: #667EEA;
        }

        /* Alert Stilleri */
        .alert-modern {
            border-radius: 0.75rem;
            border: none;
            padding: 1rem 1.25rem;
            margin-bottom: 1.5rem;
        }

        .alert-danger-modern {
            background: linear-gradient(135deg, rgba(245, 101, 101, 0.1), rgba(229, 62, 62, 0.1));
            color: #c53030;
            border-left: 4px solid #f56565;
        }

        .alert-danger-modern ul {
            margin-bottom: 0;
            padding-left: 1.25rem;
        }

        .alert-danger-modern li {
            margin-bottom: 0.25rem;
        }

        /* Buton Stilleri */
        .btn-animated-gradient {
            background: linear-gradient(-45deg, #667EEA, #F093FB, #4FD1C5, #FBD38D);
            background-size: 400% 400%;
            animation: gradientWave 18s ease infinite;
            border: none;
            color: white;
            font-weight: 600;
            padding: 0.875rem 2rem;
            border-radius: 0.75rem;
            font-size: 1rem;
            transition: all 0.3s ease;
            box-shadow: 0 4px 15px rgba(102, 126, 234, 0.3);
        }

        .btn-animated-gradient:hover {
            color: white;
            transform: translateY(-2px);
            box-shadow: 0 6px 25px rgba(102, 126, 234, 0.4);
        }

        .btn-animated-gradient:active {
            transform: translateY(0);
        }

        .btn-cancel-modern {
            background: white;
            color: #4a5568;
            border: 2px solid #e2e8f0;
            font-weight: 600;
            padding: 0.875rem 2rem;
            border-radius: 0.75rem;
            font-size: 1rem;
            transition: all 0.3s ease;
        }

        .btn-cancel-modern:hover {
            background: #f7fafc;
            color: #2d3748;
            border-color: #cbd5e0;
            transform: translateY(-2px);
        }

        /* Responsive */
        @media (max-width: 768px) {
            .card-header-modern {
                padding: 1.5rem;
            }

            .card-header-modern h4 {
                font-size: 1.5rem;
            }

            .btn-animated-gradient,
            .btn-cancel-modern {
                width: 100%;
                margin-bottom: 0.75rem;
            }
        }
    </style>
@endpush

@section('content')
    <div class="container">
        <div class="row justify-content-center">
            <div class="col-md-8">
                <div class="card create-team-card">
                    <div class="card-header card-header-modern">
                        <h4>
                            <div class="icon-wrapper">
                                <i class="fas fa-users"></i>
                            </div>
                            Yeni Takm Olutur
                        </h4>
                    </div>
                    <div class="card-body p-4 p-md-5">

                        @if ($errors->any())
                            <div class="alert alert-modern alert-danger-modern">
                                <ul class="mb-0">
                                    @foreach ($errors->all() as $error)
                                        <li>{{ $error }}</li>
                                    @endforeach
                                </ul>
                            </div>
                        @endif

                        <form method="POST" action="{{ route('teams.store') }}">
                            @csrf

                            <div class="mb-4">
                                <label for="name" class="form-label form-label-modern">
                                    <i class="fas fa-tag"></i>
                                    Takm Ad
                                    <span style="color: #f56565;">*</span>
                                </label>
                                <input type="text"
                                    class="form-control form-control-modern @error('name') is-invalid @enderror"
                                    id="name" name="name" value="{{ old('name') }}"
                                    placeholder="rn: Proje Alpha Takm" required>
                                @error('name')
                                    <div class="invalid-feedback">{{ $message }}</div>
                                @enderror
                            </div>

                            {{-- TAKIM YELER (CHECKBOX LSTES) --}}
                            <div class="mb-4">
                                <label for="members" class="form-label form-label-modern">
                                    <i class="fas fa-user-friends"></i>
                                    Takm yeleri
                                    <span style="color: #f56565;">*</span>
                                </label>

                                {{-- KRTK ALAN: KAYDIRILABLR CHECKBOX LSTES --}}
                                <div class="checkbox-list-container @error('members') is-invalid @enderror">

                                    {{-- Validasyon hatas gsterimi --}}
                                    @error('members')
                                        <div class="text-danger small mb-2">Takma en az bir ye semelisiniz.</div>
                                    @enderror

                                    {{-- Checkbox'lar sarmalayan Fieldset --}}
                                    <fieldset class="p-0 border-0">
                                        @foreach ($users as $user)
                                            <div class="form-check py-1">
                                                <input class="form-check-input" type="checkbox" name="members[]"
                                                    value="{{ $user->id }}" id="user_{{ $user->id }}"
                                                    {{ in_array($user->id, old('members', [])) ? 'checked' : '' }}>
                                                <label class="form-check-label" for="user_{{ $user->id }}">
                                                    {{ $user->name }}
                                                </label>
                                            </div>
                                        @endforeach
                                    </fieldset>
                                </div>
                                <div class="form-text form-text-modern">
                                    <i class="fas fa-info-circle"></i>
                                    Takma dahil edilecek tm yeleri iaretleyin (Tek tk yeterlidir).
                                </div>
                            </div>

                            <div class="mb-4">
                                <label for="description" class="form-label form-label-modern">
                                    <i class="fas fa-file-alt"></i>
                                    Aklama (Opsiyonel)
                                </label>
                                <textarea name="description" id="description" rows="3"
                                    class="form-control form-control-modern @error('description') is-invalid @enderror"
                                    placeholder="Takmn amacn veya grevlerini ksaca aklayn...">{{ old('description') }}</textarea>
                            </div>


                            <div class="d-flex flex-column flex-md-row justify-content-end gap-2 mt-5">
                                <a href="{{ route('teams.index') }}" class="btn btn-cancel-modern">
                                    <i class="fas fa-times me-2"></i>ptal
                                </a>
                                <button type="submit" class="btn btn-animated-gradient">
                                    <i class="fas fa-check me-2"></i>Takm Kaydet
                                </button>
                            </div>
                        </form>
                    </div>
                </div>
            </div>
        </div>
    </div>
@endsection

@section('page_scripts')
    {{-- Checkbox sistemi JavaScript gerektirmez, sadece HTML/CSS ile alr --}}
@endsection


----------------------------------------
DOSYA YOLU: resources\views\teams\edit.blade.php
----------------------------------------

@extends('layouts.app')

@section('title', 'Takm Dzenle')

@push('styles')
    <style>
        /* Arka plan animasyonu */
        #app>main.py-4 {
            padding: 2.5rem 0 !important;
            min-height: calc(100vh - 72px);
            background: linear-gradient(-45deg, #dbe4ff, #fde2ff, #d9fcf7, #fff0d9);
            background-size: 400% 400%;
            animation: gradientWave 18s ease infinite;
        }

        @keyframes gradientWave {
            0% {
                background-position: 0% 50%;
            }

            50% {
                background-position: 100% 50%;
            }

            100% {
                background-position: 0% 50%;
            }
        }

        /* Modern Kart Tasarm */
        .edit-team-card {
            border-radius: 1.5rem;
            box-shadow: 0 20px 60px rgba(0, 0, 0, 0.08);
            border: 1px solid rgba(255, 255, 255, 0.8);
            background: rgba(255, 255, 255, 0.85);
            backdrop-filter: blur(20px);
            overflow: hidden;
            transition: transform 0.3s ease, box-shadow 0.3s ease;
        }

        .edit-team-card:hover {
            transform: translateY(-5px);
            box-shadow: 0 25px 70px rgba(0, 0, 0, 0.12);
        }

        /* Balk Stili */
        .card-header-edit {
            background: linear-gradient(135deg, rgba(79, 209, 197, 0.1), rgba(102, 126, 234, 0.1));
            border: none;
            padding: 2rem;
            border-bottom: 2px solid rgba(79, 209, 197, 0.2);
        }

        .card-header-edit h4 {
            color: #2d3748;
            font-weight: 700;
            font-size: 1.75rem;
            margin: 0;
            display: flex;
            align-items: center;
            gap: 0.75rem;
        }

        .card-header-edit .icon-wrapper {
            width: 45px;
            height: 45px;
            border-radius: 12px;
            background: linear-gradient(135deg, #4FD1C5, #667EEA);
            display: flex;
            align-items: center;
            justify-content: center;
            color: white;
            font-size: 1.25rem;
        }

        .card-header-edit .team-name-badge {
            display: inline-block;
            padding: 0.5rem 1rem;
            background: linear-gradient(135deg, rgba(79, 209, 197, 0.15), rgba(102, 126, 234, 0.15));
            border-radius: 0.75rem;
            font-size: 1rem;
            color: #2d3748;
            margin-top: 0.5rem;
            border: 1px solid rgba(79, 209, 197, 0.3);
        }

        /* Form Stilleri */
        .form-label-edit {
            color: #4a5568;
            font-weight: 600;
            font-size: 0.95rem;
            margin-bottom: 0.5rem;
            display: flex;
            align-items: center;
            gap: 0.5rem;
        }

        .form-label-edit i {
            color: #4FD1C5;
            font-size: 1rem;
        }

        .form-control-edit,
        .form-select-edit {
            border-radius: 0.75rem;
            border: 2px solid rgba(79, 209, 197, 0.2);
            background-color: rgba(255, 255, 255, 0.9);
            padding: 0.75rem 1rem;
            font-size: 0.95rem;
            transition: all 0.3s ease;
        }

        .form-control-edit:focus,
        .form-select-edit:focus {
            border-color: #4FD1C5;
            box-shadow: 0 0 0 4px rgba(79, 209, 197, 0.1);
            background-color: white;
        }

        .form-select-edit {
            min-height: 250px;
        }

        .form-select-edit option {
            padding: 0.75rem;
            border-radius: 0.5rem;
            margin: 0.25rem;
        }

        .form-select-edit option:checked {
            background: linear-gradient(135deg, rgba(79, 209, 197, 0.2), rgba(102, 126, 234, 0.2));
            font-weight: 600;
        }

        /* Yardm Metni */
        .form-text-edit {
            color: #718096;
            font-size: 0.875rem;
            margin-top: 0.5rem;
            display: flex;
            align-items: center;
            gap: 0.5rem;
            padding: 0.75rem;
            background: rgba(79, 209, 197, 0.05);
            border-radius: 0.5rem;
            border-left: 3px solid #4FD1C5;
        }

        .form-text-edit i {
            color: #4FD1C5;
        }

        /* Alert Stilleri */
        .alert-edit {
            border-radius: 0.75rem;
            border: none;
            padding: 1rem 1.25rem;
            margin-bottom: 1.5rem;
        }

        .alert-danger-edit {
            background: linear-gradient(135deg, rgba(245, 101, 101, 0.1), rgba(229, 62, 62, 0.1));
            color: #c53030;
            border-left: 4px solid #f56565;
        }

        .alert-danger-edit ul {
            margin-bottom: 0;
            padding-left: 1.25rem;
        }

        .alert-danger-edit li {
            margin-bottom: 0.25rem;
        }

        /* Buton Stilleri */
        .btn-update-gradient {
            background: linear-gradient(-45deg, #4FD1C5, #667EEA, #F093FB, #FBD38D);
            background-size: 400% 400%;
            animation: gradientWave 18s ease infinite;
            border: none;
            color: white;
            font-weight: 600;
            padding: 0.875rem 2rem;
            border-radius: 0.75rem;
            font-size: 1rem;
            transition: all 0.3s ease;
            box-shadow: 0 4px 15px rgba(79, 209, 197, 0.3);
        }

        .btn-update-gradient:hover {
            color: white;
            transform: translateY(-2px);
            box-shadow: 0 6px 25px rgba(79, 209, 197, 0.4);
        }

        .btn-update-gradient:active {
            transform: translateY(0);
        }

        .btn-cancel-edit {
            background: white;
            color: #4a5568;
            border: 2px solid #e2e8f0;
            font-weight: 600;
            padding: 0.875rem 2rem;
            border-radius: 0.75rem;
            font-size: 1rem;
            transition: all 0.3s ease;
        }

        .btn-cancel-edit:hover {
            background: #f7fafc;
            color: #2d3748;
            border-color: #cbd5e0;
            transform: translateY(-2px);
        }

        /* Responsive */
        @media (max-width: 768px) {
            .card-header-edit {
                padding: 1.5rem;
            }

            .card-header-edit h4 {
                font-size: 1.5rem;
            }

            .btn-update-gradient,
            .btn-cancel-edit {
                width: 100%;
                margin-bottom: 0.75rem;
            }
        }
    </style>
@endpush

@section('content')
    <div class="container">
        <div class="row justify-content-center">
            <div class="col-md-8">
                <div class="card edit-team-card">
                    <div class="card-header card-header-edit">
                        <h4>
                            <div class="icon-wrapper">
                                <i class="fas fa-edit"></i>
                            </div>
                            <div>
                                Takm Dzenle
                                <div class="team-name-badge">
                                    <i class="fas fa-layer-group me-2"></i>{{ $team->name }}
                                </div>
                            </div>
                        </h4>
                    </div>
                    <div class="card-body p-4 p-md-5">

                        @if ($errors->any())
                            <div class="alert alert-edit alert-danger-edit">
                                <ul class="mb-0">
                                    @foreach ($errors->all() as $error)
                                        <li>{{ $error }}</li>
                                    @endforeach
                                </ul>
                            </div>
                        @endif

                        <form method="POST" action="{{ route('teams.update', $team->id) }}">
                            @csrf
                            @method('PUT')

                            <div class="mb-4">
                                <label for="name" class="form-label form-label-edit">
                                    <i class="fas fa-tag"></i>
                                    Takm Ad
                                    <span style="color: #f56565;">*</span>
                                </label>
                                <input type="text"
                                    class="form-control form-control-edit @error('name') is-invalid @enderror"
                                    id="name" name="name" value="{{ old('name', $team->name) }}"
                                    placeholder="rn: Proje Alpha Takm" required>
                            </div>

                            <div class="mb-4">
                                <label for="members" class="form-label form-label-modern">
                                    <i class="fas fa-user-friends"></i>
                                    Takm yeleri
                                    <span style="color: #f56565;">*</span>
                                </label>

                                {{-- KRTK ALAN: KAYDIRILABLR CHECKBOX LSTES --}}
                                <div class="checkbox-list-container @error('members') is-invalid @enderror">

                                    {{-- Validasyon hatas gsterimi --}}
                                    @error('members')
                                        <div class="text-danger small mb-2">Takma en az bir ye semelisiniz.</div>
                                    @enderror

                                    {{-- Checkbox'lar sarmalayan Fieldset --}}
                                    <fieldset class="p-0 border-0">
                                        @foreach ($users as $user)
                                            <div class="form-check py-1">
                                                <input class="form-check-input" type="checkbox" name="members[]"
                                                    value="{{ $user->id }}" id="user_{{ $user->id }}"
                                                    {{ in_array($user->id, old('members', [])) ? 'checked' : '' }}>
                                                <label class="form-check-label" for="user_{{ $user->id }}">
                                                    {{ $user->name }}
                                                </label>
                                            </div>
                                        @endforeach
                                    </fieldset>
                                </div>
                                <div class="form-text form-text-modern">
                                    <i class="fas fa-info-circle"></i>
                                    Takma dahil edilecek tm yeleri iaretleyin (Tek tk yeterlidir).
                                </div>
                            </div>


                            <div class="d-flex flex-column flex-md-row justify-content-end gap-2 mt-5">
                                <a href="{{ route('teams.index') }}" class="btn btn-cancel-edit">
                                    <i class="fas fa-times me-2"></i>ptal
                                </a>
                                <button type="submit" class="btn btn-update-gradient">
                                    <i class="fas fa-save me-2"></i>Takm Gncelle
                                </button>
                            </div>
                        </form>
                    </div>
                </div>
            </div>
        </div>
    </div>
@endsection

@push('scripts')
@endpush


----------------------------------------
DOSYA YOLU: resources\views\teams\index.blade.php
----------------------------------------

@extends('layouts.app')

@section('title', 'Takm Ynetimi')

@push('styles')
    <style>
        /* Arka plan animasyonu */
        #app>main.py-4 {
            padding: 2.5rem 0 !important;
            min-height: calc(100vh - 72px);
            background: linear-gradient(-45deg, #dbe4ff, #fde2ff, #d9fcf7, #fff0d9);
            background-size: 400% 400%;
            animation: gradientWave 18s ease infinite;
        }

        @keyframes gradientWave {
            0% {
                background-position: 0% 50%;
            }

            50% {
                background-position: 100% 50%;
            }

            100% {
                background-position: 0% 50%;
            }
        }

        /* Balk Blm */
        .page-header-modern {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 2rem;
            padding: 1.5rem;
            background: rgba(255, 255, 255, 0.7);
            backdrop-filter: blur(15px);
            border-radius: 1.25rem;
            box-shadow: 0 8px 32px rgba(0, 0, 0, 0.06);
        }

        .page-header-modern h2 {
            color: #2d3748;
            font-weight: 700;
            margin: 0;
            display: flex;
            align-items: center;
            gap: 0.75rem;
        }

        .page-header-modern .icon-wrapper {
            width: 50px;
            height: 50px;
            border-radius: 14px;
            background: linear-gradient(135deg, #667EEA, #764BA2);
            display: flex;
            align-items: center;
            justify-content: center;
            color: white;
            font-size: 1.5rem;
        }

        /* Yeni Takm Butonu */
        .btn-add-team {
            background: linear-gradient(-45deg, #667EEA, #F093FB);
            background-size: 200% 200%;
            animation: gradientWave 10s ease infinite;
            border: none;
            color: white;
            font-weight: 600;
            padding: 0.875rem 1.75rem;
            border-radius: 0.875rem;
            font-size: 0.95rem;
            transition: all 0.3s ease;
            box-shadow: 0 4px 15px rgba(102, 126, 234, 0.3);
            display: flex;
            align-items: center;
            gap: 0.5rem;
        }

        .btn-add-team:hover {
            color: white;
            transform: translateY(-3px);
            box-shadow: 0 6px 25px rgba(102, 126, 234, 0.4);
        }

        /* Success Alert */
        .alert-success-modern {
            border-radius: 1rem;
            border: none;
            padding: 1.25rem;
            margin-bottom: 1.5rem;
            background: linear-gradient(135deg, rgba(72, 187, 120, 0.1), rgba(56, 161, 105, 0.1));
            color: #2f855a;
            border-left: 4px solid #48bb78;
            display: flex;
            align-items: center;
            gap: 0.75rem;
            box-shadow: 0 4px 12px rgba(72, 187, 120, 0.1);
        }

        .alert-success-modern i {
            font-size: 1.25rem;
        }

        /* Kart Stili */
        .team-list-card {
            border-radius: 1.5rem;
            box-shadow: 0 20px 60px rgba(0, 0, 0, 0.08);
            border: 1px solid rgba(255, 255, 255, 0.8);
            background: rgba(255, 255, 255, 0.85);
            backdrop-filter: blur(20px);
            overflow: hidden;
        }

        /* Tablo Stilleri */
        .table-modern {
            margin: 0;
        }

        .table-modern thead th {
            background: linear-gradient(135deg, rgba(102, 126, 234, 0.08), rgba(240, 147, 251, 0.08));
            color: #2d3748;
            font-weight: 700;
            font-size: 0.9rem;
            text-transform: uppercase;
            letter-spacing: 0.5px;
            padding: 1.25rem 1rem;
            border: none;
        }

        .table-modern tbody tr {
            transition: all 0.3s ease;
            border-bottom: 1px solid rgba(226, 232, 240, 0.5);
        }

        .table-modern tbody tr:hover {
            background: linear-gradient(135deg, rgba(102, 126, 234, 0.03), rgba(240, 147, 251, 0.03));
            transform: scale(1.01);
        }

        .table-modern tbody td {
            padding: 1.25rem 1rem;
            vertical-align: middle;
            color: #4a5568;
        }

        /* Takm Ad */
        .team-name-cell {
            font-weight: 700;
            color: #2d3748;
            font-size: 1.05rem;
            display: flex;
            align-items: center;
            gap: 0.75rem;
        }

        .team-name-cell .team-icon {
            width: 40px;
            height: 40px;
            border-radius: 10px;
            background: linear-gradient(135deg, rgba(102, 126, 234, 0.15), rgba(240, 147, 251, 0.15));
            display: flex;
            align-items: center;
            justify-content: center;
            color: #667EEA;
            font-size: 1.1rem;
        }

        /* yeler Badge */
        .members-badge {
            display: inline-flex;
            align-items: center;
            padding: 0.5rem 0.875rem;
            background: linear-gradient(135deg, rgba(79, 209, 197, 0.1), rgba(102, 126, 234, 0.1));
            border-radius: 0.75rem;
            color: #2d3748;
            font-size: 0.875rem;
            border: 1px solid rgba(79, 209, 197, 0.2);
            gap: 0.5rem;
            max-width: 300px;
            white-space: nowrap;
            overflow: hidden;
            text-overflow: ellipsis;
        }

        .members-badge i {
            color: #4FD1C5;
        }

        /* Aksiyon Butonlar */
        .btn-action-edit {
            background: linear-gradient(135deg, #667EEA, #764BA2);
            color: white;
            border: none;
            padding: 0.5rem 1rem;
            border-radius: 0.625rem;
            font-size: 0.875rem;
            font-weight: 600;
            transition: all 0.3s ease;
            box-shadow: 0 2px 8px rgba(102, 126, 234, 0.2);
        }

        .btn-action-edit:hover {
            color: white;
            transform: translateY(-2px);
            box-shadow: 0 4px 12px rgba(102, 126, 234, 0.3);
        }

        .btn-action-delete {
            background: linear-gradient(135deg, #f56565, #e53e3e);
            color: white;
            border: none;
            padding: 0.5rem 1rem;
            border-radius: 0.625rem;
            font-size: 0.875rem;
            font-weight: 600;
            transition: all 0.3s ease;
            box-shadow: 0 2px 8px rgba(245, 101, 101, 0.2);
        }

        .btn-action-delete:hover {
            color: white;
            transform: translateY(-2px);
            box-shadow: 0 4px 12px rgba(245, 101, 101, 0.3);
        }

        /* Bo Durum */
        .empty-state {
            padding: 4rem 2rem;
            text-align: center;
        }

        .empty-state-icon {
            width: 100px;
            height: 100px;
            margin: 0 auto 1.5rem;
            border-radius: 50%;
            background: linear-gradient(135deg, rgba(102, 126, 234, 0.1), rgba(240, 147, 251, 0.1));
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 3rem;
            color: #667EEA;
        }

        .empty-state h4 {
            color: #2d3748;
            font-weight: 700;
            margin-bottom: 0.5rem;
        }

        .empty-state p {
            color: #718096;
            margin-bottom: 0;
        }

        /* Responsive */
        @media (max-width: 768px) {
            .page-header-modern {
                flex-direction: column;
                gap: 1rem;
                text-align: center;
            }

            .page-header-modern h2 {
                font-size: 1.5rem;
            }

            .btn-add-team {
                width: 100%;
                justify-content: center;
            }

            .table-modern {
                font-size: 0.875rem;
            }

            .team-name-cell {
                flex-direction: column;
                text-align: center;
            }

            .members-badge {
                max-width: 100%;
            }

            .table-modern tbody td:last-child {
                display: flex;
                flex-direction: column;
                gap: 0.5rem;
            }

            .btn-action-edit,
            .btn-action-delete {
                width: 100%;
            }
        }

        /* Animasyon */
        @keyframes fadeInUp {
            from {
                opacity: 0;
                transform: translateY(20px);
            }

            to {
                opacity: 1;
                transform: translateY(0);
            }
        }

        .team-list-card {
            animation: fadeInUp 0.6s ease;
        }
    </style>
@endpush

@section('content')
    <div class="container">
        <div class="row justify-content-center">
            <div class="col-md-11 col-lg-10">
                <!-- Balk Blm -->
                <div class="page-header-modern">
                    <h2>
                        <div class="icon-wrapper">
                            <i class="fas fa-users-cog"></i>
                        </div>
                        Takm Ynetimi
                    </h2>
                    <a href="{{ route('teams.create') }}" class="btn btn-add-team">
                        <i class="fas fa-plus-circle"></i>
                        Yeni Takm Ekle
                    </a>
                </div>

                <!-- Success Mesaj -->
                @if (session('success'))
                    <div class="alert alert-success-modern" role="alert">
                        <i class="fas fa-check-circle"></i>
                        <span>{{ session('success') }}</span>
                    </div>
                @endif

                <!-- Takmlar Tablosu -->
                <div class="card team-list-card">
                    <div class="card-body p-0">
                        <div class="table-responsive">
                            <table class="table table-modern">
                                <thead>
                                    <tr>
                                        <th><i class="fas fa-layer-group me-2"></i>Takm Ad</th>
                                        <th><i class="fas fa-user-friends me-2"></i>yeler</th>
                                        <th><i class="fas fa-user-tie me-2"></i>Oluturan</th>
                                        <th><i class="fas fa-calendar me-2"></i>Tarih</th>
                                        <th><i class="fas fa-cog me-2"></i>lemler</th>
                                    </tr>
                                </thead>
                                <tbody>
                                    @forelse ($teams as $team)
                                        <tr>
                                            <td>
                                                <div class="team-name-cell">
                                                    <div class="team-icon">
                                                        <i class="fas fa-users"></i>
                                                    </div>
                                                    {{ $team->name }}
                                                </div>
                                            </td>
                                            <td>
                                                <div class="members-badge"
                                                    title="{{ $team->users->pluck('name')->implode(', ') }}">
                                                    <i class="fas fa-users"></i>
                                                    {{ $team->users->pluck('name')->implode(', ') }}
                                                </div>
                                            </td>
                                            <td>
                                                <strong>{{ $team->creator->name }}</strong>
                                            </td>
                                            <td>
                                                <i class="far fa-calendar-alt me-2" style="color: #667EEA;"></i>
                                                {{ $team->created_at->format('d.m.Y') }}
                                            </td>
                                            <td>
                                                <div class="d-flex gap-2">
                                                    <!-- Dzenle Butonu -->
                                                    <a href="{{ route('teams.edit', $team->id) }}"
                                                        class="btn btn-action-edit">
                                                        <i class="fas fa-edit me-1"></i>Dzenle
                                                    </a>

                                                    <!-- Sil Butonu -->
                                                    <form action="{{ route('teams.destroy', $team->id) }}" method="POST"
                                                        onsubmit="return confirm('{{ $team->name }} takmn silmek istediinizden emin misiniz?');"
                                                        style="display:inline-block;">
                                                        @csrf
                                                        @method('DELETE')
                                                        <button type="submit" class="btn btn-action-delete">
                                                            <i class="fas fa-trash-alt me-1"></i>Sil
                                                        </button>
                                                    </form>
                                                </div>
                                            </td>
                                        </tr>
                                    @empty
                                        <tr>
                                            <td colspan="5">
                                                <div class="empty-state">
                                                    <div class="empty-state-icon">
                                                        <i class="fas fa-users-slash"></i>
                                                    </div>
                                                    <h4>Henz Takm Yok</h4>
                                                    <p>Yeni bir takm oluturarak balayn!</p>
                                                </div>
                                            </td>
                                        </tr>
                                    @endforelse
                                </tbody>
                            </table>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
@endsection

@push('scripts')
@endpush


----------------------------------------
DOSYA YOLU: resources\views\travels\create.blade.php
----------------------------------------

@extends('layouts.app')

@section('title', 'Yeni Seyahat Plan')
@push('styles')
    <style>
        /* Ana ierik alanna (main) animasyonlu arka plan uygula */
        #app>main.py-4 {
            padding: 2.5rem 0 !important;
            min-height: calc(100vh - 72px);
            background: linear-gradient(-45deg,
                    #dbe4ff,
                    #fde2ff,
                    #d9fcf7,
                    #fff0d9);
            background-size: 400% 400%;
            animation: gradientWave 18s ease infinite;
        }

        /* Arka plan dalgalanma animasyonu */
        @keyframes gradientWave {
            0% {
                background-position: 0% 50%;
            }

            50% {
                background-position: 100% 50%;
            }

            100% {
                background-position: 0% 50%;
            }
        }

        /* === GNCELLEND (create-event-card) === */
        .create-event-card {
            border-radius: 1rem;
            box-shadow: none !important;
            border: 0;
            background-color: transparent;
            backdrop-filter: none;
        }

        .create-event-card .card-header,
        .create-event-card .form-label {
            color: #444;
            font-weight: bold;
            text-shadow: 0 1px 2px rgba(255, 255, 255, 0.7);
        }

        .create-event-card .card-header {
            color: #000;
        }

        .create-event-card .form-control,
        .create-event-card .form-select {
            border-radius: 0.5rem;
            background-color: rgba(255, 255, 255, 0.8);
        }

        /* === Dinamik satr CSS'leri (plan-detail-row) kaldrld === */

        /* Animasyonlu buton (Deiiklik yok) */
        .btn-animated-gradient {
            background: linear-gradient(-45deg,
                    #667EEA, #F093FB, #4FD1C5, #FBD38D);
            background-size: 400% 400%;
            animation: gradientWave 18s ease infinite;
            border: none;
            color: white;
            font-weight: bold;
            transition: transform 0.2s ease-out, box-shadow 0.2s ease-out;
        }

        .btn-animated-gradient:hover {
            color: white;
            transform: scale(1.05);
            box-shadow: 0 4px 15px rgba(0, 0, 0, 0.1);
        }
    </style>
@endpush

@section('content')
    <div class="container py-4">
        <div class="row justify-content-center">
            <div class="col-md-8">

                <h4 class="mb-0"> Yeni Seyahat Plan Olutur</h4>
                <div class="card-body px-4">
                    <form action="{{ route('travels.store') }}" method="POST" autocomplete="off">
                        @csrf

                        @include('travels._form', ['travel' => null])

                        <div class="text-end mt-3">
                            <a href="{{ route('travels.index') }}"
                                class="btn btn-secondary rounded-pill px-4 me-2 btn-modern">
                                ptal
                            </a>
                            <button type="submit" class="btn btn-animated-gradient rounded-3 px-4 py-2">
                                <i class="fa-solid fa-save me-1"></i> Plan Kaydet
                            </button>
                        </div>
                    </form>

                </div>

            </div>
        </div>
    </div>
@endsection


----------------------------------------
DOSYA YOLU: resources\views\travels\edit.blade.php
----------------------------------------

@extends('layouts.app')

@section('title', 'Seyahat Plann Dzenle')

@section('content')
    <div class="container py-4">
        <div class="row justify-content-center">
            <div class="col-md-8">
                <div class="customer-card shadow-sm border">
                    <div class="card-header bg-white border-0 px-4 pt-4">
                        <h4 class="mb-0">"{{ $travel->name }}" Plann Dzenle</h4>
                    </div>
                    <div class="card-body px-4">
                        <form action="{{ route('travels.update', $travel) }}" method="POST" id="update-form"
                            autocomplete="off">
                            @csrf
                            @method('PUT')
                            @include('travels._form', ['travel' => $travel])
                        </form>
                        <div class="d-flex justify-content-between mt-3">
                            <form action="{{ route('travels.destroy', $travel) }}" method="POST"
                                onsubmit="return confirm('Bu seyahat plann silmek istediinizden emin misiniz? Bal ziyaretler silinmez, bamsz hale gelir.');">
                                @csrf
                                @method('DELETE')
                                <button type="submit" class="btn btn-outline-danger rounded-pill px-4">
                                    <i class="fa-solid fa-trash-alt me-1"></i> Sil
                                </button>
                            </form>
                            <div>
                                <a href="{{ route('travels.index') }}"
                                    class="btn btn-outline-secondary rounded-pill px-4 me-2">
                                    ptal
                                </a>

                                <button type="submit" class="btn btn-primary-gradient rounded-pill px-4"
                                    style="background: linear-gradient(to right, #667EEA, #5a6ed0); color: white;"
                                    form="update-form">
                                    <i class="fa-solid fa-save me-1"></i>
                                    Deiiklikleri Kaydet
                                </button>

                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
@endsection


----------------------------------------
DOSYA YOLU: resources\views\travels\index.blade.php
----------------------------------------

@extends('layouts.app')

@section('title', 'Seyahat Plan Listesi')

@section('content')
    <style>
        .page-hero {
            background: linear-gradient(135deg, #667EEA 0%, #764BA2 100%);
            border-radius: 1rem;
            padding: 2rem;
            color: white;
            margin-bottom: 2rem;
            position: relative;
            overflow: hidden;
        }

        .page-hero::before {
            content: '';
            position: absolute;
            top: -50%;
            right: -10%;
            width: 400px;
            height: 400px;
            background: rgba(255, 255, 255, 0.1);
            border-radius: 50%;
        }

        .page-hero::after {
            content: '';
            position: absolute;
            bottom: -30%;
            left: -5%;
            width: 300px;
            height: 300px;
            background: rgba(255, 255, 255, 0.08);
            border-radius: 50%;
        }

        .page-hero-content {
            position: relative;
            z-index: 1;
        }

        .filter-card {
            background: linear-gradient(135deg, #f6f8fb 0%, #ffffff 100%);
            border-radius: 1rem;
            padding: 2rem;
            border: 1px solid #e9ecef;
            box-shadow: 0 2px 8px rgba(0, 0, 0, 0.05);
            margin-bottom: 2rem;
        }

        .section-title {
            display: flex;
            align-items: center;
            gap: 0.75rem;
            margin-bottom: 1.5rem;
            padding-bottom: 0.75rem;
            border-bottom: 2px solid #e9ecef;
        }

        .section-title i {
            font-size: 1.5rem;
            background: linear-gradient(135deg, #667EEA, #764BA2);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
        }

        .travel-card {
            background: white;
            border-radius: 0.75rem;
            padding: 1.5rem;
            margin-bottom: 1rem;
            border: 1px solid #e9ecef;
            transition: all 0.3s ease;
            box-shadow: 0 2px 4px rgba(0, 0, 0, 0.05);
        }

        .travel-card:hover {
            transform: translateY(-2px);
            box-shadow: 0 8px 16px rgba(102, 126, 234, 0.15);
            border-color: #667EEA;
        }

        .status-badge {
            display: inline-flex;
            align-items: center;
            gap: 0.5rem;
            padding: 0.5rem 1rem;
            border-radius: 2rem;
            font-weight: 600;
            font-size: 0.875rem;
        }

        .status-badge.planned {
            background: linear-gradient(135deg, #667EEA20, #667EEA10);
            color: #667EEA;
        }

        .status-badge.completed {
            background: linear-gradient(135deg, #4FD1C520, #4FD1C510);
            color: #2c9e91;
        }

        .btn-gradient {
            background: linear-gradient(135deg, #667EEA, #764BA2);
            color: white;
            border: none;
            padding: 0.75rem 2rem;
            border-radius: 0.5rem;
            font-weight: 600;
            transition: all 0.3s ease;
            box-shadow: 0 4px 12px rgba(102, 126, 234, 0.3);
        }

        .btn-gradient:hover {
            transform: translateY(-2px);
            box-shadow: 0 6px 20px rgba(102, 126, 234, 0.4);
            color: white;
        }

        .btn-create {
            background: rgba(255, 255, 255, 0.2);
            border: 1px solid rgba(255, 255, 255, 0.3);
            color: white;
            backdrop-filter: blur(10px);
            padding: 0.6rem 1.5rem;
            border-radius: 0.5rem;
            font-weight: 500;
            transition: all 0.3s ease;
        }

        .btn-create:hover {
            background: rgba(255, 255, 255, 0.3);
            border-color: rgba(255, 255, 255, 0.5);
            color: white;
            transform: translateY(-2px);
        }

        .btn-action-equal {
            min-width: 180px;
            text-align: center;
        }

        .empty-state {
            text-align: center;
            padding: 3rem 2rem;
            background: linear-gradient(135deg, #f8f9fa, #ffffff);
            border-radius: 1rem;
            border: 2px dashed #dee2e6;
        }

        .empty-state i {
            font-size: 3rem;
            color: #dee2e6;
            margin-bottom: 1rem;
        }

        .action-buttons {
            display: flex;
            gap: 0.5rem;
            flex-wrap: wrap;
        }

        .btn-sm-modern {
            padding: 0.4rem 1rem;
            border-radius: 0.5rem;
            font-size: 0.875rem;
            font-weight: 500;
            transition: all 0.2s ease;
        }

        .btn-outline-modern {
            border: 1px solid #dee2e6;
            color: #495057;
        }

        .btn-outline-modern:hover {
            background: #667EEA;
            border-color: #667EEA;
            color: white;
            transform: translateY(-1px);
        }

        .important-star {
            font-size: 1.2rem;
        }

        .important-star.active {
            color: #F093FB;
        }

        .important-star.inactive {
            color: #dee2e6;
        }

        .btn-export-global {
            background: linear-gradient(135deg, #28c76f 0%, #1e7e34 100%);
            border: none;
            color: white;
            font-weight: 600;
            padding: 0.6rem 1.5rem;
            border-radius: 0.5rem;
            text-decoration: none;
            display: inline-flex;
            align-items: center;
            transition: all 0.3s ease;
        }

        .btn-export-global:hover {
            transform: translateY(-2px);
            box-shadow: 0 4px 12px rgba(40, 199, 111, 0.3);
            color: white;
        }

        /* Kart indeki Kk Excel Butonu */
        .btn-icon-excel {
            color: #198754;
            border-color: #198754;
        }

        .btn-icon-excel:hover {
            background-color: #198754;
            color: white;
        }
    </style>

    <div class="container py-4">
        <div class="row justify-content-center">
            <div class="col-lg-11">
                {{-- Hero Section --}}
                <div class="page-hero">
                    <div class="page-hero-content">
                        <div class="d-flex justify-content-between align-items-start">
                            <div>
                                <h2 class="mb-2"> Seyahat Plan Listesi</h2>
                                <p class="mb-0" style="font-size: 1.1rem; opacity: 0.95;">
                                    <i class="fa-solid fa-list me-2"></i>
                                    Tm seyahat planlarnz buradan grntleyebilir ve ynetebilirsiniz
                                </p>
                            </div>
                            <a href="{{ route('travels.create') }}" class="btn-create">
                                <i class="fa-solid fa-plus me-1"></i> Yeni Plan
                            </a>
                        </div>
                    </div>
                </div>

                {{-- Alerts --}}
                @if (session('success'))
                    <div class="alert alert-success alert-dismissible fade show" role="alert">
                        <i class="fa-solid fa-check-circle me-2"></i>{{ session('success') }}
                        <button type="button" class="btn-close" data-bs-dismiss="alert"></button>
                    </div>
                @endif

                <div class="d-flex justify-content-end mb-3">
                    <button class="btn btn-outline-modern" type="button" data-bs-toggle="collapse"
                        data-bs-target="#filterCollapse" aria-expanded="false" aria-controls="filterCollapse">
                        <i class="fa-solid fa-filter me-1"></i> Filtreleme Seenekleri
                        {{-- @if (request()->hasAny(['name', 'status', 'is_important', 'date_from', 'date_to', 'user_id']))
                            <span class="badge bg-primary ms-1">Aktif</span>
                        @endif --}}
                    </button>
                </div>

                {{-- DZENLENEN KISIM: Filter Card (Collapse iine alnd) --}}
                {{-- Eer URL'de bir filtre varsa 'show' class' eklenir, yoksa kapal gelir --}}
                <div class="collapse @if (request()->hasAny(['name', 'status', 'is_important', 'date_from', 'date_to', 'user_id'])) show @endif" id="filterCollapse">
                    <div class="filter-card">
                        <div class="section-title">
                            <i class="fa-solid fa-filter"></i>
                            <h5 class="mb-0">Filtreleme Seenekleri</h5>
                        </div>

                        <form method="GET" action="{{ route('travels.index') }}" autocomplete="off">
                            {{-- ... Form ierii aynen kalacak ... --}}
                            {{-- Form ieriini buraya aynen yaptr --}}
                            <div class="row g-3">
                                <div class="col-lg-4 col-md-6">
                                    <label for="name" class="form-label">Plan Ad</label>
                                    <input type="text" name="name" id="name" class="form-control"
                                        placeholder="Plan ad girin..." value="{{ $filters['name'] ?? '' }}"
                                        autocomplete="off">
                                </div>

                                <div class="col-lg-2 col-md-6">
                                    <label for="status" class="form-label">Durum</label>
                                    <select name="status" id="status" class="form-select">
                                        <option value="all" @if (($filters['status'] ?? 'all') == 'all') selected @endif>Tm
                                        </option>
                                        <option value="planned" @if (($filters['status'] ?? '') == 'planned') selected @endif>Planlanan
                                        </option>
                                        <option value="completed" @if (($filters['status'] ?? '') == 'completed') selected @endif>
                                            Tamamlanan
                                        </option>
                                    </select>
                                </div>

                                <div class="col-lg-2 col-md-6">
                                    <label for="is_important" class="form-label">nem</label>
                                    <select name="is_important" id="is_important" class="form-select">
                                        <option value="all" @if (($filters['is_important'] ?? 'all') == 'all') selected @endif>Tm
                                        </option>
                                        <option value="yes" @if (($filters['is_important'] ?? '') == 'yes') selected @endif>nemli
                                        </option>
                                        <option value="no" @if (($filters['is_important'] ?? '') == 'no') selected @endif>Normal
                                        </option>
                                    </select>
                                </div>

                                <div class="col-lg-2 col-md-6">
                                    <label for="date_from" class="form-label">Balang</label>
                                    <input type="date" name="date_from" id="date_from" class="form-control"
                                        value="{{ $filters['date_from'] ?? '' }}" autocomplete="off">
                                </div>

                                <div class="col-lg-2 col-md-6">
                                    <label for="date_to" class="form-label">Biti</label>
                                    <input type="date" name="date_to" id="date_to" class="form-control"
                                        value="{{ $filters['date_to'] ?? '' }}" autocomplete="off">
                                </div>
                            </div>

                            @can('is-global-manager')
                                <div class="row g-3 mt-2">
                                    <div class="col-lg-4 col-md-6">
                                        <label for="user_id" class="form-label">Kullanc</label>
                                        <select name="user_id" id="user_id" class="form-select">
                                            <option value="all">Tm Kullanclar</option>
                                            @foreach ($users as $user)
                                                <option value="{{ $user->id }}"
                                                    @if (($filters['user_id'] ?? '') == $user->id) selected @endif>
                                                    {{ $user->name }}
                                                </option>
                                            @endforeach
                                        </select>
                                    </div>
                                </div>
                            @endcan

                            <div class="row mt-4">
                                <div class="col-12 d-flex justify-content-end gap-2">
                                    <a href="{{ route('travels.index') }}" class="btn btn-sm-modern btn-outline-modern">
                                        <i class="fa-solid fa-rotate-right me-1"></i> Temizle
                                    </a>
                                    <button type="submit" class="btn-gradient">
                                        <i class="fa-solid fa-filter me-1"></i> Filtrele
                                    </button>
                                </div>
                            </div>
                        </form>
                    </div>
                </div>
                <div class="d-flex justify-content-end mb-4">
                    <a href="{{ route('travels.export', request()->all()) }}" class="btn-export-global">
                        <i class="fas fa-file-excel me-2"></i> Listeyi Excel'e Aktar
                    </a>
                </div>

                {{-- Travels List Section --}}
                <div class="section-title">
                    <i class="fa-solid fa-plane-departure"></i>
                    <h5 class="mb-0">Seyahat Planlar <span
                            class="badge bg-primary rounded-pill">{{ $travels->total() }}</span></h5>
                </div>

                @if ($travels->isEmpty())
                    <div class="empty-state">
                        <i class="fa-solid fa-inbox"></i>
                        <h5 class="text-muted">Henz Seyahat Plan Yok</h5>
                        <p class="text-muted mb-0">Filtrelerinize uyan seyahat plan bulunamad.</p>
                    </div>
                @else
                    @foreach ($travels as $travel)
                        <div class="travel-card">
                            <div class="row align-items-center">
                                <div class="col-md-1 text-center">
                                    @if ($travel->is_important)
                                        <i class="fa-solid fa-star important-star active" title="nemli"></i>
                                    @else
                                        <i class="fa-regular fa-star important-star inactive"></i>
                                    @endif
                                </div>
                                <div class="col-md-3">
                                    <strong style="font-size: 1.1rem;">{{ $travel->name }}</strong>
                                    <div class="text-muted small">{{ $travel->user->name ?? 'Bilinmiyor' }}</div>
                                </div>
                                <div class="col-md-2">
                                    <div class="text-muted small">Balang</div>
                                    <strong>{{ \Carbon\Carbon::parse($travel->start_date)->format('d/m/Y') }}</strong>
                                </div>
                                <div class="col-md-2">
                                    <div class="text-muted small">Biti</div>
                                    <strong>{{ \Carbon\Carbon::parse($travel->end_date)->format('d/m/Y') }}</strong>
                                </div>
                                <div class="col-md-2">
                                    @if ($travel->status == 'planned')
                                        <span class="status-badge planned">
                                            <i class="fa-solid fa-clock"></i> Planland
                                        </span>
                                    @else
                                        <span class="status-badge completed">
                                            <i class="fa-solid fa-check-circle"></i> Tamamland
                                        </span>
                                    @endif
                                </div>
                                <div class="col-md-2 text-end">
                                    <div class="action-buttons">
                                        <a href="{{ route('travels.export', ['id' => $travel->id]) }}"
                                            class="btn btn-sm-modern btn-outline-modern btn-action-equal"
                                            title="Excel ndir">
                                            <i class="fa-solid fa-file-excel"></i>
                                            <span class="ms-1">Excel ndir</span>
                                        </a>
                                        @if (Auth::id() === $travel->user_id || Auth::user()->role === 'admin' || Auth::user()->can('is-global-manager'))
                                            <a href="{{ route('travels.show', $travel) }}"
                                                class="btn btn-sm-modern btn-outline-modern btn-action-equal"
                                                title="Detaylar & lemler">
                                                <i class="fa-solid fa-eye"></i>
                                                <span class="ms-1">Detaylar & lemler</span>
                                            </a>
                                        @endif
                                        @if (Auth::id() == $travel->user_id || Auth::user()->can('is-global-manager'))
                                            <a href="{{ route('travels.edit', $travel) }}"
                                                class="btn btn-sm-modern btn-outline-modern btn-action-equal"
                                                title="Dzenle">
                                                <i class="fa-solid fa-pen"></i>
                                                <span class="ms-1">Dzenle</span>
                                            </a>
                                        @endif
                                    </div>
                                </div>
                            </div>
                        </div>
                    @endforeach

                    {{-- Pagination --}}
                    <div class="d-flex justify-content-center mt-4">
                        {{ $travels->links() }}
                    </div>
                @endif
            </div>
        </div>
    </div>
@endsection


----------------------------------------
DOSYA YOLU: resources\views\travels\show.blade.php
----------------------------------------

@extends('layouts.app')

@section('title', 'Seyahat Detay')

@section('content')
    <style>
        .travel-hero {
            background: linear-gradient(135deg, #667EEA 0%, #764BA2 100%);
            border-radius: 1rem;
            padding: 2rem;
            color: white;
            margin-bottom: 2rem;
            position: relative;
            overflow: hidden;
        }

        .travel-hero::before {
            content: '';
            position: absolute;
            top: -50%;
            right: -10%;
            width: 400px;
            height: 400px;
            background: rgba(255, 255, 255, 0.1);
            border-radius: 50%;
        }

        .travel-hero::after {
            content: '';
            position: absolute;
            bottom: -30%;
            left: -5%;
            width: 300px;
            height: 300px;
            background: rgba(255, 255, 255, 0.08);
            border-radius: 50%;
        }

        .travel-hero-content {
            position: relative;
            z-index: 1;
        }

        .quick-add-card {
            background: linear-gradient(135deg, #f6f8fb 0%, #ffffff 100%);
            border-radius: 1rem;
            padding: 2rem;
            border: 1px solid #e9ecef;
            box-shadow: 0 2px 8px rgba(0, 0, 0, 0.05);
            margin-bottom: 2rem;
        }

        .section-title {
            display: flex;
            align-items: center;
            gap: 0.75rem;
            margin-bottom: 1.5rem;
            padding-bottom: 0.75rem;
            border-bottom: 2px solid #e9ecef;
        }

        .section-title i {
            font-size: 1.5rem;
            background: linear-gradient(135deg, #667EEA, #764BA2);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
        }

        .booking-card {
            background: white;
            border-radius: 0.75rem;
            padding: 1.5rem;
            margin-bottom: 1rem;
            border: 1px solid #e9ecef;
            transition: all 0.3s ease;
            box-shadow: 0 2px 4px rgba(0, 0, 0, 0.05);
        }

        .booking-card:hover {
            transform: translateY(-2px);
            box-shadow: 0 8px 16px rgba(102, 126, 234, 0.15);
            border-color: #667EEA;
        }

        .booking-type {
            display: inline-flex;
            align-items: center;
            gap: 0.5rem;
            padding: 0.5rem 1rem;
            border-radius: 2rem;
            font-weight: 600;
            font-size: 0.875rem;
        }

        .booking-type.flight {
            background: linear-gradient(135deg, #667EEA20, #667EEA10);
            color: #667EEA;
        }

        .booking-type.bus {
            background: linear-gradient(135deg, #FF6B6B20, #FF6B6B10);
            color: #FF6B6B;
        }

        .booking-type.hotel {
            background: linear-gradient(135deg, #4FD1C520, #4FD1C510);
            color: #2c9e91;
        }

        .booking-type.car {
            background: linear-gradient(135deg, #F093FB20, #F093FB10);
            color: #c965d6;
        }

        .booking-type.train {
            background: linear-gradient(135deg, #FBD38D20, #FBD38D10);
            color: #d4a043;
        }

        .file-badge {
            display: inline-flex;
            align-items: center;
            gap: 0.5rem;
            padding: 0.4rem 0.8rem;
            background: #f8f9fa;
            border-radius: 0.5rem;
            margin: 0.25rem;
            font-size: 0.875rem;
            border: 1px solid #e9ecef;
            transition: all 0.2s ease;
        }

        .file-badge:hover {
            background: #667EEA;
            color: white;
            border-color: #667EEA;
            transform: translateX(2px);
        }

        .btn-gradient {
            background: linear-gradient(135deg, #667EEA, #764BA2);
            color: white;
            border: none;
            padding: 0.75rem 2rem;
            border-radius: 0.5rem;
            font-weight: 600;
            transition: all 0.3s ease;
            box-shadow: 0 4px 12px rgba(102, 126, 234, 0.3);
        }

        .btn-gradient:hover {
            transform: translateY(-2px);
            box-shadow: 0 6px 20px rgba(102, 126, 234, 0.4);
            color: white;
        }

        .btn-edit {
            background: rgba(255, 255, 255, 0.2);
            border: 1px solid rgba(255, 255, 255, 0.3);
            color: white;
            backdrop-filter: blur(10px);
            padding: 0.6rem 1.5rem;
            border-radius: 0.5rem;
            font-weight: 500;
            transition: all 0.3s ease;
        }

        .btn-edit:hover {
            background: rgba(255, 255, 255, 0.3);
            border-color: rgba(255, 255, 255, 0.5);
            color: white;
            transform: translateY(-2px);
        }

        .stats-row {
            display: flex;
            gap: 1rem;
            margin-top: 1.5rem;
        }

        .stat-box {
            flex: 1;
            background: rgba(255, 255, 255, 0.15);
            backdrop-filter: blur(10px);
            border-radius: 0.75rem;
            padding: 1rem;
            text-align: center;
            border: 1px solid rgba(255, 255, 255, 0.2);
        }

        .stat-box h4 {
            font-size: 2rem;
            font-weight: 700;
            margin: 0;
        }

        .stat-box p {
            margin: 0;
            opacity: 0.9;
            font-size: 0.875rem;
        }

        .visit-card {
            background: white;
            border-radius: 0.75rem;
            padding: 1.25rem;
            margin-bottom: 1rem;
            border-left: 4px solid #667EEA;
            box-shadow: 0 2px 4px rgba(0, 0, 0, 0.05);
            transition: all 0.3s ease;
        }

        .visit-card:hover {
            transform: translateX(4px);
            box-shadow: 0 4px 12px rgba(102, 126, 234, 0.15);
        }

        .empty-state {
            text-align: center;
            padding: 3rem 2rem;
            background: linear-gradient(135deg, #f8f9fa, #ffffff);
            border-radius: 1rem;
            border: 2px dashed #dee2e6;
        }

        .empty-state i {
            font-size: 3rem;
            color: #dee2e6;
            margin-bottom: 1rem;
        }

        .action-buttons {
            display: flex;
            gap: 0.5rem;
            flex-wrap: wrap;
        }

        .btn-sm-modern {
            padding: 0.4rem 1rem;
            border-radius: 0.5rem;
            font-size: 0.875rem;
            font-weight: 500;
            transition: all 0.2s ease;
        }

        .btn-outline-modern {
            border: 1px solid #dee2e6;
            color: #495057;
        }

        .btn-outline-modern:hover {
            background: #667EEA;
            border-color: #667EEA;
            color: white;
            transform: translateY(-1px);
        }
    </style>

    <div class="container py-4">
        <div class="row justify-content-center">
            <div class="col-lg-11">
                {{-- Hero Section --}}
                <div class="travel-hero">
                    <div class="travel-hero-content">
                        <div class="d-flex justify-content-between align-items-start">
                            <div>
                                <h2 class="mb-2"> {{ $travel->name }}</h2>
                                <p class="mb-0" style="font-size: 1.1rem; opacity: 0.95;">
                                    <i class="fa-solid fa-calendar-days me-2"></i>
                                    {{ \Carbon\Carbon::parse($travel->start_date)->format('d/m/Y') }} -
                                    {{ \Carbon\Carbon::parse($travel->end_date)->format('d/m/Y') }}
                                </p>
                            </div>
                            @if (Auth::id() == $travel->user_id || Auth::user()->can('is-global-manager'))
                                <a href="{{ route('travels.edit', $travel) }}" class="btn-edit">
                                    <i class="fa-solid fa-pen me-1"></i> Dzenle
                                </a>
                            @endif
                        </div>

                        {{-- Stats --}}
                        <div class="stats-row">
                            <div class="stat-box">
                                <h4>{{ $travel->bookings->count() }}</h4>
                                <p>Rezervasyon</p>
                            </div>
                            <div class="stat-box">
                                <h4>{{ $travel->customerVisits->count() }}</h4>
                                <p>Ziyaret</p>
                            </div>
                            <div class="stat-box">
                                <h4>
                                    {{ \Carbon\Carbon::parse($travel->start_date)->diffInDays(\Carbon\Carbon::parse($travel->end_date), false) }}
                                </h4>
                                <p>Gn</p>
                            </div>
                        </div>
                    </div>
                </div>

                {{-- Alerts --}}
                @if (session('success'))
                    <div class="alert alert-success alert-dismissible fade show" role="alert">
                        <i class="fa-solid fa-check-circle me-2"></i>{{ session('success') }}
                        <button type="button" class="btn-close" data-bs-dismiss="alert"></button>
                    </div>
                @endif
                @if ($errors->any())
                    <div class="alert alert-danger alert-dismissible fade show">
                        <strong><i class="fa-solid fa-exclamation-triangle me-2"></i>Kayt eklenirken bir hata
                            olutu:</strong>
                        <ul class="mb-0 mt-2">
                            @foreach ($errors->all() as $error)
                                <li>{{ $error }}</li>
                            @endforeach
                        </ul>
                        <button type="button" class="btn-close" data-bs-dismiss="alert"></button>
                    </div>
                @endif

                {{-- Quick Add Form --}}
                <div class="quick-add-card">
                    <div class="section-title">
                        <i class="fa-solid fa-circle-plus"></i>
                        <h5 class="mb-0">Yeni Rezervasyon Ekle</h5>
                    </div>
                    <form action="{{ route('travels.bookings.store', $travel) }}" method="POST" autocomplete="off"
                        enctype="multipart/form-data">
                        @csrf
                        @include('bookings._form', ['booking' => null])
                        <button type="submit" class="btn-gradient">
                            <i class="fa-solid fa-plus me-2"></i>Rezervasyonu Ekle
                        </button>
                    </form>
                </div>

                {{-- Bookings Section --}}
                <div class="section-title">
                    <i class="fa-solid fa-ticket"></i>
                    <h5 class="mb-0">Kaytl Rezervasyonlar <span
                            class="badge bg-primary rounded-pill">{{ $travel->bookings->count() }}</span></h5>
                </div>

                @if ($travel->bookings->isEmpty())
                    <div class="empty-state">
                        <i class="fa-solid fa-inbox"></i>
                        <h5 class="text-muted">Henz Rezervasyon Yok</h5>
                        <p class="text-muted mb-0">Bu seyahate ait rezervasyon bulunmuyor.</p>
                    </div>
                @else
                    @foreach ($travel->bookings as $booking)
                        <div class="booking-card">
                            <div class="row align-items-center">
                                <div class="col-md-2">
                                    <span class="booking-type {{ $booking->type }}">
                                        @if ($booking->type == 'flight')
                                             Uu
                                        @elseif($booking->type == 'bus')
                                             Otobs
                                        @elseif($booking->type == 'hotel')
                                             Otel
                                        @elseif($booking->type == 'car_rental')
                                             Ara
                                        @elseif($booking->type == 'train')
                                             Tren
                                        @else
                                             Dier
                                        @endif
                                    </span>
                                </div>
                                <div class="col-md-3">
                                    <strong style="font-size: 1.1rem;">{{ $booking->provider_name }}</strong>
                                    <div class="text-muted small">Kod: {{ $booking->confirmation_code }}</div>
                                </div>
                                <div class="col-md-2">
                                    <div class="text-muted small">Tarih</div>
                                    <strong>{{ \Carbon\Carbon::parse($booking->start_datetime)->format('d/m/Y H:i') }}</strong>
                                </div>
                                <div class="col-md-3">
                                    @if ($booking->getMedia('attachments')->count() > 0)
                                        <div class="d-flex flex-wrap gap-1">
                                            @foreach ($booking->getMedia('attachments') as $media)
                                                <a href="{{ $media->getUrl() }}" target="_blank" class="file-badge">
                                                    <i class="fa-solid fa-paperclip"></i>
                                                    {{ Str::limit($media->file_name, 15) }}
                                                </a>
                                            @endforeach
                                        </div>
                                    @else
                                        <span class="text-muted small">Dosya yok</span>
                                    @endif
                                </div>
                                <div class="col-md-2 text-end">
                                    @if (Auth::id() == $booking->user_id || Auth::user()->can('is-global-manager'))
                                        <div class="action-buttons">
                                            <a href="{{ route('bookings.edit', $booking) }}"
                                                class="btn btn-sm-modern btn-outline-modern" title="Dzenle">
                                                <i class="fa-solid fa-pen"></i>
                                            </a>
                                            <form action="{{ route('bookings.destroy', $booking) }}" method="POST"
                                                onsubmit="return confirm('Bu rezervasyonu silmek istediinizden emin misiniz?');"
                                                style="display: inline;">
                                                @csrf
                                                @method('DELETE')
                                                <button type="submit"
                                                    class="btn btn-sm-modern btn-outline-modern text-danger" title="Sil">
                                                    <i class="fa-solid fa-trash-alt"></i>
                                                </button>
                                            </form>
                                        </div>
                                    @endif
                                </div>
                            </div>
                        </div>
                    @endforeach
                @endif

                {{-- Visits Section --}}
                <div class="section-title mt-5">
                    <i class="fa-solid fa-handshake"></i>
                    <h5 class="mb-0">Bal Ziyaretler <span
                            class="badge bg-primary rounded-pill">{{ $travel->customerVisits->count() }}</span></h5>
                </div>

                @if ($travel->customerVisits->isEmpty())
                    <div class="empty-state">
                        <i class="fa-solid fa-calendar-xmark"></i>
                        <h5 class="text-muted">Henz Ziyaret Yok</h5>
                        <p class="text-muted mb-0">Bu seyahate bal ziyaret bulunmuyor.</p>
                    </div>
                @else
                    @foreach ($travel->customerVisits as $visit)
                        <div class="visit-card">
                            <div class="row align-items-center">
                                <div class="col-md-3">
                                    <div class="text-muted small">Mteri</div>
                                    @if ($visit->customer)
                                        <a href="{{ route('customers.show', $visit->customer) }}"
                                            style="font-weight: 600; font-size: 1.05rem; color: #667EEA;">
                                            {{ $visit->customer->name }}
                                        </a>
                                    @else
                                        <span class="text-danger fst-italic">Mteri Silinmi</span>
                                    @endif
                                </div>
                                <div class="col-md-3">
                                    <div class="text-muted small">Etkinlik</div>
                                    <strong>{{ $visit->event->title ?? 'N/A' }}</strong>
                                </div>
                                <div class="col-md-3">
                                    <div class="text-muted small">Tarih</div>
                                    <strong>{{ $visit->event ? \Carbon\Carbon::parse($visit->event->start_datetime)->format('d/m/Y H:i') : '-' }}</strong>
                                </div>
                                <div class="col-md-3">
                                    <div class="text-muted small">Ama</div>
                                    <strong>{{ $visit->visit_purpose }}</strong>
                                </div>
                            </div>
                        </div>
                    @endforeach
                @endif

                {{-- ============================== --}}
                {{-- MASRAF YNETM (EXPENSES) --}}
                {{-- ============================== --}}
                <div class="section-title mt-5 d-flex justify-content-between align-items-center">
                    <div class="d-flex align-items-center gap-2">
                        <i class="fa-solid fa-file-invoice-dollar"></i>
                        <h5 class="mb-0">Masraflar</h5>
                        <span class="badge bg-warning text-dark rounded-pill">{{ $travel->expenses->count() }}</span>
                    </div>

                    {{-- Masraf Ekle Butonu --}}
                    <button type="button" class="btn btn-warning btn-sm text-white" data-bs-toggle="modal"
                        data-bs-target="#addExpenseModal">
                        <i class="fa-solid fa-plus me-1"></i> Yeni Masraf Ekle
                    </button>
                </div>

                @if ($travel->expenses->isEmpty())
                    <div class="empty-state">
                        <i class="fa-solid fa-receipt"></i>
                        <h5 class="text-muted">Henz Masraf Girilmedi</h5>
                        <p class="text-muted mb-0">Bu seyahate ait masraf kayd bulunmuyor.</p>
                    </div>
                @else
                    <div class="table-responsive">
                        <table class="table table-hover align-middle mb-0 bg-white border rounded shadow-sm">
                            <thead class="bg-light">
                                <tr>
                                    <th class="ps-4">Kategori</th>
                                    <th>Aklama</th>
                                    <th>Tarih</th>
                                    <th class="text-end">Tutar</th>
                                    <th class="text-end pe-4">lem</th>
                                </tr>
                            </thead>
                            <tbody>
                                @foreach ($travel->expenses as $expense)
                                    <tr>
                                        <td class="ps-4">
                                            <span class="badge bg-light text-dark border">
                                                {{ $expense->category }}
                                            </span>
                                        </td>
                                        <td class="text-muted small">{{ $expense->description ?? '-' }}</td>
                                        <td>
                                            @if ($expense->receipt_date)
                                                <i class="fa-regular fa-calendar me-1 text-muted"></i>
                                                {{ $expense->receipt_date->format('d.m.Y') }}
                                            @else
                                                -
                                            @endif
                                        </td>
                                        <td class="text-end fw-bold">
                                            {{ number_format($expense->amount, 2) }} {{ $expense->currency }}
                                        </td>
                                        <td class="text-end pe-4">
                                            <form action="{{ route('expenses.destroy', $expense->id) }}" method="POST"
                                                class="d-inline"
                                                onsubmit="return confirm('Bu masraf silmek istediinize emin misiniz?');">
                                                @csrf
                                                @method('DELETE')
                                                <button type="submit" class="btn btn-sm btn-link text-danger p-0">
                                                    <i class="fa-solid fa-trash"></i>
                                                </button>
                                            </form>
                                        </td>
                                    </tr>
                                @endforeach
                                @if ($travel->expenses->isNotEmpty())
                                    {{-- Araya ince bir izgi atalm --}}
                                    <tr class="border-top border-2">
                                        <td colspan="5" class="p-0"></td>
                                    </tr>

                                    @foreach ($travel->expenses->groupBy('currency') as $currency => $groupedExpenses)
                                        @php
                                            $total = $groupedExpenses->sum('amount');
                                            // Para birimi ikonunu belirleyelim
                                            $symbol = match ($currency) {
                                                'TRY' => '',
                                                'USD' => '$',
                                                'EUR' => '',
                                                'GBP' => '',
                                                default => $currency,
                                            };
                                        @endphp
                                        <tr class="bg-light fw-bold" style="font-size: 0.95rem;">
                                            <td colspan="3" class="text-end text-muted">
                                                Toplam ({{ $currency }}):
                                            </td>
                                            <td class="text-end text-dark font-monospace">
                                                {{ number_format($total, 2) }} {{ $symbol }}
                                            </td>
                                            <td></td> {{-- lem butonu boluu --}}
                                        </tr>
                                    @endforeach
                                @endif
                            </tbody>
                        </table>
                    </div>
                @endif

                {{-- MASRAF EKLEME MODALI --}}
                <div class="modal fade" id="addExpenseModal" tabindex="-1" aria-hidden="true">
                    <div class="modal-dialog modal-dialog-centered">
                        <div class="modal-content border-0 shadow-lg">
                            <div class="modal-header bg-warning text-white">
                                <h5 class="modal-title">
                                    <i class="fa-solid fa-file-invoice-dollar me-2"></i>Yeni Masraf Ekle
                                </h5>
                                <button type="button" class="btn-close btn-close-white" data-bs-dismiss="modal"
                                    aria-label="Kapat"></button>
                            </div>

                            <form action="{{ route('expenses.store') }}" method="POST">
                                @csrf
                                <input type="hidden" name="travel_id" value="{{ $travel->id }}">

                                <div class="modal-body p-4">
                                    {{-- 1. KATEGOR SEM --}}
                                    <div class="mb-4">
                                        <label for="expenseCategory"
                                            class="form-label fw-bold text-secondary">Kategori</label>
                                        <div class="input-group">
                                            <span class="input-group-text bg-light border-end-0"><i
                                                    class="fa-solid fa-list text-muted"></i></span>
                                            <select name="category" id="expenseCategory"
                                                class="form-select border-start-0 ps-0" required>
                                                <option value="" selected disabled>Ltfen bir kategori sein...
                                                </option>
                                                <option value="Ulam"> Ulam (Uak, Taksi, Yakt)</option>
                                                <option value="Konaklama"> Konaklama / Otel</option>
                                                <option value="Yemek"> Yemek / Restoran</option>
                                                <option value="Temsil"> Temsil & Arlama</option>
                                                <option value="Dier"> Dier</option>
                                            </select>
                                        </div>
                                    </div>

                                    {{-- 2. DNAMK AIKLAMA ALANI (Sadece 'Dier' seilince alr) --}}
                                    <div class="mb-4 d-none" id="otherDescriptionContainer">
                                        <label for="expenseDescription" class="form-label fw-bold text-danger">
                                            Masraf Detay (Ltfen Belirtiniz) <span class="text-danger">*</span>
                                        </label>
                                        <div class="input-group">
                                            <span class="input-group-text bg-danger text-white border-0"><i
                                                    class="fa-solid fa-pen"></i></span>
                                            <input type="text" name="description" id="expenseDescription"
                                                class="form-control" placeholder="rn: Vize creti, Otopark fii...">
                                        </div>
                                    </div>

                                    {{-- 3. TUTAR VE PARA BRM --}}
                                    <div class="row g-3 mb-4">
                                        <div class="col-8">
                                            <label for="expenseAmount"
                                                class="form-label fw-bold text-secondary">Tutar</label>
                                            <div class="input-group">
                                                <input type="number" step="0.01" name="amount" id="expenseAmount"
                                                    class="form-control" placeholder="0.00" required>
                                            </div>
                                        </div>
                                        <div class="col-4">
                                            <label for="expenseCurrency" class="form-label fw-bold text-secondary">Para
                                                Birimi</label>
                                            <select name="currency" id="expenseCurrency"
                                                class="form-select font-monospace fw-bold">
                                                <option value="TRY" selected> TRY</option>
                                                <option value="USD">$ USD</option>
                                                <option value="EUR"> EUR</option>
                                                <option value="GBP"> GBP</option>
                                            </select>
                                        </div>
                                    </div>

                                    {{-- 4. TARH ALANI --}}
                                    <div class="mb-2">
                                        <label for="expenseDate" class="form-label fw-bold text-secondary">Fi / Fatura
                                            Tarihi</label>
                                        <input type="date" name="receipt_date" id="expenseDate" class="form-control"
                                            value="{{ date('Y-m-d') }}">
                                    </div>
                                </div>

                                <div class="modal-footer bg-light border-0">
                                    <button type="button" class="btn btn-outline-secondary"
                                        data-bs-dismiss="modal">ptal</button>
                                    <button type="submit" class="btn btn-warning text-white px-4">
                                        <i class="fa-regular fa-save me-1"></i> Kaydet
                                    </button>
                                </div>
                            </form>
                        </div>
                    </div>
                </div>

                {{-- JAVASCRIPT: Dinamik Alan Ynetimi --}}
                <script>
                    document.addEventListener('DOMContentLoaded', function() {
                        const categorySelect = document.getElementById('expenseCategory');
                        const otherDescContainer = document.getElementById('otherDescriptionContainer');
                        const otherDescInput = document.getElementById('expenseDescription');

                        // Kategori deitiinde alacak fonksiyon
                        categorySelect.addEventListener('change', function() {
                            if (this.value === 'Dier') {
                                // "Dier" seildiyse alan gster ve inputu zorunlu yap
                                otherDescContainer.classList.remove('d-none');

                                // Animasyonlu al efekti
                                otherDescContainer.style.opacity = 0;
                                setTimeout(() => {
                                    otherDescContainer.style.opacity = 1;
                                    otherDescContainer.style.transition = 'opacity 0.3s';
                                }, 10);

                                otherDescInput.setAttribute('required', 'required');
                                otherDescInput.focus();
                            } else {
                                // Baka bir ey seildiyse gizle ve zorunluluu kaldr
                                otherDescContainer.classList.add('d-none');
                                otherDescInput.removeAttribute('required');
                                otherDescInput.value = '';
                            }
                        });
                    });
                </script>
            </div>
        </div>
    </div>
@endsection


----------------------------------------
DOSYA YOLU: resources\views\travels\_form.blade.php
----------------------------------------

{{-- Hata Mesajlar --}}
@if ($errors->any())
    <div class="alert alert-danger">
        <ul class="mb-0">
            @foreach ($errors->all() as $error)
                <li>{{ $error }}</li>
            @endforeach
        </ul>
    </div>
@endif

<div class="create-event-card">
    {{-- BALIK ALANI (Controller 'name' bekledii iin 'name' kullanyoruz) --}}
    <div class="mb-4">
        <label for="name" class="form-label">
            <i class="fa-solid fa-flag me-1 text-primary"></i> Seyahat Bal / Tanm
        </label>
        <input type="text" name="name" id="name" class="form-control form-control-lg"
            value="{{ old('name', $travel->name ?? '') }}" placeholder="rn: Ankara Mteri Ziyareti" required>
    </div>

    {{-- TARHLER VE SAATLER (Controller ayr ayr bekledii iin ayrdk) --}}
    <div class="row mb-4">
        {{-- BALANGI --}}
        <div class="col-md-6">
            <label class="form-label fw-bold text-success">
                <i class="fa-regular fa-calendar me-1"></i> Balang Zaman
            </label>
            <div class="input-group">
                {{-- Balang Tarihi --}}
                <input type="date" name="start_date" class="form-control"
                    value="{{ old('start_date', isset($travel->start_date) ? \Carbon\Carbon::parse($travel->start_date)->format('Y-m-d') : '') }}"
                    required>
                {{-- Balang Saati --}}
                <input type="time" name="start_time" class="form-control"
                    value="{{ old('start_time', isset($travel->start_time) ? \Carbon\Carbon::parse($travel->start_time)->format('H:i') : '') }}"
                    required>
            </div>
            <small class="text-muted">Tarih ve Saat</small>
        </div>

        {{-- BT --}}
        <div class="col-md-6">
            <label class="form-label fw-bold text-danger">
                <i class="fa-regular fa-calendar-check me-1"></i> Biti Zaman
            </label>
            <div class="input-group">
                {{-- Biti Tarihi --}}
                <input type="date" name="end_date" class="form-control"
                    value="{{ old('end_date', isset($travel->end_date) ? \Carbon\Carbon::parse($travel->end_date)->format('Y-m-d') : '') }}"
                    required>
                {{-- Biti Saati --}}
                <input type="time" name="end_time" class="form-control"
                    value="{{ old('end_time', isset($travel->end_time) ? \Carbon\Carbon::parse($travel->end_time)->format('H:i') : '') }}"
                    required>
            </div>
            <small class="text-muted">Tarih ve Saat</small>
        </div>
    </div>

    {{-- DURUM VE NEM --}}
    <div class="row align-items-center">
        {{-- Durum Seimi --}}
        <div class="col-md-6">
            <label for="status" class="form-label">
                <i class="fa-solid fa-list-check me-1 text-info"></i> Durum
            </label>
            <select name="status" id="status" class="form-select">
                <option value="planned" {{ old('status', $travel->status ?? '') == 'planned' ? 'selected' : '' }}>
                    Planland</option>
                <option value="completed" {{ old('status', $travel->status ?? '') == 'completed' ? 'selected' : '' }}>
                    Tamamland</option>
                {{-- Controller validasyonunda sadece 'planned' ve 'completed' vard, dierlerini kaldrdm hata vermesin diye --}}
            </select>
        </div>

        {{-- nemli Switch --}}
        <div class="col-md-6">
            <div class="form-check form-switch mt-4">
                <input class="form-check-input" type="checkbox" role="switch" id="is_important" name="is_important"
                    value="1" {{ old('is_important', $travel->is_important ?? false) ? 'checked' : '' }}>
                <label class="form-check-label fw-bold text-danger ms-2" for="is_important">
                    <i class="fa-solid fa-star me-1"></i> nemli / Acil
                </label>
            </div>
            <small class="text-muted d-block mt-1">aretlenirse listelerde ne karlr.</small>
        </div>
    </div>
</div>


----------------------------------------
DOSYA YOLU: resources\views\tv\dashboard.blade.php
----------------------------------------

@extends('layouts.app')

@section('title', 'KKSAN Canl zleme Paneli')

@push('styles')
    <style>
        /* --- 1. TV MODU VE GENEL DZEN --- */
        nav.navbar,
        .sidebar,
        footer,
        .breadcrumb,
        #kt_header_mobile {
            display: none !important;
        }

        #app>main.py-4,
        body,
        .content {
            padding: 1rem !important;
            min-height: 100vh;
            width: 100vw;
            margin: 0 !important;
            background: linear-gradient(-45deg, #f3f4f6, #e2e8f0, #edf2f7, #e6fffa);
            background-size: 400% 400%;
            animation: gradientWave 60s ease infinite;
            overflow: hidden;
            font-family: 'Segoe UI', Roboto, Helvetica, Arial, sans-serif;
        }

        @keyframes gradientWave {
            0% {
                background-position: 0% 50%;
            }

            50% {
                background-position: 100% 50%;
            }

            100% {
                background-position: 0% 50%;
            }
        }

        .container-fluid {
            max-width: 100% !important;
        }

        body {
            cursor: none;
        }

        /* --- 2. KART TASARIMLARI --- */
        .tv-card {
            background-color: rgba(255, 255, 255, 0.9);
            border-radius: 1rem;
            border: 1px solid rgba(255, 255, 255, 0.5);
            box-shadow: 0 4px 6px -1px rgba(0, 0, 0, 0.1), 0 2px 4px -1px rgba(0, 0, 0, 0.06);
            backdrop-filter: blur(10px);
            padding: 1.25rem;
            height: 100%;
            display: flex;
            flex-direction: column;
        }

        /* --- 3. ST KPI KARTLARI --- */
        .kpi-mini-card {
            display: flex;
            align-items: center;
            justify-content: space-between;
        }

        .kpi-value {
            font-size: 2.5rem;
            font-weight: 800;
            color: #1a202c;
            line-height: 1;
        }

        .kpi-label {
            font-size: 0.9rem;
            font-weight: 700;
            color: #718096;
            text-transform: uppercase;
            letter-spacing: 0.5px;
        }

        .kpi-icon {
            font-size: 2.2rem;
            opacity: 0.8;
        }

        /* --- 4. FABRKA BRM KARTLARI --- */
        .unit-card {
            position: relative;
            overflow: hidden;
            border-radius: 1rem;
            padding: 1.5rem;
            box-shadow: 0 10px 15px -3px rgba(0, 0, 0, 0.1);
            height: 100%;
            color: white;
            display: flex;
            flex-direction: column;
            justify-content: space-between;
            transition: transform 0.3s ease;
        }

        .unit-icon-bg {
            position: absolute;
            top: -15px;
            right: -15px;
            font-size: 7rem;
            opacity: 0.15;
            transform: rotate(10deg);
            z-index: 0;
        }

        .unit-content {
            position: relative;
            z-index: 1;
        }

        .unit-title {
            font-size: 1.4rem;
            font-weight: 800;
            text-transform: uppercase;
            letter-spacing: 1px;
            margin-bottom: 0.5rem;
            text-shadow: 0 2px 4px rgba(0, 0, 0, 0.2);
        }

        .unit-count {
            font-size: 4rem;
            font-weight: 900;
            line-height: 1;
            text-shadow: 0 2px 10px rgba(0, 0, 0, 0.2);
        }

        .unit-badge {
            background: rgba(255, 255, 255, 0.2);
            backdrop-filter: blur(5px);
            padding: 0.25rem 0.75rem;
            border-radius: 9999px;
            font-weight: 600;
            font-size: 0.9rem;
            display: inline-flex;
            align-items: center;
        }

        /* --- 5. BLDRM LSTES --- */
        .important-item {
            background: white;
            border-left: 5px solid #ccc;
            border-radius: 8px;
            padding: 0.9rem;
            margin-bottom: 0.75rem;
            box-shadow: 0 1px 3px rgba(0, 0, 0, 0.1);
            display: flex;
            align-items: center;
            animation: slideIn 0.5s cubic-bezier(0.4, 0, 0.2, 1);
        }

        @keyframes slideIn {
            from {
                opacity: 0;
                transform: translateX(-10px);
            }

            to {
                opacity: 1;
                transform: translateX(0);
            }
        }

        /* --- 6. GZL IKI --- */
        .emergency-exit-btn {
            position: fixed;
            bottom: 0;
            right: 0;
            width: 80px;
            height: 80px;
            z-index: 9999;
            cursor: pointer;
        }
    </style>
@endpush

@section('content')
    <div class="container-fluid d-flex flex-column" style="height: 97vh;">

        {{-- A. ST BALIK & SAAT --}}
        <div class="d-flex justify-content-between align-items-center mb-3 px-1">
            <div>
                <div class="d-flex align-items-center">
                    <i class="fa-solid fa-layer-group text-primary fa-2x me-3"></i>
                    <div>
                        <h1 class="fw-bold mb-0" style="font-size: 2rem; color: #1a202c; letter-spacing: -0.5px;">KKSAN
                            HOLDNG</h1>
                        <span class="text-secondary fw-bold fs-5">Entegre  Sreleri Paneli</span>
                    </div>
                </div>
            </div>
            <div class="text-end">
                <h1 class="fw-bold mb-0" id="live-clock"
                    style="font-size: 3.5rem; font-family: 'Courier New', monospace; color: #2d3748; line-height: 1;">--:--
                </h1>
                <span class="text-secondary fw-medium fs-5">{{ \Carbon\Carbon::now()->translatedFormat('d F Y, l') }}</span>
            </div>
        </div>

        {{-- B. GENEL STATSTKLER (KPI) --}}
        <div class="row g-3 mb-3">
            <div class="col">
                <div class="tv-card" style="border-bottom: 4px solid #667EEA;">
                    <div class="kpi-mini-card">
                        <div>
                            <div class="kpi-value">{{ $kpiData['sevkiyat_sayisi'] }}</div>
                            <div class="kpi-label">Sevkiyat</div>
                        </div>
                        <i class="fa-solid fa-truck-fast kpi-icon" style="color: #667EEA;"></i>
                    </div>
                </div>
            </div>
            <div class="col">
                <div class="tv-card" style="border-bottom: 4px solid #4FD1C5;">
                    <div class="kpi-mini-card">
                        <div>
                            <div class="kpi-value">{{ $kpiData['plan_sayisi'] }}</div>
                            <div class="kpi-label">Toplam retim</div>
                        </div>
                        <i class="fa-solid fa-industry kpi-icon" style="color: #4FD1C5;"></i>
                    </div>
                </div>
            </div>
            <div class="col">
                <div class="tv-card" style="border-bottom: 4px solid #F093FB;">
                    <div class="kpi-mini-card">
                        <div>
                            <div class="kpi-value">{{ $kpiData['etkinlik_sayisi'] }}</div>
                            <div class="kpi-label">Etkinlik & Ziyaret</div>
                        </div>
                        <i class="fa-solid fa-users-viewfinder kpi-icon" style="color: #F093FB;"></i>
                    </div>
                </div>
            </div>
            <div class="col">
                <div class="tv-card" style="border-bottom: 4px solid #F6E05E;">
                    <div class="kpi-mini-card">
                        <div>
                            <div class="kpi-value">{{ $kpiData['arac_gorevi_sayisi'] }}</div>
                            <div class="kpi-label">Ara Grevi</div>
                        </div>
                        <i class="fa-solid fa-car kpi-icon" style="color: #F6E05E;"></i>
                    </div>
                </div>
            </div>
            <div class="col">
                <div class="tv-card" style="border-bottom: 4px solid #ED8936;">
                    <div class="kpi-mini-card">
                        <div>
                            <div class="kpi-value">{{ $kpiData['bakim_sayisi'] }}</div>
                            <div class="kpi-label">Bakm & Arza</div>
                        </div>
                        <i class="fa-solid fa-wrench kpi-icon" style="color: #ED8936;"></i>
                    </div>
                </div>
            </div>
        </div>

        {{-- C. FABRKA BRMLER (DNAMK DNG) --}}
        <div class="row g-3 mb-3" style="min-height: 180px;">
            @php
                // Dinamik Renk Paleti (Srayla dner)
                $gradients = [
                    'linear-gradient(135deg, #2c7a7b 0%, #319795 100%)', // Teal (Kopet tarz)
                    'linear-gradient(135deg, #2b6cb0 0%, #3182ce 100%)', // Blue (Preform tarz)
                    'linear-gradient(135deg, #c05621 0%, #dd6b20 100%)', // Orange (Levha tarz)
                    'linear-gradient(135deg, #553C9A 0%, #805AD5 100%)', // Purple
                    'linear-gradient(135deg, #C53030 0%, #E53E3E 100%)', // Red
                    'linear-gradient(135deg, #2F855A 0%, #48BB78 100%)', // Green
                    'linear-gradient(135deg, #2d3748 0%, #4a5568 100%)', // Gray
                ];

                // konlar (Birim adna gre zel ikon atamak istersen, yoksa varsaylan)
                $bgIcons = [
                    'KOPET' => 'fa-bottle-water',
                    'PREFORM' => 'fa-flask',
                    'LEVHA' => 'fa-sheet-plastic',
                    'KAPAK' => 'fa-circle-notch',
                    'STRE' => 'fa-scroll',
                    'GER' => 'fa-recycle',
                ];
            @endphp

            @foreach ($kpiData['unit_stats'] as $index => $unit)
                @php
                    // Rengi srayla se
                    $bgStyle = $gradients[$index % count($gradients)];

                    // konu ismin iinde geen kelimeye gre bulmaya al
                    $bgIconClass = 'fa-industry';
                    foreach ($bgIcons as $key => $icon) {
                        if (str_contains($unit['name'], $key)) {
                            $bgIconClass = $icon;
                            break;
                        }
                    }
                @endphp

                <div class="col-md-4">
                    <div class="unit-card" style="background: {{ $bgStyle }};">
                        <i class="fa-solid {{ $bgIconClass }} unit-icon-bg"></i>
                        <div class="unit-content h-100 d-flex flex-column justify-content-between">
                            <div class="d-flex justify-content-between align-items-start">
                                <div class="unit-title">{{ $unit['name'] }}</div>
                                <span class="unit-badge">
                                    <i class="fa-solid {{ $unit['icon'] }} me-2"></i>{{ $unit['status'] }}
                                </span>
                            </div>
                            <div class="d-flex align-items-end justify-content-between">
                                <div class="unit-count">{{ $unit['count'] }}</div>
                                <div class="text-end" style="opacity: 0.9;">
                                    <div class="fs-6 fw-bold">{{ $unit['sub_label'] }}</div>
                                </div>
                            </div>
                            <div class="progress mt-2" style="height: 4px; background: rgba(255,255,255,0.3);">
                                <div class="progress-bar bg-white" style="width: {{ $unit['progress'] }}%"></div>
                            </div>
                        </div>
                    </div>
                </div>
            @endforeach
        </div>

        {{-- D. ALT BLM: BLDRMLER & AKI GRAF --}}
        <div class="row g-3 flex-grow-1" style="min-height: 0;">
            {{-- SOL: BLDRMLER --}}
            <div class="col-md-4 h-100">
                <div class="tv-card">
                    <h5 class="fw-bold mb-3 pb-2 border-bottom text-danger d-flex align-items-center">
                        <i class="fas fa-bell fa-shake me-2"></i>GNCEL BLDRMLER
                    </h5>

                    <div style="overflow-y: hidden; position: relative; flex-grow: 1;">
                        @if ($importantItems->isEmpty())
                            <div
                                class="d-flex flex-column align-items-center justify-content-center h-100 text-muted opacity-50">
                                <i class="fa-regular fa-circle-check fa-4x mb-3"></i>
                                <span class="fs-4">Her ey yolunda, ilem yok.</span>
                            </div>
                        @else
                            <div class="d-flex flex-column gap-2">
                                @foreach ($importantItems as $item)
                                    @php
                                        $borderColor = match ($item->type) {
                                            'shipment' => '#667EEA',
                                            'productionplan' => '#4FD1C5',
                                            'event' => '#F093FB',
                                            'maintenance' => '#ED8936',
                                            'vehicleassignment' => '#F6E05E',
                                            'travel' => '#E53E3E',
                                            default => '#CBD5E0',
                                        };
                                        $icon = match ($item->type) {
                                            'shipment' => 'fa-truck',
                                            'productionplan' => 'fa-industry',
                                            'event' => 'fa-calendar',
                                            'maintenance' => 'fa-wrench',
                                            'vehicleassignment' => 'fa-car',
                                            'travel' => 'fa-plane',
                                            default => 'fa-info-circle',
                                        };
                                    @endphp
                                    <div class="important-item" style="border-left-color: {{ $borderColor }};">
                                        <div class="me-3 text-center" style="width: 35px;">
                                            <div class="rounded-circle d-flex align-items-center justify-content-center"
                                                style="width: 35px; height: 35px; background-color: {{ $borderColor }}20;">
                                                <i class="fa-solid {{ $icon }}"
                                                    style="color: {{ $borderColor }}; font-size: 1rem;"></i>
                                            </div>
                                        </div>
                                        <div class="flex-grow-1">
                                            <div class="fw-bold text-uppercase"
                                                style="font-size: 0.7rem; color: {{ $borderColor }}; letter-spacing: 0.5px;">
                                                {{ $item->category }}</div>
                                            <div class="fw-bold text-dark" style="font-size: 0.95rem; line-height: 1.2;">
                                                {{ $item->content }}</div>
                                        </div>
                                        <div class="text-end ps-2 ms-1">
                                            <div class="fw-bold text-dark" style="font-size: 1rem;">
                                                {{ $item->date->format('H:i') }}</div>
                                        </div>
                                    </div>
                                @endforeach
                            </div>
                        @endif
                    </div>
                </div>
            </div>

            {{-- SA: DNAMK FABRKA MATRS --}}
            <div class="col-md-8 h-100">
                <div class="tv-card">
                    <div class="d-flex justify-content-between align-items-center mb-3 border-bottom pb-2">
                        <h5 class="fw-bold mb-0 text-primary">
                            <i class="fas fa-network-wired me-2"></i>FABRKA & DEPARTMAN DURUMU
                        </h5>
                        <span class="badge bg-light text-dark border">
                            <i class="fa-solid fa-clock me-1 text-primary"></i>
                            Anlk Veri Ak
                        </span>
                    </div>

                    <div class="table-responsive flex-grow-1" style="overflow-y: auto;">
                        <table class="table table-borderless align-middle mb-0">
                            <thead style="border-bottom: 2px solid #e2e8f0;">
                                <tr class="text-uppercase text-secondary"
                                    style="font-size: 0.85rem; letter-spacing: 1px;">
                                    <th class="ps-3">FABRKA BRM</th>

                                    {{-- 1. BALIKLARI DNGYLE BAS --}}
                                    @foreach ($matrixHeaders as $header)
                                        <th class="text-center">{{ $header }}</th>
                                    @endforeach

                                    <th class="text-end pe-3">DURUM</th>
                                </tr>
                            </thead>
                            <tbody>
                                @if (empty($matrixData))
                                    <tr>
                                        {{-- colspan saysn dinamik hesapla: sim + Stunlar + Durum --}}
                                        <td colspan="{{ count($matrixHeaders) + 2 }}"
                                            class="text-center py-5 text-muted">
                                            <i class="fa-solid fa-bed fa-3x mb-3 opacity-50"></i><br>
                                            u an aktif bir i ak bulunmuyor.
                                        </td>
                                    </tr>
                                @else
                                    @foreach ($matrixData as $row)
                                        <tr
                                            style="border-bottom: 1px solid rgba(0,0,0,0.05); transition: background 0.3s;">

                                            {{-- FABRKA ADI VE DURUM NOKTASI --}}
                                            <td class="fw-bold text-dark ps-3 py-3">
                                                <div class="d-flex align-items-center">
                                                    <div class="rounded-circle me-3 d-flex align-items-center justify-content-center"
                                                        style="width: 10px; height: 10px; 
                                                                background-color: var(--bs-{{ $row['status_dot_color'] }}); 
                                                                box-shadow: 0 0 10px var(--bs-{{ $row['status_dot_color'] }});">
                                                    </div>
                                                    {{ $row['name'] }}
                                                </div>
                                            </td>

                                            {{-- 2. DNAMK STUNLAR (erik ne olursa olsun basar) --}}
                                            @foreach ($row['columns'] as $col)
                                                <td class="text-center">
                                                    <span class="{{ $col['badge_class'] }}">
                                                        {!! $col['icon_html'] !!}
                                                    </span>
                                                </td>
                                            @endforeach

                                            {{-- DURUM METN --}}
                                            <td class="text-end pe-3">
                                                <span class="{{ $row['status_text_class'] }}"
                                                    style="font-size: 0.85rem;">
                                                    {{ $row['status_text'] }}
                                                </span>
                                            </td>
                                        </tr>
                                    @endforeach
                                @endif
                            </tbody>
                        </table>
                    </div>
                </div>
            </div>
        </div>

        <form id="logout-form" action="{{ route('logout') }}" method="POST" style="display: none;">@csrf</form>
        <div onclick="document.getElementById('logout-form').submit();" class="emergency-exit-btn" title="k Yap">
        </div>
    </div>
@endsection

@section('page_scripts')
    <script type="text/javascript" src="https://www.gstatic.com/charts/loader.js"></script>
    <script>
        document.addEventListener('DOMContentLoaded', function() {

            // --- 1. OTOMATK YENLEME SSTEM ---
            let currentHash = "{{ $currentDataHash }}";
            setInterval(() => {
                fetch("{{ route('tv.check_updates') }}")
                    .then(response => response.json())
                    .then(data => {
                        if (data.hash !== currentHash) {
                            console.log('Veri deiiklii algland, sayfa yenileniyor...');
                            location.reload();
                        }
                    })
                    .catch(err => console.error('Balant hatas:', err));
            }, 10000);

            // --- 2. CANLI DJTAL SAAT ---
            setInterval(() => {
                const now = new Date();
                const timeString = now.toLocaleTimeString('tr-TR', {
                    hour: '2-digit',
                    minute: '2-digit'
                });
                document.getElementById('live-clock').textContent = timeString;
            }, 1000);

            // --- 4. SCROLL LOOP ---
            setTimeout(() => {
                if (document.body.scrollHeight > window.innerHeight) {
                    window.scrollTo({
                        top: document.body.scrollHeight,
                        behavior: 'smooth'
                    });
                    setTimeout(() => {
                        window.scrollTo({
                            top: 0,
                            behavior: 'smooth'
                        });
                    }, 5000);
                }
            }, 15000);

            // Klavye ile k
            document.addEventListener('keydown', (e) => {
                if (e.key === "Escape") document.getElementById('logout-form').submit();
            });
        });
    </script>
@endsection


----------------------------------------
DOSYA YOLU: resources\views\users\create.blade.php
----------------------------------------

@extends('layouts.app')

@section('title', 'Yeni Kullanc Kayd')

@push('styles')
    <style>
        /* --- 1. ARKA PLAN VE ANMASYONLAR --- */
        #app>main.py-4 {
            padding: 2.5rem 0 !important;
            min-height: calc(100vh - 72px);
            background: linear-gradient(-45deg, #667EEA, #764BA2, #F093FB, #4FD1C5, #FBD38D);
            background-size: 400% 400%;
            animation: gradientWave 15s ease infinite;
        }

        @keyframes gradientWave {
            0% {
                background-position: 0% 50%;
            }

            50% {
                background-position: 100% 50%;
            }

            100% {
                background-position: 0% 50%;
            }
        }

        /* Glassmorphism Card */
        .user-create-card {
            border-radius: 1.5rem;
            background: rgba(255, 255, 255, 0.95);
            backdrop-filter: blur(20px);
            box-shadow: 0 8px 32px 0 rgba(31, 38, 135, 0.15);
            border: 1px solid rgba(255, 255, 255, 0.5);
            overflow: hidden;
        }

        .card-header-custom {
            background: linear-gradient(135deg, rgba(102, 126, 234, 0.1), rgba(240, 147, 251, 0.1));
            padding: 1.5rem;
            font-size: 1.5rem;
            font-weight: 700;
            color: #4A5568;
            border-bottom: 1px solid rgba(255, 255, 255, 0.3);
        }

        /* --- 2. INPUT VE KON DZELTMES --- */
        .custom-input-group {
            position: relative;
            display: flex;
            align-items: center;
        }

        .custom-input-group .form-control {
            border-radius: 1rem;
            padding: 0.8rem 1rem;
            padding-right: 2.5rem;
            border: 2px solid rgba(102, 126, 234, 0.15);
            background: rgba(255, 255, 255, 0.8);
            transition: all 0.3s ease;
        }

        .custom-input-group .form-control:focus {
            background: #fff;
            border-color: #667EEA;
            box-shadow: 0 0 0 4px rgba(102, 126, 234, 0.1);
        }

        .custom-input-group .input-icon {
            position: absolute;
            right: 15px;
            color: #A0AEC0;
            font-size: 1.1rem;
            pointer-events: none;
        }

        /* --- 3. ROL SEM (RADIO BUTONLAR) --- */
        /* Roller tekil seim olmal (Controller'a gre) */
        .role-radio {
            display: none;
        }

        .role-label {
            display: inline-block;
            cursor: pointer;
            padding: 10px 20px;
            margin: 5px;
            border-radius: 50px;
            background: #fff;
            border: 2px solid #E2E8F0;
            color: #718096;
            font-weight: 600;
            transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
            user-select: none;
            box-shadow: 0 2px 5px rgba(0, 0, 0, 0.05);
        }

        .role-label:hover {
            transform: translateY(-2px);
            border-color: #CBD5E0;
        }

        .role-radio:checked+.role-label {
            background: linear-gradient(135deg, #667EEA 0%, #764BA2 100%);
            color: white;
            border-color: transparent;
            box-shadow: 0 4px 10px rgba(102, 126, 234, 0.4);
            transform: scale(1.05);
        }

        /* --- 4. FABRKA SEM (CHECKBOX LSTES) --- */
        .unit-list-wrapper {
            border: 2px solid rgba(102, 126, 234, 0.15);
            border-radius: 1rem;
            background: rgba(247, 250, 252, 0.8);
            padding: 15px;
        }

        .unit-item {
            display: flex;
            align-items: center;
            padding: 8px 12px;
            border-radius: 8px;
            transition: background 0.2s;
            cursor: pointer;
            background: white;
            margin-bottom: 8px;
            border: 1px solid #e2e8f0;
        }

        .unit-item:hover {
            background: #edf2f7;
            border-color: #cbd5e0;
        }

        .unit-checkbox {
            width: 20px;
            height: 20px;
            margin-right: 12px;
            accent-color: #667EEA;
            cursor: pointer;
        }

        /* --- BUTON --- */
        .btn-magic {
            background: linear-gradient(-45deg, #667EEA, #764BA2);
            background-size: 200% 200%;
            color: white;
            border: none;
            padding: 1rem;
            border-radius: 1rem;
            font-weight: 700;
            font-size: 1.1rem;
            width: 100%;
            transition: all 0.3s;
        }

        .btn-magic:hover {
            transform: translateY(-3px);
            box-shadow: 0 10px 20px rgba(118, 75, 162, 0.3);
            color: white;
        }

        /* --- 5. SECTION LABELS (Departman & Fabrika Balklar) --- */
        .section-label {
            display: flex;
            align-items: center;
            color: #2D3748;
            font-size: 1.05rem;
            font-weight: 700;
            margin-bottom: 0.875rem;
            margin-left: 0.25rem;
        }

        .section-icon {
            margin-right: 0.625rem;
            font-size: 1.15rem;
            color: #667EEA;
        }

        .factory-icon {
            color: #764BA2 !important;
        }

        /* --- 6. MODERN CHECKBOX WRAPPER --- */
        .department-wrapper {
            border: 2px solid rgba(102, 126, 234, 0.25);
            background: linear-gradient(135deg, rgba(255, 255, 255, 0.95), rgba(247, 250, 252, 0.95));
            box-shadow: 0 3px 12px rgba(102, 126, 234, 0.08);
        }

        .factory-wrapper {
            border: 2px solid rgba(118, 75, 162, 0.25);
            background: linear-gradient(135deg, rgba(255, 255, 255, 0.95), rgba(250, 245, 255, 0.95));
            box-shadow: 0 3px 12px rgba(118, 75, 162, 0.08);
        }

        .list-wrapper {
            border-radius: 1.125rem;
            padding: 1.125rem;
            max-height: 300px;
            overflow-y: auto;
            transition: all 0.3s ease;
        }

        /* --- 7. MODERN CHECKBOX ITEMS --- */
        .modern-checkbox-item {
            display: flex;
            align-items: center;
            padding: 0.875rem 1rem;
            border-radius: 0.875rem;
            cursor: pointer;
            background: white;
            margin-bottom: 0;
            border: 2px solid #E2E8F0;
            box-shadow: 0 2px 4px rgba(0, 0, 0, 0.04);
            transition: all 0.25s cubic-bezier(0.4, 0, 0.2, 1);
        }

        .modern-checkbox-item:hover {
            background: #F7FAFC;
            border-color: #CBD5E0;
            transform: translateX(4px);
            box-shadow: 0 4px 8px rgba(0, 0, 0, 0.08);
        }

        .factory-item:hover {
            border-color: rgba(118, 75, 162, 0.3);
            background: rgba(250, 245, 255, 0.5);
        }

        /* --- 8. MODERN CHECKBOX STYLING --- */
        .modern-checkbox {
            width: 22px;
            height: 22px;
            margin-right: 0.875rem;
            cursor: pointer;
            border-radius: 0.375rem;
            accent-color: #667EEA;
            flex-shrink: 0;
            transition: all 0.2s ease;
        }

        .modern-checkbox:checked {
            transform: scale(1.1);
        }

        .factory-checkbox {
            accent-color: #764BA2;
        }

        .checkbox-label {
            color: #2D3748;
            font-weight: 500;
            font-size: 0.9375rem;
            line-height: 1.4;
        }

        .modern-checkbox-item:hover .checkbox-label {
            color: #1A202C;
        }

        /* --- 9. EMPTY STATE --- */
        .empty-state {
            padding: 2rem 1rem;
            text-align: center;
            background: rgba(247, 250, 252, 0.6);
            border-radius: 0.875rem;
            border: 2px dashed #CBD5E0;
        }

        .empty-icon {
            font-size: 2.5rem;
            color: #CBD5E0;
            margin-bottom: 0.75rem;
            opacity: 0.6;
        }

        .empty-text {
            margin: 0;
            color: #A0AEC0;
            font-size: 0.9375rem;
            font-weight: 500;
        }

        /* --- 10. INFO TEXT --- */
        .info-text {
            margin-top: 0.75rem;
            margin-left: 0.5rem;
            color: #718096;
            font-size: 0.875rem;
            display: flex;
            align-items: center;
        }

        .info-icon {
            margin-right: 0.5rem;
            color: #667EEA;
            font-size: 0.875rem;
        }

        /* --- 11. SCROLLBAR STYLING --- */
        .list-wrapper::-webkit-scrollbar {
            width: 8px;
        }

        .list-wrapper::-webkit-scrollbar-track {
            background: rgba(226, 232, 240, 0.3);
            border-radius: 10px;
        }

        .list-wrapper::-webkit-scrollbar-thumb {
            background: linear-gradient(180deg, #CBD5E0, #A0AEC0);
            border-radius: 10px;
            transition: background 0.3s;
        }

        .list-wrapper::-webkit-scrollbar-thumb:hover {
            background: linear-gradient(180deg, #A0AEC0, #718096);
        }

        /* --- 12. RESPONSIVE ADJUSTMENTS --- */
        @media (max-width: 768px) {
            .section-label {
                font-size: 0.95rem;
            }

            .modern-checkbox-item {
                padding: 0.75rem 0.875rem;
            }

            .list-wrapper {
                max-height: 250px;
            }
        }
    </style>
@endpush

@section('content')
    <div class="container">
        <div class="row justify-content-center">
            <div class="col-md-9">
                <div class="card user-create-card">
                    <div class="card-header-custom">
                         Yeni Kullanc Olutur
                    </div>

                    <div class="card-body p-5">

                        {{-- Hatalar --}}
                        @if ($errors->any())
                            <div class="alert alert-danger" style="border-radius: 1rem;">
                                <ul class="mb-0">
                                    @foreach ($errors->all() as $error)
                                        <li>{{ $error }}</li>
                                    @endforeach
                                </ul>
                            </div>
                        @endif

                        @if (session('success'))
                            <div class="alert alert-success" style="border-radius: 1rem;">
                                 {{ session('success') }}
                            </div>
                        @endif

                        <form method="POST" action="{{ route('users.store') }}" autocomplete="off">
                            @csrf

                            {{-- AD SOYAD --}}
                            <div class="mb-4">
                                <label class="form-label text-muted fw-bold ms-1">Ad Soyad <span
                                        class="text-danger">*</span></label>
                                <div class="custom-input-group">
                                    <input type="text" name="name" class="form-control" value="{{ old('name') }}"
                                        required placeholder="Ad Soyad giriniz">
                                    <span class="input-icon"></span>
                                </div>
                            </div>

                            {{-- EMAIL --}}
                            <div class="mb-4">
                                <label class="form-label text-muted fw-bold ms-1">E-posta Adresi <span
                                        class="text-danger">*</span></label>
                                <div class="custom-input-group">
                                    <input type="email" name="email" class="form-control" value="{{ old('email') }}"
                                        required placeholder="ornek@koksan.com">
                                    <span class="input-icon"></span>
                                </div>
                            </div>

                            {{-- FRELER --}}
                            <div class="row">
                                <div class="col-md-6 mb-4">
                                    <label class="form-label text-muted fw-bold ms-1">ifre <span
                                            class="text-danger">*</span></label>
                                    <div class="custom-input-group">
                                        <input type="password" name="password" id="password" class="form-control" required>
                                        <span class="input-icon" style="pointer-events: auto; cursor: pointer;"
                                            onclick="togglePwd('password')"></span>
                                    </div>
                                </div>
                                <div class="col-md-6 mb-4">
                                    <label class="form-label text-muted fw-bold ms-1">ifre Tekrar <span
                                            class="text-danger">*</span></label>
                                    <div class="custom-input-group">
                                        <input type="password" name="password_confirmation" id="password-confirm"
                                            class="form-control" required>
                                        <span class="input-icon" style="pointer-events: auto; cursor: pointer;"
                                            onclick="togglePwd('password-confirm')"></span>
                                    </div>
                                </div>
                            </div>

                            <hr class="my-4" style="opacity: 0.2">

                            {{-- 1. DEPARTMAN SEM (OKLU SEM / CHECKBOX) --}}
                            <div class="mb-4">
                                <label class="section-label">
                                    <i class="fas fa-building section-icon"></i>
                                    Bal Olduu Departmanlar
                                </label>

                                <div class="list-wrapper department-wrapper">
                                    <div class="row g-3">
                                        @if ($departments->count() > 0)
                                            @foreach ($departments as $dept)
                                                <div class="col-md-6">
                                                    <label class="list-item modern-checkbox-item"
                                                        for="dept_{{ $dept->id }}">
                                                        <input type="checkbox" name="departments[]"
                                                            id="dept_{{ $dept->id }}" value="{{ $dept->id }}"
                                                            class="modern-checkbox"
                                                            {{ is_array(old('departments')) && in_array($dept->id, old('departments')) ? 'checked' : '' }}>
                                                        <span class="checkbox-label">{{ $dept->name }}</span>
                                                    </label>
                                                </div>
                                            @endforeach
                                        @else
                                            <div class="col-12">
                                                <div class="empty-state">
                                                    <i class="fas fa-inbox empty-icon"></i>
                                                    <p class="empty-text">Henz departman eklenmemi.</p>
                                                </div>
                                            </div>
                                        @endif
                                    </div>
                                </div>
                                <div class="info-text">
                                    <i class="fas fa-info-circle info-icon"></i> Kullanc birden fazla departmann
                                    srelerini ynetiyorsa hepsini seiniz.
                                </div>
                            </div>

                            {{-- 2. FABRKA (BUSINESS UNIT) SEM (CHECKBOX LIST) - YEN --}}
                            <div class="mb-4">
                                <label class="section-label">
                                    <i class="fas fa-industry section-icon factory-icon"></i>
                                    Yetkili Olduu Fabrikalar / Lokasyonlar
                                </label>
                                <div class="list-wrapper factory-wrapper">
                                    <div class="row g-3">
                                        @if ($businessUnits->count() > 0)
                                            @foreach ($businessUnits as $unit)
                                                <div class="col-md-6">
                                                    <label class="list-item modern-checkbox-item factory-item"
                                                        for="unit_{{ $unit->id }}">
                                                        <input type="checkbox" name="units[]" id="unit_{{ $unit->id }}"
                                                            value="{{ $unit->id }}"
                                                            class="modern-checkbox factory-checkbox"
                                                            {{ is_array(old('units')) && in_array($unit->id, old('units')) ? 'checked' : '' }}>
                                                        <span class="checkbox-label">{{ $unit->name }}</span>
                                                    </label>
                                                </div>
                                            @endforeach
                                        @else
                                            <div class="col-12">
                                                <div class="empty-state">
                                                    <i class="fas fa-industry empty-icon"></i>
                                                    <p class="empty-text">Henz fabrika/lokasyon eklenmemi.</p>
                                                </div>
                                            </div>
                                        @endif
                                    </div>
                                </div>
                                <div class="info-text">
                                    <i class="fas fa-shield-alt info-icon factory-icon"></i> Kullanc, panelde sadece
                                    burada setiiniz fabrikalarn verilerini grebilecektir.
                                </div>
                            </div>

                            {{-- 3. ROL SEM (RADIO BUTTONS) --}}
                            <div class="mb-5">
                                <label class="form-label text-muted fw-bold ms-1 d-block">
                                    Sistem Rol <span class="text-danger">*</span>
                                </label>

                                <div class="d-flex flex-wrap">
                                    @foreach ($roles as $role)
                                        <div>
                                            {{-- Radio Button: Bir kullancnn tek bir ana rol olmas ynetimi kolaylatrr --}}
                                            <input type="radio" name="role" id="role_{{ $role->id }}"
                                                value="{{ $role->name }}" class="role-radio"
                                                {{ old('role') == $role->name ? 'checked' : '' }}>
                                            <label for="role_{{ $role->id }}" class="role-label">
                                                {{ __('roles.' . $role->name) }}
                                            </label>
                                        </div>
                                    @endforeach
                                </div>
                                @error('role')
                                    <small class="text-danger ms-2">{{ $message }}</small>
                                @enderror
                            </div>

                            {{-- SUBMIT --}}
                            <div class="d-grid gap-2">
                                <button type="submit" class="btn-magic">
                                     Kullancy Olutur
                                </button>
                            </div>

                        </form>
                    </div>
                </div>
            </div>
        </div>
    </div>
@endsection

@section('page_scripts')
    <script>
        function togglePwd(id) {
            var input = document.getElementById(id);
            if (input.type === "password") {
                input.type = "text";
            } else {
                input.type = "password";
            }
        }
    </script>
@endsection


----------------------------------------
DOSYA YOLU: resources\views\users\edit.blade.php
----------------------------------------

@extends('layouts.app')

@section('title', 'Kullancy Dzenle')

@push('styles')
    <style>
        /* --- 1. ARKA PLAN VE ANMASYONLAR --- */
        #app>main.py-4 {
            padding: 2.5rem 0 !important;
            min-height: calc(100vh - 72px);
            background: linear-gradient(-45deg, #667EEA, #764BA2, #F093FB, #4FD1C5, #FBD38D);
            background-size: 400% 400%;
            animation: gradientWave 15s ease infinite;
        }

        @keyframes gradientWave {
            0% {
                background-position: 0% 50%;
            }

            50% {
                background-position: 100% 50%;
            }

            100% {
                background-position: 0% 50%;
            }
        }

        /* Glassmorphism Card */
        .user-edit-card {
            border-radius: 1.5rem;
            background: rgba(255, 255, 255, 0.95);
            backdrop-filter: blur(20px);
            box-shadow: 0 8px 32px 0 rgba(31, 38, 135, 0.15);
            border: 1px solid rgba(255, 255, 255, 0.5);
            overflow: hidden;
        }

        .card-header-custom {
            background: linear-gradient(135deg, rgba(102, 126, 234, 0.1), rgba(240, 147, 251, 0.1));
            padding: 1.5rem;
            font-size: 1.5rem;
            font-weight: 700;
            color: #4A5568;
            border-bottom: 1px solid rgba(255, 255, 255, 0.3);
            display: flex;
            justify-content: space-between;
            align-items: center;
        }

        /* --- 2. INPUT VE KON DZELTMES --- */
        .custom-input-group {
            position: relative;
            display: flex;
            align-items: center;
        }

        .custom-input-group .form-control {
            border-radius: 1rem;
            padding: 0.8rem 1rem;
            padding-right: 2.5rem;
            border: 2px solid rgba(102, 126, 234, 0.15);
            background: rgba(255, 255, 255, 0.8);
            transition: all 0.3s ease;
        }

        .custom-input-group .form-control:focus {
            background: #fff;
            border-color: #667EEA;
            box-shadow: 0 0 0 4px rgba(102, 126, 234, 0.1);
        }

        .custom-input-group .input-icon {
            position: absolute;
            right: 15px;
            color: #A0AEC0;
            font-size: 1.1rem;
            pointer-events: none;
        }

        /* --- 3. ROL SEM (RADIO BUTTONS) --- */
        .role-radio {
            display: none;
        }

        .role-label {
            display: inline-block;
            cursor: pointer;
            padding: 10px 20px;
            margin: 5px;
            border-radius: 50px;
            background: #fff;
            border: 2px solid #E2E8F0;
            color: #718096;
            font-weight: 600;
            transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
            user-select: none;
            box-shadow: 0 2px 5px rgba(0, 0, 0, 0.05);
        }

        .role-label:hover {
            transform: translateY(-2px);
            border-color: #CBD5E0;
        }

        .role-radio:checked+.role-label {
            background: linear-gradient(135deg, #667EEA 0%, #764BA2 100%);
            color: white;
            border-color: transparent;
            box-shadow: 0 4px 10px rgba(102, 126, 234, 0.4);
            transform: scale(1.05);
        }

        /* --- 4. LISTE WRAPPER (Department & Units) --- */
        .list-wrapper {
            border: 2px solid rgba(102, 126, 234, 0.15);
            border-radius: 1rem;
            background: rgba(247, 250, 252, 0.8);
            padding: 15px;
            max-height: 250px;
            overflow-y: auto;
        }

        .list-item {
            display: flex;
            align-items: center;
            padding: 8px 12px;
            border-radius: 8px;
            transition: background 0.2s;
            cursor: pointer;
            background: white;
            margin-bottom: 8px;
            border: 1px solid #e2e8f0;
        }

        .list-item:hover {
            background: #edf2f7;
            border-color: #cbd5e0;
        }

        .list-checkbox {
            width: 18px;
            height: 18px;
            margin-right: 12px;
            accent-color: #667EEA;
            cursor: pointer;
        }

        /* --- BUTONLAR --- */
        .btn-magic {
            background: linear-gradient(-45deg, #667EEA, #764BA2);
            background-size: 200% 200%;
            color: white;
            border: none;
            padding: 1rem;
            border-radius: 1rem;
            font-weight: 700;
            font-size: 1.1rem;
            width: 100%;
            transition: all 0.3s;
        }

        .btn-magic:hover {
            transform: translateY(-3px);
            box-shadow: 0 10px 20px rgba(118, 75, 162, 0.3);
            color: white;
        }

        .btn-cancel {
            background: transparent;
            border: 2px solid #CBD5E0;
            color: #718096;
            padding: 0.9rem;
            border-radius: 1rem;
            font-weight: 600;
            width: 100%;
            display: block;
            text-align: center;
            text-decoration: none;
            transition: all 0.3s;
        }

        .btn-cancel:hover {
            background: #EDF2F7;
            color: #4A5568;
            border-color: #A0AEC0;
        }

        /* Scrollbar */
        .list-wrapper::-webkit-scrollbar {
            width: 6px;
        }

        .list-wrapper::-webkit-scrollbar-thumb {
            background-color: #CBD5E0;
            border-radius: 10px;
        }

        /* --- 5. SECTION LABELS (Departman & Fabrika Balklar) --- */
        .section-label {
            display: flex;
            align-items: center;
            color: #2D3748;
            font-size: 1.05rem;
            font-weight: 700;
            margin-bottom: 0.875rem;
            margin-left: 0.25rem;
        }

        .section-icon {
            margin-right: 0.625rem;
            font-size: 1.15rem;
            color: #667EEA;
        }

        .factory-icon {
            color: #764BA2 !important;
        }

        /* --- 6. MODERN CHECKBOX WRAPPER --- */
        .department-wrapper {
            border: 2px solid rgba(102, 126, 234, 0.25);
            background: linear-gradient(135deg, rgba(255, 255, 255, 0.95), rgba(247, 250, 252, 0.95));
            box-shadow: 0 3px 12px rgba(102, 126, 234, 0.08);
        }

        .factory-wrapper {
            border: 2px solid rgba(118, 75, 162, 0.25);
            background: linear-gradient(135deg, rgba(255, 255, 255, 0.95), rgba(250, 245, 255, 0.95));
            box-shadow: 0 3px 12px rgba(118, 75, 162, 0.08);
        }

        .list-wrapper {
            border-radius: 1.125rem;
            padding: 1.125rem;
            max-height: 300px;
            overflow-y: auto;
            transition: all 0.3s ease;
        }

        /* --- 7. MODERN CHECKBOX ITEMS --- */
        .modern-checkbox-item {
            display: flex;
            align-items: center;
            padding: 0.875rem 1rem;
            border-radius: 0.875rem;
            cursor: pointer;
            background: white;
            margin-bottom: 0;
            border: 2px solid #E2E8F0;
            box-shadow: 0 2px 4px rgba(0, 0, 0, 0.04);
            transition: all 0.25s cubic-bezier(0.4, 0, 0.2, 1);
        }

        .modern-checkbox-item:hover {
            background: #F7FAFC;
            border-color: #CBD5E0;
            transform: translateX(4px);
            box-shadow: 0 4px 8px rgba(0, 0, 0, 0.08);
        }

        .factory-item:hover {
            border-color: rgba(118, 75, 162, 0.3);
            background: rgba(250, 245, 255, 0.5);
        }

        /* --- 8. MODERN CHECKBOX STYLING --- */
        .modern-checkbox {
            width: 22px;
            height: 22px;
            margin-right: 0.875rem;
            cursor: pointer;
            border-radius: 0.375rem;
            accent-color: #667EEA;
            flex-shrink: 0;
            transition: all 0.2s ease;
        }

        .modern-checkbox:checked {
            transform: scale(1.1);
        }

        .factory-checkbox {
            accent-color: #764BA2;
        }

        .checkbox-label {
            color: #2D3748;
            font-weight: 500;
            font-size: 0.9375rem;
            line-height: 1.4;
        }

        .modern-checkbox-item:hover .checkbox-label {
            color: #1A202C;
        }

        /* --- 9. EMPTY STATE --- */
        .empty-state {
            padding: 2rem 1rem;
            text-align: center;
            background: rgba(247, 250, 252, 0.6);
            border-radius: 0.875rem;
            border: 2px dashed #CBD5E0;
        }

        .empty-icon {
            font-size: 2.5rem;
            color: #CBD5E0;
            margin-bottom: 0.75rem;
            opacity: 0.6;
        }

        .empty-text {
            margin: 0;
            color: #A0AEC0;
            font-size: 0.9375rem;
            font-weight: 500;
        }

        /* --- 10. INFO TEXT --- */
        .info-text {
            margin-top: 0.75rem;
            margin-left: 0.5rem;
            color: #718096;
            font-size: 0.875rem;
            display: flex;
            align-items: center;
        }

        .info-icon {
            margin-right: 0.5rem;
            color: #667EEA;
            font-size: 0.875rem;
        }

        /* --- 11. SCROLLBAR STYLING --- */
        .list-wrapper::-webkit-scrollbar {
            width: 8px;
        }

        .list-wrapper::-webkit-scrollbar-track {
            background: rgba(226, 232, 240, 0.3);
            border-radius: 10px;
        }

        .list-wrapper::-webkit-scrollbar-thumb {
            background: linear-gradient(180deg, #CBD5E0, #A0AEC0);
            border-radius: 10px;
            transition: background 0.3s;
        }

        .list-wrapper::-webkit-scrollbar-thumb:hover {
            background: linear-gradient(180deg, #A0AEC0, #718096);
        }

        /* --- 12. RESPONSIVE ADJUSTMENTS --- */
        @media (max-width: 768px) {
            .section-label {
                font-size: 0.95rem;
            }

            .modern-checkbox-item {
                padding: 0.75rem 0.875rem;
            }

            .list-wrapper {
                max-height: 250px;
            }
        }
    </style>
@endpush

@section('content')
    <div class="container">
        <div class="row justify-content-center">
            <div class="col-md-9">
                <div class="card user-edit-card">
                    <div class="card-header-custom">
                        <span> Kullancy Dzenle</span>
                        <small class="text-muted fs-6 fw-normal">{{ $user->name }}</small>
                    </div>

                    <div class="card-body p-5">

                        {{-- Hatalar --}}
                        @if ($errors->any())
                            <div class="alert alert-danger" style="border-radius: 1rem;">
                                <ul class="mb-0">
                                    @foreach ($errors->all() as $error)
                                        <li>{{ $error }}</li>
                                    @endforeach
                                </ul>
                            </div>
                        @endif

                        <form method="POST" action="{{ route('users.update', $user->id) }}" autocomplete="off">
                            @csrf
                            @method('PUT')

                            {{-- AD SOYAD --}}
                            <div class="mb-4">
                                <label class="form-label text-muted fw-bold ms-1">Ad Soyad</label>
                                <div class="custom-input-group">
                                    <input type="text" name="name" class="form-control"
                                        value="{{ old('name', $user->name) }}" required>
                                    <span class="input-icon"></span>
                                </div>
                            </div>

                            {{-- EMAIL --}}
                            <div class="mb-4">
                                <label class="form-label text-muted fw-bold ms-1">E-posta Adresi</label>
                                <div class="custom-input-group">
                                    <input type="email" name="email" class="form-control"
                                        value="{{ old('email', $user->email) }}" required>
                                    <span class="input-icon"></span>
                                </div>
                            </div>

                            <hr class="my-4" style="opacity: 0.2">
                            <div class="alert alert-light border-0 shadow-sm mb-4" role="alert"
                                style="border-radius: 1rem;">
                                <i class="fas fa-info-circle text-primary"></i>
                                <small class="text-muted">ifreyi deitirmek istemiyorsanz aadaki alanlar bo
                                    brakn.</small>
                            </div>

                            <div class="row">
                                {{-- FRE --}}
                                <div class="col-md-6 mb-4">
                                    <label class="form-label text-muted fw-bold ms-1">Yeni ifre</label>
                                    <div class="custom-input-group">
                                        <input type="password" name="password" id="password" class="form-control">
                                        <span class="input-icon" style="pointer-events: auto; cursor: pointer;"
                                            onclick="togglePwd('password')"></span>
                                    </div>
                                </div>
                                {{-- FRE ONAY --}}
                                <div class="col-md-6 mb-4">
                                    <label class="form-label text-muted fw-bold ms-1">Yeni ifre Tekrar</label>
                                    <div class="custom-input-group">
                                        <input type="password" name="password_confirmation" id="password-confirm"
                                            class="form-control">
                                        <span class="input-icon" style="pointer-events: auto; cursor: pointer;"
                                            onclick="togglePwd('password-confirm')"></span>
                                    </div>
                                </div>
                            </div>

                            <hr class="my-4" style="opacity: 0.2">

                            {{-- 1. DEPARTMAN SEM (OKLU) --}}
                            <div class="mb-4">
                                <label class="section-label">
                                    <i class="fas fa-building section-icon"></i>
                                    Bal Olduu Departmanlar
                                </label>
                                <div class="list-wrapper department-wrapper">
                                    <div class="row g-3">
                                        @if ($departments->count() > 0)
                                            @foreach ($departments as $dept)
                                                <div class="col-md-6">
                                                    <label class="list-item" for="dept_{{ $dept->id }}">
                                                        <input type="checkbox" name="departments[]"
                                                            id="dept_{{ $dept->id }}" value="{{ $dept->id }}"
                                                            class="list-checkbox" {{--  TE SHRL KISIM BURASI  --}}
                                                            @if (in_array($dept->id, old('departments', $userDepartments))) checked @endif>

                                                        <span class="text-dark">{{ $dept->name }}</span>
                                                    </label>
                                                </div>
                                            @endforeach
                                        @else
                                            <div class="col-12">
                                                <div class="empty-state">
                                                    <i class="fas fa-inbox empty-icon"></i>
                                                    <p class="empty-text">Henz departman eklenmemi.</p>
                                                </div>
                                            </div>
                                        @endif
                                    </div>
                                </div>
                                <div class="info-text">
                                    <i class="fas fa-info-circle info-icon"></i> Kullanc birden fazla departmana bal
                                    olabilir.
                                </div>
                            </div>

                            {{-- 2. FABRKA (BUSINESS UNIT) SEM (YEN) --}}
                            <div class="mb-4">
                                <label class="section-label">
                                    <i class="fas fa-industry section-icon factory-icon"></i>
                                    Yetkili Olduu Fabrikalar / Lokasyonlar
                                </label>
                                <div class="list-wrapper factory-wrapper">
                                    <div class="row g-3">
                                        @foreach ($businessUnits as $unit)
                                            <div class="col-md-6">
                                                <label class="list-item" for="unit_{{ $unit->id }}">
                                                    <input type="checkbox" name="units[]" id="unit_{{ $unit->id }}"
                                                        value="{{ $unit->id }}" class="list-checkbox"
                                                        @if (in_array($unit->id, old('units', $userUnits))) checked @endif>
                                                    <span class="fw-bold text-dark">{{ $unit->name }}</span>
                                                </label>
                                            </div>
                                        @endforeach
                                    </div>
                                </div>
                                <div class="info-text">
                                    <i class="fas fa-shield-alt info-icon factory-icon"></i> Kullanc, panelde sadece
                                    seili fabrikalarn verilerini grebilecektir.
                                </div>
                            </div>

                            {{-- 3. ROL SEM (RADIO BUTTONS) --}}
                            <div class="mb-5">
                                <label class="form-label text-muted fw-bold ms-1 d-block">Kullanc Rol <span
                                        class="text-danger">*</span></label>
                                <div class="d-flex flex-wrap">
                                    @foreach ($roles as $role)
                                        <div>
                                            <input type="radio" name="role" id="role_{{ $role->id }}"
                                                value="{{ $role->name }}" class="role-radio"
                                                {{ old('role') == $role->name || (!old('role') && $user->hasRole($role->name)) ? 'checked' : '' }}>

                                            <label for="role_{{ $role->id }}" class="role-label">
                                                {{ __('roles.' . $role->name) }}
                                            </label>
                                        </div>
                                    @endforeach
                                </div>
                                @error('role')
                                    <small class="text-danger ms-2">{{ $message }}</small>
                                @enderror
                            </div>

                            {{-- BUTONLAR --}}
                            <div class="row">
                                <div class="col-md-6 mb-2">
                                    <a href="{{ route('users.index') }}" class="btn-cancel">
                                         ptal
                                    </a>
                                </div>
                                <div class="col-md-6">
                                    <button type="submit" class="btn-magic">
                                         Deiiklikleri Kaydet
                                    </button>
                                </div>
                            </div>

                        </form>
                    </div>
                </div>
            </div>
        </div>
    </div>
@endsection

@section('page_scripts')
    <script>
        function togglePwd(id) {
            var input = document.getElementById(id);
            if (input.type === "password") {
                input.type = "text";
            } else {
                input.type = "password";
            }
        }
    </script>
@endsection


----------------------------------------
DOSYA YOLU: resources\views\users\index.blade.php
----------------------------------------

@extends('layouts.app')

@section('title', 'Kullanc Listesi')

@push('styles')
    {{-- Google Fonts: Inter (Modern UI Font) --}}
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&display=swap" rel="stylesheet">

    <style>
        :root {
            --primary-color: #4f46e5;
            /* Indigo */
            --primary-hover: #4338ca;
            --secondary-color: #64748b;
            --bg-color: #f3f4f6;
            --card-bg: #ffffff;
            --text-main: #1f2937;
            --text-muted: #6b7280;
            --border-color: #e5e7eb;
        }

        body {
            font-family: 'Inter', sans-serif;
            background-color: var(--bg-color);
            color: var(--text-main);
        }

        /* --- ANA KAPLAYICI --- */
        #app>main.py-4 {
            padding: 2rem 0 !important;
            min-height: 100vh;
        }

        /* --- KART TASARIMI --- */
        .modern-card {
            background: var(--card-bg);
            border-radius: 16px;
            border: 1px solid rgba(255, 255, 255, 0.6);
            box-shadow: 0 4px 6px -1px rgba(0, 0, 0, 0.05), 0 2px 4px -1px rgba(0, 0, 0, 0.03);
            overflow: hidden;
            transition: transform 0.2s ease, box-shadow 0.2s ease;
        }

        /* --- HEADER ALANI --- */
        .card-header-custom {
            padding: 1.5rem 2rem;
            background: #fff;
            border-bottom: 1px solid var(--border-color);
            display: flex;
            justify-content: space-between;
            align-items: center;
            flex-wrap: wrap;
            gap: 1rem;
        }

        .header-title h4 {
            font-size: 1.25rem;
            font-weight: 700;
            color: #111827;
            margin: 0;
            letter-spacing: -0.025em;
        }

        .header-title small {
            color: var(--text-muted);
            font-size: 0.875rem;
            margin-top: 0.25rem;
            display: block;
        }

        /* --- BUTONLAR --- */
        .btn-modern {
            background: var(--primary-color);
            color: white;
            padding: 0.6rem 1.25rem;
            border-radius: 8px;
            font-weight: 500;
            font-size: 0.875rem;
            transition: all 0.2s;
            border: none;
            display: inline-flex;
            align-items: center;
            gap: 0.5rem;
            box-shadow: 0 2px 4px rgba(79, 70, 229, 0.2);
            text-decoration: none;
        }

        .btn-modern:hover {
            background: var(--primary-hover);
            transform: translateY(-1px);
            box-shadow: 0 4px 6px rgba(79, 70, 229, 0.3);
            color: white;
        }

        /* --- TABLO TASARIMI --- */
        .table-responsive {
            overflow-x: auto;
        }

        .table-custom {
            width: 100%;
            border-collapse: separate;
            border-spacing: 0;
            margin-bottom: 0;
        }

        .table-custom th {
            background-color: #f9fafb;
            color: var(--text-muted);
            font-size: 0.75rem;
            font-weight: 600;
            text-transform: uppercase;
            letter-spacing: 0.05em;
            padding: 1rem 1.5rem;
            border-bottom: 1px solid var(--border-color);
            text-align: left;
        }

        .table-custom td {
            padding: 1rem 1.5rem;
            vertical-align: middle;
            border-bottom: 1px solid var(--border-color);
            background: #fff;
            color: var(--text-main);
            transition: background 0.2s;
        }

        .table-custom tr:last-child td {
            border-bottom: none;
        }

        .table-custom tbody tr:hover td {
            background-color: #f8fafc;
        }

        /* --- AVATAR VE SM --- */
        .user-meta {
            display: flex;
            align-items: center;
            gap: 1rem;
        }

        .avatar-initials {
            width: 40px;
            height: 40px;
            background: linear-gradient(135deg, #e0e7ff 0%, #c7d2fe 100%);
            color: #4338ca;
            border-radius: 10px;
            display: flex;
            align-items: center;
            justify-content: center;
            font-weight: 700;
            font-size: 1rem;
            box-shadow: 0 2px 4px rgba(0, 0, 0, 0.05);
        }

        .user-info h6 {
            margin: 0;
            font-size: 0.95rem;
            font-weight: 600;
            color: #1f2937;
        }

        .user-info span {
            font-size: 0.8rem;
            color: var(--text-muted);
        }

        /* --- ROZETLER (BADGES) --- */
        .badge-pill {
            padding: 0.35em 0.8em;
            border-radius: 9999px;
            font-size: 0.75rem;
            font-weight: 600;
            display: inline-block;
            margin-right: 4px;
            margin-bottom: 2px;
        }

        .badge-role-admin {
            background-color: #ede9fe;
            color: #6d28d9;
        }

        .badge-role-user {
            background-color: #e0f2fe;
            color: #0369a1;
        }

        .badge-dept {
            background-color: #dcfce7;
            color: #15803d;
            border: 1px solid transparent;
        }

        /* --- AKSYON BUTONLARI --- */
        .action-group {
            display: flex;
            justify-content: flex-end;
            gap: 0.5rem;
        }

        .btn-icon {
            width: 32px;
            height: 32px;
            display: flex;
            align-items: center;
            justify-content: center;
            border-radius: 6px;
            color: var(--secondary-color);
            transition: all 0.2s;
            background: transparent;
            border: 1px solid transparent;
            text-decoration: none;
        }

        .btn-icon:hover {
            background-color: #f3f4f6;
            color: var(--primary-color);
        }

        .btn-icon.delete:hover {
            background-color: #fef2f2;
            color: #dc2626;
        }

        /* --- BO DURUM --- */
        .empty-state {
            padding: 4rem 1rem;
            text-align: center;
        }

        .empty-icon {
            font-size: 3rem;
            margin-bottom: 1rem;
            opacity: 0.3;
        }

        /* --- PAGINATION --- */
        .pagination-container {
            padding: 1rem 1.5rem;
            border-top: 1px solid var(--border-color);
            background-color: #f9fafb;
        }
    </style>
@endpush

@section('content')
    <div class="container">
        <div class="row justify-content-center">
            <div class="col-12">

                {{-- Baar Mesaj (Modern Alert) --}}
                @if (session('success'))
                    <div class="alert alert-success border-0 shadow-sm d-flex align-items-center mb-4" role="alert"
                        style="background: #d1fae5; color: #065f46; border-radius: 8px;">
                        <span class="me-2 fs-5"></span>
                        <div>{{ session('success') }}</div>
                    </div>
                @endif

                <div class="modern-card">
                    {{-- Header --}}
                    <div class="card-header-custom">
                        <div class="header-title">
                            <h4>Kullanc Ynetimi</h4>
                            <small>Tm kaytl kullanclar grntleyin ve ynetin.</small>
                        </div>
                        <a href="{{ route('users.create') }}" class="btn-modern">
                            <svg xmlns="http://www.w3.org/2000/svg" width="18" height="18" viewBox="0 0 24 24"
                                fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round"
                                stroke-linejoin="round">
                                <line x1="12" y1="5" x2="12" y2="19"></line>
                                <line x1="5" y1="12" x2="19" y2="12"></line>
                            </svg>
                            Yeni Kullanc Ekle
                        </a>
                    </div>

                    {{-- Tablo --}}
                    <div class="table-responsive">
                        <table class="table-custom">
                            <thead>
                                <tr>
                                    <th>Kullanc</th>
                                    <th>Roller</th>
                                    <th>Birimler</th>
                                    <th>Kayt Tarihi</th>
                                    <th class="text-end">lemler</th>
                                </tr>
                            </thead>
                            <tbody>
                                @forelse($users as $user)
                                    <tr>
                                        <td>
                                            <div class="user-meta">
                                                <div class="avatar-initials">
                                                    {{ strtoupper(substr($user->name, 0, 1)) }}
                                                </div>
                                                <div class="user-info">
                                                    <h6>{{ $user->name }}</h6>
                                                    <span>{{ $user->email }}</span>
                                                </div>
                                            </div>
                                        </td>
                                        <td>
                                            @foreach ($user->roles as $role)
                                                @php
                                                    // Admin ise mor, deilse mavi badge rengi
                                                    $badgeClass =
                                                        $role->name == 'admin' ? 'badge-role-admin' : 'badge-role-user';
                                                @endphp

                                                <span class="badge-pill {{ $badgeClass }}">
                                                    {{-- DEKLK BURADA: roles.php dosyasndan eviriyi ekiyoruz --}}
                                                    {{ __('roles.' . $role->name) }}
                                                </span>
                                            @endforeach
                                        </td>
                                        <td>
                                            @if ($user->businessUnits->count() > 0)
                                                @foreach ($user->businessUnits as $unit)
                                                    <span class="badge bg-secondary">{{ $unit->name }}</span>
                                                @endforeach
                                            @else
                                                <span class="text-muted fst-italic">Birim Yok</span>
                                            @endif
                                        </td>
                                        <td>
                                            <span class="text-secondary small fw-medium">
                                                {{ $user->created_at->format('d M, Y') }}
                                            </span>
                                        </td>
                                        <td>
                                            <div class="action-group">
                                                <a href="{{ route('users.edit', $user) }}" class="btn-icon" title="Dzenle">
                                                    
                                                </a>

                                                @if (Auth::id() !== $user->id)
                                                    <form action="{{ route('users.destroy', $user) }}" method="POST"
                                                        class="d-inline"
                                                        onsubmit="return confirm('Bu kullancy silmek istediinize emin misiniz?');">
                                                        @csrf
                                                        @method('DELETE')
                                                        <button type="submit" class="btn-icon delete" title="Sil">
                                                            
                                                        </button>
                                                    </form>
                                                @endif
                                            </div>
                                        </td>
                                    </tr>
                                @empty
                                    <tr>
                                        <td colspan="5">
                                            <div class="empty-state">
                                                <div class="empty-icon"></div>
                                                <h6 class="text-muted">Kayt bulunamad.</h6>
                                            </div>
                                        </td>
                                    </tr>
                                @endforelse
                            </tbody>
                        </table>
                    </div>

                    {{-- Sayfalama --}}
                    @if ($users->hasPages())
                        <div class="pagination-container">
                            {{ $users->links() }}
                        </div>
                    @endif
                </div>
            </div>
        </div>
    </div>
@endsection


----------------------------------------
DOSYA YOLU: routes\api.php
----------------------------------------

<?php

use Illuminate\Http\Request;
use Illuminate\Support\Facades\Route;
use App\Http\Controllers\GeneralCalendarController;

/*
|--------------------------------------------------------------------------
| API Routes
|--------------------------------------------------------------------------
|
| Here is where you can register API routes for your application. These
| routes are loaded by the RouteServiceProvider within a group which
| is assigned the "api" middleware group. Enjoy building your API!
|
*/

Route::middleware('auth:sanctum')->get('/user', function (Request $request) {
    return $request->user();
});
Route::middleware('auth:sanctum')->get('/calendar-events', [GeneralCalendarController::class, 'getEvents'])->name('api.calendar.events');


----------------------------------------
DOSYA YOLU: routes\channels.php
----------------------------------------

<?php

use Illuminate\Support\Facades\Broadcast;

/*
|--------------------------------------------------------------------------
| Broadcast Channels
|--------------------------------------------------------------------------
|
| Here you may register all of the event broadcasting channels that your
| application supports. The given channel authorization callbacks are
| used to check if an authenticated user can listen to the channel.
|
*/

Broadcast::channel('App.Models.User.{id}', function ($user, $id) {
    return (int) $user->id === (int) $id;
});


----------------------------------------
DOSYA YOLU: routes\console.php
----------------------------------------

<?php

use Illuminate\Foundation\Inspiring;
use Illuminate\Support\Facades\Artisan;

/*
|--------------------------------------------------------------------------
| Console Routes
|--------------------------------------------------------------------------
|
| This file is where you may define all of your Closure based console
| commands. Each Closure is bound to a command instance allowing a
| simple approach to interacting with each command's IO methods.
|
*/

Artisan::command('inspire', function () {
    $this->comment(Inspiring::quote());
})->purpose('Display an inspiring quote');


----------------------------------------
DOSYA YOLU: routes\web.php
----------------------------------------

<?php

use Illuminate\Support\Facades\Route;
use Illuminate\Support\Facades\Auth;

// Controller Importlar
use App\Http\Controllers\HomeController;
use App\Http\Controllers\UserController;
use App\Http\Controllers\ShipmentController;
use App\Http\Controllers\BirimController;
use App\Http\Controllers\ProductionPlanController;
use App\Http\Controllers\EventController;
use App\Http\Controllers\VehicleController;
use App\Http\Controllers\VehicleAssignmentController;
use App\Http\Controllers\ServiceScheduleController;
use App\Http\Controllers\CustomerController;
use App\Http\Controllers\CustomerMachineController;
use App\Http\Controllers\ComplaintController;
use App\Http\Controllers\TestResultController;
use App\Http\Controllers\TravelController;
use App\Http\Controllers\BookingController;
use App\Http\Controllers\DepartmentController;
use App\Http\Controllers\TeamController;
use App\Http\Controllers\ActivityLogController;
use App\Http\Controllers\LogisticsVehicleController;
use App\Http\Controllers\MaintenanceController;
use App\Http\Controllers\MaintenanceAssetController;
use App\Http\Controllers\RoleController;
use App\Http\Controllers\Approvals\MaintenanceApprovalController;
use App\Http\Controllers\GeneralCalendarController;
use App\Http\Controllers\TvDashboardController;
use App\Http\Controllers\SystemController;
use App\Http\Controllers\FileController;
use App\Http\Controllers\StatisticsController;
use App\Http\Controllers\CustomFieldDefinitionController;
use App\Http\Controllers\KanbanBoardController;
use App\Http\Controllers\KanbanViewController;
use App\Http\Controllers\ExpenseController;
use App\Services\KanbanService;
use App\Models\Event;
use App\Models\Travel;

/*
|--------------------------------------------------------------------------
| Web Routes
|--------------------------------------------------------------------------
*/

// --- 1. GENEL ROTALAR (Auth Gerektirmeyenler) ---

Route::get('/', function () {
    if (Auth::check()) {
        return Auth::user()->email === 'tv@koksan.com'
            ? redirect()->route('tv.dashboard')
            : view('welcome');
    }
    return redirect()->route('login');
});

Auth::routes(['register' => false]);

Route::match(['get', 'post'], '/logout', function () {
    Auth::logout();
    request()->session()->invalidate();
    request()->session()->regenerateToken();
    return redirect('/login');
})->name('logout');

Route::view('/kvkk-aydinlatma-metni', 'auth.kvkk')->name('kvkk.show');

// --- 2. TV DASHBOARD (Auth Gerekmez veya zel Auth) ---
Route::get('/tv-dashboard', [TvDashboardController::class, 'index'])->name('tv.dashboard');
Route::get('/tv/check-updates', [TvDashboardController::class, 'checkUpdates'])->name('tv.check_updates');


// ==================================================================================
//  AUTH MIDDLEWARE GRUBU (Tm  Sayfalar)
// ==================================================================================
Route::middleware(['auth'])->group(function () {

    // --- DASHBOARD VE ANA SAYFALAR ---
    Route::get('/home', [HomeController::class, 'index'])->name('home');
    Route::get('/welcome', [HomeController::class, 'welcome'])->name('welcome');
    Route::post('/switch-unit', [HomeController::class, 'switchUnit'])->name('switch.unit');

    // --- SSTEM KONTROLLER ---
    Route::get('/system/check-updates', [SystemController::class, 'checkUpdates'])->name('system.check_updates');
    Route::get('/statistics', [StatisticsController::class, 'index'])->name('statistics.index');

    // --- BLDRMLER ---
    Route::prefix('notifications')->name('notifications.')->group(function () {
        Route::get('/check', [HomeController::class, 'checkNotifications'])->name('check');
        Route::get('/read-all', [HomeController::class, 'readAllNotifications'])->name('readAll');
        Route::get('/{id}/read', [HomeController::class, 'readNotification'])->name('read');
    });

    // --- DOSYA LEMLER (Polimorfik) ---
    Route::post('/files/upload', [FileController::class, 'store'])->name('files.store');
    Route::delete('/files/{file}', [FileController::class, 'destroy'])->name('files.destroy');
    Route::get('/files/{file}/download', [FileController::class, 'download'])->name('files.download');

    // --- GENEL TAKVM ---
    Route::get('/general-calendar', [GeneralCalendarController::class, 'showCalendar'])->name('general.calendar');
    Route::get('/calendar-events-data', [GeneralCalendarController::class, 'getEvents'])->name('web.calendar.events');
    Route::post('/calendar/toggle-important', [GeneralCalendarController::class, 'toggleImportant'])->name('calendar.toggleImportant');
    Route::get('/important-items', [HomeController::class, 'showAllImportant'])->name('important.all');

    // --- KANBAN PANOSU YNETM ---
    // Panoyu Grntleme (rn: /kanban/board?scope=maintenance)
    Route::get('/kanban/board', [KanbanViewController::class, 'index'])->name('kanban.board');
    Route::get('/kanban/card/{kanbanCard}', [KanbanViewController::class, 'show'])->name('kanban.show');
    // Kart Tama (AJAX - API)
    Route::post('/kanban/move-card', [KanbanViewController::class, 'moveCard'])->name('kanban.move');


    // ==========================================================
    //  DEPARTMAN BAZLI YNETMLER
    // ==========================================================

    // 1. KULLANICI & YETK YNETM (Sadece 'manage_users' yetkisi olanlar)
    // Not: Spatie'de birden fazla rol kontrol iin | (pipe) kullanlr.
    Route::middleware(['role:admin|ynetici'])->group(function () {
        Route::resource('users', UserController::class);
        Route::resource('roles', RoleController::class);
        Route::resource('birimler', BirimController::class)->only(['index', 'store', 'destroy']);
        Route::resource('departments', DepartmentController::class)->except(['show']);
        Route::resource('business-units', \App\Http\Controllers\BusinessUnitController::class)
            ->only(['index', 'store', 'destroy']);

        // Loglar (Sadece Admin veya Global Manager)
        Route::get('/system/logs', [ActivityLogController::class, 'index'])
            ->middleware('can:is-global-manager') // Veya role:admin
            ->name('logs.index');

        Route::middleware(['role:admin|ynetici'])
            ->prefix('admin')
            ->name('admin.')
            ->group(function () {
                Route::resource('custom-fields', CustomFieldDefinitionController::class);
            });
        Route::resource('kanban-boards', KanbanBoardController::class);
    });

    // Profil (Herkes)
    Route::prefix('profile')->group(function () {
        Route::get('/edit', [UserController::class, 'profileEdit'])->name('profile.edit');
        Route::put('/', [UserController::class, 'profileUpdate'])->name('profile.update');
    });

    // 2. LOJSTK YNETM
    Route::prefix('shipments')->name('shipments.')->group(function () {
        Route::get('/', [ShipmentController::class, 'listAllFiltered'])->name('index');

        // Standart CRUD lemleri
        Route::get('/create', [ShipmentController::class, 'create'])->name('create');
        Route::post('/', [ShipmentController::class, 'store'])->name('store');

        // DZELTME 1: Bandaki '/shipments' kalkt, name sadece 'show' oldu.
        // Sonu URL: /shipments/{id} | Route Name: shipments.show
        Route::get('/{id}', [ShipmentController::class, 'show'])->name('show');

        Route::get('/{shipment}/edit', [ShipmentController::class, 'edit'])->name('edit');
        Route::put('/{shipment}', [ShipmentController::class, 'update'])->name('update');
        Route::delete('/{shipment}', [ShipmentController::class, 'destroy'])->name('destroy');

        // DZELTME 2: Durak lemleri (Controller yolunu ksalttm, yukarda use ekleyebilirsin veya byle kalabilir)
        // URL: /shipments/{id}/stops
        Route::post('/{id}/stops', [App\Http\Controllers\ShipmentStopController::class, 'store'])->name('stops.store');

        // URL: /shipments/stops/{id} (Burada shipment id deil, stop id silindii iin prefix mantkl)
        Route::delete('/stops/{id}', [App\Http\Controllers\ShipmentStopController::class, 'destroy'])->name('stops.destroy');

        // Dier lemler
        Route::get('/export-list', [ShipmentController::class, 'exportList'])->name('export_list');
        Route::get('/{shipment}/export', [ShipmentController::class, 'export'])->name('export');
        Route::post('/{shipment}/onayla', [ShipmentController::class, 'onayla'])->name('onayla');
        Route::post('/{shipment}/onayi-geri-al', [ShipmentController::class, 'onayiGeriAl'])->name('onayiGeriAl');
    });

    // rn Listesi (Grup dnda kalm, doru)
    Route::get('/products/products', [ShipmentController::class, 'listAllFiltered'])->name('products.list');


    // 3. RETM YNETM
    Route::prefix('production')->name('production.')->group(function () {
        Route::get('/plans/export-list', [ProductionPlanController::class, 'exportList'])->name('plans.export_list');
        Route::get('/plans/{productionPlan}/export', [ProductionPlanController::class, 'export'])->name('plans.export');
        Route::resource('plans', ProductionPlanController::class);
    });


    // 4. BAKIM YNETM
    Route::prefix('maintenance')->name('maintenance.')->group(function () {
        // Varlklar
        Route::get('/assets/export', [MaintenanceAssetController::class, 'export'])->name('assets.export');
        Route::resource('assets', MaintenanceAssetController::class);

        // Planlar - Custom Exportlar Resource'dan nce gelmeli
        Route::get('/plans/export-list', [MaintenanceController::class, 'exportList'])->name('export_list');
        Route::get('/plans/{maintenance_plan}/export', [MaintenanceController::class, 'export'])->name('export');

        // Plan Resource (Sralamaya Dikkat: Show, Edit vs. ID akmamas iin)
        Route::get('/', [MaintenanceController::class, 'index'])->name('index');
        Route::get('/create', [MaintenanceController::class, 'create'])->name('create');
        Route::post('/', [MaintenanceController::class, 'store'])->name('store');
        Route::get('/{maintenance_plan}', [MaintenanceController::class, 'show'])->name('show');
        Route::get('/{maintenance_plan}/edit', [MaintenanceController::class, 'edit'])->name('edit');
        Route::put('/{maintenance_plan}', [MaintenanceController::class, 'update'])->name('update');
        Route::delete('/{maintenance_plan}', [MaintenanceController::class, 'destroy'])->name('destroy');

        // lemler
        Route::post('/{id}/start-timer', [MaintenanceController::class, 'startTimer'])->name('start-timer');
        Route::post('/{id}/stop-timer', [MaintenanceController::class, 'stopTimer'])->name('stop-timer');
        Route::post('/{id}/upload-file', [MaintenanceController::class, 'uploadFile'])->name('upload-file');
        Route::delete('/file/{file_id}', [MaintenanceController::class, 'deleteFile'])->name('delete-file');
    });

    // Bakm Onaylar
    Route::prefix('approvals')->name('approvals.')->group(function () {
        Route::get('/maintenance', [MaintenanceApprovalController::class, 'index'])->name('maintenance');
    });


    // 5. HZMET & DAR LER YNETM
    Route::prefix('service')->name('service.')->group(function () {

        // Etkinlikler
        Route::get('/events/export', [EventController::class, 'export'])->name('events.export');
        Route::resource('events', EventController::class);

        // Etkinlik Rezervasyonu (Polimorfik)
        Route::post('/events/{model}/bookings', [BookingController::class, 'store'])
            ->defaults('model_type', Event::class)
            ->name('events.bookings.store');

        // Aralar
        Route::resource('vehicles', VehicleController::class);
        Route::resource('logistics-vehicles', LogisticsVehicleController::class);

        // Ara Grevlendirme
        Route::get('/assignments/export', [VehicleAssignmentController::class, 'export'])->name('assignments.export');
        Route::get('/assignments/{assignment}/export-detail', [VehicleAssignmentController::class, 'exportDetail'])->name('assignments.export_detail');
        Route::resource('assignments', VehicleAssignmentController::class);

        // Ara Atama & Durum
        Route::put('/assignments/{assignment}/assign', [VehicleAssignmentController::class, 'assignVehicle'])->name('assignments.assign');
        Route::patch('/assignments/{assignment}/status', [VehicleAssignmentController::class, 'updateStatus'])->name('assignments.update-status');
        Route::get('/assigned-by-me', [VehicleAssignmentController::class, 'assignedByMe'])->name('assignments.created_by_me');

        // Genel Grevler (Arasz)
        Route::prefix('general-tasks')->name('general-tasks.')->group(function () {
            Route::get('/', [VehicleAssignmentController::class, 'generalIndex'])->name('index');
            Route::get('/create', [VehicleAssignmentController::class, 'create'])->name('create');
            Route::post('/', [VehicleAssignmentController::class, 'store'])->name('store');
            Route::get('/{assignment}/edit', [VehicleAssignmentController::class, 'edit'])->name('edit');
            Route::put('/{assignment}', [VehicleAssignmentController::class, 'update'])->name('update');
            Route::delete('/{assignment}', [VehicleAssignmentController::class, 'destroy'])->name('destroy');
        });

        // Seferler
        Route::resource('schedules', ServiceScheduleController::class);
    });


    // 6. MTER, SEYAHAT ve TAKIM YNETM

    // Mteriler
    Route::resource('customers', CustomerController::class);
    Route::resource('customers.machines', CustomerMachineController::class)->shallow()->except(['index', 'show']);
    Route::resource('customers.complaints', ComplaintController::class)->shallow()->except(['index', 'show']);
    Route::resource('customers.test-results', TestResultController::class)->shallow()->except(['index', 'show']);
    Route::get('/api/customers/{customer}/machines', [CustomerController::class, 'getMachinesJson'])->name('api.customers.machines');
    Route::post('/customers/{customer}/activities', [CustomerController::class, 'storeActivity'])->name('customers.activities.store');

    // Seyahatler
    Route::get('/travels/export', [TravelController::class, 'export'])->name('travels.export');
    Route::resource('travels', TravelController::class);
    Route::post('/travels/{model}/bookings', [BookingController::class, 'store'])
        ->defaults('model_type', Travel::class)
        ->name('travels.bookings.store');

    // Genel Rezervasyonlar
    Route::get('/bookings/export', [BookingController::class, 'export'])->name('bookings.export');
    Route::resource('bookings', BookingController::class)->except(['create', 'store']);
    // --- MASRAF YNETM 
    Route::post('/expenses', [ExpenseController::class, 'store'])->name('expenses.store');
    Route::delete('/expenses/{expense}', [ExpenseController::class, 'destroy'])->name('expenses.destroy');

    // Takm Ynetimi
    Route::resource('teams', TeamController::class);
    Route::prefix('teams')->name('teams.')->group(function () {
        Route::patch('/{team}/toggle-active', [TeamController::class, 'toggleActive'])->name('toggle-active');
        Route::post('/{team}/add-member', [TeamController::class, 'addMember'])->name('add-member');
        Route::delete('/{team}/remove-member', [TeamController::class, 'removeMember'])->name('remove-member');
        Route::get('/user/{user}/teams', [TeamController::class, 'getUserTeams'])->name('user.teams');
    });

    // Bireysel
    Route::get('/my-assignments', [VehicleAssignmentController::class, 'myAssignments'])->name('my-assignments.index');
    Route::get('/my-tasks', [VehicleAssignmentController::class, 'myTasks'])->name('my.tasks');

    // --- TO-DO LIST (YEN) ---
    Route::post('/todos', [App\Http\Controllers\TodoController::class, 'store'])->name('todos.store');
    Route::post('/todos/{todo}/toggle', [App\Http\Controllers\TodoController::class, 'toggle'])->name('todos.toggle');
    Route::delete('/todos/{todo}', [App\Http\Controllers\TodoController::class, 'destroy'])->name('todos.destroy');

}); // End of Auth Middleware
